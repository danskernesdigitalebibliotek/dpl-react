(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./.storybook/dev-fonts.scss":function(module,exports,__webpack_require__){var content=__webpack_require__("./node_modules/postcss-loader/src/index.js!./.storybook/dev-fonts.scss");"string"==typeof content&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js")(content,options);content.locals&&(module.exports=content.locals)},"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"decorators",(function(){return decorators}));__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),token=(__webpack_require__("./.storybook/dev-fonts.scss"),__webpack_require__("./src/components/components.scss"),__webpack_require__("./src/core/token.js")),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js"),defineProperty_default=__webpack_require__.n(defineProperty),react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),commonjs=__webpack_require__("./node_modules/react-error-boundary/dist/commonjs/index.js"),alert_alert=__webpack_require__("./src/components/alert/alert.jsx"),es=(__webpack_require__("./node_modules/prop-types/index.js"),__webpack_require__("./node_modules/react-redux/es/index.js")),integration_react=__webpack_require__("./node_modules/redux-persist/es/integration/react.js"),store=__webpack_require__("./src/core/store.js"),components_store=function Store(_ref){var children=_ref.children;return react_default.a.createElement(es.a,{store:store.b},react_default.a.createElement(integration_react.a,{persistor:store.a},children))};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function mount(context){context&&context.querySelectorAll("[data-ddb-app]").forEach((function mountApp(container){var _container$dataset,_window$ddbReact,_window$ddbReact$apps,appName=null==container||null===(_container$dataset=container.dataset)||void 0===_container$dataset?void 0:_container$dataset.ddbApp,app=null===(_window$ddbReact=window.ddbReact)||void 0===_window$ddbReact||null===(_window$ddbReact$apps=_window$ddbReact.apps)||void 0===_window$ddbReact$apps?void 0:_window$ddbReact$apps[appName];app&&!container.innerHTML&&Object(react_dom.render)(Object(react.createElement)(components_store,{},Object(react.createElement)(Object(commonjs.withErrorBoundary)(app,alert_alert.a),_objectSpread({},container.dataset))),container)}))}function unmount(context){context&&context.querySelectorAll("[data-ddb-app]").forEach((function unMountApp(container){container.innerHTML=""}))}function mount_reset(){return store.a.purge()}!function init(){var initial={apps:{},setToken:token.e,mount:mount,unmount:unmount,reset:mount_reset};window.ddbReact=_objectSpread({},window.ddbReact||{},{},initial)}();__webpack_require__("./src/core/user.slice.js");window.sessionStorage.getItem(token.b)&&(Object(token.e)(token.b,window.sessionStorage.getItem(token.b)),Object(token.e)(token.a,window.sessionStorage.getItem(token.b)));var decorators=[function(Story){return react_default.a.createElement(components_store,null,react_default.a.createElement(Story,null))}];function preview_js_generated_config_entry_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function preview_js_generated_config_entry_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?preview_js_generated_config_entry_ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):preview_js_generated_config_entry_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.dev\\.jsx)$")],module,!1)}).call(this,__webpack_require__("./node_modules/@storybook/builder-webpack4/node_modules/webpack/buildin/module.js")(module))},"./node_modules/postcss-loader/src/index.js!./.storybook/dev-fonts.scss":function(module,exports){module.exports="body{font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}"},"./node_modules/postcss-loader/src/index.js!./src/apps/add-to-searchlist/add-to-searchlist.scss":function(module,exports){module.exports=".ddb-add-to-searchlist__add{height:25px;width:25px}.ddb-add-to-searchlist__star{width:100%;height:100%;fill:#000}.ddb-add-to-searchlist__star .ddb-icon__inner-star{fill:transparent}.ddb-add-to-searchlist__star:hover .ddb-icon__inner-star{fill:#000}.ddb-add-to-searchlist__content{display:flex;flex-direction:column;flex:1}@media (min-width:672px){.ddb-add-to-searchlist__content{flex-direction:row}}.ddb-add-to-searchlist__action{display:flex;flex-direction:column;align-items:flex-end}.ddb-add-to-searchlist__input-container{margin:32px 0 16px}@media (min-width:672px){.ddb-add-to-searchlist__input-container{margin:0 0 16px;min-width:350px}}.ddb-add-to-searchlist__button{min-width:190px}.ddb-add-to-searchlist__info{flex:1;margin-right:16px}.ddb-add-to-searchlist__help{display:block;color:#262627;font-weight:700;font-size:1.125rem;max-width:450px}.ddb-add-to-searchlist__success{display:flex;flex-direction:column}.ddb-add-to-searchlist__success a{margin-top:8px;margin-bottom:8px}"},"./node_modules/postcss-loader/src/index.js!./src/apps/checklist/checklist.scss":function(module,exports){module.exports=".ddb-checklist__button{min-width:103px}.ddb-checklist__data{width:100%;max-width:none}"},"./node_modules/postcss-loader/src/index.js!./src/apps/related-materials/related-materials.scss":function(module,exports){module.exports=".ddb-related-materials{position:relative;max-width:1310px;min-height:200px;background:#e5e5e5;padding:16px 0}@media (min-width:672px){.ddb-related-materials{padding-bottom:0}}.ddb-related-materials__title{margin-left:16px}.ddb-related-materials__search{text-decoration:none;color:inherit;margin-left:16px}.ddb-related-materials__search:focus,.ddb-related-materials__search:hover{text-decoration:underline}@media (min-width:672px){.ddb-related-materials__search{position:absolute;top:0;right:0;margin-left:0;margin-top:16px;margin-right:16px;text-align:right}}.ddb-related-materials__list{list-style:none;display:flex;flex-wrap:wrap}.ddb-related-material{display:flex;height:210px;width:147px;margin:16px;overflow:hidden;border-radius:5px}.ddb-related-material:focus{outline:2px solid #808285;outline-offset:2px}@media (min-width:1056px){.ddb-related-material{height:330px;width:230px}}.ddb-related-material img{object-fit:cover;height:100%;width:100%;opacity:0;transition:all .24s cubic-bezier(.4,.14,.3,1);background:#ccc}.ddb-related-material--finished img{opacity:1}.ddb-related-material:hover img{transform:scale(1.1)}"},"./node_modules/postcss-loader/src/index.js!./src/apps/searchlist/searchlist.scss":function(module,exports){module.exports=".ddb-searchlist__item{align-items:center}.ddb-searchlist__header{margin:0 0 4px;line-height:1}.ddb-searchlist__header a{position:relative;text-decoration:none;color:#505050;transition:color .11s cubic-bezier(.2,0,.38,.9)}.ddb-searchlist__header a:hover{color:#808285}.ddb-searchlist__buttons{display:flex;flex-direction:row}.ddb-searchlist__button{flex-basis:content}"},"./node_modules/postcss-loader/src/index.js!./src/components/components.scss":function(module,exports){module.exports=".ddb-reset{animation:none 0s ease 0s 1 normal none running;-webkit-backface-visibility:visible;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:none;border-collapse:separate;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-span:1;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;empty-cells:show;float:none;font-family:inherit;font-size:inherit;font-style:inherit;font-variant:inherit;font-weight:inherit;font-stretch:inherit;line-height:inherit;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;left:auto;letter-spacing:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;-moz-tab-size:8;tab-size:8;table-layout:auto;text-align:left;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;word-spacing:normal;z-index:auto}:root{--reach-dialog:1}[data-reach-dialog-overlay]{background:rgba(0,0,0,.33);position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto}[data-reach-dialog-content]{width:50vw;margin:10vh auto;background:#fff;padding:2rem;outline:none}.ddb-btn{display:block;-webkit-appearance:none;border-radius:5px;text-align:center;font-size:16px;width:auto;max-width:260px;padding:20px 20px 14px 15px;box-sizing:border-box;line-height:20px;cursor:pointer;transition:background .11s cubic-bezier(.2,0,.38,.9)}@media (min-width:672px){.ddb-btn{width:100%;padding:20px 80px 14px 15px}}.ddb-btn:focus{outline:2px solid #808285;outline-offset:0}.ddb-btn--align-left{text-align:left}.ddb-btn--align-center{text-align:center;padding:20px 20px 14px 15px}.ddb-btn--align-right{text-align:right}.ddb-btn--blank{width:auto;padding:0}.ddb-btn--blank,.ddb-btn--blank:active,.ddb-btn--blank:hover{background:transparent}.ddb-btn--grey{background:#e5e5e5;color:#474747}.ddb-btn--grey:active,.ddb-btn--grey:hover{background:#808285;color:#fff}.ddb-btn--black{background:#000;color:#fff}.ddb-btn--black:hover{background:#808285;color:#fff}.ddb-btn--secondary:hover{background:#f66d70;color:#fffff2}.ddb-btn--charcoal{background:#262626;color:#fff}.ddb-btn--charcoal:hover{background:#808285;color:#fff}.ddb-btn__label{display:none}@keyframes ddb-skeleton{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ddb-skeleton{display:block;background-color:#ccc;animation:ddb-skeleton .7s cubic-bezier(.4,.14,.3,1) infinite}.ddb-skeleton-wrapper li{list-style:none}.ddb-dialog__overlay{background:rgba(38,38,38,.2)}.ddb-dialog__content{background:#f1f2f2;border-radius:5px;color:rgba(38,38,38,.8)}@keyframes ddb-dialog-dropdown{0%{transform:translateY(-100%)}to{transform:translateY(0)}}.ddb-dialog__content--dropdown{border-radius:0;box-sizing:border-box;width:100%;margin:0;min-height:235px;padding:16px 24px;transition:transform 70ms cubic-bezier(0,0,.38,.9);animation:ddb-dialog-dropdown .24s cubic-bezier(0,0,.38,.9) forwards;box-shadow:0 8px 16px 0 rgba(0,0,0,.3)}.ddb-dialog__header{display:flex;justify-content:flex-end;margin-bottom:24px;box-sizing:content-box}.ddb-dialog__close{padding:16px;margin-right:-16px;margin-top:-16px}.ddb-textfield__container{width:100%}.ddb-textfield__icon{display:block;margin-right:16px;width:20px;height:18px;color:#e22045}.ddb-textfield__action{display:flex;flex-direction:row-reverse}.ddb-textfield__error{display:flex;justify-content:flex-end;align-items:center;color:#e22045;height:32px}.ddb-textfield__input{background:#fff;width:100%;box-sizing:border-box;display:block;border-radius:5px;padding:24px 16px 16px;font-size:14px}.ddb-textfield__input:focus{box-shadow:0 0 8px #ccc}.ddb-textfield__input--error,.ddb-textfield__input--error:focus{box-shadow:0 0 0 2px #e22045}.ddb-textfield__label{margin-bottom:8px}.ddb-textfield__label--hidden{display:none}.ddb-icon--black{fill:#000}.ddb-icon--grey{fill:#808285}.ddb-icon--red{fill:#e22045}.ddb-alert{display:block;height:100%;padding:16px;text-align:center;border-radius:5px}.ddb-alert--blank{display:block;height:auto;padding:0;text-align:left;border-radius:0}.ddb-alert--info{background-color:#e5e5e5;color:#808285}.ddb-alert--success{background-color:#24d273;color:#fff}.ddb-alert--warning{background-color:#ffca5f;color:#fff}.ddb-list-item{background:#f1f2f2;display:flex;flex-direction:column;list-style:none;padding:16px}@media (min-width:672px){.ddb-list-item{flex-direction:row;padding:24px}}@media (min-width:1056px){.ddb-list-item{padding:32px}}.ddb-list-item:nth-child(2n){background:#fff}.ddb-list-item__children{display:flex;width:100%;flex:1}.ddb-list-item__aside{display:flex;flex-direction:row;justify-content:flex-end}@media (min-width:672px){.ddb-list-item__aside{flex-direction:column;justify-content:flex-start}}.ddb-simple-material{display:flex}.ddb-simple-material__cover{display:flex;margin:0 16px 0 0;width:100px}@media (min-width:672px){.ddb-simple-material__cover{margin-right:24px}}@media (min-width:1056px){.ddb-simple-material__cover{margin-right:32px}}.ddb-simple-material__cover a img{height:auto;width:100%}.ddb-simple-material__data{display:flex;flex-direction:column;max-width:180px}.ddb-simple-material__data a{text-decoration:none}.ddb-simple-material__data p{margin:0}.ddb-simple-material__title{font-size:16px;margin:8px 0;color:#262626}.ddb-simple-material__title:hover{color:#262626}.ddb-simple-material__author-year{color:rgba(38,38,39,.5)}.ddb-simple-material-skeleton{display:flex}"},"./node_modules/postcss-loader/src/index.js!./src/components/design-system/_colors.dev.scss":function(module,exports){module.exports=".ddb-color-example-container{display:flex;flex-direction:row;flex-wrap:wrap}.ddb-color-example{height:64px;width:64px;margin:8px}.ddb-color-example--primary-base{background:#4d898e}.ddb-color-example--secondary-base{background:#f66d70}.ddb-color-example--black-base{background:#000}.ddb-color-example--charcoal-base{background:#262626}.ddb-color-example--white-base{border:1px solid #e5e5e5;background:#fff}.ddb-color-example--grey-base{background:#e5e5e5}.ddb-color-example--green-base{background:#24d273}.ddb-color-example--red-base{background:#e22045}.ddb-color-example--yellow-base{background:#ffca5f}.ddb-color-example--black-overlay{background:rgba(0,0,0,.8)}.ddb-color-example--black-overlay-dark{background:rgba(0,0,0,.9)}.ddb-color-example--charcoal-opacity-dark{background:rgba(38,38,38,.8)}.ddb-color-example--charcoal-opacity-light{background:rgba(38,38,38,.2)}.ddb-color-example--white-opacity-dark{border:1px solid #e5e5e5;background:hsla(0,0%,100%,.54)}.ddb-color-example--white-opacity-light{border:1px solid #e5e5e5;background:hsla(0,0%,100%,.2)}.ddb-color-example--grey-light{background:#f1f2f2}.ddb-color-example--grey-medium{background:#ccc}.ddb-color-example--grey-dark{background:#808285}.ddb-color-example--grey-darker{background:#505050}.ddb-color-example-text{padding:12px;margin:12px}.ddb-color-example-text--primary-text{background:#4d898e;color:#fffff1}.ddb-color-example-text--secondary-text{background:#f66d70;color:#fffff2}.ddb-color-example-text--green-text{color:#1da65b}.ddb-color-example-text--red-text{color:#e22045}.ddb-color-example-text--yellow-text{color:#ffb113}.ddb-color-example-text--text{color:#262627}.ddb-color-example-text--text-standard{color:#474747}.ddb-color-example-text--link{color:#4d898f}.ddb-color-example-text--link-dark{color:#4d898d}"},"./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.dev\\.jsx)$":function(module,exports,__webpack_require__){var map={"./apps/add-to-checklist/add-to-checklist.dev.jsx":"./src/apps/add-to-checklist/add-to-checklist.dev.jsx","./apps/add-to-searchlist/add-to-searchlist.dev.jsx":"./src/apps/add-to-searchlist/add-to-searchlist.dev.jsx","./apps/adgangsplatformen/auth.dev.jsx":"./src/apps/adgangsplatformen/auth.dev.jsx","./apps/checklist-button/checklist-material-button.dev.jsx":"./src/apps/checklist-button/checklist-material-button.dev.jsx","./apps/checklist/checklist.dev.jsx":"./src/apps/checklist/checklist.dev.jsx","./apps/order-material/order-material.dev.jsx":"./src/apps/order-material/order-material.dev.jsx","./apps/related-materials/related-materials.dev.jsx":"./src/apps/related-materials/related-materials.dev.jsx","./apps/searchlist/searchlist.dev.jsx":"./src/apps/searchlist/searchlist.dev.jsx","./components/alert/alert.dev.jsx":"./src/components/alert/alert.dev.jsx","./components/atoms/button/button.dev.jsx":"./src/components/atoms/button/button.dev.jsx","./components/atoms/dialog/dialog.dev.jsx":"./src/components/atoms/dialog/dialog.dev.jsx","./components/atoms/list/list.dev.jsx":"./src/components/atoms/list/list.dev.jsx","./components/atoms/skeleton/skeleton.dev.jsx":"./src/components/atoms/skeleton/skeleton.dev.jsx","./components/atoms/textfield/textfield.dev.jsx":"./src/components/atoms/textfield/textfield.dev.jsx","./components/cover/cover.dev.jsx":"./src/components/cover/cover.dev.jsx","./components/design-system/_colors.dev.jsx":"./src/components/design-system/_colors.dev.jsx","./components/list-item/list-item.dev.jsx":"./src/components/list-item/list-item.dev.jsx","./components/simple-material/simple-material.dev.jsx":"./src/components/simple-material/simple-material.dev.jsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.dev\\.jsx)$"},"./src/apps/add-to-checklist/add-to-checklist.dev.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Entry",(function(){return Entry}));var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),checklist_material_button_entry=(__webpack_require__("./node_modules/prop-types/index.js"),__webpack_require__("./node_modules/url-prop-type/build/index.js"),__webpack_require__("./src/apps/checklist-button/checklist-material-button.entry.jsx"));function AddToChecklistEntry(_ref){var materialListUrl=_ref.materialListUrl,text=_ref.text,successText=_ref.successText,errorText=_ref.errorText,id=_ref.id,loginUrl=_ref.loginUrl;return react_default.a.createElement(checklist_material_button_entry.a,{addText:text,addErrorText:errorText,addSuccessText:successText,loginUrl:loginUrl,id:id,materialListUrl:materialListUrl,initialOnList:"off",containerClass:"ddb-add-to-checklist__container"})}AddToChecklistEntry.defaultProps={materialListUrl:"https://test.materiallist.dandigbib.org",text:"Tilføj til min liste",errorText:"Det lykkedes ikke at gemme materialet.",successText:"Materialet er tilføjet"};var add_to_checklist_entry=AddToChecklistEntry,Entry=(__webpack_exports__.default={title:"Apps/Checklist/Add (Deprecated)"},function Template(args){return react_default.a.createElement(add_to_checklist_entry,args)}.bind({}));Entry.args={materialListUrl:"https://test.materiallist.dandigbib.org",text:"Tilføj til din huskeliste",errorText:"Der opstod en fejl",successText:"Tilføjet",id:"870970-basis:54172613",loginUrl:"https://lollandbib.dk/adgangsplatformen/login?destination=ting/object/:id"}},"./src/apps/add-to-searchlist/add-to-searchlist.dev.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Entry",(function(){return Entry}));var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/slicedToArray.js"),slicedToArray_default=__webpack_require__.n(slicedToArray),react_hook_form_ie11=(__webpack_require__("./node_modules/prop-types/index.js"),__webpack_require__("./node_modules/url-prop-type/build/index.js"),__webpack_require__("./node_modules/react-hook-form/dist/react-hook-form.ie11.js")),react_hook_form_ie11_default=__webpack_require__.n(react_hook_form_ie11),button_button=__webpack_require__("./src/components/atoms/button/button.jsx"),dialog=__webpack_require__("./src/components/atoms/dialog/dialog.jsx"),textfield=__webpack_require__("./src/components/atoms/textfield/textfield.jsx"),alert_alert=__webpack_require__("./src/components/alert/alert.jsx"),user=__webpack_require__("./src/core/user.js"),replacePlaceholders=__webpack_require__("./src/core/replacePlaceholders.js");var add_to_searchlist=function AddToSearchlist(_ref){var _errors$title,status=_ref.status,onSubmit=_ref.onSubmit,buttonText=_ref.buttonText,labelText=_ref.labelText,defaultTitle=_ref.defaultTitle,addButtonText=_ref.addButtonText,helpText=_ref.helpText,errorText=_ref.errorText,successText=_ref.successText,successLinkUrl=_ref.successLinkUrl,successLinkText=_ref.successLinkText,errorRequiredMessage=_ref.errorRequiredMessage,errorMaxLengthMessage=_ref.errorMaxLengthMessage,searchQuery=_ref.searchQuery,loginUrl=_ref.loginUrl,_useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),dialogOpen=_useState2[0],setDialogOpen=_useState2[1],_useForm=react_hook_form_ie11_default()(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors;if("failed"===status)return react_default.a.createElement(alert_alert.a,{message:errorText,type:"assertive",variant:"warning"});var success=react_default.a.createElement("div",{className:"ddb-add-to-searchlist__success"},react_default.a.createElement(alert_alert.a,{message:successText,type:"polite",variant:"blank"}),successLinkUrl&&react_default.a.createElement("a",{href:successLinkUrl},successLinkText)),initial=react_default.a.createElement("div",{className:"ddb-add-to-searchlist__content"},react_default.a.createElement("div",{className:"ddb-add-to-searchlist__info"},react_default.a.createElement("p",{className:"ddb-reset ddb-add-to-searchlist__help"},helpText)),react_default.a.createElement("form",{onSubmit:handleSubmit((function submit(data,event){event.target.reset(),onSubmit(data.title)})),className:"ddb-add-to-searchlist__action"},react_default.a.createElement(textfield.a,{name:"title",ref:register({required:errorRequiredMessage,maxLength:{value:255,message:errorMaxLengthMessage}}),inputClass:"ddb-add-to-searchlist__input",containerClass:"ddb-add-to-searchlist__input-container",label:labelText,defaultValue:defaultTitle,error:null==errors||null===(_errors$title=errors.title)||void 0===_errors$title?void 0:_errors$title.message}),react_default.a.createElement(button_button.a,{type:"submit",className:"ddb-add-to-searchlist__button",variant:"charcoal",align:"left"},addButtonText)));return react_default.a.createElement("section",{className:"ddb-add-to-searchlist"},react_default.a.createElement(button_button.a,{href:user.a.isAuthenticated()?void 0:Object(replacePlaceholders.a)({text:loginUrl,tags:{query:encodeURIComponent(searchQuery)}}),className:"ddb-add-to-searchlist__open-dialog-btn",onClick:function openDialog(){return setDialogOpen(!0)}},buttonText),react_default.a.createElement(dialog.a,{label:"Tilføj søgning til liste",showCloseButton:!0,dropDown:!0,isOpen:dialogOpen,onDismiss:function closeDialog(){return setDialogOpen(!1)}},"processing"===status?success:initial))},FollowSearches=__webpack_require__("./src/core/FollowSearches.js");function AddToSearchlistEntry(_ref){var followSearchesUrl=_ref.followSearchesUrl,searchQuery=_ref.searchQuery,buttonText=_ref.buttonText,labelText=_ref.labelText,defaultTitle=_ref.defaultTitle,helpText=_ref.helpText,successText=_ref.successText,successLinkUrl=_ref.successLinkUrl,successLinkText=_ref.successLinkText,errorText=_ref.errorText,addButtonText=_ref.addButtonText,errorRequiredMessage=_ref.errorRequiredMessage,errorMaxLengthMessage=_ref.errorMaxLengthMessage,loginUrl=_ref.loginUrl,_useState=Object(react.useState)("ready"),_useState2=slicedToArray_default()(_useState,2),status=_useState2[0],setStatus=_useState2[1];function setListRestoreStatus(){setStatus("ready")}function setListErrorStatus(){setStatus("failed"),setTimeout(setListRestoreStatus,2e3)}function setListSuccessStatus(){setTimeout(setListRestoreStatus,1e4)}return react_default.a.createElement(add_to_searchlist,{status:status,onSubmit:function addToSearchList(title){setStatus("processing"),new FollowSearches.a({baseUrl:followSearchesUrl}).addSearch({title:title,query:searchQuery}).then(setListSuccessStatus).catch(setListErrorStatus)},searchQuery:searchQuery,buttonText:buttonText,labelText:labelText,defaultTitle:defaultTitle,errorText:errorText,successText:successText,successLinkUrl:successLinkUrl,successLinkText:successLinkText,addButtonText:addButtonText,helpText:helpText,errorRequiredMessage:errorRequiredMessage,errorMaxLengthMessage:errorMaxLengthMessage,loginUrl:loginUrl})}AddToSearchlistEntry.defaultProps={followSearchesUrl:"https://stage.followsearches.dandigbib.org",buttonText:"Tilføj til mine søgninger",labelText:"Søgetitel",errorText:"Noget gik galt",successText:"Tilføjet til dine gemte søgninger.",successLinkUrl:void 0,successLinkText:"Se dine gemte søgnigner.",errorRequiredMessage:"En titel er påkrævet.",errorMaxLengthMessage:"Titlen må ikke være længere end 255 tegn.",addButtonText:"Gem",defaultTitle:"",helpText:"Gem en søgning her og giv den en titel så du nemt kan kende forskel på alle dine mange gemte søgninger."};var add_to_searchlist_entry=AddToSearchlistEntry,Entry=(__webpack_require__("./src/apps/add-to-searchlist/add-to-searchlist.scss"),__webpack_exports__.default={title:"Apps/Searchlist/Add"},function Template(args){return react_default.a.createElement(add_to_searchlist_entry,args)}.bind({}));Entry.args={followSearchesUrl:"https://stage.followsearches.dandigbib.org",searchQuery:"star wars",buttonText:"Tilføj til mine søgninger",labelText:"Søgetitel",defaultTitle:"",errorText:"Det gik galt",successText:"Tilføjet til dine gemte søgninger.",successLinkUrl:"/?path=/story/apps-searchlist--entry",successLinkText:"Se dine gemte søgnigner.",addButtonText:"Gem",helpText:"Gem en søgning her og giv den en titel så du nemt kan kende forskel på alle dine mange gemte søgninger.",loginUrl:"https://lollandbib.dk/adgangsplatformen/login?destination=search/ting/:query"}},"./src/apps/add-to-searchlist/add-to-searchlist.scss":function(module,exports,__webpack_require__){var content=__webpack_require__("./node_modules/postcss-loader/src/index.js!./src/apps/add-to-searchlist/add-to-searchlist.scss");"string"==typeof content&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js")(content,options);content.locals&&(module.exports=content.locals)},"./src/apps/adgangsplatformen/auth.dev.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SignIn",(function(){return SignIn}));var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),es=(__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.string.search.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.url.js"),__webpack_require__("./node_modules/react-redux/es/index.js")),unfetch=__webpack_require__("./node_modules/unfetch/dist/unfetch.mjs"),core_token=__webpack_require__("./src/core/token.js"),user_slice=__webpack_require__("./src/core/user.slice.js"),ORIGIN=window.location.origin,PATHNAME=window.location.pathname.replace("/iframe.html","/"),REDIRECT_URL="".concat(ORIGIN).concat(PATHNAME,"?path=/story/adgangsplatformen--sign-in");var auth=function Auth(){var dispatch=Object(es.b)(),status=Object(es.c)((function(s){return s.user.status})),handleCleanUp=Object(react.useCallback)((function(){window.sessionStorage.removeItem(core_token.b),dispatch(Object(user_slice.d)())}),[dispatch]);return react_default.a.useEffect((function(){var code=new URLSearchParams(window.location.search).get("code");code&&Object(unfetch.a)("https://login.bib.dk/oauth/token",{method:"POST",headers:{},body:new URLSearchParams({grant_type:"authorization_code",code:code,client_id:"",client_secret:"secret",redirect_uri:REDIRECT_URL})}).then((function(res){return res.json()})).then((function(res){if(!(null==res?void 0:res.access_token))throw res;window.sessionStorage.setItem(core_token.b,res.access_token),Object(core_token.e)(core_token.b,res.access_token),Object(core_token.e)(core_token.a,res.access_token),dispatch(Object(user_slice.c)())})).catch((function(err){console.error(err),handleCleanUp()}))}),[dispatch,handleCleanUp]),react_default.a.createElement("div",{style:{width:"300px"}},react_default.a.createElement("h2",null,"Adgangsplatformen"),react_default.a.createElement("h5",null,"Status:","authenticated"===status?react_default.a.createElement("span",{style:{color:"green"}}," Signed in"):react_default.a.createElement("span",{style:{color:"red"}}," Signed out")),react_default.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gridColumnGap:10}},react_default.a.createElement("button",{type:"button",onClick:function handleSignIn(){window.parent.location.href="https://login.bib.dk/oauth/authorize?response_type=code&client_id=".concat("","&redirect_uri=").concat(REDIRECT_URL)},style:{width:"100%"}},"Sign in"),react_default.a.createElement("button",{type:"button",onClick:function handleSignOut(){handleCleanUp();var token=Object(core_token.c)(core_token.b);window.parent.location.href="https://login.bib.dk/logout/?access_token=".concat(token)},style:{width:"100%"}},"Sign out")))},SignIn=(__webpack_exports__.default={title:"Adgangsplatformen"},function Template(args){return react_default.a.createElement(auth,args)}.bind({}))},"./src/apps/checklist-button/checklist-material-button.dev.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Entry",(function(){return Entry}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_checklist_material_button_entry__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/apps/checklist-button/checklist-material-button.entry.jsx");__webpack_exports__.default={title:"Apps/Checklist/Material button"};var Entry=function Template(args){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_checklist_material_button_entry__WEBPACK_IMPORTED_MODULE_1__.a,args)}.bind({});Entry.args={materialListUrl:"https://test.materiallist.dandigbib.org",addText:"Tilføj til din huskeliste",addErrorText:"Der opstod en fejl",addSuccessText:"Tilføjet",removeText:"Fjern fra din huskeliste",removeErrorText:"Der opstod en fejl",removeSuccessText:"Fjernet",id:"870970-basis:54172613",loginUrl:"https://lollandbib.dk/adgangsplatformen/login?destination=ting/object/:id",initialOnList:"unknown"}},"./src/apps/checklist-button/checklist-material-button.entry.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";var slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/slicedToArray.js"),slicedToArray_default=__webpack_require__.n(slicedToArray),react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),es=__webpack_require__("./node_modules/react-redux/es/index.js"),checklist_material_button_slice=(__webpack_require__("./node_modules/prop-types/index.js"),__webpack_require__("./node_modules/url-prop-type/build/index.js"),__webpack_require__("./src/apps/checklist-button/checklist-material-button.slice.jsx")),user=__webpack_require__("./src/core/user.js"),button_button=__webpack_require__("./src/components/atoms/button/button.jsx"),alert_alert=__webpack_require__("./src/components/alert/alert.jsx");function ChecklistMaterialButton(_ref){var status=_ref.status,onClick=_ref.onClick,text=_ref.text,errorText=_ref.errorText,successText=_ref.successText,containerClass=_ref.containerClass;return"processing"===status||"finished"===status?react_default.a.createElement(alert_alert.a,{message:successText,type:"polite",variant:"success"}):"failed"===status?react_default.a.createElement(alert_alert.a,{message:errorText,type:"polite",variant:"warning"}):react_default.a.createElement("div",{className:containerClass},react_default.a.createElement(button_button.a,{variant:"black",align:"left",onClick:onClick},text))}ChecklistMaterialButton.defaultProps={status:"ready",containerClass:"ddb-checklist-material-button__container"};var checklist_material_button=ChecklistMaterialButton;function ChecklistMaterialButtonEntry(_ref){var materialListUrl=_ref.materialListUrl,addText=_ref.addText,addSuccessText=_ref.addSuccessText,addErrorText=_ref.addErrorText,removeText=_ref.removeText,removeSuccessText=_ref.removeSuccessText,removeErrorText=_ref.removeErrorText,id=_ref.id,loginUrl=_ref.loginUrl,initialOnList=_ref.initialOnList,containerClass=_ref.containerClass,status=Object(es.c)((function(state){return state.checklistMaterialButton.status[id]}))||"ready",onList=Object(es.c)((function(state){return state.checklistMaterialButton.onList[id]}))||initialOnList,dispatch=Object(es.b)(),loggedIn=user.a.isAuthenticated(),_ref2="off"===onList||"unknown"===onList||"on"===onList&&"processing"===status?[checklist_material_button_slice.c,checklist_material_button_slice.b,checklist_material_button_slice.a,"on"]:[checklist_material_button_slice.h,checklist_material_button_slice.g,checklist_material_button_slice.f,"off"],_ref3=slicedToArray_default()(_ref2,4),pending=_ref3[0],action=_ref3[1],aborted=_ref3[2],newOnList=_ref3[3],_ref4="unknown"===onList||"off"===onList&&("ready"===status||"pending"===status||"processing"===status||"failed"===status)||"on"===onList&&"finished"===status?[addText,addSuccessText,addErrorText]:[removeText,removeSuccessText,removeErrorText],_ref5=slicedToArray_default()(_ref4,3),text=_ref5[0],successText=_ref5[1],errorText=_ref5[2];return Object(react.useEffect)((function(){"pending"===status&&(loggedIn?dispatch(action({materialListUrl:materialListUrl,materialId:id})).then((function(payload){dispatch(Object(checklist_material_button_slice.i)({materialId:id,onList:(null==payload?void 0:payload.error)?onList:newOnList}))})):user.a.authenticationFailed()&&(dispatch(aborted({materialId:id})),dispatch(Object(checklist_material_button_slice.i)({materialId:id,onList:onList})))),"ready"===status&&"unknown"===onList&&dispatch(Object(checklist_material_button_slice.d)({materialListUrl:materialListUrl,materialId:id}))}),[aborted,action,dispatch,id,loggedIn,materialListUrl,newOnList,onList,status]),react_default.a.createElement(checklist_material_button,{text:text,errorText:errorText,successText:successText,status:status,onClick:function onClick(){dispatch(pending({materialId:id})),loggedIn||user.a.authenticate(loginUrl)},containerClass:containerClass})}ChecklistMaterialButtonEntry.defaultProps={materialListUrl:"https://test.materiallist.dandigbib.org",addText:"Tilføj til min liste",addErrorText:"Det lykkedes ikke at gemme materialet.",addSuccessText:"Materialet er tilføjet",removeText:"Fjern fra min liste",removeErrorText:"Det lykkedes ikke at fjerne materialet.",removeSuccessText:"Materialet er fjernet",initialOnList:"unknown",containerClass:"ddb-checklist-material-button__container"};__webpack_exports__.a=ChecklistMaterialButtonEntry},"./src/apps/checklist-button/checklist-material-button.slice.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"i",(function(){return resetStatus})),__webpack_require__.d(__webpack_exports__,"d",(function(){return checkOnListAction})),__webpack_require__.d(__webpack_exports__,"b",(function(){return addToListAction})),__webpack_require__.d(__webpack_exports__,"g",(function(){return removeFromListAction})),__webpack_require__.d(__webpack_exports__,"c",(function(){return addToListPending})),__webpack_require__.d(__webpack_exports__,"a",(function(){return addToListAborted})),__webpack_require__.d(__webpack_exports__,"h",(function(){return removeFromListPending})),__webpack_require__.d(__webpack_exports__,"f",(function(){return removeFromListAborted}));__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js");var _extraReducers,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__("./node_modules/regenerator-runtime/runtime.js"),__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__),_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),_core_MaterialList__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/core/MaterialList.js"),resetStatus=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_6__.b)("checklistMaterial/resetStatus",(function(){return new Promise((function(resolve){setTimeout((function(){return resolve()}),4e3)}))})),checkOnListAction=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_6__.b)("checklistMaterial/checkOnListAction",function(){var _ref3=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark((function _callee(_ref,_ref2){var materialListUrl,materialId,dispatch,rejectWithValue,client;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return materialListUrl=_ref.materialListUrl,materialId=_ref.materialId,dispatch=_ref2.dispatch,rejectWithValue=_ref2.rejectWithValue,client=new _core_MaterialList__WEBPACK_IMPORTED_MODULE_7__.a({baseUrl:materialListUrl}),_context.prev=3,_context.next=6,client.checkListMaterial({materialId:materialId});case 6:return _context.abrupt("return",_context.sent);case 9:return _context.prev=9,_context.t0=_context.catch(3),dispatch(resetStatus({materialId:materialId})),_context.abrupt("return",rejectWithValue(_context.t0));case 13:case"end":return _context.stop()}}),_callee,null,[[3,9]])})));return function(_x,_x2){return _ref3.apply(this,arguments)}}()),addToListAction=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_6__.b)("checklistMaterial/addToListAction",function(){var _ref6=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark((function _callee2(_ref4,_ref5){var materialListUrl,materialId,dispatch,rejectWithValue,client;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return materialListUrl=_ref4.materialListUrl,materialId=_ref4.materialId,dispatch=_ref5.dispatch,rejectWithValue=_ref5.rejectWithValue,client=new _core_MaterialList__WEBPACK_IMPORTED_MODULE_7__.a({baseUrl:materialListUrl}),_context2.prev=3,_context2.next=6,client.addListMaterial({materialId:materialId});case 6:return _context2.abrupt("return",_context2.sent);case 9:return _context2.prev=9,_context2.t0=_context2.catch(3),dispatch(resetStatus({materialId:materialId})),_context2.abrupt("return",rejectWithValue(_context2.t0));case 13:case"end":return _context2.stop()}}),_callee2,null,[[3,9]])})));return function(_x3,_x4){return _ref6.apply(this,arguments)}}()),removeFromListAction=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_6__.b)("checklistMaterial/removeFromListAction",function(){var _ref9=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark((function _callee3(_ref7,_ref8){var materialListUrl,materialId,dispatch,rejectWithValue,client;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return materialListUrl=_ref7.materialListUrl,materialId=_ref7.materialId,dispatch=_ref8.dispatch,rejectWithValue=_ref8.rejectWithValue,client=new _core_MaterialList__WEBPACK_IMPORTED_MODULE_7__.a({baseUrl:materialListUrl}),_context3.prev=3,_context3.next=6,client.deleteListMaterial({materialId:materialId});case 6:return _context3.abrupt("return",_context3.sent);case 9:return _context3.prev=9,_context3.t0=_context3.catch(3),dispatch(resetStatus({materialId:materialId})),_context3.abrupt("return",rejectWithValue(_context3.t0));case 13:case"end":return _context3.stop()}}),_callee3,null,[[3,9]])})));return function(_x5,_x6){return _ref9.apply(this,arguments)}}()),checklistMaterialButtonSlice=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_6__.c)({name:"checklistMaterial",initialState:{status:{},onList:{}},reducers:{setInitialStatus:function setInitialStatus(state,action){state.status[action.payload.materialId]="ready",state.onList[action.payload.materialId]=action.payload.onList},addToListPending:function addToListPending(state,action){state.status[action.payload.materialId]="pending"},addToListAborted:function addToListAborted(state,action){state.status[action.payload.materialId]="failed"},removeFromListPending:function removeFromListPending(state,action){state.status[action.payload.materialId]="pending"},removeFromListAborted:function removeFromListAborted(state,action){state.status[action.payload.materialId]="failed"}},extraReducers:(_extraReducers={},_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(_extraReducers,checkOnListAction.fulfilled,(function(state,action){state.onList[action.meta.arg.materialId]=action.payload?"on":"off"})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(_extraReducers,checkOnListAction.rejected,(function(state,action){state.onList[action.meta.arg.materialId]="off"})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(_extraReducers,addToListAction.pending,(function(state,action){state.status[action.meta.arg.materialId]="processing"})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(_extraReducers,addToListAction.fulfilled,(function(state,action){state.status[action.meta.arg.materialId]="finished",state.onList[action.meta.arg.materialId]="on"})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(_extraReducers,addToListAction.rejected,(function(state,action){state.status[action.meta.arg.materialId]="failed"})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(_extraReducers,removeFromListAction.pending,(function(state,action){state.status[action.meta.arg.materialId]="processing"})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(_extraReducers,removeFromListAction.fulfilled,(function(state,action){state.status[action.meta.arg.materialId]="finished",state.onList[action.meta.arg.materialId]="off"})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(_extraReducers,removeFromListAction.rejected,(function(state,action){state.status[action.meta.arg.materialId]="failed"})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(_extraReducers,resetStatus.fulfilled,(function(state,action){state.status[action.meta.arg.materialId]="ready",action.meta.arg.onList&&(state.onList[action.meta.arg.materialId]=action.meta.arg.onList)})),_extraReducers)}),_checklistMaterialBut=checklistMaterialButtonSlice.actions,addToListPending=(_checklistMaterialBut.setInitialStatus,_checklistMaterialBut.addToListPending),addToListAborted=_checklistMaterialBut.addToListAborted,removeFromListPending=_checklistMaterialBut.removeFromListPending,removeFromListAborted=_checklistMaterialBut.removeFromListAborted;__webpack_exports__.e=checklistMaterialButtonSlice.reducer},"./src/apps/checklist/checklist.dev.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Entry",(function(){return Entry}));var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),toConsumableArray=(__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),toConsumableArray_default=__webpack_require__.n(toConsumableArray),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/slicedToArray.js"),slicedToArray_default=__webpack_require__.n(slicedToArray),skeleton=(__webpack_require__("./node_modules/url-prop-type/build/index.js"),__webpack_require__("./node_modules/prop-types/index.js"),__webpack_require__("./src/components/atoms/skeleton/skeleton.jsx")),button_button=__webpack_require__("./src/components/atoms/button/button.jsx"),list_list=__webpack_require__("./src/components/atoms/list/list.jsx"),alert_alert=__webpack_require__("./src/components/alert/alert.jsx"),list_item=__webpack_require__("./src/components/list-item/list-item.jsx"),simple_material=__webpack_require__("./src/components/simple-material/simple-material.jsx");function SkeletonElement(_,index){return react_default.a.createElement(list_item.a,{key:index,aside:react_default.a.createElement(skeleton.a,{width:"136px",height:"50px"})},react_default.a.createElement(simple_material.a,null))}function Checklist(_ref){var status=_ref.status,items=_ref.items,onRemove=_ref.onRemove,materialUrl=_ref.materialUrl,authorUrl=_ref.authorUrl,coverServiceUrl=_ref.coverServiceUrl,removeButtonText=_ref.removeButtonText,emptyListText=_ref.emptyListText,errorText=_ref.errorText,ofText=_ref.ofText;return"initial"===status?react_default.a.createElement(list_list.a,null,Object(skeleton.b)(4).map(SkeletonElement)):"failed"===status?react_default.a.createElement(alert_alert.a,{type:"assertive",variant:"warning",message:errorText}):"ready"===status&&0===items.length?react_default.a.createElement(alert_alert.a,{type:"polite",message:emptyListText}):react_default.a.createElement(list_list.a,null,items.map((function(item){return react_default.a.createElement(list_item.a,{key:item.pid,aside:react_default.a.createElement(button_button.a,{className:"ddb-checklist__button",variant:"charcoal",align:"center",onClick:function onClick(){return onRemove(item.pid)}},removeButtonText)},react_default.a.createElement(simple_material.b,{item:item,coverSize:"small",materialUrl:materialUrl,authorUrl:authorUrl,coverServiceUrl:coverServiceUrl,ofText:ofText,dataClass:"ddb-checklist__data"}))})))}Checklist.defaultProps={items:[],status:"initial"};var checklist=Checklist,MaterialList=__webpack_require__("./src/core/MaterialList.js"),OpenPlatform=__webpack_require__("./src/core/OpenPlatform.js"),Material=__webpack_require__("./src/core/Material.js");function ChecklistEntry(_ref){var materialListUrl=_ref.materialListUrl,materialUrl=_ref.materialUrl,authorUrl=_ref.authorUrl,coverServiceUrl=_ref.coverServiceUrl,removeButtonText=_ref.removeButtonText,emptyListText=_ref.emptyListText,errorText=_ref.errorText,ofText=_ref.ofText,_useState=Object(react.useState)([]),_useState2=slicedToArray_default()(_useState,2),list=_useState2[0],setList=_useState2[1],_useState3=Object(react.useState)("initial"),_useState4=slicedToArray_default()(_useState3,2),status=_useState4[0],setStatus=_useState4[1];function getWork(result){return result&&result.length?(new OpenPlatform.a).getWork({pids:result,fields:["dcTitleFull","pid","dcCreator","creator","typeBibDKType","date"]}):[]}function setChecklistReadyStatus(result){setStatus("ready"),setList(result.map(Material.a.format))}function setChecklistFailedStatus(){setStatus("failed")}return Object(react.useEffect)((function(){new MaterialList.a({baseUrl:materialListUrl}).getList().then(getWork).then(setChecklistReadyStatus).catch(setChecklistFailedStatus)}),[materialListUrl]),react_default.a.createElement(checklist,{status:status,items:list,onRemove:function onRemove(materialId){var fallbackList=toConsumableArray_default()(list);function setDeleteMaterialRestoreStatus(){setStatus("ready"),setList(fallbackList)}setList(list.filter((function(item){return item.pid!==materialId}))),new MaterialList.a({baseUrl:materialListUrl}).deleteListMaterial({materialId:materialId}).catch((function setDeleteMaterialErrorStatus(){setStatus("failed"),setTimeout(setDeleteMaterialRestoreStatus,2e3)}))},materialUrl:materialUrl,authorUrl:authorUrl,coverServiceUrl:coverServiceUrl,removeButtonText:removeButtonText,emptyListText:emptyListText,errorText:errorText,ofText:ofText})}ChecklistEntry.defaultProps={materialListUrl:"https://test.materiallist.dandigbib.org",removeButtonText:"Fjern fra listen",emptyListText:"Listen er tom",errorText:"Noget gik galt",ofText:"Af"};var checklist_entry=ChecklistEntry,Entry=(__webpack_require__("./src/apps/checklist/checklist.scss"),__webpack_exports__.default={title:"Apps/Checklist/List"},function Template(args){return react_default.a.createElement(checklist_entry,args)}.bind({}));Entry.args={materialListUrl:"https://test.materiallist.dandigbib.org",materialUrl:"https://lollandbib.dk/ting/object/:pid",authorUrl:'https://lollandbib.dk/search/ting/phrase.creator=":author"',coverServiceUrl:"https://cover.dandigbib.org/api/v2",removeButtonText:"Fjern fra listen",emptyListText:"Ingen materialer på listen",errorText:"Et eller andet gik galt."}},"./src/apps/checklist/checklist.scss":function(module,exports,__webpack_require__){var content=__webpack_require__("./node_modules/postcss-loader/src/index.js!./src/apps/checklist/checklist.scss");"string"==typeof content&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js")(content,options);content.locals&&(module.exports=content.locals)},"./src/apps/order-material/order-material.dev.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Entry",(function(){return Entry}));var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),slicedToArray=(__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/@babel/runtime/helpers/slicedToArray.js")),slicedToArray_default=__webpack_require__.n(slicedToArray),button_button=(__webpack_require__("./node_modules/prop-types/index.js"),__webpack_require__("./node_modules/url-prop-type/build/index.js"),__webpack_require__("./src/components/atoms/button/button.jsx")),dialog=__webpack_require__("./src/components/atoms/dialog/dialog.jsx"),alert_alert=__webpack_require__("./src/components/alert/alert.jsx"),user=__webpack_require__("./src/core/user.js"),replacePlaceholders=__webpack_require__("./src/core/replacePlaceholders.js");function OrderMaterial(_ref){var status=_ref.status,checkingText=_ref.checkingText,progressText=_ref.progressText,unavailableText=_ref.unavailableText,invalidPickupBranchText=_ref.invalidPickupBranchText,onClick=_ref.onClick,text=_ref.text,errorText=_ref.errorText,successText=_ref.successText,successMessage=_ref.successMessage,loginUrl=_ref.loginUrl,materialIds=_ref.materialIds,_useState=Object(react.useState)(!0),_useState2=slicedToArray_default()(_useState,2),open=_useState2[0],setOpen=_useState2[1];switch(status){case"initial":return null;case"checking":return react_default.a.createElement(alert_alert.a,{message:checkingText,type:"polite",variant:"info"});case"unavailable":return react_default.a.createElement(alert_alert.a,{message:unavailableText,type:"polite",variant:"info"});case"invalid branch":return react_default.a.createElement(alert_alert.a,{message:invalidPickupBranchText,type:"polite",variant:"warning"});case"processing":return react_default.a.createElement(alert_alert.a,{message:progressText,type:"polite",variant:"info"});case"finished":return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(alert_alert.a,{message:successText,type:"polite",variant:"success"}),react_default.a.createElement(dialog.a,{label:"Tilføj søgning til liste",showCloseButton:!0,dropDown:!0,isOpen:open,onDismiss:function closeDialog(){return setOpen(!1)}},react_default.a.createElement(alert_alert.a,{message:successMessage,type:"polite",variant:"blank"})));case"failed":return react_default.a.createElement(alert_alert.a,{message:errorText,type:"polite",variant:"warning"});default:return react_default.a.createElement("div",{className:"ddb-order-material__container"},react_default.a.createElement(button_button.a,{href:user.a.isAuthenticated()?void 0:Object(replacePlaceholders.a)({text:loginUrl,tags:{id:encodeURIComponent(materialIds.first)}}),variant:"black",align:"left",onClick:onClick},text))}}OrderMaterial.defaultProps={status:"initial"};var order_material=OrderMaterial,OpenPlatform=__webpack_require__("./src/core/OpenPlatform.js");function idsArray(ids){return"string"==typeof ids?ids.split(","):ids}function OrderMaterialEntry(_ref){var text=_ref.text,successText=_ref.successText,successMessage=_ref.successMessage,errorText=_ref.errorText,checkingText=_ref.checkingText,progressText=_ref.progressText,unavailableText=_ref.unavailableText,invalidPickupBranchText=_ref.invalidPickupBranchText,ids=_ref.ids,loginUrl=_ref.loginUrl,pickupBranch=_ref.pickupBranch,expires=_ref.expires,_useState=Object(react.useState)("initial"),_useState2=slicedToArray_default()(_useState,2),status=_useState2[0],setStatus=_useState2[1];return Object(react.useEffect)((function(){var client=new OpenPlatform.a;setStatus("checking"),client.canBeOrdered(idsArray(ids)).then((function(available){available?user.a.isAuthenticated()?client.getBranch(pickupBranch).then((function(branch){"1"!==branch.willReceiveIll?setStatus("invalid branch"):setStatus("ready")})).catch((function(){setStatus("failed")})):setStatus("ready"):setStatus("unavailable")})).catch((function(){setStatus("failed")}))}),[ids,pickupBranch]),react_default.a.createElement(order_material,{text:text,errorText:errorText,successText:successText,successMessage:successMessage,checkingText:checkingText,progressText:progressText,unavailableText:unavailableText,invalidPickupBranchText:invalidPickupBranchText,status:status,onClick:function orderMaterial(){setStatus("processing"),(new OpenPlatform.a).orderMaterial({pids:idsArray(ids),pickupBranch:pickupBranch,expires:expires}).then((function(){setStatus("finished")})).catch((function(){setStatus("failed")}))},loginUrl:loginUrl,materialIds:idsArray(ids)})}OrderMaterialEntry.defaultProps={text:"Bestil materiale",checkingText:"Undersøger mulighed for fjernlån",progressText:"Bestiller materiale",unavailableText:"Kan ikke fjernlånes",invalidPickupBranchText:"Dit afhentningsbibliotek modtager ikke fjernlån",errorText:"Det lykkedes ikke at bestille materialet.",successText:"Materialet er bestilt",successMessage:"Materialet er bestilt, dit bibliotek vil give besked når det er klar til afhentning."};var order_material_entry=OrderMaterialEntry,Entry=(__webpack_exports__.default={title:"Apps/Order material"},function Template(args){return react_default.a.createElement(order_material_entry,args)}.bind({}));Entry.args={text:"Bestil materiale",errorText:"Der opstod en fejl",checkingText:"Undersøger mulighed for fjernlån",progressText:"Bestiller materiale",unavailableText:"Kan ikke fjernlånes",invalidPickupBranchText:"Dit afhentningsbibliotek modtager ikke fjernlån",successText:"Bestilt",successMessage:"Materialet er bestilt, dit bibliotek vil give besked når det er klar til afhentning.",ids:"870970-basis:47092183,870970-basis:51980190,870970-basis:23154382",loginUrl:"https://lollandbib.dk/adgangsplatformen/login?destination=ting/object/:id",pickupBranch:"790900",expires:"2021-06-24"}},"./src/apps/related-materials/related-materials.dev.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Entry",(function(){return Entry}));var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),regenerator=(__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.search.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),regenerator_default=__webpack_require__.n(regenerator),defineProperty=(__webpack_require__("./node_modules/regenerator-runtime/runtime.js"),__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js")),defineProperty_default=__webpack_require__.n(defineProperty),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/slicedToArray.js"),slicedToArray_default=__webpack_require__.n(slicedToArray),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),replace=(__webpack_require__("./node_modules/prop-types/index.js"),__webpack_require__("./node_modules/url-prop-type/build/index.js"),__webpack_require__("./node_modules/lodash/replace.js")),replace_default=__webpack_require__.n(replace),skeleton=__webpack_require__("./src/components/atoms/skeleton/skeleton.jsx"),replacePlaceholders=__webpack_require__("./src/core/replacePlaceholders.js");function RelatedMaterialSkeleton(){return react_default.a.createElement("div",{className:"ddb-related-material ddb-related-material__skeleton"},react_default.a.createElement(skeleton.a,{mr:0,ml:0,mb:0,mt:0,height:"100%",width:"100%"}))}function RelatedMaterial(_ref){var pid=_ref.pid,type=_ref.type,title=_ref.title,creators=_ref.creators,year=_ref.year,cover=_ref.cover,materialUrl=_ref.materialUrl,_useState=Object(react.useState)("initial"),_useState2=slicedToArray_default()(_useState,2),imageStatus=_useState2[0],setImageStatus=_useState2[1],coverUrl=cover.imageUrls.large.url,formattedCreators=creators.join(", "),alt="".concat(type," - ").concat(formattedCreators,": ").concat(title," (").concat(year,")");return react_default.a.createElement("a",{className:"ddb-related-material ".concat("finished"===imageStatus&&"ddb-related-material--finished"),href:Object(replacePlaceholders.a)({text:materialUrl,placeholders:{pid:encodeURI(pid)}})},react_default.a.createElement("img",{onLoad:function onLoad(){return setImageStatus("finished")},alt:alt,src:coverUrl}))}function RelatedMaterials(_ref2){var items=_ref2.items,status=_ref2.status,searchUrl=_ref2.searchUrl,materialUrl=_ref2.materialUrl,searchText=_ref2.searchText,titleText=_ref2.titleText;return"failed"===status||"empty"===status?null:react_default.a.createElement("div",{className:"ddb-related-materials"},react_default.a.createElement("h2",{className:"ddb-reset ddb-related-materials__title"},titleText),react_default.a.createElement("ul",{className:"ddb-reset ddb-related-materials__list"},items.map((function(item){return item.data?react_default.a.createElement("li",{key:item.id},react_default.a.createElement(RelatedMaterial,{pid:item.data.pid,title:item.data.title,creators:item.data.creators,type:item.data.type,year:item.data.year,cover:item.data.cover,materialUrl:materialUrl})):react_default.a.createElement("li",{key:item.id},react_default.a.createElement(RelatedMaterialSkeleton,null))}))),react_default.a.createElement("a",{className:"ddb-related-materials__search",href:searchUrl},searchText))}RelatedMaterial.defaultProps={creators:[]},RelatedMaterials.defaultProps={items:[]};var related_materials=RelatedMaterials,OpenPlatform=__webpack_require__("./src/core/OpenPlatform.js"),CoverService=__webpack_require__("./src/core/CoverService.js"),Material=__webpack_require__("./src/core/Material.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function getRelatedMaterials(){return _getRelatedMaterials.apply(this,arguments)}function _getRelatedMaterials(){return _getRelatedMaterials=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(){var _ref3,query,offset,limit,fields,sort,coverClient,openPlatformClient,materials,materialIds,coverSize,coverData,covers,mergeMaterialsAndCovers,coveredMaterials,_args=arguments;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(mergeMaterialsAndCovers=function _ref4(material){var cover=covers.find((function locateMaterialCover(cover){return material.pid[0]===cover.id}));return _objectSpread({},Material.a.format(material),{cover:cover})},_ref3=_args.length>0&&void 0!==_args[0]?_args[0]:{},query=_ref3.query,offset=_ref3.offset,limit=_ref3.limit,fields=_ref3.fields,sort=_ref3.sort,coverClient=_ref3.coverClient,fields.includes("pid")){_context.next=4;break}throw Error('"pid" must be included as a field.');case 4:return openPlatformClient=new OpenPlatform.a,_context.next=7,openPlatformClient.search(query,{offset:offset,limit:limit,fields:fields,sort:sort});case 7:return materials=_context.sent,materialIds=materials.map((function(material){return material.pid[0]})),coverSize="large",_context.next=12,coverClient.getCover({id:materialIds,size:[coverSize]});case 12:return coverData=_context.sent,covers=coverData.filter((function(cover){var _cover$imageUrls$cove;return null===(_cover$imageUrls$cove=cover.imageUrls[coverSize])||void 0===_cover$imageUrls$cove?void 0:_cover$imageUrls$cove.url})),coveredMaterials=materials.map(mergeMaterialsAndCovers),_context.abrupt("return",coveredMaterials.filter((function(material){return material.cover})));case 16:case"end":return _context.stop()}}),_callee)}))),_getRelatedMaterials.apply(this,arguments)}function stringToArray(string){return replace_default()(string,"\\,","\n").split(/,/).map((function(part){return replace_default()(part,"\n",",")})).map((function(part){return part.trim()})).filter((function(part){return part}))}function searchClause(index,values){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},allOptions=_objectSpread({operator:"or",negate:!1},options),valuesString=values.map((function(subject){return'"'.concat(subject,'"')})).join(" ".concat(allOptions.operator," ")),clause="".concat(index,"=(").concat(valuesString,")");return(allOptions.negate?"not ":"")+clause}function RelatedMaterialsEntry(_ref2){var subjectString=_ref2.subjects,categoriesString=_ref2.categories,sourcesString=_ref2.sources,rawExcludeTitle=_ref2.excludeTitle,sort=_ref2.sort,rawSearchUrl=_ref2.searchUrl,materialUrl=_ref2.materialUrl,coverServiceUrl=_ref2.coverServiceUrl,titleText=_ref2.titleText,searchText=_ref2.searchText,amount=_ref2.amount,maxTries=_ref2.maxTries,agencyId=_ref2.agencyId,coverClient=new CoverService.a({baseUrl:coverServiceUrl}),includes=[];if(subjectString){var subjects=stringToArray(subjectString);includes.push(searchClause("phrase.subject",subjects))}if(categoriesString){var categories=stringToArray(categoriesString);includes.push(searchClause("term.category",categories))}if(sourcesString){var sources=stringToArray(sourcesString);includes.push(searchClause("term.acSource",sources))}includes.length<1&&includes.push("*");var excludes=[];rawExcludeTitle&&excludes.push(searchClause("phrase.title",[rawExcludeTitle],{negate:!0}));var query=[includes.join(" and "),excludes.join(" ")].join(" ");if(agencyId){var agencyLimit=searchClause("holdingsitem.agencyid",[agencyId]);query="".concat(query," and ").concat(agencyLimit)}var searchUrl="".concat(Object(replacePlaceholders.a)({text:rawSearchUrl,placeholders:{query:encodeURI(query),sort:encodeURI(sort)}})),relatedMaterials=function useGetRelatedMaterials(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},query=_ref.query,_ref$amount=_ref.amount,amount=void 0===_ref$amount?10:_ref$amount,_ref$maxTries=_ref.maxTries,maxTries=void 0===_ref$maxTries?10:_ref$maxTries,fields=_ref.fields,sort=_ref.sort,coverClient=_ref.coverClient,initialState=Object(react.useRef)({status:"ready",tries:0,offset:0,materials:Array.from(new Array(amount)).map((function(_,index){return{id:index+1,data:void 0}}))}),_useState=Object(react.useState)({}),_useState2=slicedToArray_default()(_useState,2),relatedMaterials=_useState2[0],setRelatedMaterials=_useState2[1];Object(react.useEffect)((function(){setRelatedMaterials(initialState.current)}),[initialState,query]);var aggressiveOverhead=1.2,maxLimit=50;return Object(react.useEffect)((function(){var _relatedMaterials$mat,_relatedMaterials$mat2,missing=(null==relatedMaterials||null===(_relatedMaterials$mat=relatedMaterials.materials)||void 0===_relatedMaterials$mat||null===(_relatedMaterials$mat2=_relatedMaterials$mat.filter((function(material){return!material.data})))||void 0===_relatedMaterials$mat2?void 0:_relatedMaterials$mat2.length)||0;if(missing&&relatedMaterials.tries<maxTries){var calculatedLimit=Math.ceil(missing*(relatedMaterials.tries+1)*aggressiveOverhead),limit=Math.min(calculatedLimit,maxLimit);getRelatedMaterials({query:query,limit:limit,offset:relatedMaterials.offset,fields:fields,sort:sort,coverClient:coverClient}).then((function(response){var _related$filter,relatedMaterialsOffset=0,related=(null==relatedMaterials?void 0:relatedMaterials.materials.map((function(material){if(!material.data){var dataFilledMaterial=_objectSpread({},material,{data:response[relatedMaterialsOffset]});return relatedMaterialsOffset+=1,dataFilledMaterial}return material})))||[],finishedMaterials=(null==related||null===(_related$filter=related.filter((function(material){return material.data})))||void 0===_related$filter?void 0:_related$filter.length)||0,tries=relatedMaterials.tries+1,status=finishedMaterials>=amount||tries>=maxTries?finishedMaterials>0?"finished":"empty":"processing";setRelatedMaterials({status:status,tries:tries,offset:relatedMaterials.offset+limit,materials:"finished"===status?related.filter((function(material){return material.data})):related})})).catch((function(){setRelatedMaterials({status:"failed"})}))}}),[amount,coverClient,fields,initialState,maxTries,query,relatedMaterials,sort]),relatedMaterials}({query:query,fields:["dcTitleFull","pid","dcCreator","creator","typeBibDKType","date"],sort:sort,amount:amount,maxTries:maxTries,coverClient:coverClient});return react_default.a.createElement(related_materials,{status:relatedMaterials.status,items:relatedMaterials.materials,searchUrl:searchUrl,materialUrl:materialUrl,searchText:searchText,titleText:titleText})}RelatedMaterialsEntry.defaultProps={amount:10,maxTries:5,titleText:"Forslag med samme emner",searchText:"Søg på samme emner",sort:"date_descending",agencyId:""};var related_materials_entry=RelatedMaterialsEntry,Entry=(__webpack_require__("./src/apps/related-materials/related-materials.scss"),__webpack_exports__.default={title:"Apps/Related materials",argTypes:{amount:{control:{type:"range",min:0,max:50}},maxTries:{control:{type:"range",min:0,max:10}}}},function Template(args){return react_default.a.createElement(related_materials_entry,args)}.bind({}));Entry.args={subjects:"magi,troldmænd",categories:"børnematerialer",sources:"bibliotekskatalog,ereolen,ereolen global,comics plus,ebook central,rbdigital magazines",excludeTitle:"harry potter og fønixordenen",searchUrl:"https://lollandbib.dk/search/ting/:query?sort=:sort",materialUrl:"https://lollandbib.dk/ting/object/:pid",coverServiceUrl:"https://cover.dandigbib.org/api/v2",titleText:"Forslag",searchText:"Søg",amount:10,maxTries:5,agencyId:"736000"}},"./src/apps/related-materials/related-materials.scss":function(module,exports,__webpack_require__){var content=__webpack_require__("./node_modules/postcss-loader/src/index.js!./src/apps/related-materials/related-materials.scss");"string"==typeof content&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js")(content,options);content.locals&&(module.exports=content.locals)},"./src/apps/searchlist/searchlist.dev.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Entry",(function(){return Entry}));var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),toConsumableArray=(__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),toConsumableArray_default=__webpack_require__.n(toConsumableArray),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/slicedToArray.js"),slicedToArray_default=__webpack_require__.n(slicedToArray),alert_alert=(__webpack_require__("./node_modules/prop-types/index.js"),__webpack_require__("./node_modules/url-prop-type/build/index.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./src/components/alert/alert.jsx")),replacePlaceholders=__webpack_require__("./src/core/replacePlaceholders.js"),list_item=__webpack_require__("./src/components/list-item/list-item.jsx"),skeleton=__webpack_require__("./src/components/atoms/skeleton/skeleton.jsx"),list=__webpack_require__("./src/components/atoms/list/list.jsx"),button_button=__webpack_require__("./src/components/atoms/button/button.jsx");function SkeletonElement(_,index){return react_default.a.createElement(list_item.a,{key:index,asideClass:"ddb-searchlist__buttons",aside:react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(skeleton.a,{width:"140px",height:"50px"}),react_default.a.createElement(skeleton.a,{width:"140px",height:"50px"}))},react_default.a.createElement("div",null,react_default.a.createElement(skeleton.a,{height:"30px",width:"95px",mb:"12px"})))}function fullSearchUrl(searchUrl,query){return Object(replacePlaceholders.a)({text:searchUrl,placeholders:{query:encodeURIComponent(query)}})}function Searchlist(_ref){var searches=_ref.searches,status=_ref.status,removeButtonText=_ref.removeButtonText,searchUrl=_ref.searchUrl,emptyListText=_ref.emptyListText,errorText=_ref.errorText,onRemoveSearch=_ref.onRemoveSearch,goToSearchText=_ref.goToSearchText;return"initial"===status?react_default.a.createElement(list.a,null,Object(skeleton.b)(4).map(SkeletonElement)):"failed"===status?react_default.a.createElement(alert_alert.a,{message:errorText,type:"assertive",variant:"warning"}):"ready"===status&&0===searches.length?react_default.a.createElement(alert_alert.a,{message:emptyListText,type:"polite",variant:"info"}):react_default.a.createElement(list.a,null,searches.map((function(search){return react_default.a.createElement(list_item.a,{className:"ddb-searchlist__item",key:search.id,childrenClass:"ddb-searchlist__children",asideClass:"ddb-searchlist__buttons",aside:react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(button_button.a,{className:"ddb-searchlist__remove-button ddb-searchlist__button",onClick:function onClick(){return onRemoveSearch(search.id)},variant:"secondary",align:"center"},removeButtonText),react_default.a.createElement(button_button.a,{className:"ddb-searchlist__result-button ddb-searchlist__button",align:"center",href:fullSearchUrl(searchUrl,search.query)},goToSearchText))},react_default.a.createElement("h2",{className:"ddb-searchlist__header"},react_default.a.createElement("a",{href:fullSearchUrl(searchUrl,search.query)},search.title)))})))}Searchlist.defaultProps={status:"initial"};var searchlist=Searchlist,FollowSearches=__webpack_require__("./src/core/FollowSearches.js");function SearchlistEntry(_ref){var followSearchesUrl=_ref.followSearchesUrl,removeButtonText=_ref.removeButtonText,emptyListText=_ref.emptyListText,errorText=_ref.errorText,goToSearchText=_ref.goToSearchText,searchUrl=_ref.searchUrl,_useState=Object(react.useState)([]),_useState2=slicedToArray_default()(_useState,2),searches=_useState2[0],setSearches=_useState2[1],_useState3=Object(react.useState)("initial"),_useState4=slicedToArray_default()(_useState3,2),status=_useState4[0],setStatus=_useState4[1];function setSearchlistFailedStatus(){setStatus("failed")}function setSearchlist(result){setSearches(result),setStatus("ready")}return Object(react.useEffect)((function(){new FollowSearches.a({baseUrl:followSearchesUrl}).getSearches().then(setSearchlist).catch(setSearchlistFailedStatus)}),[followSearchesUrl]),react_default.a.createElement(searchlist,{status:status,searches:searches,onRemoveSearch:function removeSearch(id){var fallback=toConsumableArray_default()(searches);setSearches(searches.filter((function removeDeletedSearch(search){return search.id!==id}))),new FollowSearches.a({baseUrl:followSearchesUrl}).deleteSearch({searchId:id}).catch((function setDeleteSearchErrorStatus(){setSearches(fallback)}))},removeButtonText:removeButtonText,errorText:errorText,emptyListText:emptyListText,goToSearchText:goToSearchText,searchUrl:searchUrl})}SearchlistEntry.defaultProps={followSearchesUrl:"https://stage.followsearches.dandigbib.org",removeButtonText:"Fjern fra listen",emptyListText:"Ingen gemte søgninger.",errorText:"Gemte søgninger kunne ikke hentes.",goToSearchText:"Gå til søgeresultat"};var searchlist_entry=SearchlistEntry,Entry=(__webpack_require__("./src/apps/searchlist/searchlist.scss"),__webpack_exports__.default={title:"Apps/Searchlist/List"},function Template(args){return react_default.a.createElement(searchlist_entry,args)}.bind({}));Entry.args={followSearchesUrl:"https://stage.followsearches.dandigbib.org",searchUrl:"https://lollandbib.dk/search/ting/:query"}},"./src/apps/searchlist/searchlist.scss":function(module,exports,__webpack_require__){var content=__webpack_require__("./node_modules/postcss-loader/src/index.js!./src/apps/searchlist/searchlist.scss");"string"==typeof content&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js")(content,options);content.locals&&(module.exports=content.locals)},"./src/components/alert/alert.dev.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Info",(function(){return Info})),__webpack_require__.d(__webpack_exports__,"Warning",(function(){return Warning})),__webpack_require__.d(__webpack_exports__,"Success",(function(){return Success}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_alert__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/alert/alert.jsx");__webpack_exports__.default={title:"Components/Alert"};var Template=function Template(args){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_alert__WEBPACK_IMPORTED_MODULE_1__.a,args)},Info=Template.bind({}),Warning=Template.bind({});Warning.args={variant:"warning",message:"Noget gik galt"};var Success=Template.bind({});Success.args={variant:"success",message:"Det lykkedes"}},"./src/components/alert/alert.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.array.concat.js");var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_reach_alert__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/prop-types/index.js"),__webpack_require__("./node_modules/@reach/alert/es/index.js"));function Alert(_ref){var className=_ref.className,message=_ref.message,type=_ref.type,variant=_ref.variant;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_reach_alert__WEBPACK_IMPORTED_MODULE_3__.a,{className:"ddb-alert ddb-alert--".concat(variant," ").concat(className),type:type},message)}Alert.defaultProps={className:"",message:"Hov, der opstod en fejl!",type:"polite",variant:"info"},__webpack_exports__.a=Alert},"./src/components/atoms/button/button.dev.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Base",(function(){return Base})),__webpack_require__.d(__webpack_exports__,"LeftAligned",(function(){return LeftAligned})),__webpack_require__.d(__webpack_exports__,"CenterAligned",(function(){return CenterAligned}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/atoms/button/button.jsx");__webpack_exports__.default={title:"Atoms/Button"};var Base=function Template(args){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_button__WEBPACK_IMPORTED_MODULE_1__.a,args,args.children)}.bind({});function LeftAligned(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_button__WEBPACK_IMPORTED_MODULE_1__.a,{align:"left"},"Grey"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_button__WEBPACK_IMPORTED_MODULE_1__.a,{align:"left",variant:"black"},"Black"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_button__WEBPACK_IMPORTED_MODULE_1__.a,{align:"left",variant:"secondary"},"Secondary"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_button__WEBPACK_IMPORTED_MODULE_1__.a,{align:"left",variant:"charcoal"},"Charcoal"))}function CenterAligned(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_button__WEBPACK_IMPORTED_MODULE_1__.a,null,"Grey"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_button__WEBPACK_IMPORTED_MODULE_1__.a,{variant:"black"},"Black"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_button__WEBPACK_IMPORTED_MODULE_1__.a,{variant:"secondary"},"Secondary"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_button__WEBPACK_IMPORTED_MODULE_1__.a,{variant:"charcoal"},"Charcoal"))}Base.args={children:"Label",align:"center"},Base.argTypes={align:{control:{type:"inline-radio",options:["left","center","right"]}}},LeftAligned.parameters={controls:{hideNoControlsWarning:!0}},CenterAligned.parameters={controls:{hideNoControlsWarning:!0}}},"./src/components/atoms/button/button.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.array.concat.js");var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_reach_auto_id__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__("./node_modules/prop-types/index.js"),__webpack_require__("./node_modules/url-prop-type/build/index.js"),__webpack_require__("./node_modules/@reach/auto-id/es/index.js"));function Button(_ref){var className=_ref.className,type=_ref.type,href=_ref.href,variant=_ref.variant,align=_ref.align,onClick=_ref.onClick,tabIndex=_ref.tabIndex,children=_ref.children,label=_ref.label,id=_ref.id,generatedId=Object(_reach_auto_id__WEBPACK_IMPORTED_MODULE_4__.a)(id),Component=href?"a":"button";return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment,null,label&&!href&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("label",{className:"ddb-btn__label",htmlFor:generatedId},label),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Component,{id:generatedId,href:href,type:href?void 0:type,className:"ddb-reset ddb-btn ddb-btn--".concat(variant," ddb-btn--align-").concat(align," ").concat(className),onClick:href?void 0:onClick,tabIndex:tabIndex},children))}Button.defaultProps={href:void 0,className:"",variant:"grey",align:"center",onClick:void 0,tabIndex:"0",type:"button",label:void 0,id:void 0},__webpack_exports__.a=Button},"./src/components/atoms/dialog/dialog.dev.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Simple",(function(){return Simple})),__webpack_require__.d(__webpack_exports__,"Dropdown",(function(){return Dropdown}));var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/slicedToArray.js"),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_dialog__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/atoms/dialog/dialog.jsx"),_button_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/atoms/button/button.jsx");function Simple(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),_useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState,2),showDialog=_useState2[0],setShowDialog=_useState2[1],close=function close(){return setShowDialog(!1)};return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_button_button__WEBPACK_IMPORTED_MODULE_3__.a,{onClick:function open(){return setShowDialog(!0)}},"Open Dialog"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_dialog__WEBPACK_IMPORTED_MODULE_2__.a,{isOpen:showDialog,onDismiss:close},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p",null,"Hello there. I am a dialog"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_button_button__WEBPACK_IMPORTED_MODULE_3__.a,{className:"close-button",onClick:close},"Close")))}function Dropdown(){var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),_useState4=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState3,2),showDialog=_useState4[0],setShowDialog=_useState4[1],close=function close(){return setShowDialog(!1)};return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_button_button__WEBPACK_IMPORTED_MODULE_3__.a,{onClick:function open(){return setShowDialog(!0)}},"Open Dialog"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_dialog__WEBPACK_IMPORTED_MODULE_2__.a,{dropDown:!0,isOpen:showDialog,onDismiss:close},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p",null,"Hello there. I am a dialog"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_button_button__WEBPACK_IMPORTED_MODULE_3__.a,{className:"close-button",onClick:close},"Close")))}__webpack_exports__.default={title:"Atoms/Dialog"}},"./src/components/atoms/dialog/dialog.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.array.concat.js");var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_reach_dialog__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/prop-types/index.js"),__webpack_require__("./node_modules/@reach/dialog/es/index.js")),_button_button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/atoms/button/button.jsx"),_icons_cross__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/atoms/icons/cross.jsx");function Dialog(_ref){var className=_ref.className,label=_ref.label,showCloseButton=_ref.showCloseButton,children=_ref.children,onDismiss=_ref.onDismiss,dropDown=_ref.dropDown,isOpen=_ref.isOpen;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_reach_dialog__WEBPACK_IMPORTED_MODULE_3__.b,{className:"ddb-dialog__overlay",isOpen:isOpen,onDismiss:onDismiss},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_reach_dialog__WEBPACK_IMPORTED_MODULE_3__.a,{"aria-label":label,className:"ddb-dialog__content ".concat(dropDown?"ddb-dialog__content--dropdown":""," ").concat(className)},showCloseButton&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"ddb-dialog__header"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_button_button__WEBPACK_IMPORTED_MODULE_4__.a,{variant:"blank",tabIndex:"-1",onClick:onDismiss},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_icons_cross__WEBPACK_IMPORTED_MODULE_5__.a,{className:"ddb-dialog__close"}))),children))}Dialog.defaultProps={className:"",showCloseButton:!0,dropDown:!1},__webpack_exports__.a=Dialog},"./src/components/atoms/icons/cross.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.array.concat.js");var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);__webpack_require__("./node_modules/prop-types/index.js");function Cross(_ref){var className=_ref.className,variant=_ref.variant,size=_ref.size;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("svg",{height:"".concat(size,"px"),width:"".concat(size,"px"),xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",viewBox:"0 0 100 100",xmlSpace:"preserve",className:"ddb-icon ddb-icon--".concat(variant," ").concat(className)},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("g",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("path",{d:"M93.2,98.8c-1.5,0-3-0.6-4.1-1.7L2.7,11.1C0.4,8.9,0.4,5.2,2.7,3c2.3-2.3,5.9-2.3,8.2,0l86.4,85.9c2.3,2.3,2.3,5.9,0,8.2   C96.2,98.2,94.7,98.8,93.2,98.8z"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("path",{d:"M6.8,98.8c-1.5,0-3-0.6-4.1-1.7c-2.3-2.3-2.2-5.9,0-8.2L89.1,2.9c2.3-2.3,5.9-2.2,8.2,0c2.3,2.3,2.2,5.9,0,8.2L10.9,97.1   C9.7,98.2,8.3,98.8,6.8,98.8z"})))}Cross.defaultProps={variant:"grey",className:"",size:18},__webpack_exports__.a=Cross},"./src/components/atoms/list/list.dev.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"WithItems",(function(){return WithItems}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_list__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/atoms/list/list.jsx");function WithItems(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_list__WEBPACK_IMPORTED_MODULE_1__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,"Agurk"))}__webpack_exports__.default={title:"Atoms/Unordered list"}},"./src/components/atoms/list/list.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);__webpack_require__("./node_modules/prop-types/index.js");function UnorderedList(_ref){var className=_ref.className,children=_ref.children;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul",{className:"ddb-reset list ".concat(className)},children)}UnorderedList.defaultProps={className:""},__webpack_exports__.a=UnorderedList},"./src/components/atoms/skeleton/skeleton.dev.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Single",(function(){return Single})),__webpack_require__.d(__webpack_exports__,"MediaExample",(function(){return MediaExample}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_skeleton__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/atoms/skeleton/skeleton.jsx");function Single(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_skeleton__WEBPACK_IMPORTED_MODULE_1__.a,null)}function MediaExample(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_skeleton__WEBPACK_IMPORTED_MODULE_1__.a,{mb:"10px",height:"120px",width:"160px"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_skeleton__WEBPACK_IMPORTED_MODULE_1__.a,{width:"160px"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_skeleton__WEBPACK_IMPORTED_MODULE_1__.a,{width:"120px"}))}__webpack_exports__.default={title:"Atoms/Skeleton"}},"./src/components/atoms/skeleton/skeleton.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getList}));__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js");var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__),react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);__webpack_require__("./node_modules/prop-types/index.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach((function(key){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function getList(length){return Array.from(new Array(length))}function Skeleton(_ref){var Component=_ref.component,height=_ref.height,width=_ref.width,br=_ref.br,mt=_ref.mt,mb=_ref.mb,mr=_ref.mr,ml=_ref.ml,style=_ref.style;return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(Component,{className:"ddb-reset ddb-skeleton",style:_objectSpread({width:width,height:height,borderRadius:br,marginTop:mt,marginBottom:mb,marginRight:mr,marginLeft:ml},style)})}Skeleton.defaultProps={component:"div",height:"16px",width:"100%",br:"5px",mt:"5px",mb:"5px",mr:"5px",ml:"5px",style:{}},__webpack_exports__.a=Skeleton},"./src/components/atoms/textfield/textfield.dev.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Base",(function(){return Base})),__webpack_require__.d(__webpack_exports__,"Error",(function(){return Error}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_textfield__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/atoms/textfield/textfield.jsx");__webpack_exports__.default={title:"Atoms/TextField"};var Template=function Template(args){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_textfield__WEBPACK_IMPORTED_MODULE_1__.a,args)},Base=Template.bind({});Base.args={label:"Some label",defaultValue:"Value"};var Error=Template.bind({});Error.args={label:"Some label",defaultValue:"Value",error:"Something is wrong"}},"./src/components/atoms/textfield/textfield.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js");var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_reach_auto_id__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__("./node_modules/prop-types/index.js"),__webpack_require__("./node_modules/@reach/auto-id/es/index.js")),_reach_alert__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@reach/alert/es/index.js"),_icons_cross__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/atoms/icons/cross.jsx"),TextField=react__WEBPACK_IMPORTED_MODULE_2___default.a.forwardRef((function(_ref,ref){var labelClass=_ref.labelClass,containerClass=_ref.containerClass,inputClass=_ref.inputClass,hideLabel=_ref.hideLabel,label=_ref.label,placeholder=_ref.placeholder,id=_ref.id,defaultValue=_ref.defaultValue,name=_ref.name,value=_ref.value,required=_ref.required,onChange=_ref.onChange,error=_ref.error,generatedId=Object(_reach_auto_id__WEBPACK_IMPORTED_MODULE_4__.a)(id);return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label",{htmlFor:generatedId,className:"ddb-reset ddb-textfield__label ".concat(hideLabel?"ddb-textfield__label--hidden":""," ").concat(labelClass)},label),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"ddb-textfield__container ".concat(containerClass)},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"ddb-textfield__action"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{id:generatedId,name:name,ref:ref,defaultValue:defaultValue,type:"text",className:"ddb-reset ddb-textfield__input ".concat(error?"ddb-textfield__input--error":""," ").concat(inputClass),value:value,placeholder:placeholder||label,onChange:onChange,required:required}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"ddb-textfield__icon"},error&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_icons_cross__WEBPACK_IMPORTED_MODULE_6__.a,{variant:"red"}))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"ddb-textfield__error"},error&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_reach_alert__WEBPACK_IMPORTED_MODULE_5__.a,{type:"polite"},error))))}));TextField.defaultProps={inputClass:"",containerClass:"",labelClass:"",error:!1,id:void 0,value:void 0,defaultValue:"",placeholder:void 0,onChange:void 0,hideLabel:!0,required:!1},__webpack_exports__.a=TextField},"./src/components/components.scss":function(module,exports,__webpack_require__){var content=__webpack_require__("./node_modules/postcss-loader/src/index.js!./src/components/components.scss");"string"==typeof content&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js")(content,options);content.locals&&(module.exports=content.locals)},"./src/components/cover/cover.dev.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Base",(function(){return Base})),__webpack_require__.d(__webpack_exports__,"Initial",(function(){return Initial}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_cover__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/cover/cover.jsx");__webpack_exports__.default={title:"Atoms/Cover"};var Template=function Template(args){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_cover__WEBPACK_IMPORTED_MODULE_1__.c,args)},Base=Template.bind({});Base.args={status:"retrieved",src:"https://upload.wikimedia.org/wikipedia/en/7/7f/Star_Wars_The_Last_Jedi.jpg",alt:"Value",className:"",coverClassName:""};var Initial=Template.bind({});Initial.args={status:"initial",alt:"Loading...",coverClassName:""}},"./src/components/cover/cover.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return COVER_EMPTY})),__webpack_require__.d(__webpack_exports__,"d",(function(){return useCover})),__webpack_require__.d(__webpack_exports__,"b",(function(){return CoverSkeleton}));var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/slicedToArray.js"),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_core_CoverService__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__("./node_modules/prop-types/index.js"),__webpack_require__("./node_modules/url-prop-type/build/index.js"),__webpack_require__("./src/core/CoverService.js")),_atoms_skeleton_skeleton__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/atoms/skeleton/skeleton.jsx"),COVER_EMPTY="empty";function useCover(_ref){var id=_ref.id,_ref$size=_ref.size,size=void 0===_ref$size?"default":_ref$size,_ref$idType=_ref.idType,idType=void 0===_ref$idType?"pid":_ref$idType,_ref$coverServiceUrl=_ref.coverServiceUrl,coverServiceUrl=void 0===_ref$coverServiceUrl?"https://cover.dandigbib.org/api/v2":_ref$coverServiceUrl,_useState=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)({status:"initial"}),_useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState,2),status=_useState2[0],setStatus=_useState2[1];return Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){new _core_CoverService__WEBPACK_IMPORTED_MODULE_4__.a({baseUrl:coverServiceUrl}).getCover({id:id,size:[size],idType:idType}).then((function(covers){var _covers$,_covers$$imageUrls,_covers$$imageUrls$si,url=null==covers||null===(_covers$=covers[0])||void 0===_covers$||null===(_covers$$imageUrls=_covers$.imageUrls)||void 0===_covers$$imageUrls||null===(_covers$$imageUrls$si=_covers$$imageUrls[size])||void 0===_covers$$imageUrls$si?void 0:_covers$$imageUrls$si.url;setStatus({status:url?"retrieved":COVER_EMPTY,url:url})})).catch((function(){return setStatus({status:COVER_EMPTY})}))}),[id,size,idType,coverServiceUrl]),status||{status:COVER_EMPTY}}function CoverSkeleton(_ref2){var className=_ref2.className;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_atoms_skeleton_skeleton__WEBPACK_IMPORTED_MODULE_5__.a,{className:className,br:"0px",mb:"0px",mt:"0px",height:"154px",width:"100px"})}function Cover(_ref3){var status=_ref3.status,src=_ref3.src,alt=_ref3.alt,coverClassName=_ref3.coverClassName,className=_ref3.className;return"initial"===status?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(CoverSkeleton,{className:coverClassName}):status===COVER_EMPTY?null:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("img",{className:className,src:src,alt:alt})}CoverSkeleton.defaultProps={className:""},Cover.defaultProps={status:"initial",src:null,coverClassName:"",className:""},__webpack_exports__.c=Cover},"./src/components/design-system/_colors.dev.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Bases",(function(){return Bases})),__webpack_require__.d(__webpack_exports__,"Alternatives",(function(){return Alternatives})),__webpack_require__.d(__webpack_exports__,"Text",(function(){return Text}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);__webpack_require__("./src/components/design-system/_colors.dev.scss");function Bases(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"ddb-color-example-container"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{title:"primary",className:"ddb-color-example ddb-color-example--primary-base"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{title:"secondary",className:"ddb-color-example ddb-color-example--secondary-base"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{title:"black",className:"ddb-color-example ddb-color-example--black-base"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{title:"charcoal",className:"ddb-color-example ddb-color-example--charcoal-base"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{title:"white",className:"ddb-color-example ddb-color-example--white-base"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{title:"grey",className:"ddb-color-example ddb-color-example--grey-base"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{title:"green",className:"ddb-color-example ddb-color-example--green-base"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{title:"red",className:"ddb-color-example ddb-color-example--red-base"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{title:"yellow",className:"ddb-color-example ddb-color-example--yellow-base"}))}function Alternatives(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"ddb-color-example-container"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{title:"black, overlay",className:"ddb-color-example ddb-color-example--black-overlay"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{title:"black, overlay-dark",className:"ddb-color-example ddb-color-example--black-overlay-dark"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{title:"charcoal, opacity-dark",className:"ddb-color-example ddb-color-example--charcoal-opacity-dark"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{title:"charcoal, opacity-light",className:"ddb-color-example ddb-color-example--charcoal-opacity-light"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{title:"white, opacity-dark",className:"ddb-color-example ddb-color-example--white-opacity-dark"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{title:"white, opacity-light",className:"ddb-color-example ddb-color-example--white-opacity-light"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{title:"grey, light",className:"ddb-color-example ddb-color-example--grey-light"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{title:"grey, medium",className:"ddb-color-example ddb-color-example--grey-medium"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{title:"grey, dark",className:"ddb-color-example ddb-color-example--grey-dark"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{title:"grey, darker",className:"ddb-color-example ddb-color-example--grey-darker"}))}function Text(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"ddb-color-example-container"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",{title:"primary, text",className:"ddb-color-example-text ddb-color-example-text--primary-text"},"primary, text"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",{title:"secondary, text",className:"ddb-color-example-text ddb-color-example-text--secondary-text"},"secondary, text"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",{title:"green, text",className:"ddb-color-example-text ddb-color-example-text--green-text"},"green, text"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",{title:"red, text",className:"ddb-color-example-text ddb-color-example-text--red-text"},"red, text"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",{title:"yellow, text",className:"ddb-color-example-text ddb-color-example-text--yellow-text"},"yellow, text"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",{title:"text",className:"ddb-color-example-text ddb-color-example-text--text"},"text"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",{title:"text, standard",className:"ddb-color-example-text ddb-color-example-text--text-standard"},"text, standard"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",{title:"link",className:"ddb-color-example-text ddb-color-example-text--link"},"link"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",{title:"link, dark",className:"ddb-color-example-text ddb-color-example-text--link-dark"},"link, dark"))}__webpack_exports__.default={title:"Design system/Colors"}},"./src/components/design-system/_colors.dev.scss":function(module,exports,__webpack_require__){var content=__webpack_require__("./node_modules/postcss-loader/src/index.js!./src/components/design-system/_colors.dev.scss");"string"==typeof content&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js")(content,options);content.locals&&(module.exports=content.locals)},"./src/components/list-item/list-item.dev.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Base",(function(){return Base}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_list_item__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/list-item/list-item.jsx");function Base(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_list_item__WEBPACK_IMPORTED_MODULE_1__.a,{aside:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"aside")},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",null,"children")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_list_item__WEBPACK_IMPORTED_MODULE_1__.a,{aside:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"aside")},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",null,"children")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_list_item__WEBPACK_IMPORTED_MODULE_1__.a,{aside:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"aside")},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",null,"children")))}__webpack_exports__.default={title:"Components/List Item"}},"./src/components/list-item/list-item.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);__webpack_require__("./node_modules/prop-types/index.js");function ListItem(_ref){var className=_ref.className,children=_ref.children,childrenClass=_ref.childrenClass,aside=_ref.aside,asideClass=_ref.asideClass;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",{className:"ddb-list-item ".concat(className)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("article",{className:"ddb-list-item__children ".concat(childrenClass)},children),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("aside",{className:"ddb-list-item__aside ".concat(asideClass)},aside))}ListItem.defaultProps={className:"",childrenClass:"",asideClass:""},__webpack_exports__.a=ListItem},"./src/components/simple-material/simple-material.dev.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Base",(function(){return Base}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_simple_material__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/simple-material/simple-material.jsx");__webpack_exports__.default={title:"Components/Simple Material"};var Base=function Template(args){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_simple_material__WEBPACK_IMPORTED_MODULE_1__.b,args)}.bind({});Base.args={item:{creators:["Pablo Hidalgo"],pid:"870970-basis:52836913",title:"Star wars - Rogue One : ultimativ illustreret guide",type:"Bog",year:"2016"},coverSize:"small",ofText:"Af",materialUrl:"https://lollandbib.dk/ting/object/:pid",authorUrl:'https://lollandbib.dk/search/ting/phrase.creator=":author"',coverServiceUrl:"https://cover.dandigbib.org/api/v2"}},"./src/components/simple-material/simple-material.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SimpleMaterialSkeleton}));__webpack_require__("./node_modules/core-js/modules/es.array.map.js");var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_core_replacePlaceholders__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__("./node_modules/prop-types/index.js"),__webpack_require__("./node_modules/url-prop-type/build/index.js"),__webpack_require__("./src/core/replacePlaceholders.js")),_atoms_skeleton_skeleton__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/atoms/skeleton/skeleton.jsx"),_cover_cover__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/cover/cover.jsx");function SimpleMaterialSkeleton(_ref){var style=_ref.style;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"ddb-simple-material-skeleton",style:style},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("figure",{className:"ddb-reset"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_cover_cover__WEBPACK_IMPORTED_MODULE_6__.b,null)),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_atoms_skeleton_skeleton__WEBPACK_IMPORTED_MODULE_5__.a,{width:"45px",mb:"12px"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_atoms_skeleton_skeleton__WEBPACK_IMPORTED_MODULE_5__.a,{width:"145px",mb:"12px"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_atoms_skeleton_skeleton__WEBPACK_IMPORTED_MODULE_5__.a,{width:"95px"})))}function SimpleMaterial(_ref2){var item=_ref2.item,coverSize=_ref2.coverSize,materialUrl=_ref2.materialUrl,authorUrl=_ref2.authorUrl,coverServiceUrl=_ref2.coverServiceUrl,ofText=_ref2.ofText,className=_ref2.className,dataClass=_ref2.dataClass,style=_ref2.style,cover=Object(_cover_cover__WEBPACK_IMPORTED_MODULE_6__.d)({id:item.pid,size:coverSize,coverServiceUrl:coverServiceUrl});return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("section",{className:"ddb-simple-material ".concat(className),style:style},cover.status!==_cover_cover__WEBPACK_IMPORTED_MODULE_6__.a&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("figure",{className:"ddb-simple-material__cover"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{href:Object(_core_replacePlaceholders__WEBPACK_IMPORTED_MODULE_4__.a)({text:materialUrl,placeholders:{pid:encodeURIComponent(item.pid)}})},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_cover_cover__WEBPACK_IMPORTED_MODULE_6__.c,{status:cover.status,src:cover.url,alt:item.title}))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"ddb-simple-material__data ".concat(dataClass)},item.type&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",{className:"ddb-simple-material__type"},item.type),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{href:Object(_core_replacePlaceholders__WEBPACK_IMPORTED_MODULE_4__.a)({text:materialUrl,placeholders:{pid:encodeURIComponent(item.pid)}})},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h2",{className:"ddb-simple-material__title"},item.title)),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p",{className:"ddb-simple-material__author-year"},item.creators&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",{className:"ddb-simple-material__author"},"".concat(ofText," "),item.creators.map((function(creator,index){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",{key:creator},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{href:Object(_core_replacePlaceholders__WEBPACK_IMPORTED_MODULE_4__.a)({text:authorUrl,placeholders:{author:encodeURIComponent(creator)}})},creator),item.creators[index+1]?", ":" ")}))),item.year&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("time",{dateTime:item.year,className:"ddb-simple-material__year"},"(",item.year,")"))))}SimpleMaterialSkeleton.defaultProps={style:{}},SimpleMaterial.defaultProps={coverSize:"small",ofText:"Af",className:"",dataClass:"",style:{}},__webpack_exports__.b=SimpleMaterial},"./src/core/CoverService.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js");var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__("./node_modules/regenerator-runtime/runtime.js"),__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js"),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js"),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__),unfetch__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/unfetch/dist/unfetch.mjs"),_token__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/core/token.js"),CoverService=function(){function CoverService(_ref){var baseUrl=_ref.baseUrl;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this,CoverService),this.baseUrl=baseUrl}var _getCover;return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(CoverService,[{key:"getCover",value:(_getCover=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark((function _callee(_ref2){var id,_ref2$idType,idType,_ref2$size,size,ids,base,withId,formattedSize,url,raw;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(id=_ref2.id,_ref2$idType=_ref2.idType,idType=void 0===_ref2$idType?"pid":_ref2$idType,_ref2$size=_ref2.size,size=void 0===_ref2$size?["default"]:_ref2$size,id){_context.next=3;break}throw Error("id must be specified");case 3:if(0!==(ids=Array.isArray(id)?id:[id]).length){_context.next=6;break}return _context.abrupt("return",[]);case 6:return base="".concat(this.baseUrl,"/covers"),withId="".concat(base,"?type=").concat(idType,"&identifiers=").concat(ids.map(encodeURIComponent).join(",")),formattedSize=size.join(","),url="".concat(withId,"&sizes=").concat(formattedSize),_context.next=12,Object(unfetch__WEBPACK_IMPORTED_MODULE_8__.a)(url,{headers:{Accept:"application/json",Authorization:"Bearer ".concat(Object(_token__WEBPACK_IMPORTED_MODULE_9__.c)("library"))}});case 12:if(200===(raw=_context.sent).status){_context.next=15;break}throw Error(raw.status);case 15:return _context.abrupt("return",raw.json());case 16:case"end":return _context.stop()}}),_callee,this)}))),function getCover(_x){return _getCover.apply(this,arguments)})}]),CoverService}();__webpack_exports__.a=CoverService},"./src/core/FollowSearches.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js");var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./node_modules/regenerator-runtime/runtime.js"),__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js"),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js"),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_8__),unfetch__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/unfetch/dist/unfetch.mjs"),_token__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/core/token.js"),FollowSearches=function(){function FollowSearches(_ref){var baseUrl=_ref.baseUrl;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7___default()(this,FollowSearches),this.baseUrl=baseUrl}var _deleteSearch,_getResultsForSearch,_addSearch,_getSearches;return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_8___default()(FollowSearches,[{key:"getSearches",value:(_getSearches=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function _callee(){var _ref2,_ref2$listName,listName,page,size,query,raw,_args=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_ref2=_args.length>0&&void 0!==_args[0]?_args[0]:{},_ref2$listName=_ref2.listName,listName=void 0===_ref2$listName?"default":_ref2$listName,page=_ref2.page,size=_ref2.size,listName){_context.next=3;break}throw Error("listName must be provided.");case 3:return query=[page&&"page=".concat(page),size&&"size=".concat(size)].filter((function(parameter){return parameter})).join("&"),_context.next=6,Object(unfetch__WEBPACK_IMPORTED_MODULE_9__.a)("".concat(this.baseUrl,"/list/").concat(listName).concat(query?"?".concat(query):""),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(Object(_token__WEBPACK_IMPORTED_MODULE_10__.c)("user"))}});case 6:if(200===(raw=_context.sent).status){_context.next=9;break}throw Error(raw.status);case 9:return _context.abrupt("return",raw.json());case 10:case"end":return _context.stop()}}),_callee,this)}))),function getSearches(){return _getSearches.apply(this,arguments)})},{key:"addSearch",value:(_addSearch=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function _callee2(){var _ref3,_ref3$listName,listName,query,title,response,_args2=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(_ref3=_args2.length>0&&void 0!==_args2[0]?_args2[0]:{},_ref3$listName=_ref3.listName,listName=void 0===_ref3$listName?"default":_ref3$listName,query=_ref3.query,title=_ref3.title,query){_context2.next=3;break}throw Error("query must be provided.");case 3:if(title){_context2.next=5;break}throw Error("title must be provided");case 5:return _context2.next=7,Object(unfetch__WEBPACK_IMPORTED_MODULE_9__.a)("".concat(this.baseUrl,"/list/").concat(listName,"/add"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Object(_token__WEBPACK_IMPORTED_MODULE_10__.c)("user"))},body:JSON.stringify({title:title,query:query})});case 7:if(201===(response=_context2.sent).status){_context2.next=10;break}throw Error(response.status);case 10:case"end":return _context2.stop()}}),_callee2,this)}))),function addSearch(){return _addSearch.apply(this,arguments)})},{key:"getResultsForSearch",value:(_getResultsForSearch=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function _callee3(){var _ref4,_ref4$listName,listName,searchId,_ref4$fields,fields,formattedFields,raw,response,_args3=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(_ref4=_args3.length>0&&void 0!==_args3[0]?_args3[0]:{},_ref4$listName=_ref4.listName,listName=void 0===_ref4$listName?"default":_ref4$listName,searchId=_ref4.searchId,_ref4$fields=_ref4.fields,fields=void 0===_ref4$fields?["pid","dcTitleFull"]:_ref4$fields,searchId){_context3.next=3;break}throw Error("searchId must be provided");case 3:return formattedFields=fields.map(encodeURIComponent).join(","),_context3.next=6,Object(unfetch__WEBPACK_IMPORTED_MODULE_9__.a)("".concat(this.baseUrl,"/list/").concat(listName,"/").concat(searchId,"?fields=").concat(formattedFields),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(Object(_token__WEBPACK_IMPORTED_MODULE_10__.c)("user"))}});case 6:if(200===(raw=_context3.sent).status){_context3.next=9;break}throw Error(raw.status);case 9:return _context3.next=11,raw.json();case 11:return response=_context3.sent,_context3.abrupt("return",response.materials);case 13:case"end":return _context3.stop()}}),_callee3,this)}))),function getResultsForSearch(){return _getResultsForSearch.apply(this,arguments)})},{key:"deleteSearch",value:(_deleteSearch=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function _callee4(_ref5){var _ref5$listName,listName,searchId,response;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(_ref5$listName=_ref5.listName,listName=void 0===_ref5$listName?"default":_ref5$listName,searchId=_ref5.searchId){_context4.next=3;break}throw Error("searchId must be provided");case 3:return _context4.next=5,Object(unfetch__WEBPACK_IMPORTED_MODULE_9__.a)("".concat(this.baseUrl,"/list/").concat(listName,"/").concat(searchId),{method:"DELETE",headers:{Authorization:"Bearer ".concat(Object(_token__WEBPACK_IMPORTED_MODULE_10__.c)("user"))}});case 5:if(204===(response=_context4.sent).status){_context4.next=8;break}throw Error(response.status);case 8:case"end":return _context4.stop()}}),_callee4,this)}))),function deleteSearch(_x){return _deleteSearch.apply(this,arguments)})}]),FollowSearches}();__webpack_exports__.a=FollowSearches},"./src/core/Material.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js");var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js"),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js"),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_8__);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var Material=function(){function Material(){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7___default()(this,Material)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_8___default()(Material,null,[{key:"format",value:function format(raw){var _raw$pid,_raw$dcTitleFull,_raw$typeBibDKType,_raw$date;return function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach((function(key){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},raw,{pid:null===(_raw$pid=raw.pid)||void 0===_raw$pid?void 0:_raw$pid[0],creators:raw.dcCreator?raw.dcCreator:raw.creator,title:null===(_raw$dcTitleFull=raw.dcTitleFull)||void 0===_raw$dcTitleFull?void 0:_raw$dcTitleFull[0],type:null===(_raw$typeBibDKType=raw.typeBibDKType)||void 0===_raw$typeBibDKType?void 0:_raw$typeBibDKType[0],year:null===(_raw$date=raw.date)||void 0===_raw$date?void 0:_raw$date[0]})}}]),Material}();__webpack_exports__.a=Material},"./src/core/MaterialList.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.array.concat.js");var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/regenerator-runtime/runtime.js"),__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js"),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js"),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__),unfetch__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/unfetch/dist/unfetch.mjs"),_token__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/core/token.js"),MaterialList=function(){function MaterialList(_ref){var baseUrl=_ref.baseUrl;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default()(this,MaterialList),this.baseUrl=baseUrl}var _deleteListMaterial,_addListMaterial,_checkListMaterial,_getList;return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default()(MaterialList,[{key:"getList",value:(_getList=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(){var listId,raw,response,_args=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return listId=_args.length>0&&void 0!==_args[0]?_args[0]:"default",_context.next=3,Object(unfetch__WEBPACK_IMPORTED_MODULE_6__.a)("".concat(this.baseUrl,"/list/").concat(listId),{headers:{Accept:"application/json",Authorization:"Bearer ".concat(Object(_token__WEBPACK_IMPORTED_MODULE_7__.c)("user"))}});case 3:if(200===(raw=_context.sent).status){_context.next=6;break}throw Error(raw.status);case 6:return _context.next=8,raw.json();case 8:return response=_context.sent,_context.abrupt("return",response.materials);case 10:case"end":return _context.stop()}}),_callee,this)}))),function getList(){return _getList.apply(this,arguments)})},{key:"checkListMaterial",value:(_checkListMaterial=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee2(){var _ref2,_ref2$listId,listId,materialId,response,_args2=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(_ref2=_args2.length>0&&void 0!==_args2[0]?_args2[0]:{},_ref2$listId=_ref2.listId,listId=void 0===_ref2$listId?"default":_ref2$listId,materialId=_ref2.materialId){_context2.next=3;break}throw Error("materialId must be specified");case 3:return _context2.next=5,Object(unfetch__WEBPACK_IMPORTED_MODULE_6__.a)("".concat(this.baseUrl,"/list/").concat(listId,"/").concat(materialId),{method:"HEAD",headers:{Authorization:"Bearer ".concat(Object(_token__WEBPACK_IMPORTED_MODULE_7__.c)("user"))}});case 5:if(200===(response=_context2.sent).status||404===response.status){_context2.next=8;break}throw Error(response.status);case 8:return _context2.abrupt("return",200===response.status);case 9:case"end":return _context2.stop()}}),_callee2,this)}))),function checkListMaterial(){return _checkListMaterial.apply(this,arguments)})},{key:"addListMaterial",value:(_addListMaterial=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee3(){var _ref3,_ref3$listId,listId,materialId,response,_args3=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(_ref3=_args3.length>0&&void 0!==_args3[0]?_args3[0]:{},_ref3$listId=_ref3.listId,listId=void 0===_ref3$listId?"default":_ref3$listId,materialId=_ref3.materialId){_context3.next=3;break}throw Error("materialId must be specified");case 3:return _context3.next=5,Object(unfetch__WEBPACK_IMPORTED_MODULE_6__.a)("".concat(this.baseUrl,"/list/").concat(listId,"/").concat(materialId),{method:"PUT",headers:{Authorization:"Bearer ".concat(Object(_token__WEBPACK_IMPORTED_MODULE_7__.c)("user"))}});case 5:if(201===(response=_context3.sent).status){_context3.next=8;break}throw Error(response.status);case 8:case"end":return _context3.stop()}}),_callee3,this)}))),function addListMaterial(){return _addListMaterial.apply(this,arguments)})},{key:"deleteListMaterial",value:(_deleteListMaterial=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee4(){var _ref4,_ref4$listId,listId,materialId,response,_args4=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(_ref4=_args4.length>0&&void 0!==_args4[0]?_args4[0]:{},_ref4$listId=_ref4.listId,listId=void 0===_ref4$listId?"default":_ref4$listId,materialId=_ref4.materialId){_context4.next=3;break}throw Error("materialId must be specified");case 3:return _context4.next=5,Object(unfetch__WEBPACK_IMPORTED_MODULE_6__.a)("".concat(this.baseUrl,"/list/").concat(listId,"/").concat(materialId),{method:"DELETE",headers:{Authorization:"Bearer ".concat(Object(_token__WEBPACK_IMPORTED_MODULE_7__.c)("user"))}});case 5:if(204===(response=_context4.sent).status){_context4.next=8;break}throw Error(response.status);case 8:case"end":return _context4.stop()}}),_callee4,this)}))),function deleteListMaterial(){return _deleteListMaterial.apply(this,arguments)})}]),MaterialList}();__webpack_exports__.a=MaterialList},"./src/core/OpenPlatform.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js");var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/@babel/runtime/helpers/slicedToArray.js"),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16__),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_17__),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_18__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_19__),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_21__=(__webpack_require__("./node_modules/regenerator-runtime/runtime.js"),__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_21__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js"),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_22__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js"),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_23__),lodash_chunk__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./node_modules/lodash/chunk.js"),lodash_chunk__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(lodash_chunk__WEBPACK_IMPORTED_MODULE_24__),lodash_isEmpty__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("./node_modules/lodash/isEmpty.js"),lodash_isEmpty__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_25__),unfetch__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./node_modules/unfetch/dist/unfetch.mjs"),_token__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("./src/core/token.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach((function(key){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_19___default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function formatUrlArray(){var items=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return"".concat(items.map(encodeURIComponent).join(","),",")}var OpenPlatform=function(){function OpenPlatform(){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_22___default()(this,OpenPlatform),this.baseUrl="https://openplatform.dbc.dk/v3"}var _search,_getBranch,_getLibraries,_getUser,_orderMaterial,_canBeOrdered,_getAvailability,_getWork,_request;return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_23___default()(OpenPlatform,[{key:"request",value:(_request=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_21___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_18___default.a.mark((function _callee(path){var options,defaults,rawResponse,response,_args=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_18___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return options=_args.length>1&&void 0!==_args[1]?_args[1]:{},defaults={headers:{Accept:"application/json"}},_context.next=4,Object(unfetch__WEBPACK_IMPORTED_MODULE_26__.a)("".concat(this.baseUrl,"/").concat(path),_objectSpread({},defaults,{},options));case 4:return rawResponse=_context.sent,_context.next=7,rawResponse.json();case 7:if(200===(response=_context.sent).statusCode){_context.next=10;break}throw Error(response.error);case 10:if(response.data){_context.next=12;break}throw Error("data not found");case 12:return _context.abrupt("return",response.data);case 13:case"end":return _context.stop()}}),_callee,this)}))),function request(_x){return _request.apply(this,arguments)})},{key:"getWork",value:(_getWork=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_21___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_18___default.a.mark((function _callee2(){var _ref,_ref$pids,pids,_ref$fields,fields,pidLimit,responses,formattedPids,formattedFields,token,works,_this=this,_args2=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_18___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(_ref=_args2.length>0&&void 0!==_args2[0]?_args2[0]:{},_ref$pids=_ref.pids,pids=void 0===_ref$pids?[]:_ref$pids,_ref$fields=_ref.fields,fields=void 0===_ref$fields?["title"]:_ref$fields,pidLimit=20,!(pids.length>pidLimit)){_context2.next=5;break}return responses=lodash_chunk__WEBPACK_IMPORTED_MODULE_24___default()(pids,pidLimit).map((function(pidChunk){return _this.getWork({pids:pidChunk,fields:fields})})),_context2.abrupt("return",Promise.all(responses).then((function(results){var _ref2;return(_ref2=[]).concat.apply(_ref2,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_17___default()(results))})));case 5:return formattedPids=formatUrlArray(pids),formattedFields=fields.map(encodeURIComponent).join(","),token=Object(_token__WEBPACK_IMPORTED_MODULE_27__.c)("library"),_context2.next=10,this.request("work?access_token=".concat(token,"&fields=").concat(formattedFields,"&pids=").concat(formattedPids));case 10:return works=_context2.sent,_context2.abrupt("return",works.filter((function(result){return!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_25___default()(result)})));case 12:case"end":return _context2.stop()}}),_callee2,this)}))),function getWork(){return _getWork.apply(this,arguments)})},{key:"getAvailability",value:(_getAvailability=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_21___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_18___default.a.mark((function _callee3(_ref3){var _ref3$pids,pids,_ref3$fields,fields,formattedPids,formattedFields,token;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_18___default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _ref3$pids=_ref3.pids,pids=void 0===_ref3$pids?[]:_ref3$pids,_ref3$fields=_ref3.fields,fields=void 0===_ref3$fields?["expectedDelivery","orderPossible","willLend"]:_ref3$fields,formattedPids=formatUrlArray(pids),formattedFields=fields.map(encodeURIComponent).join(","),token=Object(_token__WEBPACK_IMPORTED_MODULE_27__.c)("library"),_context3.abrupt("return",this.request("availability?access_token=".concat(token,"&fields=").concat(formattedFields,"&pids=").concat(formattedPids)));case 5:case"end":return _context3.stop()}}),_callee3,this)}))),function getAvailability(_x2){return _getAvailability.apply(this,arguments)})},{key:"canBeOrdered",value:(_canBeOrdered=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_21___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_18___default.a.mark((function _callee4(pids){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_18___default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",this.getAvailability({pids:pids}).then((function(response){return response.some((function(orderStat){return orderStat.willLend&&orderStat.orderPossible}))})));case 1:case"end":return _context4.stop()}}),_callee4,this)}))),function canBeOrdered(_x3){return _canBeOrdered.apply(this,arguments)})},{key:"orderMaterial",value:(_orderMaterial=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_21___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_18___default.a.mark((function _callee5(_ref4){var _ref4$pids,pids,_ref4$pickupBranch,pickupBranch,_ref4$expires,expires,parameters,body,_ref5,_ref6,user,constructOrderParameter;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_18___default.a.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return constructOrderParameter=function _ref7(parameter){switch(parameter){case"userId":case"pincode":break;case"name":parameters.push("name=".concat(user.name)),body.name=user.name;break;case"address":parameters.push("address=".concat(user.address)),body.address=user.address;break;case"email":parameters.push("email=".concat(user.mail)),body.email=user.mail;break;case"phone":parameters.push("phone=12345678"),body.phone="12345678"}},_ref4$pids=_ref4.pids,pids=void 0===_ref4$pids?[]:_ref4$pids,_ref4$pickupBranch=_ref4.pickupBranch,pickupBranch=void 0===_ref4$pickupBranch?null:_ref4$pickupBranch,_ref4$expires=_ref4.expires,expires=void 0===_ref4$expires?null:_ref4$expires,parameters=["access_token=".concat(Object(_token__WEBPACK_IMPORTED_MODULE_27__.c)("user")),"orderType=normal","expires=".concat(expires),'pickUpBranch="'.concat(pickupBranch,'"')],body={orderType:"normal",expires:expires,pickUpBranch:pickupBranch},parameters.push("pids=".concat(formatUrlArray(pids))),body.pids=pids,_context5.next=8,Promise.all([this.getUser(),this.getBranch(pickupBranch)]);case 8:return _ref5=_context5.sent,_ref6=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16___default()(_ref5,2),user=_ref6[0],_ref6[1].orderParameters.forEach(constructOrderParameter),_context5.abrupt("return",this.request("order?".concat(parameters.join("&")),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(body)}));case 14:case"end":return _context5.stop()}}),_callee5,this)}))),function orderMaterial(_x4){return _orderMaterial.apply(this,arguments)})},{key:"getUser",value:(_getUser=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_21___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_18___default.a.mark((function _callee6(){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_18___default.a.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.abrupt("return",this.request("user?access_token=".concat(Object(_token__WEBPACK_IMPORTED_MODULE_27__.c)("user"))));case 1:case"end":return _context6.stop()}}),_callee6,this)}))),function getUser(){return _getUser.apply(this,arguments)})},{key:"getLibraries",value:(_getLibraries=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_21___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_18___default.a.mark((function _callee7(_ref8){var _ref8$agencyIds,agencyIds,_ref8$branchIds,branchIds,parameters;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_18___default.a.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _ref8$agencyIds=_ref8.agencyIds,agencyIds=void 0===_ref8$agencyIds?[]:_ref8$agencyIds,_ref8$branchIds=_ref8.branchIds,branchIds=void 0===_ref8$branchIds?[]:_ref8$branchIds,parameters=["access_token=".concat(Object(_token__WEBPACK_IMPORTED_MODULE_27__.c)("library"))],agencyIds.length>0&&parameters.push("agencyIds=".concat(formatUrlArray(agencyIds))),branchIds.length>0&&parameters.push("branchIds=".concat(formatUrlArray(branchIds))),_context7.abrupt("return",this.request("libraries?".concat(parameters.join("&"))));case 5:case"end":return _context7.stop()}}),_callee7,this)}))),function getLibraries(_x5){return _getLibraries.apply(this,arguments)})},{key:"getBranch",value:(_getBranch=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_21___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_18___default.a.mark((function _callee8(branchId){var branches;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_18___default.a.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,this.getLibraries({branchIds:[branchId]});case 2:if(!((branches=_context8.sent).length<1)){_context8.next=5;break}throw Error("branch not found");case 5:return _context8.abrupt("return",branches[0]);case 6:case"end":return _context8.stop()}}),_callee8,this)}))),function getBranch(_x6){return _getBranch.apply(this,arguments)})},{key:"search",value:(_search=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_21___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_18___default.a.mark((function _callee9(query){var _ref9,_ref9$offset,offset,limit,sort,fields,parameters,_args9=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_18___default.a.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _ref9=_args9.length>1&&void 0!==_args9[1]?_args9[1]:{},_ref9$offset=_ref9.offset,offset=void 0===_ref9$offset?0:_ref9$offset,limit=_ref9.limit,sort=_ref9.sort,fields=_ref9.fields,parameters=[],limit&&parameters.push("limit=".concat(limit)),sort&&parameters.push("sort=".concat(sort)),fields&&parameters.push("fields=".concat(formatUrlArray(fields))),_context9.abrupt("return",this.request("search?access_token=".concat(Object(_token__WEBPACK_IMPORTED_MODULE_27__.c)("library"),"&q=").concat(encodeURIComponent(query),"&offset=").concat(offset,"&").concat(parameters.join("&"))));case 6:case"end":return _context9.stop()}}),_callee9,this)}))),function search(_x7){return _search.apply(this,arguments)})}]),OpenPlatform}();__webpack_exports__.a=OpenPlatform},"./src/core/replacePlaceholders.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js");__webpack_exports__.a=function replacePlaceholders(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$text=_ref.text,text=void 0===_ref$text?"":_ref$text,_ref$placeholders=_ref.placeholders,placeholders=void 0===_ref$placeholders?{}:_ref$placeholders;function replaceTag(acc,placeholder){return acc.replace(":".concat(placeholder),placeholders[placeholder])}return Object.keys(placeholders).reduce(replaceTag,text)}},"./src/core/store.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return store})),__webpack_require__.d(__webpack_exports__,"a",(function(){return persistor}));var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/redux/es/redux.js"),redux_persist__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/redux-persist/es/index.js"),redux_persist_lib_storage_session__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/redux-persist/lib/storage/session.js"),redux_persist_lib_storage_session__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(redux_persist_lib_storage_session__WEBPACK_IMPORTED_MODULE_3__),_user_slice__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/core/user.slice.js"),_apps_checklist_button_checklist_material_button_slice__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/apps/checklist-button/checklist-material-button.slice.jsx"),persistConfig={key:"ddb-react",storage:redux_persist_lib_storage_session__WEBPACK_IMPORTED_MODULE_3___default.a},store=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.a)({reducer:Object(redux_persist__WEBPACK_IMPORTED_MODULE_2__.a)(persistConfig,Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__.c)({checklistMaterialButton:_apps_checklist_button_checklist_material_button_slice__WEBPACK_IMPORTED_MODULE_5__.e,user:_user_slice__WEBPACK_IMPORTED_MODULE_4__.b})),devTools:!1}),persistor=Object(redux_persist__WEBPACK_IMPORTED_MODULE_2__.b)(store)},"./src/core/token.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return TOKEN_USER_KEY})),__webpack_require__.d(__webpack_exports__,"a",(function(){return TOKEN_LIBRARY_KEY})),__webpack_require__.d(__webpack_exports__,"e",(function(){return setToken})),__webpack_require__.d(__webpack_exports__,"d",(function(){return hasToken})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getToken}));var tokens={},TOKEN_USER_KEY="user",TOKEN_LIBRARY_KEY="library";function setToken(type,value){tokens[type]=value}function hasToken(type){return Boolean(tokens[type])}function getToken(type){return tokens[type]}},"./src/core/user.js":function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js"),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js"),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_token__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/token.js"),_store__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/store.js"),_user_slice__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/core/user.slice.js");function _classStaticPrivateFieldSpecGet(receiver,classConstructor,descriptor){if(receiver!==classConstructor)throw new TypeError("Private static access of wrong provenance");return descriptor.get?descriptor.get.call(receiver):descriptor.value}var selectStatus=function selectStatus(state){return state.user.status},User=function(){function User(){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,User)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(User,null,[{key:"isAuthenticated",value:function isAuthenticated(){return _store__WEBPACK_IMPORTED_MODULE_3__.b.dispatch(Object(_user_slice__WEBPACK_IMPORTED_MODULE_4__.e)({hasToken:Object(_token__WEBPACK_IMPORTED_MODULE_2__.d)("user"),doFail:!_classStaticPrivateFieldSpecGet(User,User,_attemptingThisRequest)})),"authenticated"===selectStatus(_store__WEBPACK_IMPORTED_MODULE_3__.b.getState())}},{key:"authenticate",value:function authenticate(loginUrl){_store__WEBPACK_IMPORTED_MODULE_3__.b.dispatch(Object(_user_slice__WEBPACK_IMPORTED_MODULE_4__.a)()).then((function(){return _store__WEBPACK_IMPORTED_MODULE_3__.a.flush()})),function _classStaticPrivateFieldSpecSet(receiver,classConstructor,descriptor,value){if(receiver!==classConstructor)throw new TypeError("Private static access of wrong provenance");if(descriptor.set)descriptor.set.call(receiver,value);else{if(!descriptor.writable)throw new TypeError("attempted to set read only private field");descriptor.value=value}return value}(User,User,_attemptingThisRequest,!0),window.location.href=loginUrl}},{key:"authenticationFailed",value:function authenticationFailed(){return!this.isAuthenticated()&&"failed"===selectStatus(_store__WEBPACK_IMPORTED_MODULE_3__.b.getState())}}]),User}(),_attemptingThisRequest={writable:!0,value:!1};__webpack_exports__.a=User},"./src/core/user.slice.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return attemptAuthentication})),__webpack_require__.d(__webpack_exports__,"e",(function(){return updateStatus})),__webpack_require__.d(__webpack_exports__,"c",(function(){return setStatusAuthenticated})),__webpack_require__.d(__webpack_exports__,"d",(function(){return setStatusUnauthenticated}));__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js");var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__),_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),attemptAuthentication=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("user/attemptAuthentication",(function(){return Promise.resolve()})),userSlice=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.c)({name:"user",initialState:{status:"unauthenticated"},reducers:{updateStatus:function updateStatus(state,action){"unauthenticated"!==state.status&&"attempting"!==state.status||(action.payload.hasToken?state.status="authenticated":action.payload.doFail&&"attempting"===state.status&&(state.status="failed"))},setStatusAuthenticated:function setStatusAuthenticated(state){state.status="authenticated"},setStatusUnauthenticated:function setStatusUnauthenticated(state){state.status="unauthenticated"}},extraReducers:_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()({},attemptAuthentication.pending,(function(state){state.status="attempting"}))}),_userSlice$actions=userSlice.actions,updateStatus=_userSlice$actions.updateStatus,setStatusAuthenticated=_userSlice$actions.setStatusAuthenticated,setStatusUnauthenticated=_userSlice$actions.setStatusUnauthenticated;__webpack_exports__.b=userSlice.reducer},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},0:function(module,exports,__webpack_require__){__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/common/config.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/react/config.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){},2:function(module,exports){},3:function(module,exports){}},[[0,5,6]]]);