"use strict";(globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react=globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react||[]).push([[9595],{"./src/apps/reservation-list/modal/delete-reservation/delete-reservation-modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>delete_reservation_modal,g:()=>deleteReservationModalId});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-query/es/index.js"),modal=__webpack_require__("./src/core/utils/modal.tsx"),utils_text=__webpack_require__("./src/core/utils/text.tsx"),reservation_type=__webpack_require__("./src/core/utils/types/reservation-type.ts");const requestsAndReservations=({reservations,operations})=>{const{physical:reservationsPhysical,digital:reservationsDigital}=(reservations=>reservations.length?{physical:reservations.filter(reservation_type.uT).map((({reservationIds})=>reservationIds)).flat(),digital:reservations.filter(reservation_type.BP).map((({identifier})=>identifier))}:{physical:[],digital:[]})(reservations),requests=[];return reservationsPhysical.length&&requests.push({params:{params:{reservationid:reservationsPhysical}},operation:operations.physical}),reservationsDigital.length&&reservationsDigital.forEach((id=>{requests.push({params:{identifier:String(id)},operation:operations.digital})})),{requests,reservationsPhysical,reservationsDigital}};var Button=__webpack_require__("./src/components/Buttons/Button.tsx");const delete_reservation_content=({deleteReservation,reservationsCount,deletionStatus})=>{const t=(0,utils_text.F)(),deleteReservationCallback=(0,react.useCallback)((()=>{deleteReservation()}),[deleteReservation]),buttonLabel=(({reservationsCount,deletionStatus,t})=>"pending"===deletionStatus?t("deleteReservationModalDeleteProcessingText"):t("deleteReservationModalDeleteButtonText",{count:reservationsCount}))({t,reservationsCount,deletionStatus});return react.createElement(react.Fragment,null,react.createElement("h2",{className:"text-header-h3"},t("deleteReservationModalHeaderText",{count:reservationsCount})),react.createElement("div",{className:"mt-48 color-secondary-gray"},react.createElement("p",{className:"text-body-medium-regular"},t("deleteReservationModalDeleteQuestionText",{count:reservationsCount})),react.createElement("p",{className:"text-body-medium-regular"},t("deleteReservationModalNotRegrettableText"))),react.createElement("div",{className:"modal-pause__button mt-48"},react.createElement(Button.$,{dataCy:"delete-reservation-button",label:buttonLabel,buttonType:"none",variant:"filled",disabled:"pending"===deletionStatus,collapsible:!1,onClick:deleteReservationCallback,size:"small"})))};try{deletereservationcontent.displayName="deletereservationcontent",deletereservationcontent.__docgenInfo={description:"",displayName:"deletereservationcontent",props:{deleteReservation:{defaultValue:null,description:"",name:"deleteReservation",required:!0,type:{name:"() => void"}},reservationsCount:{defaultValue:null,description:"",name:"reservationsCount",required:!0,type:{name:"number"}},deletionStatus:{defaultValue:null,description:"",name:"deletionStatus",required:!0,type:{name:"enum",value:[{value:'"success"'},{value:'"idle"'},{value:'"pending"'},{value:'"error"'}]}},material:{defaultValue:null,description:"",name:"material",required:!1,type:{name:"Nullable<Partial<BasicDetails>> | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/modal/delete-reservation/delete-reservation-content.tsx#deletereservationcontent"]={docgenInfo:deletereservationcontent.__docgenInfo,name:"deletereservationcontent",path:"src/apps/reservation-list/modal/delete-reservation/delete-reservation-content.tsx#deletereservationcontent"})}catch(__react_docgen_typescript_loader_error){}var fbs=__webpack_require__("./src/core/fbs/fbs.ts"),publizon=__webpack_require__("./src/core/publizon/publizon.ts"),useRequestsWithStatus=__webpack_require__("./src/core/utils/useRequestsWithStatus.tsx"),ModalMessage=__webpack_require__("./src/components/message/modal-message/ModalMessage.tsx"),modal_helpers=__webpack_require__("./src/core/utils/helpers/modal-helpers.ts");function deleteReservationModalId(reservation){return`${String((0,modal_helpers.c6)().reservationDelete)}${(0,reservation_type.OQ)(reservation)}`}const delete_reservation_modal=({modalId,reservations})=>{const t=(0,utils_text.F)(),queryClient=(0,es.useQueryClient)(),{mutate:deletePhysicalReservation}=(0,fbs.g1)(),{mutate:deleteDigitalReservation}=(0,publizon.de)(),[deletedReservations,setDeletedReservations]=(0,react.useState)(null),{requests,reservationsPhysical,reservationsDigital}=(0,react.useMemo)((()=>requestsAndReservations({operations:{digital:deleteDigitalReservation,physical:deletePhysicalReservation},reservations})),[deleteDigitalReservation,deletePhysicalReservation,reservations]),{handler:removeReservationsHandler,requestStatus,setRequestStatus}=(0,useRequestsWithStatus.mi)({requests,onSuccess:()=>{setDeletedReservations(reservations.length),queryClient.invalidateQueries((0,publizon.tt)()),queryClient.invalidateQueries((0,fbs.vN)())}});if(!reservations)return null;const ctaButtonParams={text:t("deleteReservationModalButtonText"),closeAllModals:!0,callback:()=>{setRequestStatus("idle"),setDeletedReservations(null)}};return react.createElement(modal.A,{modalId,classNames:"modal-cta modal-padding",closeModalAriaLabelText:t("deleteReservationModalCloseModalText"),screenReaderModalDescriptionText:t("deleteReservationModalAriaDescriptionText"),eventCallbacks:{close:()=>{setRequestStatus("idle"),setDeletedReservations(null)}}},["idle","pending"].includes(requestStatus)&&react.createElement(delete_reservation_content,{deleteReservation:()=>{(reservationsPhysical.length||reservationsDigital.length)&&removeReservationsHandler()},reservationsCount:reservations.length,deletionStatus:requestStatus}),"success"===requestStatus&&react.createElement(ModalMessage.A,{title:t("deleteReservationModalSuccessTitleText",{count:deletedReservations??1}),subTitle:t("deleteReservationModalSuccessStatusText",{count:deletedReservations??0}),ctaButton:ctaButtonParams}),"error"===requestStatus&&react.createElement(ModalMessage.A,{title:t("deleteReservationModalErrorsTitleText"),subTitle:t("deleteReservationModalErrorsStatusText"),ctaButton:ctaButtonParams}))};try{deleteReservationModalId.displayName="deleteReservationModalId",deleteReservationModalId.__docgenInfo={description:"",displayName:"deleteReservationModalId",props:{dateOfReservation:{defaultValue:null,description:"",name:"dateOfReservation",required:!1,type:{name:"string | null | undefined"}},expiryDate:{defaultValue:null,description:"",name:"expiryDate",required:!1,type:{name:"string | null | undefined"}},pickupDeadline:{defaultValue:null,description:"",name:"pickupDeadline",required:!1,type:{name:"string | null | undefined"}},numberInQueue:{defaultValue:null,description:"",name:"numberInQueue",required:!1,type:{name:"number | null | undefined"}},state:{defaultValue:null,description:"",name:"state",required:!1,type:{name:"string | null | undefined"}},expectedRedeemDateUtc:{defaultValue:null,description:"",name:"expectedRedeemDateUtc",required:!1,type:{name:"string | null | undefined"}},pickupNumber:{defaultValue:null,description:'The reservation number. This is, contrary to the name, a string containing, as an example, "Reserveringshylde 111"',name:"pickupNumber",required:!1,type:{name:"string | null | undefined"}},pickupBranch:{defaultValue:null,description:"",name:"pickupBranch",required:!1,type:{name:"string | null | undefined"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string | null | undefined"}},periodical:{defaultValue:null,description:"",name:"periodical",required:!1,type:{name:"string | null | undefined"}},reservationType:{defaultValue:null,description:"",name:"reservationType",required:!1,type:{name:"string | null | undefined"}},faust:{defaultValue:null,description:"",name:"faust",required:!1,type:{name:"string | null | undefined"}},identifier:{defaultValue:null,description:"",name:"identifier",required:!1,type:{name:"string | null | undefined"}},reservationIds:{defaultValue:null,description:"",name:"reservationIds",required:!1,type:{name:"number[] | null | undefined"}},loanId:{defaultValue:null,description:"",name:"loanId",required:!1,type:{name:"number | null | undefined"}},details:{defaultValue:null,description:"",name:"details",required:!1,type:{name:"Nullable<Partial<BasicDetails>> | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/modal/delete-reservation/delete-reservation-modal.tsx#deleteReservationModalId"]={docgenInfo:deleteReservationModalId.__docgenInfo,name:"deleteReservationModalId",path:"src/apps/reservation-list/modal/delete-reservation/delete-reservation-modal.tsx#deleteReservationModalId"})}catch(__react_docgen_typescript_loader_error){}try{deletereservationmodal.displayName="deletereservationmodal",deletereservationmodal.__docgenInfo={description:"",displayName:"deletereservationmodal",props:{modalId:{defaultValue:null,description:"",name:"modalId",required:!0,type:{name:"string"}},reservations:{defaultValue:null,description:"",name:"reservations",required:!0,type:{name:"Nullable<Partial<Reservation>>[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/modal/delete-reservation/delete-reservation-modal.tsx#deletereservationmodal"]={docgenInfo:deletereservationmodal.__docgenInfo,name:"deletereservationmodal",path:"src/apps/reservation-list/modal/delete-reservation/delete-reservation-modal.tsx#deletereservationmodal"})}catch(__react_docgen_typescript_loader_error){}},"./src/apps/reservation-list/modal/reservation-details/reservation-details.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>reservation_details});var react=__webpack_require__("./node_modules/react/index.js"),reservation_type=__webpack_require__("./src/core/utils/types/reservation-type.ts"),material_fetch_hoc=__webpack_require__("./src/apps/loan-list/materials/utils/material-fetch-hoc.tsx"),modal_details_header=__webpack_require__("./src/components/modal-details-header/modal-details-header.tsx"),Reservations=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Reservations.svg"),Reservations_default=__webpack_require__.n(Reservations),Loans=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Loans.svg"),Loans_default=__webpack_require__.n(Loans),utils_text=__webpack_require__("./src/core/utils/text.tsx"),list_details=__webpack_require__("./src/components/list-details/list-details.tsx"),date=__webpack_require__("./src/core/utils/helpers/date.ts");const digital_list_details=({reservation})=>{const t=(0,utils_text.F)(),{expiryDate,dateOfReservation,pickupDeadline,state}=reservation;return react.createElement(react.Fragment,null,expiryDate&&"readyForPickup"===state&&react.createElement(list_details.A,{icon:Reservations_default(),title:t("reservationDetailsStatusTitleText"),labels:t("reservationDetailsExpiresText",{placeholders:{"@date":(0,date.r6)(expiryDate)}})}),pickupDeadline&&"reserved"===state&&react.createElement(list_details.A,{icon:Reservations_default(),title:t("reservationDetailsStatusTitleText"),labels:t("reservationDetailsBorrowBeforeText",{placeholders:{"@date":(0,date.r6)(pickupDeadline)}})}),dateOfReservation&&react.createElement(list_details.A,{icon:Loans_default(),labels:(0,date.r6)(dateOfReservation),title:t("reservationDetailsDateOfReservationTitleText")}))};try{digitallistdetails.displayName="digitallistdetails",digitallistdetails.__docgenInfo={description:"",displayName:"digitallistdetails",props:{reservation:{defaultValue:null,description:"",name:"reservation",required:!0,type:{name:"Nullable<Partial<Reservation>>"}},material:{defaultValue:null,description:"",name:"material",required:!1,type:{name:"Nullable<Partial<BasicDetails>> | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/modal/reservation-details/digital-list-details.tsx#digitallistdetails"]={docgenInfo:digitallistdetails.__docgenInfo,name:"digitallistdetails",path:"src/apps/reservation-list/modal/reservation-details/digital-list-details.tsx#digitallistdetails"})}catch(__react_docgen_typescript_loader_error){}var Button=__webpack_require__("./src/components/Buttons/Button.tsx");const reservation_details_buttons=({openReservationDeleteModal,classNames,buttonClassNames,reservation})=>{const t=(0,utils_text.F)();return react.createElement("div",{className:`modal-details__buttons ${classNames}`},react.createElement(Button.$,{label:t("reservationDetailsButtonRemoveText"),onClick:()=>openReservationDeleteModal(reservation),classNames:buttonClassNames,buttonType:"none",disabled:!1,collapsible:!1,size:"small",variant:"filled"}))};try{reservationdetailsbuttons.displayName="reservationdetailsbuttons",reservationdetailsbuttons.__docgenInfo={description:"",displayName:"reservationdetailsbuttons",props:{reservation:{defaultValue:null,description:"",name:"reservation",required:!0,type:{name:"Nullable<Partial<Reservation>>"}},classNames:{defaultValue:null,description:"",name:"classNames",required:!1,type:{name:"string | undefined"}},buttonClassNames:{defaultValue:null,description:"",name:"buttonClassNames",required:!1,type:{name:"string | undefined"}},openReservationDeleteModal:{defaultValue:null,description:"",name:"openReservationDeleteModal",required:!0,type:{name:"(deleteReservation: Nullable<Partial<Reservation>>) => void"}},material:{defaultValue:null,description:"",name:"material",required:!1,type:{name:"Nullable<Partial<BasicDetails>> | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/modal/reservation-details/reservation-details-buttons.tsx#reservationdetailsbuttons"]={docgenInfo:reservationdetailsbuttons.__docgenInfo,name:"reservationdetailsbuttons",path:"src/apps/reservation-list/modal/reservation-details/reservation-details-buttons.tsx#reservationdetailsbuttons"})}catch(__react_docgen_typescript_loader_error){}var icon_btn_external_link=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/buttons/icon-btn-external-link.svg"),icon_btn_external_link_default=__webpack_require__.n(icon_btn_external_link),LinkButton=__webpack_require__("./src/components/Buttons/LinkButton.tsx");const reservation_details_redirect=({reservation,openReservationDeleteModal,className,linkClassNames,externalLink})=>{const t=(0,utils_text.F)();return react.createElement("div",{className:`modal-details__buttons ${className}`},react.createElement(Button.$,{buttonType:"none",label:t("reservationDetailsRemoveDigitalReservationText"),size:"small",variant:"outline",collapsible:!1,disabled:!1,onClick:()=>openReservationDeleteModal(reservation),classNames:linkClassNames,dataCy:"remove-digital-reservation-button"}),react.createElement(LinkButton.A,{dataCy:"go-to-ereolen-button",size:"small",url:externalLink,variant:"filled",id:"go-to-ereolen-button"},t("reservationDetailsDigitalReservationGoToEreolenText"),react.createElement("img",{src:icon_btn_external_link_default(),className:"btn-icon invert",alt:""})))};try{reservationdetailsredirect.displayName="reservationdetailsredirect",reservationdetailsredirect.__docgenInfo={description:"",displayName:"reservationdetailsredirect",props:{reservation:{defaultValue:null,description:"",name:"reservation",required:!0,type:{name:"Nullable<Partial<Reservation>>"}},openReservationDeleteModal:{defaultValue:null,description:"",name:"openReservationDeleteModal",required:!0,type:{name:"(deleteReservation: Nullable<Partial<Reservation>>) => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},linkClassNames:{defaultValue:null,description:"",name:"linkClassNames",required:!1,type:{name:"string | undefined"}},externalLink:{defaultValue:null,description:"",name:"externalLink",required:!0,type:{name:"URL"}},material:{defaultValue:null,description:"",name:"material",required:!1,type:{name:"Nullable<Partial<BasicDetails>> | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/modal/reservation-details/reservation-details-redirect.tsx#reservationdetailsredirect"]={docgenInfo:reservationdetailsredirect.__docgenInfo,name:"reservationdetailsredirect",path:"src/apps/reservation-list/modal/reservation-details/reservation-details-redirect.tsx#reservationdetailsredirect"})}catch(__react_docgen_typescript_loader_error){}var digital_material_fetch_hoc=__webpack_require__("./src/apps/loan-list/materials/utils/digital-material-fetch-hoc.tsx"),Ebook=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Ebook.svg"),Ebook_default=__webpack_require__.n(Ebook),Location=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Location.svg"),Location_default=__webpack_require__.n(Location),LoanHistory=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/LoanHistory.svg"),LoanHistory_default=__webpack_require__.n(LoanHistory),es=__webpack_require__("./node_modules/react-query/es/index.js"),fbs=__webpack_require__("./src/core/fbs/fbs.ts"),helper=__webpack_require__("./src/components/reservation/helper.ts"),utils_config=__webpack_require__("./src/core/utils/config.tsx"),PickupModal=__webpack_require__("./src/components/reservation/forms/PickupModal.tsx"),modal=__webpack_require__("./src/core/utils/modal.tsx"),forms_helper=__webpack_require__("./src/components/reservation/forms/helper.ts"),utils_branches=__webpack_require__("./src/core/utils/branches.tsx"),ReservationFormListItem=__webpack_require__("./src/components/reservation/ReservationFormListItem.tsx"),NoInterestAfterModal=__webpack_require__("./src/components/reservation/forms/NoInterestAfterModal.tsx"),helpers=__webpack_require__("./src/apps/reservation-list/utils/helpers.ts");const physical_list_details=({reservation,reservation:{numberInQueue,pickupBranch,expiryDate,pickupDeadline,dateOfReservation,pickupNumber,reservationIds}})=>{const config=(0,utils_config.UK)(),t=(0,utils_text.F)(),{open}=(0,modal.X)(),queryClient=(0,es.useQueryClient)(),{mutate}=(0,fbs.cK)(),interestPeriods=config("interestPeriodsConfig",{transformer:"jsonParse"}),[selectedInterest,setSelectedInterest]=(0,react.useState)(null),[selectedBranch,setSelectedBranch]=(0,react.useState)(pickupBranch),[reservationStatus,setReservationStatus]=(0,react.useState)("idle"),openModal=type=>()=>{open((0,forms_helper.zW)(type))},branches=config("branchesConfig",{transformer:"jsonParse"}),blacklistBranches=config("blacklistedPickupBranchesConfig",{transformer:"stringToArray"}),whitelistBranches=(0,utils_branches.z5)(branches,blacklistBranches),isReadyForPickup=(0,helpers.JU)([reservation]).length>0,saveChanges=formSelectValue=>{if(setReservationStatus("pending"),!reservationIds||0===reservationIds.length||!selectedBranch)return console.error("Missing reservationId or selectedBranch"),void setReservationStatus("error");const reservationsChanges=(({formSelectValue,reservationIds,expiryDate,selectedBranch})=>{const getSelectedPickupBranch=value=>"string"==typeof value?value:selectedBranch;return reservationIds.map((reservationId=>{return{expiryDate:(value=formSelectValue,"number"==typeof value?(0,helper.ZI)(value):expiryDate??""),pickupBranch:getSelectedPickupBranch(formSelectValue),reservationId};var value}))})({formSelectValue,reservationIds,expiryDate,selectedBranch});mutate({data:{reservations:reservationsChanges}},{onSuccess:()=>{setReservationStatus("success"),queryClient.invalidateQueries((0,fbs.vN)())},onError:()=>{setReservationStatus("error")}})};return react.createElement(react.Fragment,null,numberInQueue&&react.createElement(list_details.A,{icon:Ebook_default(),title:t("reservationDetailsStatusTitleText"),labels:[t("reservationDetailsNumberInQueueLabelText",{placeholders:{"@count":numberInQueue}})]}),pickupBranch&&react.createElement(react.Fragment,null,react.createElement(ReservationFormListItem.A,{icon:Location_default(),title:t("reservationDetailsPickUpAtTitleText"),text:(0,helper.C4)(selectedBranch??pickupBranch,whitelistBranches),changeHandler:openModal("pickup"),buttonAriaLabel:t("changePickupLocationText"),subText:pickupNumber??"",isPossibleToChangeReservationDetails:!isReadyForPickup}),!isReadyForPickup&&react.createElement(PickupModal.A,{branches:whitelistBranches,defaultBranch:pickupBranch,selectBranchHandler:setSelectedBranch,saveCallback:saveChanges,reservationStatus,setReservationStatus})),expiryDate&&react.createElement(react.Fragment,null,react.createElement(ReservationFormListItem.A,{icon:LoanHistory_default(),title:t("reservationDetailsNoInterestAfterTitleText"),text:selectedInterest?(0,date.Yq)((0,helper.ZI)(selectedInterest)):(0,date.Yq)(expiryDate),changeHandler:openModal("interestPeriod"),buttonAriaLabel:t("changeInterestPeriodText"),isPossibleToChangeReservationDetails:!isReadyForPickup}),!isReadyForPickup&&react.createElement(NoInterestAfterModal.A,{selectedInterest:selectedInterest??Number(interestPeriods.defaultInterestPeriod.value),setSelectedInterest,saveCallback:saveChanges,reservationStatus,setReservationStatus})),pickupDeadline&&react.createElement(list_details.A,{icon:Reservations_default(),title:t("reservationDetailsPickupDeadlineTitleText"),labels:[(0,date.Yq)(pickupDeadline)]}),dateOfReservation&&react.createElement(list_details.A,{icon:Loans_default(),title:t("reservationDetailsDateOfReservationTitleText"),labels:[(0,date.Yq)(dateOfReservation)]}))};try{physicallistdetails.displayName="physicallistdetails",physicallistdetails.__docgenInfo={description:"",displayName:"physicallistdetails",props:{reservation:{defaultValue:null,description:"",name:"reservation",required:!0,type:{name:"Nullable<Partial<Reservation>>"}},material:{defaultValue:null,description:"",name:"material",required:!1,type:{name:"Nullable<Partial<BasicDetails>> | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/modal/reservation-details/physical-list-details.tsx#physicallistdetails"]={docgenInfo:physicallistdetails.__docgenInfo,name:"physicallistdetails",path:"src/apps/reservation-list/modal/reservation-details/physical-list-details.tsx#physicallistdetails"})}catch(__react_docgen_typescript_loader_error){}var MaterialButtonLoading=__webpack_require__("./src/components/material/material-buttons/generic/MaterialButtonLoading.tsx"),graphql=__webpack_require__("./src/core/dbc-gateway/generated/graphql.tsx"),url=__webpack_require__("./src/core/utils/url.tsx");const reservation_details=(0,digital_material_fetch_hoc.A)((0,material_fetch_hoc.A)((({reservation,material,openReservationDeleteModal})=>{const t=(0,utils_text.F)(),ereolenHomepageUrl=(0,url.Ik)()("ereolenHomepageUrl"),config=(0,utils_config.UK)(),[externalUrl,setExternalUrl]=(0,react.useState)(null),{state,identifier}=reservation,{authors,pid,year,title,description,materialType}=material||{},{allowRemoveReadyReservations}=config("reservationDetailsConfig",{transformer:"jsonParse"}),allowUserRemoveReadyReservations="readyForPickup"===state&&allowRemoveReadyReservations||"readyForPickup"!==state,{data:complexSearchData,isLoading:isLoadingComplexSearch}=(0,graphql.D3)({cql:`term.isbn=${identifier}`,offset:0,limit:1,filters:{}},{enabled:!!identifier});return(0,react.useEffect)((()=>{if(!complexSearchData||0===complexSearchData.complexSearch.hitcount)return;const matchingManifestations=((manifestations,identifier)=>manifestations.filter((manifestation=>manifestation.identifiers.find((id=>id.value.replace(/\D/g,"")===identifier.replace(/\D/g,""))))))(complexSearchData.complexSearch.works[0].manifestations.all,identifier||"");setExternalUrl(new URL((manifestations=>{const manifestationWithEreolAccess=manifestations.find((manifestation=>manifestation.access.find((access=>"Ereol"===access.__typename)))),ereolAccess=null==manifestationWithEreolAccess?void 0:manifestationWithEreolAccess.access.find((access=>"Ereol"===access.__typename));return null==ereolAccess?void 0:ereolAccess.url})(matchingManifestations)||ereolenHomepageUrl))}),[complexSearchData,identifier,ereolenHomepageUrl]),react.createElement("div",{className:"modal-details__container"},material&&react.createElement(react.Fragment,null,react.createElement(modal_details_header.A,{isbnForCover:identifier||"",authors,year,title,pid,description,materialType,series:material.series},"readyForPickup"===state&&react.createElement("div",{className:"status-label status-label--info"},t("reservationDetailsReadyForLoanText"))),(0,reservation_type.uT)(reservation)&&allowUserRemoveReadyReservations&&react.createElement(reservation_details_buttons,{classNames:"modal-details__buttons--hide-on-mobile",openReservationDeleteModal,reservation}),(0,reservation_type.BP)(reservation)&&isLoadingComplexSearch&&react.createElement("div",{className:"modal-details__buttons modal-details__buttons--hide-on-mobile"},react.createElement(MaterialButtonLoading.A,{classNames:"modal-details__buttons--hide-on-mobile"})),(0,reservation_type.BP)(reservation)&&!isLoadingComplexSearch&&externalUrl&&react.createElement(reservation_details_redirect,{openReservationDeleteModal,reservation,className:"modal-details__buttons--hide-on-mobile",linkClassNames:"mx-16",externalLink:externalUrl}),react.createElement("div",{className:"modal-details__list"},(0,reservation_type.BP)(reservation)&&react.createElement(digital_list_details,{reservation}),(0,reservation_type.uT)(reservation)&&react.createElement(physical_list_details,{reservation})),(0,reservation_type.uT)(reservation)&&allowUserRemoveReadyReservations&&react.createElement(reservation_details_buttons,{buttonClassNames:"modal-details__buttons__full-width",openReservationDeleteModal,reservation}),(0,reservation_type.BP)(reservation)&&!isLoadingComplexSearch&&externalUrl&&react.createElement(reservation_details_redirect,{openReservationDeleteModal,linkClassNames:"my-16",reservation,externalLink:externalUrl})))})));try{reservationdetails.displayName="reservationdetails",reservationdetails.__docgenInfo={description:"",displayName:"reservationdetails",props:{reservation:{defaultValue:null,description:"",name:"reservation",required:!0,type:{name:"Nullable<Partial<Reservation>>"}},openReservationDeleteModal:{defaultValue:null,description:"",name:"openReservationDeleteModal",required:!0,type:{name:"(deleteReservation: Nullable<Partial<Reservation>>) => void"}},digitalMaterial:{defaultValue:null,description:"",name:"digitalMaterial",required:!1,type:{name:"Product | null | undefined"}},item:{defaultValue:null,description:"",name:"item",required:!1,type:{name:"Nullable<Partial<ListIdsType & { details: Nullable<Partial<BasicDetails>>; }>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/modal/reservation-details/reservation-details.tsx#reservationdetails"]={docgenInfo:reservationdetails.__docgenInfo,name:"reservationdetails",path:"src/apps/reservation-list/modal/reservation-details/reservation-details.tsx#reservationdetails"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Dropdown/Dropdown.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Dropdown_Dropdown});var clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),react=__webpack_require__("./node_modules/react/index.js"),icon_triangle=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-triangle.svg"),icon_triangle_default=__webpack_require__.n(icon_triangle),ExpandMore=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/ExpandMore.svg"),ExpandMore_default=__webpack_require__.n(ExpandMore);const DropdownIcon=({arrowIcon})=>"triangles"===arrowIcon?react.createElement("span",null,react.createElement("img",{className:"dropdown__arrow",src:icon_triangle_default(),alt:""}),react.createElement("img",{className:"dropdown__arrow dropdown__arrow--bottom",src:icon_triangle_default(),alt:""})):"chevron"===arrowIcon?react.createElement("img",{className:"dropdown__arrow",src:ExpandMore_default(),alt:""}):null,Dropdown_DropdownIcon=DropdownIcon;try{DropdownIcon.displayName="DropdownIcon",DropdownIcon.__docgenInfo={description:"",displayName:"DropdownIcon",props:{arrowIcon:{defaultValue:null,description:"",name:"arrowIcon",required:!0,type:{name:"enum",value:[{value:'"triangles"'},{value:'"chevron"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Dropdown/DropdownIcon.tsx#DropdownIcon"]={docgenInfo:DropdownIcon.__docgenInfo,name:"DropdownIcon",path:"src/components/Dropdown/DropdownIcon.tsx#DropdownIcon"})}catch(__react_docgen_typescript_loader_error){}const Dropdown=({arrowIcon,ariaLabel,options,classNames,innerClassNames,handleOnChange,placeholder,cyData,label,id,labelledBy,defaultValue})=>{const classes={root:(0,clsx.A)("dropdown",classNames),select:(0,clsx.A)("dropdown__select",null==innerClassNames?void 0:innerClassNames.select),option:(0,clsx.A)("dropdown__option",null==innerClassNames?void 0:innerClassNames.option),arrowWrapper:(0,clsx.A)("dropdown__arrows",null==innerClassNames?void 0:innerClassNames.arrowWrapper)},optionsList=placeholder?[placeholder,...options]:options;return react.createElement("div",{className:classes.root},label&&react.createElement("label",{htmlFor:id},label),react.createElement("div",{className:classes.root},react.createElement("select",{id,"data-cy":cyData,className:classes.select,"aria-labelledby":labelledBy,"aria-label":ariaLabel,onChange:e=>{handleOnChange&&e.target.value&&handleOnChange(e)}},optionsList.map((({label:optionsLabel,value,disabled})=>react.createElement("option",{key:optionsLabel,value,className:classes.option,disabled,selected:value.toString()===(null==defaultValue?void 0:defaultValue.toString())},optionsLabel)))),react.createElement("div",{className:classes.arrowWrapper},react.createElement(Dropdown_DropdownIcon,{arrowIcon}))))},Dropdown_Dropdown=Dropdown;try{Dropdown.displayName="Dropdown",Dropdown.__docgenInfo={description:"",displayName:"Dropdown",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"Option<TValueType>[]"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string | undefined"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string | undefined"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!0,type:{name:"string"}},labelledBy:{defaultValue:null,description:"",name:"labelledBy",required:!1,type:{name:"string | undefined"}},arrowIcon:{defaultValue:null,description:"",name:"arrowIcon",required:!0,type:{name:"enum",value:[{value:'"triangles"'},{value:'"chevron"'}]}},classNames:{defaultValue:null,description:"",name:"classNames",required:!1,type:{name:"string | undefined"}},innerClassNames:{defaultValue:null,description:"",name:"innerClassNames",required:!1,type:{name:"{ select?: string | undefined; option?: string | undefined; arrowWrapper?: string | undefined; } | undefined"}},handleOnChange:{defaultValue:null,description:"",name:"handleOnChange",required:!1,type:{name:"((e: ChangeEvent<HTMLSelectElement>) => void) | undefined"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"Option<string> | undefined"}},cyData:{defaultValue:null,description:"",name:"cyData",required:!1,type:{name:"string | undefined"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"FormSelectValue | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Dropdown/Dropdown.tsx#Dropdown"]={docgenInfo:Dropdown.__docgenInfo,name:"Dropdown",path:"src/components/Dropdown/Dropdown.tsx#Dropdown"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/material/material-buttons/generic/MaterialButtonLoading.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_utils_text__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/text.tsx"),_Buttons_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Buttons/Button.tsx");const MaterialButtonLoading=({size,classNames})=>{const t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_1__.F)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Buttons_Button__WEBPACK_IMPORTED_MODULE_2__.$,{label:t("loadingText"),buttonType:"none",variant:"filled",disabled:!0,collapsible:!1,size:size||"large",classNames:classNames||""})},__WEBPACK_DEFAULT_EXPORT__=MaterialButtonLoading;try{MaterialButtonLoading.displayName="MaterialButtonLoading",MaterialButtonLoading.__docgenInfo={description:"",displayName:"MaterialButtonLoading",props:{size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"xsmall"'},{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'}]}},classNames:{defaultValue:null,description:"",name:"classNames",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/material-buttons/generic/MaterialButtonLoading.tsx#MaterialButtonLoading"]={docgenInfo:MaterialButtonLoading.__docgenInfo,name:"MaterialButtonLoading",path:"src/components/material/material-buttons/generic/MaterialButtonLoading.tsx#MaterialButtonLoading"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/reservation/ReservationFormListItem.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_utils_text__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/text.tsx");const ReservationFormListItem=({icon,title,text,subText,changeHandler,buttonAriaLabel,isPossibleToChangeReservationDetails=!0})=>{const t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_1__.F)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"reservation-modal-list-item","data-cy":"reservation-form-list-item"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{src:icon,alt:""}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"data-cy":"reservation-modal-list-item-text",className:"reservation-modal-list-item-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",{className:"text-header-h5"},title),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"text-small-caption"},(null==text?void 0:text.length)>0?text:t("missingDataText")),subText&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"text-small-caption"},subText)),changeHandler&&isPossibleToChangeReservationDetails&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:changeHandler,type:"button",className:"link-tag text-small-caption cursor-pointer","aria-label":buttonAriaLabel},t("shiftText")))},__WEBPACK_DEFAULT_EXPORT__=ReservationFormListItem;try{ReservationFormListItem.displayName="ReservationFormListItem",ReservationFormListItem.__docgenInfo={description:"",displayName:"ReservationFormListItem",props:{icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},subText:{defaultValue:null,description:"",name:"subText",required:!1,type:{name:"string | undefined"}},changeHandler:{defaultValue:null,description:"",name:"changeHandler",required:!1,type:{name:"(() => void) | undefined"}},buttonAriaLabel:{defaultValue:null,description:"",name:"buttonAriaLabel",required:!1,type:{name:"string | undefined"}},isPossibleToChangeReservationDetails:{defaultValue:{value:"true"},description:"",name:"isPossibleToChangeReservationDetails",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reservation/ReservationFormListItem.tsx#ReservationFormListItem"]={docgenInfo:ReservationFormListItem.__docgenInfo,name:"ReservationFormListItem",path:"src/components/reservation/ReservationFormListItem.tsx#ReservationFormListItem"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/reservation/forms/ModalReservationFormSelect.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),clsx__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Dropdown/Dropdown.tsx"),_core_utils_modal__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/modal.tsx"),_core_utils_text__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/utils/text.tsx"),_helper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/reservation/forms/helper.ts"),_ReservationForm__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/reservation/forms/ReservationForm.tsx"),_helper__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/reservation/helper.ts"),_message_modal_message_ModalMessage__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/message/modal-message/ModalMessage.tsx");const ModalReservationFormSelect=({type,header,items,defaultSelectedItem,selectHandler,ariaLabel,saveCallback,reservationStatus,setReservationStatus})=>{const{close}=(0,_core_utils_modal__WEBPACK_IMPORTED_MODULE_2__.X)(),t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_3__.F)(),[selectedItem,setSelectedItem]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultSelectedItem),{modalId,screenReaderModalDescriptionText,closeModalAriaLabelText}=((type,t)=>({modalId:(0,_helper__WEBPACK_IMPORTED_MODULE_4__.zW)(type),screenReaderModalDescriptionText:t((0,_helper__WEBPACK_IMPORTED_MODULE_6__.He)(type,"screenReaderModalDescriptionText")),closeModalAriaLabelText:t((0,_helper__WEBPACK_IMPORTED_MODULE_6__.He)(type,"closeModalAriaLabelText"))}))(type,t);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_core_utils_modal__WEBPACK_IMPORTED_MODULE_2__.A,{modalId,screenReaderModalDescriptionText,closeModalAriaLabelText,eventCallbacks:{close:()=>{setReservationStatus&&setReservationStatus("idle")}},classNames:(0,clsx__WEBPACK_IMPORTED_MODULE_8__.A)([{"modal-cta modal-padding":"success"===reservationStatus||"error"===reservationStatus}])},"success"===reservationStatus&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_message_modal_message_ModalMessage__WEBPACK_IMPORTED_MODULE_7__.A,{title:t("reservationSuccessTitleText"),subTitle:t("reservationSuccessSubTitleText"),ctaButton:{modalId:"pickup",text:t("reservationStatusButtonText"),callback:()=>setReservationStatus&&setReservationStatus("idle")}}),"error"===reservationStatus&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_message_modal_message_ModalMessage__WEBPACK_IMPORTED_MODULE_7__.A,{title:t("reservationerrorTitleText"),subTitle:t("reservationerrorSubTitleText"),ctaButton:{modalId:"pickup",text:t("reservationStatusButtonText"),callback:()=>setReservationStatus&&setReservationStatus("idle")}}),(!reservationStatus||"idle"===reservationStatus||"pending"===reservationStatus)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ReservationForm__WEBPACK_IMPORTED_MODULE_5__.A,{title:header.title,description:header.description,onSubmit:()=>{selectHandler(selectedItem),saveCallback?saveCallback(selectedItem):close((0,_helper__WEBPACK_IMPORTED_MODULE_4__.zW)(type))},disabledButton:"pending"===reservationStatus,buttonLabel:"pending"===reservationStatus?t("loadingText"):void 0},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_1__.A,{options:items.map((({label,value})=>({label,value}))),ariaLabel,arrowIcon:"chevron",handleOnChange:event=>{const{value}=event.target,typedValue=(0,_helper__WEBPACK_IMPORTED_MODULE_4__.Tb)(type)?Number(value):value;setSelectedItem(typedValue)},defaultValue:selectedItem,placeholder:{label:t("chooseOneText"),disabled:!0,value:""},cyData:"modal-reservation-form-select"})))},__WEBPACK_DEFAULT_EXPORT__=ModalReservationFormSelect;try{ModalReservationFormSelect.displayName="ModalReservationFormSelect",ModalReservationFormSelect.__docgenInfo={description:"",displayName:"ModalReservationFormSelect",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"email"'},{value:'"sms"'},{value:'"pickup"'},{value:'"interestPeriod"'}]}},header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"{ title: string; description: string[]; }"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"{ label: string; value: TValue; }[]"}},defaultSelectedItem:{defaultValue:null,description:"",name:"defaultSelectedItem",required:!0,type:{name:"FormSelectValue"}},selectHandler:{defaultValue:null,description:"",name:"selectHandler",required:!0,type:{name:"<TSelectValue extends FormSelectValue>(value: TSelectValue) => void"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!0,type:{name:"string"}},saveCallback:{defaultValue:null,description:"",name:"saveCallback",required:!1,type:{name:"(<TSaveValue extends FormSelectValue>(value: TSaveValue) => void) | undefined"}},reservationStatus:{defaultValue:null,description:"",name:"reservationStatus",required:!0,type:{name:"enum",value:[{value:'"success"'},{value:'"idle"'},{value:'"pending"'},{value:'"error"'}]}},setReservationStatus:{defaultValue:null,description:"",name:"setReservationStatus",required:!1,type:{name:"((status: RequestStatus) => void) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reservation/forms/ModalReservationFormSelect.tsx#ModalReservationFormSelect"]={docgenInfo:ModalReservationFormSelect.__docgenInfo,name:"ModalReservationFormSelect",path:"src/components/reservation/forms/ModalReservationFormSelect.tsx#ModalReservationFormSelect"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/reservation/forms/NoInterestAfterModal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_utils_text__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/text.tsx"),_ModalReservationFormSelect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/reservation/forms/ModalReservationFormSelect.tsx"),_core_utils_config__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/utils/config.tsx");const NoInterestAfterModal=({selectedInterest,setSelectedInterest,saveCallback,reservationStatus,setReservationStatus})=>{const t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_1__.F)(),interstPeriods=(0,_core_utils_config__WEBPACK_IMPORTED_MODULE_3__.UK)()("interestPeriodsConfig",{transformer:"jsonParse"});return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ModalReservationFormSelect__WEBPACK_IMPORTED_MODULE_2__.A,{type:"interestPeriod",header:{title:t("modalReservationFormNoInterestAfterHeaderTitleText"),description:[t("modalReservationFormNoInterestAfterHeaderDescriptionText")]},items:interstPeriods.interestPeriods,defaultSelectedItem:selectedInterest,selectHandler:value=>{setSelectedInterest(Number(value))},ariaLabel:t("modalReservationFormNoInterestAfterLabelText"),saveCallback,reservationStatus,setReservationStatus})},__WEBPACK_DEFAULT_EXPORT__=NoInterestAfterModal;try{NoInterestAfterModal.displayName="NoInterestAfterModal",NoInterestAfterModal.__docgenInfo={description:"",displayName:"NoInterestAfterModal",props:{selectedInterest:{defaultValue:null,description:"",name:"selectedInterest",required:!0,type:{name:"number"}},setSelectedInterest:{defaultValue:null,description:"",name:"setSelectedInterest",required:!0,type:{name:"(value: number) => void"}},saveCallback:{defaultValue:null,description:"",name:"saveCallback",required:!1,type:{name:"(<TValue extends FormSelectValue>(value: TValue) => void) | undefined"}},reservationStatus:{defaultValue:null,description:"",name:"reservationStatus",required:!0,type:{name:"enum",value:[{value:'"success"'},{value:'"idle"'},{value:'"pending"'},{value:'"error"'}]}},setReservationStatus:{defaultValue:null,description:"",name:"setReservationStatus",required:!1,type:{name:"((status: RequestStatus) => void) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reservation/forms/NoInterestAfterModal.tsx#NoInterestAfterModal"]={docgenInfo:NoInterestAfterModal.__docgenInfo,name:"NoInterestAfterModal",path:"src/components/reservation/forms/NoInterestAfterModal.tsx#NoInterestAfterModal"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/reservation/forms/PickupModal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_utils_text__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/text.tsx"),_ModalReservationFormSelect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/reservation/forms/ModalReservationFormSelect.tsx");const PickupModal=({branches,defaultBranch,selectBranchHandler,saveCallback,reservationStatus,setReservationStatus})=>{const t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_1__.F)(),formatBranches=branches.map((branch=>({value:branch.branchId,label:branch.title})));return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ModalReservationFormSelect__WEBPACK_IMPORTED_MODULE_2__.A,{type:"pickup",header:{title:t("modalReservationFormPickupHeaderTitleText"),description:[t("modalReservationFormPickupHeaderDescriptionText")]},items:formatBranches,defaultSelectedItem:defaultBranch,selectHandler:value=>{selectBranchHandler(String(value))},ariaLabel:t("modalReservationFormPickupLabelText"),saveCallback,reservationStatus,setReservationStatus})},__WEBPACK_DEFAULT_EXPORT__=PickupModal;try{PickupModal.displayName="PickupModal",PickupModal.__docgenInfo={description:"",displayName:"PickupModal",props:{branches:{defaultValue:null,description:"",name:"branches",required:!0,type:{name:"AgencyBranch[]"}},defaultBranch:{defaultValue:null,description:"",name:"defaultBranch",required:!0,type:{name:"string"}},selectBranchHandler:{defaultValue:null,description:"",name:"selectBranchHandler",required:!0,type:{name:"(value: string) => void"}},saveCallback:{defaultValue:null,description:"",name:"saveCallback",required:!1,type:{name:"(<TValue extends FormSelectValue>(value: TValue) => void) | undefined"}},reservationStatus:{defaultValue:null,description:"",name:"reservationStatus",required:!0,type:{name:"enum",value:[{value:'"success"'},{value:'"idle"'},{value:'"pending"'},{value:'"error"'}]}},setReservationStatus:{defaultValue:null,description:"",name:"setReservationStatus",required:!1,type:{name:"((status: RequestStatus) => void) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reservation/forms/PickupModal.tsx#PickupModal"]={docgenInfo:PickupModal.__docgenInfo,name:"PickupModal",path:"src/components/reservation/forms/PickupModal.tsx#PickupModal"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/reservation/forms/ReservationForm.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_utils_text__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/text.tsx"),_Buttons_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Buttons/Button.tsx");const ReservationForm=({title,description,children,onSubmit,buttonLabel,disabledButton,cyData="reservation-form"})=>{const t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_1__.F)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement("section",{className:"reservation-modal reservation-form"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"reservation-form__content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"reservation-form__header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",{className:"text-header-h3 mb-35","data-cy":`${cyData}-title`},title),description.map((paragraph=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"text-body-large","data-cy":`${cyData}-description`},paragraph)))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",null,children&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"reservation-form__body mt-35"},children),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"reservation-form__footer mt-48"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Buttons_Button__WEBPACK_IMPORTED_MODULE_2__.$,{label:buttonLabel||t("saveButtonText"),buttonType:"none",disabled:disabledButton??!1,collapsible:!1,size:"xlarge",variant:"filled",onClick:onSubmit,dataCy:`${cyData}-button`})))))},__WEBPACK_DEFAULT_EXPORT__=ReservationForm;try{ReservationForm.displayName="ReservationForm",ReservationForm.__docgenInfo={description:"",displayName:"ReservationForm",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string[]"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"() => void"}},buttonLabel:{defaultValue:null,description:"",name:"buttonLabel",required:!1,type:{name:"string | undefined"}},disabledButton:{defaultValue:null,description:"",name:"disabledButton",required:!1,type:{name:"boolean | undefined"}},cyData:{defaultValue:{value:"reservation-form"},description:"",name:"cyData",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reservation/forms/ReservationForm.tsx#ReservationForm"]={docgenInfo:ReservationForm.__docgenInfo,name:"ReservationForm",path:"src/components/reservation/forms/ReservationForm.tsx#ReservationForm"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/reservation/forms/helper.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L8:()=>saveText,Tb:()=>modalReservationFormSelectTypeIsInterestPeriod,zW:()=>modalReservationFormId});const modalReservationFormId=type=>`modal-reservation-form-${type}`,saveText=({type,changedText,savedText,patron,savePatron})=>{const textDiffers=changedText!==savedText,updatedPatronData=(({type,value,patron:{preferredPickupBranch,preferredLanguage,receiveSms,receivePostalMail,receiveEmail,emailAddress,phoneNumber}})=>{const defaultData={preferredPickupBranch,preferredLanguage,receiveSms,receivePostalMail,receiveEmail,emailAddress,phoneNumber};switch(type){case"email":return{...defaultData,emailAddress:value,receiveEmail:!0};case"sms":return{...defaultData,phoneNumber:value,receiveSms:!0};default:return null}})({type,value:changedText,patron});if(!updatedPatronData)throw new Error("Cannot construct updated patron data");textDiffers&&savePatron(updatedPatronData)};function modalReservationFormSelectTypeIsInterestPeriod(type){return"interestPeriod"===type}},"./src/core/storybook/deleteReservationModalArgs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,U:()=>argTypes});const argTypes={deleteReservationModalHeaderText:{control:{type:"text"}},deleteReservationModalDeleteQuestionText:{control:{type:"text"}},deleteReservationModalNotRegrettableText:{control:{type:"text"}},deleteReservationModalDeleteButtonText:{control:{type:"text"}},deleteReservationModalCloseModalText:{control:{type:"text"}},deleteReservationModalAriaDescriptionText:{control:{type:"text"}}},__WEBPACK_DEFAULT_EXPORT__={deleteReservationModalHeaderText:'{"type":"plural","text":["Cancel reservation","Cancel reservations"]}',deleteReservationModalDeleteQuestionText:'{"type":"plural","text":["Do you want to cancel your reservation?","Do you want to cancel your reservations?"]}',deleteReservationModalNotRegrettableText:"You cannot regret this action",deleteReservationModalDeleteButtonText:'{"type":"plural","text":["Cancel reservation","Cancel reservations"]}',deleteReservationModalCloseModalText:"Close delete reservation modal",deleteReservationModalAriaDescriptionText:"This button opens a modal that covers the entire page and contains the possibility to delete a selected reservation, or multiple selected reservations"}},"./src/core/storybook/reservationMaterialDetailsArgs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,U:()=>argTypes});const argTypes={blacklistedPickupBranchesConfig:{description:"Blacklisted branches",table:{type:{summary:"text"},defaultValue:{summary:"FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024"}},control:{type:"text"}},branchesConfig:{description:"Branches",table:{type:{summary:"text"},defaultValue:{summary:'[{"branchId":"DK-775120","title":"Højbjerg"},{"branchId":"DK-775122","title":"Beder-Malling"},{"branchId":"DK-775144","title":"Gellerup"},{"branchId":"DK-775167","title":"Lystrup"},{"branchId":"DK-775146","title":"Harlev"},{"branchId":"DK-775168","title":"Skødstrup"},{"branchId":"FBS-751010","title":"Arresten"},{"branchId":"DK-775147","title":"Hasle"},{"branchId":"FBS-751032","title":"Må ikke benyttes"},{"branchId":"FBS-751031","title":"Fjernlager 1"},{"branchId":"DK-775126","title":"Solbjerg"},{"branchId":"FBS-751030","title":"ITK"},{"branchId":"DK-775149","title":"Sabro"},{"branchId":"DK-775127","title":"Tranbjerg"},{"branchId":"DK-775160","title":"Risskov"},{"branchId":"DK-775162","title":"Hjortshøj"},{"branchId":"DK-775140","title":"Åby"},{"branchId":"FBS-751009","title":"Fjernlager 2"},{"branchId":"FBS-751029","title":"Stadsarkivet"},{"branchId":"FBS-751027","title":"Intern"},{"branchId":"FBS-751026","title":"Fælles undervejs"},{"branchId":"FBS-751025","title":"Fællessekretariatet"},{"branchId":"DK-775133","title":"Bavnehøj"},{"branchId":"FBS-751024","title":"Fjernlånte materialer"},{"branchId":"DK-775100","title":"Hovedbiblioteket"},{"branchId":"DK-775170","title":"Trige"},{"branchId":"DK-775150","title":"Tilst"},{"branchId":"DK-775130","title":"Viby"},{"branchId":"DK-775164","title":"Egå"}]'}},control:{type:"text"}},reservationDetailsConfig:{table:{type:{summary:"text"},defaultValue:{summary:'{"allowRemoveReadyReservations": true}'}},control:{type:"text"}},interestPeriodsConfig:{table:{type:{summary:"text"},defaultValue:{summary:'{"interestPeriods":[{"value":14,"label":"14 days"},{"value":30,"label":"1 month"},{"value":60,"label":"2 months"},{"value":90,"label":"3 months"},{"value":180,"label":"6 months"},{"value":365,"label":"1 year"}],"defaultInterestPeriod":{"value":14,"label":"14 days"}}'}},control:{type:"text"}},reservationDetailsRemoveDigitalReservationText:{table:{type:{summary:"text"},defaultValue:{summary:"Remove your reservation"}},control:{type:"text"}},reservationDetailsDateOfReservationTitleText:{table:{type:{summary:"text"},defaultValue:{summary:"Date of reservation"}},control:{type:"text"}},reservationDetailsNoInterestAfterTitleText:{table:{type:{summary:"text"},defaultValue:{summary:"Not interested after"}},control:{type:"text"}},reservationDetailsChangeText:{table:{type:{summary:"text"},defaultValue:{summary:"Apply changes"}},control:{type:"text"}},reservationDetailsPickUpAtTitleText:{table:{type:{summary:"text"},defaultValue:{summary:"Pickup branch"}},control:{type:"text"}},reservationDetailsButtonRemoveText:{table:{type:{summary:"text"},defaultValue:{summary:"Remove your reservation"}},control:{type:"text"}},reservationDetailsStatusTitleText:{table:{type:{summary:"text"},defaultValue:{summary:"Status"}},control:{type:"text"}},reservationDetailsBorrowBeforeText:{table:{type:{summary:"text"},defaultValue:{summary:"Borrow before @date"}},control:{type:"text"}},reservationDetailsDigitalReservationGoToEreolenText:{table:{type:{summary:"text"},defaultValue:{summary:"Go to eReolen"}},control:{type:"text"}},reservationDetailsReadyForLoanText:{table:{type:{summary:"text"},defaultValue:{summary:"Ready for pickup"}},control:{type:"text"}},reservationDetailsPickupDeadlineTitleText:{table:{type:{summary:"text"},defaultValue:{summary:"Pickup deadline"}},control:{type:"text"}},reservationDetailsNumberInQueueLabelText:{table:{type:{summary:"text"},defaultValue:{summary:"@count queued"}},control:{type:"text"}},shiftText:{description:"Change",table:{type:{summary:"text"},defaultValue:{summary:"Change"}},control:{type:"text"}},modalReservationFormPickupHeaderTitleText:{description:"Modal reservation form pickup header title",table:{type:{summary:"text"},defaultValue:{summary:"Change pick-up location"}},control:{type:"text"}},modalReservationFormPickupHeaderDescriptionText:{description:"Modal reservation form pickup header description",table:{type:{summary:"text"},defaultValue:{summary:"If you wish to change the pick-up location for your reservation, you can do it here."}},control:{type:"text"}},modalReservationFormNoInterestAfterHeaderTitleText:{description:"Modal reservation form no interest after header title",table:{type:{summary:"text"},defaultValue:{summary:"Change date of interest"}},control:{type:"text"}},modalReservationFormNoInterestAfterHeaderDescriptionText:{description:"Modal reservation form no interest after header description",table:{type:{summary:"text"},defaultValue:{summary:"If you wish to change the amount of time after which you're no longer interested in the material, you can do it here."}},control:{type:"text"}},saveButtonText:{description:"Save button text",table:{type:{summary:"text"},defaultValue:{summary:"Save"}},control:{type:"text"}},chooseOneText:{description:"Choose one text",table:{type:{summary:"text"},defaultValue:{summary:"Choose one"}},control:{type:"text"}},loadingText:{description:"Loading",table:{type:{summary:"text"},defaultValue:{summary:"Loading..."}},control:{type:"text"}},reservationSuccessTitleText:{description:"Reservation success title",table:{type:{summary:"text"},defaultValue:{summary:"Your reservation has been changed"}},control:{type:"text"}},reservationSuccessSubTitleText:{description:"Reservation success sub title",table:{type:{summary:"text"},defaultValue:{summary:"Click the button below to close this window"}},control:{type:"text"}},reservationerrorTitleText:{description:"Reservation error title",table:{type:{summary:"text"},defaultValue:{summary:"Something went wrong"}},control:{type:"text"}},reservationerrorSubTitleText:{description:"Reservation error sub title",table:{type:{summary:"text"},defaultValue:{summary:"Click the button below to close this window and try again"}},control:{type:"text"}},reservationStatusButtonText:{description:"Reservation success button text",table:{type:{summary:"text"},defaultValue:{summary:"Close"}},control:{type:"text"}}},__WEBPACK_DEFAULT_EXPORT__={reservationDetailsRemoveDigitalReservationText:"Remove your reservation",reservationDetailsDateOfReservationTitleText:"Date of reservation",reservationDetailsNumberInQueueLabelText:"@count queued",reservationDetailsNoInterestAfterTitleText:"Not interested after",reservationDetailsChangeText:"Apply changes",reservationDetailsPickUpAtTitleText:"Pickup branch",reservationDetailsButtonRemoveText:"Remove your reservation",reservationDetailsStatusTitleText:"Status",reservationDetailsBorrowBeforeText:"Borrow before @date",reservationDetailsDigitalReservationGoToEreolenText:"Go to eReolen",reservationDetailsReadyForLoanText:"Ready for pickup",reservationDetailsPickupDeadlineTitleText:"Pickup deadline",interestPeriodsConfig:'{"interestPeriods":[ { "value":14, "label":"14 days" }, { "value":30, "label":"1 month" }, { "value":60, "label":"2 months" }, { "value":90, "label":"3 months" }, { "value":180, "label":"6 months" }, { "value":365, "label":"1 year" } ], "defaultInterestPeriod":{ "value":14, "label":"14 days" } }',reservationDetailsConfig:'{"allowRemoveReadyReservations": true}',branchesConfig:'[{ "branchId":"DK-775120", "title":"Højbjerg" }, { "branchId":"DK-775122", "title":"Beder-Malling" }, { "branchId":"DK-775144", "title":"Gellerup" }, { "branchId":"DK-775167", "title":"Lystrup" }, { "branchId":"DK-775146", "title":"Harlev" }, { "branchId":"DK-775168", "title":"Skødstrup" }, { "branchId":"FBS-751010", "title":"Arresten" }, { "branchId":"DK-775147", "title":"Hasle" }, { "branchId":"FBS-751032", "title":"Må ikke benyttes" }, { "branchId":"FBS-751031", "title":"Fjernlager 1" }, { "branchId":"DK-775126", "title":"Solbjerg" }, { "branchId":"FBS-751030", "title":"ITK" }, { "branchId":"DK-775149", "title":"Sabro" }, { "branchId":"DK-775127", "title":"Tranbjerg" }, { "branchId":"DK-775160", "title":"Risskov" }, { "branchId":"DK-775162", "title":"Hjortshøj" }, { "branchId":"DK-775140", "title":"Åby" }, { "branchId":"FBS-751009", "title":"Fjernlager 2" }, { "branchId":"FBS-751029", "title":"Stadsarkivet" }, { "branchId":"FBS-751027", "title":"Intern" }, { "branchId":"FBS-751026", "title":"Fælles undervejs" }, { "branchId":"FBS-751025", "title":"Fællessekretariatet" }, { "branchId":"DK-775133", "title":"Bavnehøj" }, { "branchId":"FBS-751024", "title":"Fjernlånte materialer" }, { "branchId":"DK-775100", "title":"Hovedbiblioteket" }, { "branchId":"DK-775170", "title":"Trige" }, { "branchId":"DK-775150", "title":"Tilst" }, { "branchId":"DK-775130", "title":"Viby" }, { "branchId":"DK-775164", "title":"Egå" }]',blacklistedPickupBranchesConfig:"FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",shiftText:"Change",modalReservationFormPickupHeaderTitleText:"Change pick-up location",modalReservationFormPickupHeaderDescriptionText:"If you wish to change the pick-up location for your reservation, you can do it here.",saveButtonText:"Save",modalReservationFormNoInterestAfterHeaderTitleText:"Change date of interest",modalReservationFormNoInterestAfterHeaderDescriptionText:"If you wish to change the amount of time after which you're no longer interested in the material, you can do it here.",chooseOneText:"Choose one",loadingText:"Loading...",reservationSuccessTitleText:"Your reservation has been changed",reservationSuccessSubTitleText:"Click the button below to close this window",reservationerrorTitleText:"Something went wrong",reservationerrorSubTitleText:"Click the button below to close this window and try again",reservationStatusButtonText:"Close"}},"./src/core/utils/types/reservation-type.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BP:()=>isDigitalReservation,OQ:()=>reservationId,uT:()=>isPhysicalReservation});__webpack_require__("./node_modules/core-js/modules/esnext.string.at.js");function reservationId(reservation){return null!=reservation&&reservation.reservationIds&&reservation.reservationIds.length>0?String(reservation.reservationIds.at(0)):String(reservation.identifier)}function isPhysicalReservation(reservation){return!!reservation.faust&&!!reservation.reservationIds&&reservation.reservationIds.length>0}function isDigitalReservation(reservation){return!!reservation.identifier}},"./src/core/utils/useReservations.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>utils_useReservations});var publizon=__webpack_require__("./src/core/publizon/publizon.ts"),list_mapper=__webpack_require__("./src/core/utils/helpers/list-mapper.ts"),helpers=__webpack_require__("./src/apps/reservation-list/utils/helpers.ts");const api_strings_namespaceObject_h="reserved";var reduce=__webpack_require__("./node_modules/lodash/reduce.js"),reduce_default=__webpack_require__.n(reduce),min=__webpack_require__("./node_modules/lodash/min.js"),min_default=__webpack_require__.n(min),map=__webpack_require__("./node_modules/lodash/map.js"),map_default=__webpack_require__.n(map),groupBy=__webpack_require__("./node_modules/lodash/groupBy.js"),groupBy_default=__webpack_require__.n(groupBy),fbs=__webpack_require__("./src/core/fbs/fbs.ts");function groupReservations(data){const reservationGroups=groupBy_default()(data,(reservation=>"parallel"===reservation.reservationType?reservation.transactionId:reservation.reservationId));return map_default()(reservationGroups,(reservationGroup=>({...reservationGroup[0],numberInQueue:min_default()(map_default()(reservationGroup,"numberInQueue")),records:reduce_default()(reservationGroup,((result,reservation)=>({...result,[reservation.recordId]:reservation.reservationId})),{})})))}const utils_useGetReservationGroups=()=>{const result=(0,fbs.$6)();return{...result,data:result.data&&Array.isArray(result.data)?groupReservations(result.data):null}};const getQueuedReservations=list=>[...list].filter((({state})=>state===api_strings_namespaceObject_h)),utils_useReservations=()=>{const{data:reservationsFbs,isLoading:isLoadingFbs,isError:isErrorFbs}=utils_useGetReservationGroups(),{data:reservationsPublizon,isLoading:isLoadingPublizon,isError:isErrorPublizon}=(0,publizon.pA)(),reservationsIsLoading=isLoadingFbs||isLoadingPublizon,reservationsIsError=isErrorFbs||isErrorPublizon,mappedReservationsFbs=reservationsFbs?(0,list_mapper.sl)(reservationsFbs):[],mappedReservationsPublizon=null!=reservationsPublizon&&reservationsPublizon.reservations?(0,list_mapper.hg)(reservationsPublizon.reservations):[],reservations=[...mappedReservationsFbs,...mappedReservationsPublizon],reservationsReadyToLoanFBS=(0,helpers.JU)(mappedReservationsFbs),reservationsReadyToLoanPublizon=(0,helpers.JU)(mappedReservationsPublizon),reservationsReadyToLoan=[...reservationsReadyToLoanFBS,...reservationsReadyToLoanPublizon],reservationsQueuedFBS=getQueuedReservations(mappedReservationsFbs),reservationsQueuedPublizon=getQueuedReservations(mappedReservationsPublizon);return{all:{reservations,readyToLoan:reservationsReadyToLoan,queued:[...reservationsQueuedFBS,...reservationsQueuedPublizon],isLoading:reservationsIsLoading,isError:reservationsIsError},fbs:{reservations:mappedReservationsFbs,readyToLoan:reservationsReadyToLoanFBS,queued:reservationsQueuedFBS,isLoading:isLoadingFbs,isError:isErrorFbs},publizon:{reservations:mappedReservationsPublizon,readyToLoan:reservationsReadyToLoanPublizon,queued:reservationsQueuedPublizon,isLoading:isLoadingPublizon,isError:isErrorPublizon}}}}}]);