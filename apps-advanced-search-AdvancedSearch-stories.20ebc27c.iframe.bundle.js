"use strict";(globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react=globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react||[]).push([[2242],{"./src/apps/advanced-search/AdvancedSearch.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,default:()=>AdvancedSearch_stories});var serviceUrlArgs=__webpack_require__("./src/core/storybook/serviceUrlArgs.ts"),globalTextArgs=__webpack_require__("./src/core/storybook/globalTextArgs.ts"),globalConfigArgs=__webpack_require__("./src/core/storybook/globalConfigArgs.ts"),react=__webpack_require__("./node_modules/react/index.js"),guarded_app=__webpack_require__("./src/components/guarded-app.tsx"),config=__webpack_require__("./src/core/utils/config.tsx"),general=__webpack_require__("./src/core/utils/helpers/general.ts"),utils_text=__webpack_require__("./src/core/utils/text.tsx"),url=__webpack_require__("./src/core/utils/url.tsx"),useEffectOnce=__webpack_require__("./node_modules/react-use/esm/useEffectOnce.js"),ExpandMore=(__webpack_require__("./node_modules/core-js/modules/esnext.string.at.js"),__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/ExpandMore.svg")),ExpandMore_default=__webpack_require__.n(ExpandMore),MinusButton=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/MinusButton.svg"),MinusButton_default=__webpack_require__.n(MinusButton),PlusButton=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/PlusButton.svg"),PlusButton_default=__webpack_require__.n(PlusButton),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs");const advancedSearchIndexes=["all","term.creatorcontributor","term.subject","term.genreandform","term.mainlanguage","datefirstedition","term.creator","term.title","term.source","dk5","term.specificmaterialtype","term.childrenoradults","term.publisher","term.isbn"],advancedSearchIndexTranslations={all:"advancedSearchAllIndexesText","term.creatorcontributor":"advancedSearchCreatorText","term.subject":"advancedSearchSubjectText","term.genreandform":"advancedSearchGenreText","term.mainlanguage":"advancedSearchLanguageText",datefirstedition:"advancedSearchDateText","term.creator":"advancedSearchMainCreatorText","term.title":"advancedSearchMainTitleText","term.source":"advancedSearchSourceText",dk5:"advancedSearchDecimalDk5Text","term.specificmaterialtype":"advancedSearchTypeText","term.childrenoradults":"advancedSearchAudienceText","term.publisher":"advancedSearchPublisherText","term.isbn":"advancedSearchIdentifierText"},advancedSearchClauses=[{value:"AND",translation:"clauseAndText"},{value:"OR",translation:"clauseOrText"},{value:"NOT",translation:"clauseNotText"}],initialAdvancedSearchQuery={rows:[{term:"",searchIndex:"all",clause:advancedSearchClauses[0],id:0},{term:"",searchIndex:"all",clause:advancedSearchClauses[0],id:1}],filters:{materialTypes:[{item:"multiselectAllOptionText",value:"all"}],fiction:[{item:"multiselectAllOptionText",value:"all"}],accessibility:[{item:"multiselectAllOptionText",value:"all"}]}},advancedSearchMaterialTypes=[{item:"advancedSearchFilterBookText",value:"bøger"},{item:"advancedSearchFilterEbookText",value:"e-bøger"},{item:"advancedSearchFilterAudioBookText",value:"lydbøger"},{item:"advancedSearchFilterArticleText",value:"artikler"},{item:"advancedSearchFilterMovieText",value:"film"},{item:"advancedSearchFilterMusicText",value:"musik"}],advancedSearchAccessibility=[{item:"advancedSearchFilterPhysicalText",value:"fysisk"},{item:"advancedSearchFilterOnlineText",value:"online"}],advancedSearchFiction=[{item:"advancedSearchFilterFictionText",value:"fiction"},{item:"advancedSearchFilterNonFictionText",value:"nonfiction"}],advancedSearchFilters={materialTypes:"term.generalmaterialtype",fiction:"term.fictionnonfiction",accessibility:"term.accesstype"},AdvancedSearchRow=({dataCy="advanced-search-row",data,rowIndex,isFocused,setSearchObject,setFocusedRow})=>{const t=(0,utils_text.F)(),updateRowData=(rowAspect,update,updateData)=>{const newData={...data};newData.rows[rowIndex][rowAspect]=update,updateData(newData)},inputElement=(0,react.useRef)(null);return(0,react.useEffect)((()=>{var _inputElement$current;isFocused&&(null===(_inputElement$current=inputElement.current)||void 0===_inputElement$current||_inputElement$current.focus())}),[isFocused]),react.createElement(react.Fragment,null,rowIndex>0&&react.createElement("div",{className:"advanced-search__clauses","data-cy":"clauses"},advancedSearchClauses.map((clause=>{return react.createElement("button",{key:`${rowIndex}-${clause.value}`,"data-cy":`clause-${clause.value}`,type:"button",className:(clickedClause=clause.value,currentClause=data.rows[rowIndex].clause.value,(0,clsx.A)("advanced-search__clause focus-styling cursor-pointer capitalize-all",{"advanced-search__clause--grey":currentClause!==clickedClause})),onClick:()=>{updateRowData("clause",clause,setSearchObject)}},t(clause.translation));var clickedClause,currentClause}))),react.createElement("div",{className:"input-with-dropdown","data-cy":dataCy},react.createElement("label",{htmlFor:`advanced-search-input-${rowIndex}`,className:"hide-visually"},t("advancedSearchInputLabelText",{placeholders:{"@inputNumber":rowIndex+1}})),react.createElement("input",{id:`advanced-search-input-${rowIndex}`,ref:inputElement,className:"input-with-dropdown__input focus-styling__input capitalize-first",type:"text",placeholder:t("advancedSearchInputPlaceholderText"),value:data.rows[rowIndex].term,onChange:e=>{updateRowData("term",e.target.value,setSearchObject)}}),react.createElement("div",{className:"dropdown dropdown--grey-borders input-with-dropdown__dropdown"},react.createElement("select",{className:"dropdown__select dropdown__select--inline focus-styling","aria-label":"input field dropdown",value:data.rows[rowIndex].searchIndex,onChange:e=>{updateRowData("searchIndex",e.target.value,setSearchObject)}},advancedSearchIndexes.map((index=>react.createElement("option",{key:index,className:"dropdown__option",value:index},t(advancedSearchIndexTranslations[index]))))),react.createElement("div",{className:"dropdown__arrows dropdown__arrows--inline"},react.createElement("img",{className:"dropdown__arrow",src:ExpandMore_default(),alt:""}))),data.rows.length>1&&react.createElement("button",{type:"button",onClick:()=>{((index,updateData)=>{const newData={...data};newData.rows.splice(index,1),updateData(newData),newData.rows.length===index?setFocusedRow(index-1):setFocusedRow(index)})(rowIndex,setSearchObject)},"aria-label":t("advancedSearchRemoveRowText",{placeholders:{"@inputNumber":rowIndex+1}})},react.createElement("img",{className:"input-with-dropdown__icon",src:MinusButton_default(),alt:""}))),rowIndex===data.rows.length-1&&react.createElement("button",{type:"button",className:"advanced-search__clauses cursor-pointer",onClick:()=>{(updateData=>{const newData={...data};newData.rows.push(structuredClone(initialAdvancedSearchQuery.rows.at(0))),newData.rows[newData.rows.length-1].id=newData.rows[newData.rows.length-2].id+1,updateData(newData),setFocusedRow(rowIndex+1)})(setSearchObject)},"data-cy":"advanced-search-add-row"},react.createElement("img",{className:"mr-8",src:PlusButton_default(),alt:""}),t("advancedSearchAddRowText")))},advanced_search_AdvancedSearchRow=AdvancedSearchRow;try{AdvancedSearchRow.displayName="AdvancedSearchRow",AdvancedSearchRow.__docgenInfo={description:"",displayName:"AdvancedSearchRow",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"AdvancedSearchQuery"}},dataCy:{defaultValue:{value:"advanced-search-row"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},isFocused:{defaultValue:null,description:"",name:"isFocused",required:!1,type:{name:"boolean | undefined"}},setSearchObject:{defaultValue:null,description:"",name:"setSearchObject",required:!0,type:{name:"(searchObject: AdvancedSearchQuery) => void"}},setFocusedRow:{defaultValue:null,description:"",name:"setFocusedRow",required:!0,type:{name:"(rowIndex: number) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search/AdvancedSearchRow.tsx#AdvancedSearchRow"]={docgenInfo:AdvancedSearchRow.__docgenInfo,name:"AdvancedSearchRow",path:"src/apps/advanced-search/AdvancedSearchRow.tsx#AdvancedSearchRow"})}catch(__react_docgen_typescript_loader_error){}var useCopyToClipboard=__webpack_require__("./node_modules/react-use/esm/useCopyToClipboard.js"),Check=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Check.svg"),Check_default=__webpack_require__.n(Check);const PreviewSection=({dataCy="preview-section",translatedCql,reset,isMobile,setIsFormMode})=>{const t=(0,utils_text.F)(),[,copy]=(0,useCopyToClipboard.A)(),[copiedToClipboard,setCopiedToClipboard]=(0,react.useState)(!1);return(0,react.useEffect)((()=>(copiedToClipboard&&setTimeout((()=>{setCopiedToClipboard(!1)}),2e3),()=>{})),[copiedToClipboard]),react.createElement("div",{"data-cy":dataCy,className:(0,clsx.A)("pagefold-parent--large input-and-preview__preview",{"input-and-preview__preview--mobile":isMobile})},react.createElement("div",{className:"pagefold-triangle--large pagefold-inherit-parent"}),react.createElement("h3",{className:"text-body-medium-medium mb-24 capitalize-first"},t("advancedSearchPreviewHeadlineText")),react.createElement("p",{"data-cy":`${dataCy}-preview`,className:"text-body-medium-regular mb-32"},translatedCql||t("advancedSearchPreviewEmptyText")),react.createElement("section",null,react.createElement("button",{type:"button",className:"link-tag mr-16 cursor-pointer capitalize-first",onClick:()=>reset(),"data-cy":"advanced-search-reset"},t("advancedSearchResetText")),translatedCql&&react.createElement("button",{type:"button",className:(0,clsx.A)("link-tag mr-16 capitalize-first",{"cursor-pointer":!copiedToClipboard}),onClick:()=>{copy(translatedCql),setCopiedToClipboard(!0)},onKeyUp:e=>{"Enter"===e.key&&(copy(translatedCql),setCopiedToClipboard(!0))}},copiedToClipboard&&react.createElement(react.Fragment,null,t("copiedToClipboardText"),react.createElement("img",{className:"inline-icon",src:Check_default(),alt:""})),!copiedToClipboard&&t("advancedSearchCopyStringText")),react.createElement("button",{type:"button",className:"link-tag link-tag cursor-pointer capitalize-first",onClick:()=>setIsFormMode(!1),onKeyUp:e=>"Enter"===e.key??setIsFormMode(!1),"data-cy":"advanced-search-edit-cql"},t("advancedSearchEditCqlText"))))},advanced_search_PreviewSection=PreviewSection;try{PreviewSection.displayName="PreviewSection",PreviewSection.__docgenInfo={description:"",displayName:"PreviewSection",props:{dataCy:{defaultValue:{value:"preview-section"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}},translatedCql:{defaultValue:null,description:"",name:"translatedCql",required:!0,type:{name:"string"}},reset:{defaultValue:null,description:"",name:"reset",required:!0,type:{name:"() => void"}},isMobile:{defaultValue:null,description:"",name:"isMobile",required:!1,type:{name:"boolean | undefined"}},setIsFormMode:{defaultValue:null,description:"",name:"setIsFormMode",required:!0,type:{name:"(newState: boolean) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search/PreviewSection.tsx#PreviewSection"]={docgenInfo:PreviewSection.__docgenInfo,name:"PreviewSection",path:"src/apps/advanced-search/PreviewSection.tsx#PreviewSection"})}catch(__react_docgen_typescript_loader_error){}var Multiselect=__webpack_require__("./src/components/multiselect/Multiselect.tsx"),Checkbox=__webpack_require__("./src/components/checkbox/Checkbox.tsx"),Label=__webpack_require__("./src/components/forms/label/Label.tsx");const Textarea=({id,label,rows=8,cols=80,className,placeholder,onChange,defaultValue,dataCy})=>react.createElement("div",{className:"dpl-input"},react.createElement(Label.A,{id},label),react.createElement("div",null,react.createElement("textarea",{"data-cy":dataCy,className:(0,clsx.A)(className),id,rows,cols,placeholder,onChange,defaultValue}))),textarea_Textarea=Textarea;try{Textarea.displayName="Textarea",Textarea.__docgenInfo={description:"",displayName:"Textarea",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},rows:{defaultValue:{value:"8"},description:"",name:"rows",required:!1,type:{name:"number | undefined"}},cols:{defaultValue:{value:"80"},description:"",name:"cols",required:!1,type:{name:"number | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string | undefined"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((event: ChangeEvent<HTMLTextAreaElement>) => void) | undefined"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string | undefined"}},dataCy:{defaultValue:null,description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/forms/textarea/Textarea.tsx#Textarea"]={docgenInfo:Textarea.__docgenInfo,name:"Textarea",path:"src/components/forms/textarea/Textarea.tsx#Textarea"})}catch(__react_docgen_typescript_loader_error){}var TextInput=__webpack_require__("./src/components/forms/input/TextInput.tsx");const CqlSearchHeader=({dataCy="cql-search-header",initialCql,setCql,onShelf,handleOnShelfChange,onLocationChange,onSublocationChange,locationFilter})=>{var _locationFilter$locat,_locationFilter$sublo;const t=(0,utils_text.F)();(0,react.useEffect)((()=>{""!==initialCql.trim()&&setCql(initialCql)}),[initialCql,setCql]);const[inputValues,setInputValues]=(0,react.useState)({location:(null==locationFilter||null===(_locationFilter$locat=locationFilter.location)||void 0===_locationFilter$locat?void 0:_locationFilter$locat.join(", "))??"",sublocation:(null==locationFilter||null===(_locationFilter$sublo=locationFilter.sublocation)||void 0===_locationFilter$sublo?void 0:_locationFilter$sublo.join(", "))??""}),handleInputChange=(name,value)=>{setInputValues((prevValues=>({...prevValues,[name]:value}))),"location"===name&&onLocationChange(value),"sublocation"===name&&onSublocationChange(value)};return react.createElement(react.Fragment,null,react.createElement("h1",{className:"text-header-h2 advanced-search__title capitalize-first","data-cy":dataCy},t("cqlSearchTitleText")),react.createElement("form",{className:"advanced-search-cql-form"},react.createElement(textarea_Textarea,{id:"cql",label:"CQL",className:"advanced-search-cql-form__input focus-styling__input",cols:100,rows:5,placeholder:"e.g. 'harry potter'",dataCy:`${dataCy}-input`,onChange:e=>setCql(e.target.value),defaultValue:initialCql}),react.createElement(TextInput.A,{id:"location",label:t("advancedSearchFilterLocationText"),description:t("advancedSearchFilterLocationDescriptionText"),type:"text",onChange:location=>handleInputChange("location",location),value:inputValues.location}),react.createElement(TextInput.A,{id:"sublocation",label:t("advancedSearchFilterSublocationText"),description:t("advancedSearchFilterSublocationDescriptionText"),type:"text",onChange:sublocation=>handleInputChange("sublocation",sublocation),value:inputValues.sublocation}),react.createElement(Checkbox.A,{id:"on-shelf",selected:onShelf,onChecked:handleOnShelfChange,label:t("advancedSearchFilterHoldingStatusText")})))},advanced_search_CqlSearchHeader=CqlSearchHeader;try{CqlSearchHeader.displayName="CqlSearchHeader",CqlSearchHeader.__docgenInfo={description:"",displayName:"CqlSearchHeader",props:{dataCy:{defaultValue:{value:"cql-search-header"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}},initialCql:{defaultValue:null,description:"",name:"initialCql",required:!0,type:{name:"string"}},setCql:{defaultValue:null,description:"",name:"setCql",required:!0,type:{name:"(newState: string) => void"}},onShelf:{defaultValue:null,description:"",name:"onShelf",required:!0,type:{name:"boolean"}},handleOnShelfChange:{defaultValue:null,description:"",name:"handleOnShelfChange",required:!0,type:{name:"(newState: boolean) => void"}},onLocationChange:{defaultValue:null,description:"",name:"onLocationChange",required:!0,type:{name:"(location: string) => void"}},onSublocationChange:{defaultValue:null,description:"",name:"onSublocationChange",required:!0,type:{name:"(sublocation: string) => void"}},locationFilter:{defaultValue:null,description:"",name:"locationFilter",required:!0,type:{name:"LocationFilter"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search/CqlSearchHeader.tsx#CqlSearchHeader"]={docgenInfo:CqlSearchHeader.__docgenInfo,name:"CqlSearchHeader",path:"src/apps/advanced-search/CqlSearchHeader.tsx#CqlSearchHeader"})}catch(__react_docgen_typescript_loader_error){}const translateFiltersToCql=filtersToTranslate=>Object.keys(filtersToTranslate).map((key=>filtersToTranslate[key])).reduce(((acc,curr,index)=>acc+((filterToTranslate,cqlKey)=>{let translation=filterToTranslate.reduce(((acc,curr)=>{let filterTranslation="";const relation=""===acc.trim()?" AND":" OR";return"all"===curr.value?`${acc}`:(filterTranslation=filterTranslation.concat(relation,` ${advancedSearchFilters[cqlKey]}=`,`'${curr.value}'`),acc+filterTranslation)}),"");return filterToTranslate.length>1&&(translation=` AND (${translation.split(" AND")[1]})`),translation})(curr,Object.keys(filtersToTranslate)[index])),""),wrapFiltersInParentheses=filters=>{if(""===filters.trim())return"";if(!filters.includes(" OR "))return filters;return`${filters.split(" AND",2).join(" AND (")})`},translateSearchObjectToCql=searchObject=>`${searchObject.rows.reduce(((acc,curr)=>{let rowTranslation="";return""!==acc&&""!==curr.term.trim()&&(rowTranslation=rowTranslation.concat(" ",curr.clause.value)),"all"!==curr.searchIndex&&""!==curr.term.trim()&&(rowTranslation=rowTranslation.concat(" ",curr.searchIndex,"=")),""!==curr.term&&(rowTranslation=rowTranslation.concat((currentText=>{let space="";switch(currentText.trim()){case"":space="";break;default:if(currentText.trim().endsWith("=")){space="";break}space=" "}return space})(acc),"'",curr.term,"'")),acc+rowTranslation}),"")}${translateFiltersToCql(searchObject.filters)}`,commaSeparatedStringToArray=input=>input.split(",").map((s=>s.trim())).filter((s=>s.length>0));try{wrapFiltersInParentheses.displayName="wrapFiltersInParentheses",wrapFiltersInParentheses.__docgenInfo={description:"",displayName:"wrapFiltersInParentheses",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search/helpers.tsx#wrapFiltersInParentheses"]={docgenInfo:wrapFiltersInParentheses.__docgenInfo,name:"wrapFiltersInParentheses",path:"src/apps/advanced-search/helpers.tsx#wrapFiltersInParentheses"})}catch(__react_docgen_typescript_loader_error){}try{translateSearchObjectToCql.displayName="translateSearchObjectToCql",translateSearchObjectToCql.__docgenInfo={description:"",displayName:"translateSearchObjectToCql",props:{rows:{defaultValue:null,description:"",name:"rows",required:!0,type:{name:"AdvancedSearchRowData[]"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"AdvancedSearchFilterData"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search/helpers.tsx#translateSearchObjectToCql"]={docgenInfo:translateSearchObjectToCql.__docgenInfo,name:"translateSearchObjectToCql",path:"src/apps/advanced-search/helpers.tsx#translateSearchObjectToCql"})}catch(__react_docgen_typescript_loader_error){}try{commaSeparatedStringToArray.displayName="commaSeparatedStringToArray",commaSeparatedStringToArray.__docgenInfo={description:"",displayName:"commaSeparatedStringToArray",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search/helpers.tsx#commaSeparatedStringToArray"]={docgenInfo:commaSeparatedStringToArray.__docgenInfo,name:"commaSeparatedStringToArray",path:"src/apps/advanced-search/helpers.tsx#commaSeparatedStringToArray"})}catch(__react_docgen_typescript_loader_error){}var Button=__webpack_require__("./src/components/Buttons/Button.tsx");const AdvancedSearchHeader=({dataCy="advanced-search-header",searchQuery,setSearchQuery,searchObject,setSearchObject,onShelf,setOnShelf,onLocationChange,onSublocationChange,locationFilter})=>{const t=(0,utils_text.F)(),[isFormMode,setIsFormMode]=(0,react.useState)(!0),[internalSearchObject,setInternalSearchObject]=(0,react.useState)(searchObject||structuredClone(initialAdvancedSearchQuery)),[previewCql,setPreviewCql]=(0,react.useState)(searchQuery||""),[rawCql,setRawCql]=(0,react.useState)(""),[focusedRow,setFocusedRow]=(0,react.useState)(null),handleOnShelfChange=checked=>{setOnShelf(checked)};(0,react.useEffect)((()=>{null!==searchObject&&setInternalSearchObject(searchObject)}),[searchObject]),(0,react.useEffect)((()=>{const cql=translateSearchObjectToCql(internalSearchObject);setPreviewCql(cql)}),[internalSearchObject]);const updateFiltersData=filtersUpdate=>{if(null==internalSearchObject||!internalSearchObject.filters[filtersUpdate.key].length)return;const newSearchObject={...internalSearchObject};newSearchObject.filters={...newSearchObject.filters,[filtersUpdate.key]:filtersUpdate.value},setInternalSearchObject(newSearchObject)},reset=()=>{setSearchObject(structuredClone(initialAdvancedSearchQuery))},scrollToResults=()=>{const element=document.getElementById("advanced-search-result");element&&element.scrollIntoView({behavior:"smooth"})},[isSearchButtonDisabled,setIsSearchButtonDisabled]=(0,react.useState)(!0),translatedCql=previewCql||searchQuery||"";return(0,react.useEffect)((()=>{searchQuery&&!searchObject&&setIsFormMode(!1)}),[searchObject,searchQuery]),(0,react.useEffect)((()=>{var object,cql;setIsSearchButtonDisabled((object=internalSearchObject,cql=rawCql,!0===isFormMode?!(object&&object.rows.find((row=>""!==row.term))):""===cql.trim()))}),[internalSearchObject,rawCql,isFormMode]),react.createElement(react.Fragment,null,isFormMode&&react.createElement(react.Fragment,null,react.createElement("h1",{className:"text-header-h2 advanced-search__title capitalize-first"},t("advancedSearchTitleText")),react.createElement("div",{className:"input-and-preview"},react.createElement("div",{className:"input-and-preview__input"},internalSearchObject.rows.map(((row,index)=>react.createElement(advanced_search_AdvancedSearchRow,{key:row.id,data:internalSearchObject,rowIndex:index,setSearchObject:setInternalSearchObject,dataCy:`${dataCy}-row`,setFocusedRow,isFocused:focusedRow===index})))),react.createElement(advanced_search_PreviewSection,{translatedCql,reset,setIsFormMode})),react.createElement("section",{className:"advanced-search__filters"},react.createElement("div",{className:"advanced-search__filter"},react.createElement(Multiselect.A,{caption:t("advancedSearchFilterMaterialTypeText"),options:advancedSearchMaterialTypes,defaultValue:internalSearchObject.filters.materialTypes,updateExternalState:{key:"materialTypes",externalUpdateFunction:updateFiltersData},dataCy:"advanced-search-material-types"})),react.createElement("div",{className:"advanced-search__filter"},react.createElement(Multiselect.A,{caption:t("advancedSearchFilterLiteratureFormText"),options:advancedSearchFiction,defaultValue:internalSearchObject.filters.fiction,updateExternalState:{key:"fiction",externalUpdateFunction:updateFiltersData},dataCy:"advanced-search-fiction"})),react.createElement("div",{className:"advanced-search__filter"},react.createElement(Multiselect.A,{caption:t("advancedSearchFilterAccessText"),options:advancedSearchAccessibility,defaultValue:internalSearchObject.filters.accessibility,updateExternalState:{key:"accessibility",externalUpdateFunction:updateFiltersData},dataCy:"advanced-search-accessibility"}))),react.createElement(Checkbox.A,{id:"on-shelf",selected:onShelf,onChecked:handleOnShelfChange,label:t("advancedSearchFilterHoldingStatusText")}),react.createElement(advanced_search_PreviewSection,{translatedCql,reset,isMobile:!0,setIsFormMode})),!isFormMode&&react.createElement(advanced_search_CqlSearchHeader,{initialCql:translatedCql,setCql:setRawCql,onShelf,handleOnShelfChange,onLocationChange,onSublocationChange,locationFilter}),react.createElement("section",{className:"advanced-search__footer"},!isFormMode&&react.createElement("button",{type:"button",className:"link-tag advanced-search__back-button cursor-pointer",onClick:()=>setIsFormMode(!0),onKeyUp:e=>"Enter"===e.key??setIsFormMode(!1)},t("toAdvancedSearchButtonText")),react.createElement(Button.$,{dataCy:"search-button",buttonType:"none",disabled:isSearchButtonDisabled,size:"xlarge",variant:"filled",classNames:"advanced-search__search-button",collapsible:!0,label:t("advancedSearchSearchButtonText"),onClick:()=>{if(""!==rawCql.trim()&&!isFormMode)return setSearchQuery(rawCql),void setTimeout((()=>{scrollToResults()}),500);setSearchObject(internalSearchObject),setTimeout((()=>{scrollToResults()}),500)}})))},advanced_search_AdvancedSearchHeader=AdvancedSearchHeader;try{AdvancedSearchHeader.displayName="AdvancedSearchHeader",AdvancedSearchHeader.__docgenInfo={description:"",displayName:"AdvancedSearchHeader",props:{dataCy:{defaultValue:{value:"advanced-search-header"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}},searchQuery:{defaultValue:null,description:"",name:"searchQuery",required:!0,type:{name:"string | null"}},setSearchQuery:{defaultValue:null,description:"",name:"setSearchQuery",required:!0,type:{name:"(searchQuery: string | null) => void"}},searchObject:{defaultValue:null,description:"",name:"searchObject",required:!0,type:{name:"AdvancedSearchQuery | null"}},setSearchObject:{defaultValue:null,description:"",name:"setSearchObject",required:!0,type:{name:"(searchObject: AdvancedSearchQuery | null) => void"}},onShelf:{defaultValue:null,description:"",name:"onShelf",required:!0,type:{name:"boolean"}},setOnShelf:{defaultValue:null,description:"",name:"setOnShelf",required:!0,type:{name:"(checked: boolean) => void"}},onLocationChange:{defaultValue:null,description:"",name:"onLocationChange",required:!0,type:{name:"(location: string) => void"}},onSublocationChange:{defaultValue:null,description:"",name:"onSublocationChange",required:!0,type:{name:"(sublocation: string) => void"}},locationFilter:{defaultValue:null,description:"",name:"locationFilter",required:!0,type:{name:"LocationFilter"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search/AdvancedSearchHeader.tsx#AdvancedSearchHeader"]={docgenInfo:AdvancedSearchHeader.__docgenInfo,name:"AdvancedSearchHeader",path:"src/apps/advanced-search/AdvancedSearchHeader.tsx#AdvancedSearchHeader"})}catch(__react_docgen_typescript_loader_error){}var branches=__webpack_require__("./src/core/utils/branches.tsx"),graphql=__webpack_require__("./src/core/dbc-gateway/generated/graphql.tsx"),use_pager=__webpack_require__("./src/components/result-pager/use-pager.tsx"),SearchResultList=__webpack_require__("./src/components/card-item-list/SearchResultList.tsx"),search_result_zero_hits=__webpack_require__("./src/apps/search-result/search-result-zero-hits.tsx"),helpers_url=__webpack_require__("./src/core/utils/helpers/url.ts");const advanced_search_AdvancedSearchResults=({q,pageSize,showContentOnly,onShelf,locationFilter})=>{var _locationFilter$locat,_locationFilter$sublo;const t=(0,utils_text.F)(),[copiedLinkToSearch,setCopiedLinkToSearch]=(0,react.useState)(!1),cleanBranches=(0,branches.Ay)(),[resultItems,setResultItems]=(0,react.useState)([]),[hitcount,setHitCount]=(0,react.useState)(0),{PagerComponent,page}=(0,use_pager.A)({hitcount,pageSize}),[cql,setCql]=(0,react.useState)(q),[,copy]=(0,useCopyToClipboard.A)();(0,react.useEffect)((()=>{setCql(q)}),[q]),(0,react.useEffect)((()=>{const searchParams=new URLSearchParams(window.location.search);searchParams.get("q")&&setCql((prev=>searchParams.get("q")||prev))}),[]),(0,react.useEffect)((()=>{setResultItems([])}),[q,pageSize]);const{data,isLoading}=(0,graphql.YP)({cql,offset:page*pageSize,limit:pageSize,filters:{branchId:cleanBranches,status:onShelf?[graphql.KZ.Onshelf]:[],...(null==locationFilter||null===(_locationFilter$locat=locationFilter.location)||void 0===_locationFilter$locat?void 0:_locationFilter$locat.length)&&{location:locationFilter.location},...(null==locationFilter||null===(_locationFilter$sublo=locationFilter.sublocation)||void 0===_locationFilter$sublo?void 0:_locationFilter$sublo.length)&&{sublocation:locationFilter.sublocation}}});(0,react.useEffect)((()=>{if(!data)return;const{complexSearch:{works:resultWorks,hitcount:resultCount}}=data;setHitCount(resultCount),setResultItems(page>0?prev=>[...prev,...resultWorks]:resultWorks)}),[data,locationFilter,page]);const shouldShowSearchResults=isLoading||!isLoading&&hitcount>0,shouldShowResultHeadline=!(!hitcount||isLoading);return(0,react.useEffect)((()=>{copiedLinkToSearch&&setTimeout((()=>{setCopiedLinkToSearch(!1)}),2e3)}),[copiedLinkToSearch]),react.createElement(react.Fragment,null,!showContentOnly&&react.createElement("div",{className:"advanced-search__divider"}),react.createElement("section",{className:"content-list-page"},react.createElement("h2",{className:"content-list-page__heading",id:"advanced-search-result","aria-live":"polite"},isLoading&&react.createElement(react.Fragment,null,t("loadingResultsText")),shouldShowResultHeadline&&react.createElement(react.Fragment,null,t("showingMaterialsText",{placeholders:{"@hitcount":hitcount}}))),!showContentOnly&&react.createElement("div",{className:"content-list-page__subheading"},react.createElement("button",{type:"button",className:(0,clsx.A)("link-tag mb-16 capitalize-first",{"cursor-pointer":!copiedLinkToSearch}),onClick:()=>{copy((0,helpers_url.gG)({linked:"true"}).href),setCopiedLinkToSearch(!0)}},!copiedLinkToSearch&&t("advancedSearchLinkToThisSearchText"),copiedLinkToSearch&&react.createElement(react.Fragment,null,t("copiedLinkToThisSearchText"),react.createElement("img",{className:"inline-icon",src:Check_default(),alt:""})," "))),shouldShowSearchResults&&react.createElement(react.Fragment,null,react.createElement(SearchResultList.A,{resultItems,page,pageSize}),react.createElement(PagerComponent,{isLoading})),!isLoading&&0===hitcount&&react.createElement(search_result_zero_hits.A,null)))};try{AdvancedSearchResults.displayName="AdvancedSearchResults",AdvancedSearchResults.__docgenInfo={description:"",displayName:"AdvancedSearchResults",props:{q:{defaultValue:null,description:"",name:"q",required:!0,type:{name:"string"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}},showContentOnly:{defaultValue:null,description:"",name:"showContentOnly",required:!0,type:{name:"boolean"}},onShelf:{defaultValue:null,description:"",name:"onShelf",required:!0,type:{name:"boolean"}},locationFilter:{defaultValue:null,description:"",name:"locationFilter",required:!0,type:{name:"LocationFilter"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search/AdvancedSearchResults.tsx#AdvancedSearchResults"]={docgenInfo:AdvancedSearchResults.__docgenInfo,name:"AdvancedSearchResults",path:"src/apps/advanced-search/AdvancedSearchResults.tsx#AdvancedSearchResults"})}catch(__react_docgen_typescript_loader_error){}const AdvancedSearch=({pageSize})=>{const[searchQuery,setSearchQuery]=(0,react.useState)(null),[searchObject,setSearchObject]=(0,react.useState)(null),[showResultOnly,setShowResultOnly]=(0,react.useState)(!1),[executedQuery,setExecutedQuery]=(0,react.useState)(null),[locationFilter,setLocationFilter]=(0,react.useState)({}),[onShelf,setOnShelf]=(0,react.useState)(!1);return(0,useEffectOnce.A)((()=>{var _getUrlQueryParam;const advancedSearchQuery=null===(_getUrlQueryParam=(0,helpers_url.d6)("advancedSearchQuery"))||void 0===_getUrlQueryParam?void 0:_getUrlQueryParam.replace("(","").replace(")","");if(advancedSearchQuery){const queryObject=JSON.parse(advancedSearchQuery);setSearchObject(queryObject)}const advancedSearchCql=(0,helpers_url.d6)("advancedSearchCql");advancedSearchCql&&setSearchQuery(advancedSearchCql),"true"===(0,helpers_url.d6)("linked")&&setShowResultOnly(!0),"true"===(0,helpers_url.d6)("onshelf")&&setOnShelf(!0);const locationParam=(0,helpers_url.d6)("location");locationParam&&setLocationFilter((prevFilter=>({...prevFilter,location:commaSeparatedStringToArray(locationParam)})));const sublocationParam=(0,helpers_url.d6)("sublocation");sublocationParam&&setLocationFilter((prevFilter=>({...prevFilter,sublocation:commaSeparatedStringToArray(sublocationParam)})))})),(0,react.useEffect)((()=>{if(!searchObject)return;const cql=translateSearchObjectToCql(searchObject);""!==cql.trim()&&((0,helpers_url.$u)({advancedSearchQuery:JSON.stringify(searchObject)}),(0,helpers_url.MR)("advancedSearchCql"),setExecutedQuery(cql))}),[searchObject]),(0,react.useEffect)((()=>{searchQuery&&((0,helpers_url.$u)({advancedSearchCql:searchQuery}),(0,helpers_url.MR)("advancedSearchQuery"),setExecutedQuery(searchQuery))}),[searchQuery]),react.createElement("div",{className:"advanced-search"},!showResultOnly&&react.createElement(advanced_search_AdvancedSearchHeader,{searchObject,setSearchObject,searchQuery,setSearchQuery,onShelf,setOnShelf:checked=>{setOnShelf(checked),checked?(0,helpers_url.$u)({onshelf:"true"}):(0,helpers_url.MR)("onshelf")},onLocationChange:location=>{setLocationFilter((prevFilter=>({...prevFilter,location:commaSeparatedStringToArray(location)}))),location?(0,helpers_url.$u)({location}):(0,helpers_url.MR)("location")},onSublocationChange:sublocation=>{setLocationFilter((prevFilter=>({...prevFilter,sublocation:commaSeparatedStringToArray(sublocation)}))),sublocation?(0,helpers_url.$u)({sublocation}):(0,helpers_url.MR)("sublocation")},locationFilter}),executedQuery&&react.createElement(advanced_search_AdvancedSearchResults,{q:executedQuery,pageSize,showContentOnly:showResultOnly,onShelf,locationFilter}))},advanced_search_AdvancedSearch=AdvancedSearch;try{AdvancedSearch.displayName="AdvancedSearch",AdvancedSearch.__docgenInfo={description:"",displayName:"AdvancedSearch",props:{pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search/AdvancedSearch.tsx#AdvancedSearch"]={docgenInfo:AdvancedSearch.__docgenInfo,name:"AdvancedSearch",path:"src/apps/advanced-search/AdvancedSearch.tsx#AdvancedSearch"})}catch(__react_docgen_typescript_loader_error){}const AdvancedSearch_entry=(0,config.NV)((0,url.nU)((0,utils_text.i)((({pageSizeDesktop,pageSizeMobile})=>{const pageSize=(0,general.Ki)({desktop:pageSizeDesktop,mobile:pageSizeMobile});return react.createElement("div",null,react.createElement(guarded_app.A,{app:"advanced-search"},react.createElement(advanced_search_AdvancedSearch,{pageSize})))}))));try{AdvancedSearchentry.displayName="AdvancedSearchentry",AdvancedSearchentry.__docgenInfo={description:"",displayName:"AdvancedSearchentry",props:{pageSizeDesktop:{defaultValue:null,description:"",name:"pageSizeDesktop",required:!0,type:{name:"number"}},pageSizeMobile:{defaultValue:null,description:"",name:"pageSizeMobile",required:!0,type:{name:"number"}},showingMaterialsText:{defaultValue:null,description:"",name:"showingMaterialsText",required:!0,type:{name:"string"}},materialUrl:{defaultValue:null,description:"",name:"materialUrl",required:!0,type:{name:"string"}},searchUrl:{defaultValue:null,description:"",name:"searchUrl",required:!0,type:{name:"string"}},advancedSearchUrl:{defaultValue:null,description:"",name:"advancedSearchUrl",required:!0,type:{name:"string"}},fbsBaseUrl:{defaultValue:null,description:"",name:"fbsBaseUrl",required:!0,type:{name:"string"}},loanListEreolenUrl:{defaultValue:null,description:"",name:"loanListEreolenUrl",required:!0,type:{name:"string"}},feesPageUrl:{defaultValue:null,description:"",name:"feesPageUrl",required:!0,type:{name:"string"}},publizonBaseUrl:{defaultValue:null,description:"",name:"publizonBaseUrl",required:!0,type:{name:"string"}},dplCmsBaseUrl:{defaultValue:null,description:"",name:"dplCmsBaseUrl",required:!0,type:{name:"string"}},coverBaseUrl:{defaultValue:null,description:"",name:"coverBaseUrl",required:!0,type:{name:"string"}},materialBaseUrl:{defaultValue:null,description:"",name:"materialBaseUrl",required:!0,type:{name:"string"}},fbiBaseUrl:{defaultValue:null,description:"",name:"fbiBaseUrl",required:!0,type:{name:"string"}},fbiLocalBaseUrl:{defaultValue:null,description:"",name:"fbiLocalBaseUrl",required:!0,type:{name:"string"}},fbiGlobalBaseUrl:{defaultValue:null,description:"",name:"fbiGlobalBaseUrl",required:!0,type:{name:"string"}},authUrl:{defaultValue:null,description:"",name:"authUrl",required:!0,type:{name:"string"}},ereolenHomepageUrl:{defaultValue:null,description:"",name:"ereolenHomepageUrl",required:!0,type:{name:"string"}},materialListBaseUrl:{defaultValue:null,description:"",name:"materialListBaseUrl",required:!0,type:{name:"string"}},alertErrorCloseText:{defaultValue:null,description:"",name:"alertErrorCloseText",required:!0,type:{name:"string"}},alertErrorMessageText:{defaultValue:null,description:"",name:"alertErrorMessageText",required:!0,type:{name:"string"}},multiselectAllOptionText:{defaultValue:null,description:"",name:"multiselectAllOptionText",required:!0,type:{name:"string"}},groupModalGoToMaterialAriaLabelText:{defaultValue:null,description:"",name:"groupModalGoToMaterialAriaLabelText",required:!0,type:{name:"string"}},availabilityAvailableText:{defaultValue:null,description:"",name:"availabilityAvailableText",required:!0,type:{name:"string"}},availabilityUnavailableText:{defaultValue:null,description:"",name:"availabilityUnavailableText",required:!0,type:{name:"string"}},loansNotOverdueText:{defaultValue:null,description:"",name:"loansNotOverdueText",required:!0,type:{name:"string"}},patronContactInfoBodyText:{defaultValue:null,description:"",name:"patronContactInfoBodyText",required:!0,type:{name:"string"}},pauseReservationModalBelowInputsText:{defaultValue:null,description:"",name:"pauseReservationModalBelowInputsText",required:!0,type:{name:"string"}},materialDetailsCloseModalAriaLabelText:{defaultValue:null,description:"",name:"materialDetailsCloseModalAriaLabelText",required:!0,type:{name:"string"}},findOnShelfExpandButtonExplanationText:{defaultValue:null,description:"",name:"findOnShelfExpandButtonExplanationText",required:!0,type:{name:"string"}},reservationsStillInQueueForText:{defaultValue:null,description:"",name:"reservationsStillInQueueForText",required:!0,type:{name:"string"}},materialDetailsModalAriaDescriptionText:{defaultValue:null,description:"",name:"materialDetailsModalAriaDescriptionText",required:!0,type:{name:"string"}},changePickupLocationText:{defaultValue:null,description:"",name:"changePickupLocationText",required:!0,type:{name:"string"}},changeInterestPeriodText:{defaultValue:null,description:"",name:"changeInterestPeriodText",required:!0,type:{name:"string"}},modalReservationFormPickupLabelText:{defaultValue:null,description:"",name:"modalReservationFormPickupLabelText",required:!0,type:{name:"string"}},screenReaderModalDescriptionPickupText:{defaultValue:null,description:"",name:"screenReaderModalDescriptionPickupText",required:!0,type:{name:"string"}},closeModalAriaLabelPickupText:{defaultValue:null,description:"",name:"closeModalAriaLabelPickupText",required:!0,type:{name:"string"}},modalReservationFormNoInterestAfterHeaderTitleText:{defaultValue:null,description:"",name:"modalReservationFormNoInterestAfterHeaderTitleText",required:!0,type:{name:"string"}},modalReservationFormNoInterestAfterHeaderDescriptionText:{defaultValue:null,description:"",name:"modalReservationFormNoInterestAfterHeaderDescriptionText",required:!0,type:{name:"string"}},modalReservationFormNoInterestAfterLabelText:{defaultValue:null,description:"",name:"modalReservationFormNoInterestAfterLabelText",required:!0,type:{name:"string"}},screenReaderModalDescriptionEmailText:{defaultValue:null,description:"",name:"screenReaderModalDescriptionEmailText",required:!0,type:{name:"string"}},screenReaderModalDescriptionInterestPeriodText:{defaultValue:null,description:"",name:"screenReaderModalDescriptionInterestPeriodText",required:!0,type:{name:"string"}},screenReaderModalDescriptionSmsText:{defaultValue:null,description:"",name:"screenReaderModalDescriptionSmsText",required:!0,type:{name:"string"}},closeModalAriaLabelEmailText:{defaultValue:null,description:"",name:"closeModalAriaLabelEmailText",required:!0,type:{name:"string"}},closeModalAriaLabelInterestPeriodText:{defaultValue:null,description:"",name:"closeModalAriaLabelInterestPeriodText",required:!0,type:{name:"string"}},closeModalAriaLabelSmsText:{defaultValue:null,description:"",name:"closeModalAriaLabelSmsText",required:!0,type:{name:"string"}},deleteReservationModalButtonText:{defaultValue:null,description:"",name:"deleteReservationModalButtonText",required:!0,type:{name:"string"}},pauseReservationModalAriaDescriptionText:{defaultValue:null,description:"",name:"pauseReservationModalAriaDescriptionText",required:!0,type:{name:"string"}},acceptModalAriaDescriptionText:{defaultValue:null,description:"",name:"acceptModalAriaDescriptionText",required:!0,type:{name:"string"}},addToFavoritesAriaLabelText:{defaultValue:null,description:"",name:"addToFavoritesAriaLabelText",required:!0,type:{name:"string"}},removeFromFavoritesAriaLabelText:{defaultValue:null,description:"",name:"removeFromFavoritesAriaLabelText",required:!0,type:{name:"string"}},acceptModalAriaLabelText:{defaultValue:null,description:"",name:"acceptModalAriaLabelText",required:!0,type:{name:"string"}},acceptModalHeaderText:{defaultValue:null,description:"",name:"acceptModalHeaderText",required:!0,type:{name:"string"}},acceptModalAreYouSureText:{defaultValue:null,description:"",name:"acceptModalAreYouSureText",required:!0,type:{name:"string"}},acceptModalBodyText:{defaultValue:null,description:"",name:"acceptModalBodyText",required:!0,type:{name:"string"}},acceptModalCancelButtonText:{defaultValue:null,description:"",name:"acceptModalCancelButtonText",required:!0,type:{name:"string"}},acceptModalAcceptButtonText:{defaultValue:null,description:"",name:"acceptModalAcceptButtonText",required:!0,type:{name:"string"}},isLoadingHeartText:{defaultValue:null,description:"",name:"isLoadingHeartText",required:!0,type:{name:"string"}},reservationPickUpLatestText:{defaultValue:null,description:"",name:"reservationPickUpLatestText",required:!0,type:{name:"string"}},reservationListReadyText:{defaultValue:null,description:"",name:"reservationListReadyText",required:!0,type:{name:"string"}},reservationListDigitalPickupText:{defaultValue:null,description:"",name:"reservationListDigitalPickupText",required:!0,type:{name:"string"}},pincodeSectionDescriptionText:{defaultValue:null,description:"",name:"pincodeSectionDescriptionText",required:!0,type:{name:"string"}},errorBoundaryAlertBodyButtonAriaText:{defaultValue:null,description:"",name:"errorBoundaryAlertBodyButtonAriaText",required:!0,type:{name:"string"}},buttonText:{defaultValue:null,description:"",name:"buttonText",required:!0,type:{name:"string"}},etAlText:{defaultValue:null,description:"",name:"etAlText",required:!0,type:{name:"string"}},blacklistedAvailabilityBranchesConfig:{defaultValue:null,description:"",name:"blacklistedAvailabilityBranchesConfig",required:!0,type:{name:"string"}},blacklistedPickupBranchesConfig:{defaultValue:null,description:"",name:"blacklistedPickupBranchesConfig",required:!1,type:{name:"string | undefined"}},blacklistedSearchBranchesConfig:{defaultValue:null,description:"",name:"blacklistedSearchBranchesConfig",required:!1,type:{name:"string | undefined"}},branchesConfig:{defaultValue:null,description:"",name:"branchesConfig",required:!0,type:{name:"string"}},byAuthorText:{defaultValue:null,description:"",name:"byAuthorText",required:!0,type:{name:"string"}},inSeriesText:{defaultValue:null,description:"",name:"inSeriesText",required:!0,type:{name:"string"}},loadingText:{defaultValue:null,description:"",name:"loadingText",required:!0,type:{name:"string"}},numberDescriptionText:{defaultValue:null,description:"",name:"numberDescriptionText",required:!0,type:{name:"string"}},resultPagerStatusText:{defaultValue:null,description:"",name:"resultPagerStatusText",required:!0,type:{name:"string"}},noSearchResultText:{defaultValue:null,description:"",name:"noSearchResultText",required:!0,type:{name:"string"}},showMoreText:{defaultValue:null,description:"",name:"showMoreText",required:!0,type:{name:"string"}},showingResultsForWithoutQueryText:{defaultValue:null,description:"",name:"showingResultsForWithoutQueryText",required:!0,type:{name:"string"}},advancedSearchLinkToThisSearchText:{defaultValue:null,description:"",name:"advancedSearchLinkToThisSearchText",required:!0,type:{name:"string"}},advancedSearchAllIndexesText:{defaultValue:null,description:"",name:"advancedSearchAllIndexesText",required:!0,type:{name:"string"}},advancedSearchCreatorText:{defaultValue:null,description:"",name:"advancedSearchCreatorText",required:!0,type:{name:"string"}},advancedSearchSubjectText:{defaultValue:null,description:"",name:"advancedSearchSubjectText",required:!0,type:{name:"string"}},advancedSearchGenreText:{defaultValue:null,description:"",name:"advancedSearchGenreText",required:!0,type:{name:"string"}},advancedSearchLanguageText:{defaultValue:null,description:"",name:"advancedSearchLanguageText",required:!0,type:{name:"string"}},advancedSearchDateText:{defaultValue:null,description:"",name:"advancedSearchDateText",required:!0,type:{name:"string"}},advancedSearchMainCreatorText:{defaultValue:null,description:"",name:"advancedSearchMainCreatorText",required:!0,type:{name:"string"}},advancedSearchMainTitleText:{defaultValue:null,description:"",name:"advancedSearchMainTitleText",required:!0,type:{name:"string"}},advancedSearchSourceText:{defaultValue:null,description:"",name:"advancedSearchSourceText",required:!0,type:{name:"string"}},advancedSearchDateFirstEditionText:{defaultValue:null,description:"",name:"advancedSearchDateFirstEditionText",required:!0,type:{name:"string"}},advancedSearchDecimalDk5Text:{defaultValue:null,description:"",name:"advancedSearchDecimalDk5Text",required:!0,type:{name:"string"}},advancedSearchTypeText:{defaultValue:null,description:"",name:"advancedSearchTypeText",required:!0,type:{name:"string"}},advancedSearchAudienceText:{defaultValue:null,description:"",name:"advancedSearchAudienceText",required:!0,type:{name:"string"}},advancedSearchPublisherText:{defaultValue:null,description:"",name:"advancedSearchPublisherText",required:!0,type:{name:"string"}},advancedSearchIdentifierText:{defaultValue:null,description:"",name:"advancedSearchIdentifierText",required:!0,type:{name:"string"}},advancedSearchAcSourceText:{defaultValue:null,description:"",name:"advancedSearchAcSourceText",required:!0,type:{name:"string"}},advancedSearchAddRowText:{defaultValue:null,description:"",name:"advancedSearchAddRowText",required:!0,type:{name:"string"}},advancedSearchTitleText:{defaultValue:null,description:"",name:"advancedSearchTitleText",required:!0,type:{name:"string"}},advancedSearchPreviewHeadlineText:{defaultValue:null,description:"",name:"advancedSearchPreviewHeadlineText",required:!0,type:{name:"string"}},advancedSearchPreviewEmptyText:{defaultValue:null,description:"",name:"advancedSearchPreviewEmptyText",required:!0,type:{name:"string"}},advancedSearchResetText:{defaultValue:null,description:"",name:"advancedSearchResetText",required:!0,type:{name:"string"}},advancedSearchCopyStringText:{defaultValue:null,description:"",name:"advancedSearchCopyStringText",required:!0,type:{name:"string"}},advancedSearchEditCqlText:{defaultValue:null,description:"",name:"advancedSearchEditCqlText",required:!0,type:{name:"string"}},advancedSearchSearchButtonText:{defaultValue:null,description:"",name:"advancedSearchSearchButtonText",required:!0,type:{name:"string"}},loadingResultsText:{defaultValue:null,description:"",name:"loadingResultsText",required:!0,type:{name:"string"}},toAdvancedSearchButtonText:{defaultValue:null,description:"",name:"toAdvancedSearchButtonText",required:!0,type:{name:"string"}},cqlSearchTitleText:{defaultValue:null,description:"",name:"cqlSearchTitleText",required:!0,type:{name:"string"}},copiedToClipboardText:{defaultValue:null,description:"",name:"copiedToClipboardText",required:!0,type:{name:"string"}},copiedLinkToThisSearchText:{defaultValue:null,description:"",name:"copiedLinkToThisSearchText",required:!0,type:{name:"string"}},clauseAndText:{defaultValue:null,description:"",name:"clauseAndText",required:!0,type:{name:"string"}},clauseOrText:{defaultValue:null,description:"",name:"clauseOrText",required:!0,type:{name:"string"}},clauseNotText:{defaultValue:null,description:"",name:"clauseNotText",required:!0,type:{name:"string"}},advancedSearchFilterMaterialTypeText:{defaultValue:null,description:"",name:"advancedSearchFilterMaterialTypeText",required:!0,type:{name:"string"}},advancedSearchFilterLiteratureFormText:{defaultValue:null,description:"",name:"advancedSearchFilterLiteratureFormText",required:!0,type:{name:"string"}},advancedSearchFilterAccessText:{defaultValue:null,description:"",name:"advancedSearchFilterAccessText",required:!0,type:{name:"string"}},advancedSearchFilterBookText:{defaultValue:null,description:"",name:"advancedSearchFilterBookText",required:!0,type:{name:"string"}},advancedSearchFilterEbookText:{defaultValue:null,description:"",name:"advancedSearchFilterEbookText",required:!0,type:{name:"string"}},advancedSearchFilterAudioBookText:{defaultValue:null,description:"",name:"advancedSearchFilterAudioBookText",required:!0,type:{name:"string"}},advancedSearchFilterArticleText:{defaultValue:null,description:"",name:"advancedSearchFilterArticleText",required:!0,type:{name:"string"}},advancedSearchFilterMovieText:{defaultValue:null,description:"",name:"advancedSearchFilterMovieText",required:!0,type:{name:"string"}},advancedSearchFilterMusicText:{defaultValue:null,description:"",name:"advancedSearchFilterMusicText",required:!0,type:{name:"string"}},advancedSearchFilterPhysicalText:{defaultValue:null,description:"",name:"advancedSearchFilterPhysicalText",required:!0,type:{name:"string"}},advancedSearchFilterOnlineText:{defaultValue:null,description:"",name:"advancedSearchFilterOnlineText",required:!0,type:{name:"string"}},advancedSearchFilterFictionText:{defaultValue:null,description:"",name:"advancedSearchFilterFictionText",required:!0,type:{name:"string"}},advancedSearchFilterNonFictionText:{defaultValue:null,description:"",name:"advancedSearchFilterNonFictionText",required:!0,type:{name:"string"}},advancedSearchFilterHoldingStatusText:{defaultValue:null,description:"",name:"advancedSearchFilterHoldingStatusText",required:!0,type:{name:"string"}},advancedSearchInputLabelText:{defaultValue:null,description:"",name:"advancedSearchInputLabelText",required:!0,type:{name:"string"}},advancedSearchInputPlaceholderText:{defaultValue:null,description:"",name:"advancedSearchInputPlaceholderText",required:!0,type:{name:"string"}},advancedSearchRemoveRowText:{defaultValue:null,description:"",name:"advancedSearchRemoveRowText",required:!0,type:{name:"string"}},advancedSearchFilterLocationText:{defaultValue:null,description:"",name:"advancedSearchFilterLocationText",required:!0,type:{name:"string"}},advancedSearchFilterLocationDescriptionText:{defaultValue:null,description:"",name:"advancedSearchFilterLocationDescriptionText",required:!0,type:{name:"string"}},advancedSearchFilterSublocationText:{defaultValue:null,description:"",name:"advancedSearchFilterSublocationText",required:!0,type:{name:"string"}},advancedSearchFilterSublocationDescriptionText:{defaultValue:null,description:"",name:"advancedSearchFilterSublocationDescriptionText",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search/AdvancedSearch.entry.tsx#AdvancedSearchentry"]={docgenInfo:AdvancedSearchentry.__docgenInfo,name:"AdvancedSearchentry",path:"src/apps/advanced-search/AdvancedSearch.entry.tsx#AdvancedSearchentry"})}catch(__react_docgen_typescript_loader_error){}const AdvancedSearch_stories={title:"Apps / Advanced Search",component:AdvancedSearch_entry,argTypes:{...serviceUrlArgs.U,...globalTextArgs.U,...globalConfigArgs.U,pageSizeDesktop:{description:"Number of search result items on desktop",control:{type:"number"},table:{type:{summary:"number"},defaultValue:{summary:"50"}}},pageSizeMobile:{description:"Number of search result items on mobile",control:{type:"number"},table:{type:{summary:"number"},defaultValue:{summary:"20"}}},materialUrl:{description:"Path to the material page",control:{type:"text"}},authUrl:{description:"Url where user can authenticate",control:{type:"text"}},searchUrl:{description:"Path to the search result page",control:{type:"text"}},etAlText:{description:"Et al. Text",control:{type:"text"}},byAuthorText:{description:"By (author) Text",control:{type:"text"}},showMoreText:{description:"Show more Text",control:{type:"text"}},resultPagerStatusText:{description:"Result pager status text",control:{type:"text"}},advancedSearchInputLabelText:{description:"Advanced search input label",control:{type:"text"}},numberDescriptionText:{description:"Number description",control:{type:"text"}},inSeriesText:{description:"In series",control:{type:"text"}},showingMaterialsText:{description:"Showing materials",control:{type:"text"}},noSearchResultText:{description:"0-hit search result",control:{type:"text"}},blacklistedPickupBranchesConfig:{description:"Blacklisted Pickup branches",control:{type:"text"}},blacklistedAvailabilityBranchesConfig:{description:"Blacklisted Availability branches",control:{type:"text"}},blacklistedSearchBranchesConfig:{description:"Blacklisted branches",control:{type:"text"}},branchesConfig:{description:"Branches",control:{type:"text"}},loadingText:{description:"Loading",control:{type:"text"}},advancedSearchLinkToThisSearchText:{description:"Advanced search copy to clipboard button text",control:{type:"text"}},advancedSearchAllIndexesText:{description:"Advanced search indexes - all",control:{type:"text"}},advancedSearchCreatorText:{description:"Advanced search indexes - creator",control:{type:"text"}},advancedSearchSubjectText:{description:"Advanced search indexes - subject",control:{type:"text"}},advancedSearchGenreText:{description:"Advanced search indexes - genre",control:{type:"text"}},advancedSearchLanguageText:{description:"Advanced search indexes - language",control:{type:"text"}},advancedSearchDateText:{description:"Advanced search indexes - date",control:{type:"text"}},advancedSearchMainCreatorText:{description:"Advanced search indexes - main creator",control:{type:"text"}},advancedSearchMainTitleText:{description:"Advanced search indexes - main title",control:{type:"text"}},advancedSearchSourceText:{description:"Advanced search indexes - source",control:{type:"text"}},advancedSearchDateFirstEditionText:{description:"Advanced search indexes - edition",control:{type:"text"}},advancedSearchDecimalDk5Text:{description:"Advanced search indexes - DK5",control:{type:"text"}},advancedSearchTypeText:{description:"Advanced search indexes - type",control:{type:"text"}},advancedSearchAudienceText:{description:"Advanced search indexes - audience",control:{type:"text"}},advancedSearchPublisherText:{description:"Advanced search indexes - publisher",control:{type:"text"}},advancedSearchIdentifierText:{description:"Advanced search indexes - identifier",control:{type:"text"}},advancedSearchAcSourceText:{description:"Advanced search indexes - source",control:{type:"text"}},advancedSearchAddRowText:{description:"Add row",control:{type:"text"}},advancedSearchRemoveRowText:{description:"Remove row",control:{type:"text"}},advancedSearchInputPlaceholderText:{description:"Advanced search input placeholder",control:{type:"text"}},advancedSearchTitleText:{description:"Advanced search page title",control:{type:"text"}},advancedSearchPreviewHeadlineText:{description:"Advanced search CQL preview headline",control:{type:"text"}},advancedSearchPreviewEmptyText:{description:"Advanced search empty preview",control:{type:"text"}},advancedSearchResetText:{description:"Advanced search reset button text",control:{type:"text"}},advancedSearchCopyStringText:{description:"Advanced search page copy string button text",control:{type:"text"}},advancedSearchEditCqlText:{description:"Advanced search page edit CQL button text",control:{type:"text"}},advancedSearchSearchButtonText:{description:"Advanced search search button text",control:{type:"text"}},loadingResultsText:{description:"Advanced search loading results text",control:{type:"text"}},toAdvancedSearchButtonText:{description:"To advanced search button text",control:{type:"text"}},cqlSearchTitleText:{description:"CQL search title text",control:{type:"text"}},copiedToClipboardText:{description:"Text that appears after copying to clipboard",control:{type:"text"}},copiedLinkToThisSearchText:{description:"Text that appears after getting link to a search copied to clipboard",control:{type:"text"}},clauseAndText:{description:"Advanced search clause - AND",control:{type:"text"}},clauseOrText:{description:"Advanced search clause - OR",control:{type:"text"}},clauseNotText:{description:"Advanced search clause - NOT",control:{type:"text"}},advancedSearchFilterMaterialTypeText:{description:"Advanced search filter - material type",control:{type:"text"}},advancedSearchFilterLiteratureFormText:{description:"Advanced search filter - literature form",control:{type:"text"}},advancedSearchFilterAccessText:{description:"Advanced search filter - access",control:{type:"text"}},advancedSearchFilterBookText:{description:"Advanced search filter - book",control:{type:"text"}},advancedSearchFilterEbookText:{description:"Advanced search filter - ebook",control:{type:"text"}},advancedSearchFilterAudioBookText:{description:"Advanced search filter - audio book",control:{type:"text"}},advancedSearchFilterArticleText:{description:"Advanced search filter - article",control:{type:"text"}},advancedSearchFilterMovieText:{description:"Advanced search filter - movie",control:{type:"text"}},advancedSearchFilterMusicText:{description:"Advanced search filter - music",control:{type:"text"}},advancedSearchFilterPhysicalText:{description:"Advanced search filter - physical access",control:{type:"text"}},advancedSearchFilterOnlineText:{description:"Advanced search filter - online access",control:{type:"text"}},advancedSearchFilterFictionText:{description:"Advanced search filter - fiction",control:{type:"text"}},advancedSearchFilterNonFictionText:{description:"Advanced search filter - non-fiction",control:{type:"text"}},advancedSearchFilterHoldingStatusText:{description:"Advanced search filter - holding status",control:{type:"text"}},advancedSearchFilterLocationText:{description:"Advanced search filter - location",control:{type:"text"}},advancedSearchFilterLocationDescriptionText:{description:"Advanced search filter - location description",control:{type:"text"}},advancedSearchFilterSublocationText:{description:"Advanced search filter - sublocation",control:{type:"text"}},advancedSearchFilterSublocationDescriptionText:{description:"Advanced search filter - sublocation description",control:{type:"text"}}}},Primary={args:{...serviceUrlArgs.A,...globalTextArgs.A,...globalConfigArgs.A,pageSizeDesktop:50,pageSizeMobile:20,materialUrl:"/work/:workid",authUrl:"",searchUrl:"/search",etAlText:"et al.",byAuthorText:"By",showMoreText:"show more",resultPagerStatusText:"Showing @itemsShown out of @hitcount results",advancedSearchInputLabelText:"Input field @inputNumber",numberDescriptionText:"Nr.",inSeriesText:"in series",showingMaterialsText:"Showing materials (@hitcount)",noSearchResultText:"Your search has 0 results",blacklistedPickupBranchesConfig:"FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",blacklistedAvailabilityBranchesConfig:"FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",blacklistedSearchBranchesConfig:"FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",branchesConfig:'[\n   {\n      "branchId":"DK-775120",\n      "title":"Højbjerg"\n   },\n   {\n      "branchId":"DK-775122",\n      "title":"Beder-Malling"\n   },\n   {\n      "branchId":"DK-775144",\n      "title":"Gellerup"\n   },\n   {\n      "branchId":"DK-775167",\n      "title":"Lystrup"\n   },\n   {\n      "branchId":"DK-775146",\n      "title":"Harlev"\n   },\n   {\n      "branchId":"DK-775168",\n      "title":"Skødstrup"\n   },\n   {\n      "branchId":"FBS-751010",\n      "title":"Arresten"\n   },\n   {\n      "branchId":"DK-775147",\n      "title":"Hasle"\n   },\n   {\n      "branchId":"FBS-751032",\n      "title":"Må ikke benyttes"\n   },\n   {\n      "branchId":"FBS-751031",\n      "title":"Fjernlager 1"\n   },\n   {\n      "branchId":"DK-775126",\n      "title":"Solbjerg"\n   },\n   {\n      "branchId":"FBS-751030",\n      "title":"ITK"\n   },\n   {\n      "branchId":"DK-775149",\n      "title":"Sabro"\n   },\n   {\n      "branchId":"DK-775127",\n      "title":"Tranbjerg"\n   },\n   {\n      "branchId":"DK-775160",\n      "title":"Risskov"\n   },\n   {\n      "branchId":"DK-775162",\n      "title":"Hjortshøj"\n   },\n   {\n      "branchId":"DK-775140",\n      "title":"Åby"\n   },\n   {\n      "branchId":"FBS-751009",\n      "title":"Fjernlager 2"\n   },\n   {\n      "branchId":"FBS-751029",\n      "title":"Stadsarkivet"\n   },\n   {\n      "branchId":"FBS-751027",\n      "title":"Intern"\n   },\n   {\n      "branchId":"FBS-751026",\n      "title":"Fælles undervejs"\n   },\n   {\n      "branchId":"FBS-751025",\n      "title":"Fællessekretariatet"\n   },\n   {\n      "branchId":"DK-775133",\n      "title":"Bavnehøj"\n   },\n   {\n      "branchId":"FBS-751024",\n      "title":"Fjernlånte materialer"\n   },\n   {\n      "branchId":"DK-775100",\n      "title":"Hovedbiblioteket"\n   },\n   {\n      "branchId":"DK-775170",\n      "title":"Trige"\n   },\n   {\n      "branchId":"DK-775150",\n      "title":"Tilst"\n   },\n   {\n      "branchId":"DK-775130",\n      "title":"Viby"\n   },\n   {\n      "branchId":"DK-775164",\n      "title":"Egå"\n   }\n]',loadingText:"Loading",advancedSearchLinkToThisSearchText:"Link to this search",advancedSearchAllIndexesText:"All indexes",advancedSearchCreatorText:"Creator",advancedSearchSubjectText:"Subject",advancedSearchGenreText:"Genre",advancedSearchLanguageText:"Language",advancedSearchDateText:"Date",advancedSearchMainCreatorText:"Main creator",advancedSearchMainTitleText:"Main title",advancedSearchSourceText:"Source",advancedSearchDateFirstEditionText:"Edition",advancedSearchDecimalDk5Text:"DK5",advancedSearchTypeText:"Type",advancedSearchAudienceText:"Audience",advancedSearchPublisherText:"Publisher",advancedSearchIdentifierText:"Identifier",advancedSearchAcSourceText:"Source",advancedSearchAddRowText:"Add row",advancedSearchRemoveRowText:"Remove row @inputNumber",advancedSearchInputPlaceholderText:"Search term",advancedSearchTitleText:"Advanced search",advancedSearchPreviewHeadlineText:"CQL search string",advancedSearchPreviewEmptyText:"-",advancedSearchResetText:"Reset",advancedSearchCopyStringText:"Copy CQL",advancedSearchEditCqlText:"Edit CQL",advancedSearchSearchButtonText:"Search",loadingResultsText:"Loading results...",toAdvancedSearchButtonText:"Back to advanced search",cqlSearchTitleText:"CQL search",copiedToClipboardText:"Copied",copiedLinkToThisSearchText:"Link copied to clipboard",clauseAndText:"AND",clauseOrText:"OR",clauseNotText:"NOT",advancedSearchFilterMaterialTypeText:"Material Type",advancedSearchFilterLiteratureFormText:"Literature form",advancedSearchFilterAccessText:"Accessibility",advancedSearchFilterBookText:"Book",advancedSearchFilterEbookText:"Ebook",advancedSearchFilterAudioBookText:"Audio book",advancedSearchFilterArticleText:"Article",advancedSearchFilterMovieText:"Movie",advancedSearchFilterMusicText:"Music",advancedSearchFilterPhysicalText:"Physical",advancedSearchFilterOnlineText:"Online",advancedSearchFilterFictionText:"Fiction",advancedSearchFilterNonFictionText:"Non-fiction",advancedSearchFilterHoldingStatusText:"Holding Status On Shelf",advancedSearchFilterLocationText:"Location",advancedSearchFilterLocationDescriptionText:"Add a comma separated list for multiple locations",advancedSearchFilterSublocationText:"Sublocation",advancedSearchFilterSublocationDescriptionText:"Add a comma separated list for multiple sublocations"}};Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...serviceUrlArgs,\n    ...globalTextArgs,\n    ...globalConfigArgs,\n    pageSizeDesktop: 50,\n    pageSizeMobile: 20,\n    materialUrl: "/work/:workid",\n    authUrl: "",\n    searchUrl: "/search",\n    etAlText: "et al.",\n    byAuthorText: "By",\n    showMoreText: "show more",\n    resultPagerStatusText: "Showing @itemsShown out of @hitcount results",\n    advancedSearchInputLabelText: "Input field @inputNumber",\n    numberDescriptionText: "Nr.",\n    inSeriesText: "in series",\n    showingMaterialsText: "Showing materials (@hitcount)",\n    noSearchResultText: "Your search has 0 results",\n    blacklistedPickupBranchesConfig: "FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",\n    blacklistedAvailabilityBranchesConfig: "FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",\n    blacklistedSearchBranchesConfig: "FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",\n    branchesConfig: \'[\\n   {\\n      "branchId":"DK-775120",\\n      "title":"Højbjerg"\\n   },\\n   {\\n      "branchId":"DK-775122",\\n      "title":"Beder-Malling"\\n   },\\n   {\\n      "branchId":"DK-775144",\\n      "title":"Gellerup"\\n   },\\n   {\\n      "branchId":"DK-775167",\\n      "title":"Lystrup"\\n   },\\n   {\\n      "branchId":"DK-775146",\\n      "title":"Harlev"\\n   },\\n   {\\n      "branchId":"DK-775168",\\n      "title":"Skødstrup"\\n   },\\n   {\\n      "branchId":"FBS-751010",\\n      "title":"Arresten"\\n   },\\n   {\\n      "branchId":"DK-775147",\\n      "title":"Hasle"\\n   },\\n   {\\n      "branchId":"FBS-751032",\\n      "title":"Må ikke benyttes"\\n   },\\n   {\\n      "branchId":"FBS-751031",\\n      "title":"Fjernlager 1"\\n   },\\n   {\\n      "branchId":"DK-775126",\\n      "title":"Solbjerg"\\n   },\\n   {\\n      "branchId":"FBS-751030",\\n      "title":"ITK"\\n   },\\n   {\\n      "branchId":"DK-775149",\\n      "title":"Sabro"\\n   },\\n   {\\n      "branchId":"DK-775127",\\n      "title":"Tranbjerg"\\n   },\\n   {\\n      "branchId":"DK-775160",\\n      "title":"Risskov"\\n   },\\n   {\\n      "branchId":"DK-775162",\\n      "title":"Hjortshøj"\\n   },\\n   {\\n      "branchId":"DK-775140",\\n      "title":"Åby"\\n   },\\n   {\\n      "branchId":"FBS-751009",\\n      "title":"Fjernlager 2"\\n   },\\n   {\\n      "branchId":"FBS-751029",\\n      "title":"Stadsarkivet"\\n   },\\n   {\\n      "branchId":"FBS-751027",\\n      "title":"Intern"\\n   },\\n   {\\n      "branchId":"FBS-751026",\\n      "title":"Fælles undervejs"\\n   },\\n   {\\n      "branchId":"FBS-751025",\\n      "title":"Fællessekretariatet"\\n   },\\n   {\\n      "branchId":"DK-775133",\\n      "title":"Bavnehøj"\\n   },\\n   {\\n      "branchId":"FBS-751024",\\n      "title":"Fjernlånte materialer"\\n   },\\n   {\\n      "branchId":"DK-775100",\\n      "title":"Hovedbiblioteket"\\n   },\\n   {\\n      "branchId":"DK-775170",\\n      "title":"Trige"\\n   },\\n   {\\n      "branchId":"DK-775150",\\n      "title":"Tilst"\\n   },\\n   {\\n      "branchId":"DK-775130",\\n      "title":"Viby"\\n   },\\n   {\\n      "branchId":"DK-775164",\\n      "title":"Egå"\\n   }\\n]\',\n    loadingText: "Loading",\n    advancedSearchLinkToThisSearchText: "Link to this search",\n    advancedSearchAllIndexesText: "All indexes",\n    advancedSearchCreatorText: "Creator",\n    advancedSearchSubjectText: "Subject",\n    advancedSearchGenreText: "Genre",\n    advancedSearchLanguageText: "Language",\n    advancedSearchDateText: "Date",\n    advancedSearchMainCreatorText: "Main creator",\n    advancedSearchMainTitleText: "Main title",\n    advancedSearchSourceText: "Source",\n    advancedSearchDateFirstEditionText: "Edition",\n    advancedSearchDecimalDk5Text: "DK5",\n    advancedSearchTypeText: "Type",\n    advancedSearchAudienceText: "Audience",\n    advancedSearchPublisherText: "Publisher",\n    advancedSearchIdentifierText: "Identifier",\n    advancedSearchAcSourceText: "Source",\n    advancedSearchAddRowText: "Add row",\n    advancedSearchRemoveRowText: "Remove row @inputNumber",\n    advancedSearchInputPlaceholderText: "Search term",\n    advancedSearchTitleText: "Advanced search",\n    advancedSearchPreviewHeadlineText: "CQL search string",\n    advancedSearchPreviewEmptyText: "-",\n    advancedSearchResetText: "Reset",\n    advancedSearchCopyStringText: "Copy CQL",\n    advancedSearchEditCqlText: "Edit CQL",\n    advancedSearchSearchButtonText: "Search",\n    loadingResultsText: "Loading results...",\n    toAdvancedSearchButtonText: "Back to advanced search",\n    cqlSearchTitleText: "CQL search",\n    copiedToClipboardText: "Copied",\n    copiedLinkToThisSearchText: "Link copied to clipboard",\n    clauseAndText: "AND",\n    clauseOrText: "OR",\n    clauseNotText: "NOT",\n    advancedSearchFilterMaterialTypeText: "Material Type",\n    advancedSearchFilterLiteratureFormText: "Literature form",\n    advancedSearchFilterAccessText: "Accessibility",\n    advancedSearchFilterBookText: "Book",\n    advancedSearchFilterEbookText: "Ebook",\n    advancedSearchFilterAudioBookText: "Audio book",\n    advancedSearchFilterArticleText: "Article",\n    advancedSearchFilterMovieText: "Movie",\n    advancedSearchFilterMusicText: "Music",\n    advancedSearchFilterPhysicalText: "Physical",\n    advancedSearchFilterOnlineText: "Online",\n    advancedSearchFilterFictionText: "Fiction",\n    advancedSearchFilterNonFictionText: "Non-fiction",\n    advancedSearchFilterHoldingStatusText: "Holding Status On Shelf",\n    advancedSearchFilterLocationText: "Location",\n    advancedSearchFilterLocationDescriptionText: "Add a comma separated list for multiple locations",\n    advancedSearchFilterSublocationText: "Sublocation",\n    advancedSearchFilterSublocationDescriptionText: "Add a comma separated list for multiple sublocations"\n  }\n}',...Primary.parameters?.docs?.source}}}},"./src/apps/search-result/helper.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z4:()=>getFirstMaterialTypeFromFilters,z2:()=>mapFacetToFilter});var lodash_head__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/head.js"),lodash_head__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_head__WEBPACK_IMPORTED_MODULE_0__),_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/helpers/general.ts"),_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/dbc-gateway/generated/graphql.tsx");const mapFacetToFilter=facet=>{switch(facet){case _core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_2__.DX.Materialtypesspecific:return"materialTypesSpecific";case _core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_2__.DX.Worktypes:return"workTypes";default:return"invalid"}},getFirstMaterialTypeFromFilters=(filters,manifestations)=>{const materialTypeFilter=lodash_head__WEBPACK_IMPORTED_MODULE_0___default()(Object.keys(filters[_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_2__.DX.Materialtypesspecific]||{}).sort()),allMaterialTypes=(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_1__.JB)(manifestations);return materialTypeFilter&&allMaterialTypes.includes(materialTypeFilter)?materialTypeFilter:void 0}},"./src/apps/search-result/search-result-zero-hits.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_utils_text__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/text.tsx");const __WEBPACK_DEFAULT_EXPORT__=({dataCy="search-result-zero-hits"})=>{const t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_1__.F)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"content-list-page","data-cy":dataCy},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h1",{className:"content-list-page__heading my-112","data-cy":"search-result-zero-hits"},t("noSearchResultText")))};try{searchresultzerohits.displayName="searchresultzerohits",searchresultzerohits.__docgenInfo={description:"",displayName:"searchresultzerohits",props:{dataCy:{defaultValue:{value:"search-result-zero-hits"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/search-result/search-result-zero-hits.tsx#searchresultzerohits"]={docgenInfo:searchresultzerohits.__docgenInfo,name:"searchresultzerohits",path:"src/apps/search-result/search-result-zero-hits.tsx#searchresultzerohits"})}catch(__react_docgen_typescript_loader_error){}},"./src/apps/search-result/useFilterHandler.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),_core_filter_slice__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/filter.slice.ts"),_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/core/utils/helpers/url.ts"),_helper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/apps/search-result/helper.ts");const __WEBPACK_DEFAULT_EXPORT__=()=>{const dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.wA)(),filters=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)((state=>state.filter)),clearFilter=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_4__.MR)("filters"),dispatch((0,_core_filter_slice__WEBPACK_IMPORTED_MODULE_2__.IU)())}),[dispatch]),addToFilter=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((payload=>{"usePersistedFilters"!==(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_4__.d6)("filters")&&(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_4__.$u)({filters:"usePersistedFilters"}),dispatch((0,_core_filter_slice__WEBPACK_IMPORTED_MODULE_2__.WQ)(payload))}),[dispatch]),removeFromFilter=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((payload=>dispatch((0,_core_filter_slice__WEBPACK_IMPORTED_MODULE_2__.TF)(payload))),[dispatch]);return{filters,addToFilter,removeFromFilter,clearFilter,addFilterFromUrlParamListener:facet=>{const urlFilter=(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_4__.d6)((0,_helper__WEBPACK_IMPORTED_MODULE_3__.z2)(facet));urlFilter&&addToFilter({facet:(0,_helper__WEBPACK_IMPORTED_MODULE_3__.z2)(facet),term:{key:"key",term:urlFilter}})}}}},"./src/components/Buttons/Button.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>Button});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_ButtonIcon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Buttons/ButtonIcon.tsx");const Button=({label,buttonType,disabled,collapsible,size,variant,onClick,iconClassNames,id,classNames,dataCy})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{"data-cy":dataCy||"button",type:"button",className:`btn-primary btn-${variant} btn-${size} ${disabled?"btn-outline":""} arrow__hover--right-small ${classNames??""}`,disabled,onClick,id},label,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ButtonIcon__WEBPACK_IMPORTED_MODULE_1__.a,{buttonType,iconClassNames,collapsible}));try{Button.displayName="Button",Button.__docgenInfo={description:"",displayName:"Button",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},buttonType:{defaultValue:null,description:"",name:"buttonType",required:!0,type:{name:"enum",value:[{value:'"search"'},{value:'"none"'},{value:'"default"'},{value:'"external-link"'}]}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}},collapsible:{defaultValue:null,description:"",name:"collapsible",required:!0,type:{name:"boolean"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"xsmall"'},{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'}]}},variant:{defaultValue:null,description:"",name:"variant",required:!0,type:{name:"enum",value:[{value:'"outline"'},{value:'"filled"'}]}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void) | undefined"}},iconClassNames:{defaultValue:null,description:"",name:"iconClassNames",required:!1,type:{name:"string | undefined"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string | undefined"}},classNames:{defaultValue:null,description:"",name:"classNames",required:!1,type:{name:"string | undefined"}},dataCy:{defaultValue:null,description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Buttons/Button.tsx#Button"]={docgenInfo:Button.__docgenInfo,name:"Button",path:"src/components/Buttons/Button.tsx#Button"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Buttons/ButtonIcon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>ButtonIcon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_arrow_ui_icon_arrow_ui_small_right_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/arrow-ui/icon-arrow-ui-small-right.svg"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_arrow_ui_icon_arrow_ui_small_right_svg__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_danskernesdigitalebibliotek_dpl_design_system_build_icons_arrow_ui_icon_arrow_ui_small_right_svg__WEBPACK_IMPORTED_MODULE_1__),_danskernesdigitalebibliotek_dpl_design_system_build_icons_buttons_icon_btn_external_link_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/buttons/icon-btn-external-link.svg"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_buttons_icon_btn_external_link_svg__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_danskernesdigitalebibliotek_dpl_design_system_build_icons_buttons_icon_btn_external_link_svg__WEBPACK_IMPORTED_MODULE_2__),clsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs");const ButtonIcon=({buttonType,collapsible,iconClassNames})=>{const iconClassName=`btn-icon ${(0,clsx__WEBPACK_IMPORTED_MODULE_3__.A)({"btn-collapsible":collapsible},[iconClassNames])}`;return"default"===buttonType?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ml-16"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{className:iconClassName,src:_danskernesdigitalebibliotek_dpl_design_system_build_icons_arrow_ui_icon_arrow_ui_small_right_svg__WEBPACK_IMPORTED_MODULE_1___default(),alt:""})):"external-link"===buttonType?react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{className:iconClassName,src:_danskernesdigitalebibliotek_dpl_design_system_build_icons_buttons_icon_btn_external_link_svg__WEBPACK_IMPORTED_MODULE_2___default(),alt:""}):null};try{ButtonIcon.displayName="ButtonIcon",ButtonIcon.__docgenInfo={description:"",displayName:"ButtonIcon",props:{buttonType:{defaultValue:null,description:"",name:"buttonType",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"search"'},{value:'"none"'},{value:'"default"'},{value:'"external-link"'}]}},collapsible:{defaultValue:null,description:"",name:"collapsible",required:!1,type:{name:"boolean | undefined"}},iconClassNames:{defaultValue:null,description:"",name:"iconClassNames",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Buttons/ButtonIcon.tsx#ButtonIcon"]={docgenInfo:ButtonIcon.__docgenInfo,name:"ButtonIcon",path:"src/components/Buttons/ButtonIcon.tsx#ButtonIcon"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/atoms/icons/arrow/arrow.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=()=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"61",height:"9",viewBox:"0 0 61 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{className:"arrow__body",d:"M60 4.5H0",stroke:"black"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{className:"arrow__head",d:"M60.3537 4.85355C60.5489 4.65829 60.5489 4.34171 60.3537 4.14645L57.1717 0.96447C56.9764 0.769208 56.6598 0.769208 56.4646 0.96447C56.2693 1.15973 56.2693 1.47631 56.4646 1.67157L59.293 4.5L56.4646 7.32843C56.2693 7.52369 56.2693 7.84027 56.4646 8.03553C56.6598 8.2308 56.9764 8.2308 57.1717 8.03553L60.3537 4.85355ZM60.0001 4H57.0001V5H60.0001V4Z",fill:"black"}))},"./src/components/availability-label/availability-label-inside.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var clsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_Check_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Check.svg"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_Check_svg__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_Check_svg__WEBPACK_IMPORTED_MODULE_1__),_skeletons_TextLineSkeleton__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/skeletons/TextLineSkeleton.tsx");const __WEBPACK_DEFAULT_EXPORT__=({selected,isLoading,isAvailable,manifestText,availabilityText,quantity})=>{const availableTriangleCss=isAvailable?"success":"alert",classes={triangle:(0,clsx__WEBPACK_IMPORTED_MODULE_3__.A)({"pagefold-triangle--none":selected},{[`pagefold-triangle--xsmall pagefold-triangle--${availableTriangleCss}`]:!selected}),check:(0,clsx__WEBPACK_IMPORTED_MODULE_3__.A)("availability-label__check",selected&&"selected")};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classes.triangle}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{className:classes.check,src:_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_Check_svg__WEBPACK_IMPORTED_MODULE_1___default(),alt:""}),manifestText&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"availability-label__text text-label-semibold ml-24","data-cy":"availability-label-type"},manifestText),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"availability-label__divider ml-4"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:`availability-label__text text-label-normal ${manifestText?"ml-4":"ml-24"} mr-8`,"data-cy":"availability-label-status"},isLoading?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_skeletons_TextLineSkeleton__WEBPACK_IMPORTED_MODULE_2__.A,{width:40}):availabilityText),quantity&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"availability-label--divider ml-4"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"text-label-normal mx-8"},quantity," stk")))};try{availabilitylabelinside.displayName="availabilitylabelinside",availabilitylabelinside.__docgenInfo={description:"",displayName:"availabilitylabelinside",props:{selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean | undefined"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},isAvailable:{defaultValue:null,description:"",name:"isAvailable",required:!1,type:{name:"boolean | undefined"}},manifestText:{defaultValue:null,description:"",name:"manifestText",required:!0,type:{name:"string"}},availabilityText:{defaultValue:null,description:"",name:"availabilityText",required:!1,type:{name:"string | undefined"}},quantity:{defaultValue:null,description:"",name:"quantity",required:!1,type:{name:"number | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/availability-label/availability-label-inside.tsx#availabilitylabelinside"]={docgenInfo:availabilitylabelinside.__docgenInfo,name:"availabilitylabelinside",path:"src/components/availability-label/availability-label-inside.tsx#availabilitylabelinside"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/availability-label/availability-label.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>AvailabilityLabel});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_use__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-use/esm/useDeepCompareEffect.js"),_core_utils_text__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/text.tsx"),_atoms_links_LinkNoStyle__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/atoms/links/LinkNoStyle.tsx"),_core_statistics_useStatistics__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/statistics/useStatistics.ts"),_core_statistics_statistics__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/core/statistics/statistics.ts"),_helper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/availability-label/helper.ts"),_availability_label_inside__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/availability-label/availability-label-inside.tsx"),_useAvailabilityData__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/availability-label/useAvailabilityData.ts");const AvailabilityLabel=({manifestText,accessTypes,access,selected=!1,url,faustIds,handleSelectManifestation,cursorPointer=!1,dataCy="availability-label",isbns,isVisualOnly})=>{const{track}=(0,_core_statistics_useStatistics__WEBPACK_IMPORTED_MODULE_3__.B)(),t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_1__.F)(),{isLoading,isAvailable}=(0,_useAvailabilityData__WEBPACK_IMPORTED_MODULE_7__.A)({accessTypes,access,faustIds,isbn:isbns?isbns[0]:null,manifestText}),availabilityText=t(isAvailable?"availabilityAvailableText":"availabilityUnavailableText");(0,react_use__WEBPACK_IMPORTED_MODULE_8__.A)((()=>{selected&&track("click",{id:_core_statistics_statistics__WEBPACK_IMPORTED_MODULE_4__.o.materialStatus.id,name:_core_statistics_statistics__WEBPACK_IMPORTED_MODULE_4__.o.materialStatus.name,trackedData:availabilityText})}),[faustIds,selected]);const availabilityLabel=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_availability_label_inside__WEBPACK_IMPORTED_MODULE_6__.A,{selected,isLoading:!!isLoading,isAvailable:!!isAvailable,manifestText,availabilityText}),parentClass=(0,_helper__WEBPACK_IMPORTED_MODULE_5__.Mk)({selected,cursorPointer});return isVisualOnly?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:parentClass,"data-cy":dataCy},availabilityLabel):url&&!handleSelectManifestation?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_atoms_links_LinkNoStyle__WEBPACK_IMPORTED_MODULE_2__.A,{className:parentClass,url,"data-cy":dataCy},availabilityLabel):react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:parentClass,type:"button",onClick:handleSelectManifestation,"data-cy":dataCy,"aria-pressed":selected},availabilityLabel)};try{AvailabilityLabel.displayName="AvailabilityLabel",AvailabilityLabel.__docgenInfo={description:"",displayName:"AvailabilityLabel",props:{manifestText:{defaultValue:null,description:"",name:"manifestText",required:!0,type:{name:"string"}},accessTypes:{defaultValue:null,description:"",name:"accessTypes",required:!0,type:{name:"AccessTypeCodeEnum[]"}},access:{defaultValue:null,description:"",name:"access",required:!0,type:{name:"AccessTypes[]"}},selected:{defaultValue:{value:"false"},description:"",name:"selected",required:!1,type:{name:"boolean | undefined"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"URL | undefined"}},faustIds:{defaultValue:null,description:"",name:"faustIds",required:!0,type:{name:"string[]"}},handleSelectManifestation:{defaultValue:null,description:"",name:"handleSelectManifestation",required:!1,type:{name:"(() => void | undefined) | undefined"}},cursorPointer:{defaultValue:{value:"false"},description:"",name:"cursorPointer",required:!1,type:{name:"boolean | undefined"}},dataCy:{defaultValue:{value:"availability-label"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}},isbns:{defaultValue:null,description:"",name:"isbns",required:!0,type:{name:"string[]"}},isVisualOnly:{defaultValue:null,description:"",name:"isVisualOnly",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/availability-label/availability-label.tsx#AvailabilityLabel"]={docgenInfo:AvailabilityLabel.__docgenInfo,name:"AvailabilityLabel",path:"src/components/availability-label/availability-label.tsx#AvailabilityLabel"})}catch(__react_docgen_typescript_loader_error){}try{availabilitylabel.displayName="availabilitylabel",availabilitylabel.__docgenInfo={description:"",displayName:"availabilitylabel",props:{manifestText:{defaultValue:null,description:"",name:"manifestText",required:!0,type:{name:"string"}},accessTypes:{defaultValue:null,description:"",name:"accessTypes",required:!0,type:{name:"AccessTypeCodeEnum[]"}},access:{defaultValue:null,description:"",name:"access",required:!0,type:{name:"AccessTypes[]"}},selected:{defaultValue:{value:"false"},description:"",name:"selected",required:!1,type:{name:"boolean | undefined"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"URL | undefined"}},faustIds:{defaultValue:null,description:"",name:"faustIds",required:!0,type:{name:"string[]"}},handleSelectManifestation:{defaultValue:null,description:"",name:"handleSelectManifestation",required:!1,type:{name:"(() => void | undefined) | undefined"}},cursorPointer:{defaultValue:{value:"false"},description:"",name:"cursorPointer",required:!1,type:{name:"boolean | undefined"}},dataCy:{defaultValue:{value:"availability-label"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}},isbns:{defaultValue:null,description:"",name:"isbns",required:!0,type:{name:"string[]"}},isVisualOnly:{defaultValue:null,description:"",name:"isVisualOnly",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/availability-label/availability-label.tsx#availabilitylabel"]={docgenInfo:availabilitylabel.__docgenInfo,name:"availabilitylabel",path:"src/components/availability-label/availability-label.tsx#availabilitylabel"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/availability-label/availability-labels.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>AvailabilityLabels});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/helpers/general.ts"),_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/core/utils/helpers/url.ts"),_core_utils_url__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/url.tsx"),_availability_label__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/availability-label/availability-label.tsx"),_apps_material_helper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/apps/material/helper.ts");const AvailabilityLabels=({manifestations,workId,selectedManifestations,setSelectedManifestations,cursorPointer=!1})=>{const materialUrl=(0,_core_utils_url__WEBPACK_IMPORTED_MODULE_2__.Ik)()("materialUrl"),allMaterialTypes=(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_1__.JB)(manifestations),manifestationsByMaterialType=(0,_apps_material_helper__WEBPACK_IMPORTED_MODULE_4__.Zh)(manifestations);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,allMaterialTypes.map((materialType=>{const isTheOnlyLabel=1===allMaterialTypes.length,manifestationsOfMaterialType=manifestationsByMaterialType[materialType],faustIds=(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_1__.bn)(manifestationsOfMaterialType).sort(),identifiers=(0,_apps_material_helper__WEBPACK_IMPORTED_MODULE_4__.AC)(manifestationsOfMaterialType),url=(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_5__.Qj)(materialUrl,workId,materialType),accessTypesCodes=manifestationsOfMaterialType.map((manifest=>manifest.accessTypes.map((accessType=>accessType.code)))).flat(),access=manifestationsOfMaterialType.map((manifest=>manifest.access.map((acc=>acc.__typename)))).flat();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_availability_label__WEBPACK_IMPORTED_MODULE_3__.Y,{key:faustIds.join("-"),url,cursorPointer,faustIds,manifestText:materialType,accessTypes:accessTypesCodes,access,selected:selectedManifestations&&materialType===(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_1__.JB)(selectedManifestations)[0],handleSelectManifestation:setSelectedManifestations?()=>{setSelectedManifestations(manifestationsOfMaterialType),(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_5__.$u)({type:materialType})}:void 0,isbns:identifiers,isVisualOnly:isTheOnlyLabel})})))};try{AvailabilityLabels.displayName="AvailabilityLabels",AvailabilityLabels.__docgenInfo={description:"",displayName:"AvailabilityLabels",props:{manifestations:{defaultValue:null,description:"",name:"manifestations",required:!0,type:{name:"Manifestation[]"}},workId:{defaultValue:null,description:"",name:"workId",required:!0,type:{name:"`work-of:${number}-${string}:${string}`"}},selectedManifestations:{defaultValue:null,description:"",name:"selectedManifestations",required:!1,type:{name:"Manifestation[] | undefined"}},setSelectedManifestations:{defaultValue:null,description:"",name:"setSelectedManifestations",required:!1,type:{name:"((manifestations: Manifestation[]) => void) | undefined"}},cursorPointer:{defaultValue:{value:"false"},description:"",name:"cursorPointer",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/availability-label/availability-labels.tsx#AvailabilityLabels"]={docgenInfo:AvailabilityLabels.__docgenInfo,name:"AvailabilityLabels",path:"src/components/availability-label/availability-labels.tsx#AvailabilityLabels"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/availability-label/helper.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Mk:()=>getParentAvailabilityLabelClass,rL:()=>isArticleByLabelText,sc:()=>isOnline});var clsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/dbc-gateway/generated/graphql.tsx"),_core_utils_types_article_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/types/article-types.ts");const isOnline=accessTypes=>(null==accessTypes?void 0:accessTypes.includes(_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_0__.PS.Online))??!1,isArticleByLabelText=manifestText=>_core_utils_types_article_types__WEBPACK_IMPORTED_MODULE_1__.A.some((type=>manifestText.toLowerCase()===type)),getParentAvailabilityLabelClass=({selected,cursorPointer})=>(0,clsx__WEBPACK_IMPORTED_MODULE_2__.A)({"pagefold-parent--none availability-label--selected":selected},{"pagefold-parent--xsmall availability-label--unselected":!selected},{"cursor-pointer":cursorPointer},"text-label","availability-label")},"./src/components/availability-label/useAvailabilityData.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>availability_label_useAvailabilityData});var helper=__webpack_require__("./src/components/availability-label/helper.ts"),react=__webpack_require__("./node_modules/react/index.js"),publizon=__webpack_require__("./src/core/publizon/publizon.ts");const publizonProductStatuses={0:{isAvailable:!0,meaning:"Unknown"},1:{isAvailable:!0,meaning:"Unknown"},2:{isAvailable:!0,meaning:"Unknown"},3:{isAvailable:!0,meaning:"Unknown"},4:{isAvailable:!0,meaning:"Reservable"},5:{isAvailable:!1,meaning:"Reservation queue on the material"},6:{isAvailable:!0,meaning:"Unknown"},7:{isAvailable:!0,meaning:"Unknown"}},availability_label_useOnlineAvailabilityData=({enabled,access,faustIds,isbn})=>{var _dataIdentifier$produ;const[isAvailable,setIsAvailable]=(0,react.useState)(null),{isLoading:isLoadingIdentifier,data:dataIdentifier}=(0,publizon.wK)(isbn??"",{query:{enabled:enabled&&null===isAvailable&&null!==isbn}}),{isLoading:isLoadingEreolData,data:dataEreol}=(0,publizon.Qo)(isbn||"",{enabled:enabled&&null===isAvailable&&!!isbn&&!1===(null==dataIdentifier||null===(_dataIdentifier$produ=dataIdentifier.product)||void 0===_dataIdentifier$produ?void 0:_dataIdentifier$produ.costFree)&&access.some((acc=>"Ereol"===acc))});return(0,react.useEffect)((()=>{enabled&&null===isAvailable&&!1===isLoadingIdentifier&&!1===isLoadingEreolData&&dataEreol&&dataEreol.loanStatus&&setIsAvailable(publizonProductStatuses[dataEreol.loanStatus].isAvailable)}),[isLoadingIdentifier,isAvailable,faustIds,enabled,dataEreol,isLoadingEreolData]),enabled?null===isAvailable?{isLoading:!1,isAvailable:!0}:{isLoading:isLoadingIdentifier&&isLoadingEreolData,isAvailable}:{isLoading:null,isAvailable:null}};var utils_config=__webpack_require__("./src/core/utils/config.tsx"),useGetAvailability=__webpack_require__("./src/core/utils/useGetAvailability.ts");const availability_label_usePhysicalAvailabilityData=({enabled,faustIds,manifestText})=>{const config=(0,utils_config.UK)(),response=(0,useGetAvailability.A)({faustIds:faustIds??[],config,options:{query:{enabled:enabled&&null!==faustIds&&!(0,helper.rL)(manifestText)}}}),{isLoading,data}=response;return enabled?(0,helper.rL)(manifestText)?{isLoading:!1,isAvailable:!0}:data?null!=data&&data.some((item=>item.available))?{isLoading:!1,isAvailable:!0}:{isLoading:!1,isAvailable:!1}:{isLoading,isAvailable:null}:{isLoading:null,isAvailable:null}},availability_label_useAvailabilityData=({accessTypes,access,faustIds,manifestText,isbn})=>{const availabilityOnline=availability_label_useOnlineAvailabilityData({enabled:(0,helper.sc)(accessTypes),access,faustIds,isbn}),availabilityPhysical=availability_label_usePhysicalAvailabilityData({enabled:!(0,helper.sc)(accessTypes),faustIds,manifestText});return(0,helper.sc)(accessTypes)?availabilityOnline:availabilityPhysical}},"./src/components/card-item-list/MaterialListItem.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const MaterialListItem=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((({children,className},ref)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className,ref,tabIndex:-1},children))),__WEBPACK_DEFAULT_EXPORT__=MaterialListItem;try{MaterialListItem.displayName="MaterialListItem",MaterialListItem.__docgenInfo={description:"",displayName:"MaterialListItem",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/card-item-list/MaterialListItem.tsx#MaterialListItem"]={docgenInfo:MaterialListItem.__docgenInfo,name:"MaterialListItem",path:"src/components/card-item-list/MaterialListItem.tsx#MaterialListItem"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/card-item-list/SearchResultList.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/isEmpty.js"),lodash_isEmpty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/helpers/general.ts"),_card_list_item_card_list_item__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/card-item-list/card-list-item/card-list-item.tsx"),_card_list_item_card_list_item_skeleton__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/card-item-list/card-list-item/card-list-item-skeleton.tsx"),_MaterialListItem__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/card-item-list/MaterialListItem.tsx");const SearchResultList=({resultItems,page,pageSize})=>{const worksAreLoaded=!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_0___default()(resultItems),lastItemRef=react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{page>0&&lastItemRef.current&&lastItemRef.current.focus()}),[page,resultItems]),react__WEBPACK_IMPORTED_MODULE_1__.createElement("ul",{className:"content-list","data-cy":"search-result-list"},!worksAreLoaded&&[...Array(5)].map((()=>react__WEBPACK_IMPORTED_MODULE_1__.createElement("li",{className:"content-list__item"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_card_list_item_card_list_item_skeleton__WEBPACK_IMPORTED_MODULE_4__.A,null)))),worksAreLoaded&&resultItems.map(((item,i)=>{const isFirstNewItem=i===page*pageSize;return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_MaterialListItem__WEBPACK_IMPORTED_MODULE_5__.A,{className:"content-list__item",key:item.workId,ref:isFirstNewItem?lastItemRef:null},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_card_list_item_card_list_item__WEBPACK_IMPORTED_MODULE_3__.A,{item,coverTint:(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_2__.J$)(i),resultNumber:i+1}))})))},__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(SearchResultList);try{SearchResultList.displayName="SearchResultList",SearchResultList.__docgenInfo={description:"",displayName:"SearchResultList",props:{resultItems:{defaultValue:null,description:"",name:"resultItems",required:!0,type:{name:"Work[]"}},page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/card-item-list/SearchResultList.tsx#SearchResultList"]={docgenInfo:SearchResultList.__docgenInfo,name:"SearchResultList",path:"src/components/card-item-list/SearchResultList.tsx#SearchResultList"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/card-item-list/card-list-item/card-list-item-skeleton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const CardListItemSkeleton=()=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("article",{className:"card-list-item ssc"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ssc-square cover--size-small"}," "),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ssc-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ssc-head-line w-60 mb"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ssc-line w-60 mbs"}," "),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ssc-line w-60 mbs"}," "))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(CardListItemSkeleton);try{cardlistitemskeleton.displayName="cardlistitemskeleton",cardlistitemskeleton.__docgenInfo={description:"",displayName:"cardlistitemskeleton",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/card-item-list/card-list-item/card-list-item-skeleton.tsx#cardlistitemskeleton"]={docgenInfo:cardlistitemskeleton.__docgenInfo,name:"cardlistitemskeleton",path:"src/components/card-item-list/card-list-item/card-list-item-skeleton.tsx#cardlistitemskeleton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/card-item-list/card-list-item/card-list-item.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>card_list_item});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),react_query_es=__webpack_require__("./node_modules/react-query/es/index.js"),utils_text=__webpack_require__("./src/core/utils/text.tsx"),arrow=__webpack_require__("./src/components/atoms/icons/arrow/arrow.tsx"),availability_labels=__webpack_require__("./src/components/availability-label/availability-labels.tsx"),button_favourite=__webpack_require__("./src/components/button-favourite/button-favourite.tsx"),Link=__webpack_require__("./src/components/atoms/links/Link.tsx"),general=__webpack_require__("./src/core/utils/helpers/general.ts"),cover=__webpack_require__("./src/components/cover/cover.tsx");const card_list_item_cover=({ids,bestRepresentation,alt,url,tint,linkAriaLabelledBy})=>react.createElement(cover.Y,{animate:!0,ids,bestRepresentation,size:"small",alt:String(alt),url,tint,linkAriaLabelledBy});try{cardlistitemcover.displayName="cardlistitemcover",cardlistitemcover.__docgenInfo={description:"",displayName:"cardlistitemcover",props:{url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"URL | undefined"}},alt:{defaultValue:null,description:"",name:"alt",required:!1,type:{name:"string | undefined"}},displaySize:{defaultValue:null,description:"",name:"displaySize",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"xsmall"'},{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'},{value:'"original"'},{value:'"2xsmall"'}]}},tint:{defaultValue:null,description:"",name:"tint",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"20"'},{value:'"40"'},{value:'"80"'},{value:'"100"'},{value:'"120"'}]}},ids:{defaultValue:null,description:"",name:"ids",required:!0,type:{name:"string[]"}},bestRepresentation:{defaultValue:null,description:"",name:"bestRepresentation",required:!1,type:{name:"Manifestation | undefined"}},idType:{defaultValue:null,description:"",name:"idType",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"pid"'},{value:'"faust"'},{value:'"isbn"'},{value:'"issn"'}]}},shadow:{defaultValue:null,description:"",name:"shadow",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"small"'},{value:'"medium"'}]}},linkAriaLabelledBy:{defaultValue:null,description:"",name:"linkAriaLabelledBy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/card-item-list/card-list-item/card-list-item-cover.tsx#cardlistitemcover"]={docgenInfo:cardlistitemcover.__docgenInfo,name:"cardlistitemcover",path:"src/components/card-item-list/card-list-item/card-list-item-cover.tsx#cardlistitemcover"})}catch(__react_docgen_typescript_loader_error){}var HorizontalTermLine=__webpack_require__("./src/components/horizontal-term-line/HorizontalTermLine.tsx"),url=__webpack_require__("./src/core/utils/url.tsx"),helpers_url=__webpack_require__("./src/core/utils/helpers/url.ts"),guardedRequests_slice=__webpack_require__("./src/core/guardedRequests.slice.ts"),useStatistics=__webpack_require__("./src/core/statistics/useStatistics.ts"),statistics=__webpack_require__("./src/core/statistics/statistics.ts"),lazy_load=__webpack_require__("./src/core/utils/helpers/lazy-load.ts"),helper=__webpack_require__("./src/apps/material/helper.ts"),useFilterHandler=__webpack_require__("./src/apps/search-result/useFilterHandler.tsx"),search_result_helper=__webpack_require__("./src/apps/search-result/helper.ts");const SubjectNumber=({shelfmark:{shelfmark},className=""})=>react.createElement("div",{className},shelfmark),subject_number_SubjectNumber=SubjectNumber;try{SubjectNumber.displayName="SubjectNumber",SubjectNumber.__docgenInfo={description:"",displayName:"SubjectNumber",props:{className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string | undefined"}},shelfmark:{defaultValue:null,description:"",name:"shelfmark",required:!0,type:{name:"Shelfmark"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/subject-number/SubjectNumber.tsx#SubjectNumber"]={docgenInfo:SubjectNumber.__docgenInfo,name:"SubjectNumber",path:"src/components/subject-number/SubjectNumber.tsx#SubjectNumber"})}catch(__react_docgen_typescript_loader_error){}const card_list_item=({item,item:{titles:{full:fullTitle},series,creators,manifestations:{all:manifestations,bestRepresentation},workId},coverTint,resultNumber,preferredId,dataCy="card-list-item"})=>{const searchTitleId=(0,react.useId)(),t=(0,utils_text.F)(),u=(0,url.Ik)(),searchUrl=u("searchUrl"),materialUrl=u("materialUrl"),{filters}=(0,useFilterHandler.A)(),materialTypeFromFilters=(0,search_result_helper.Z4)(filters,manifestations),bookManifestation=(0,helper.oj)(manifestations),dispatch=(0,es.wA)(),queryClient=(0,react_query_es.useQueryClient)(),author=(0,general.sP)((0,general.UV)(creators),t),manifestationPids=(0,general.e$)(manifestations),firstItemInSeries=(0,helper.w2)(series).shift(),materialFullUrl=(0,helpers_url.Qj)(materialUrl,workId,materialTypeFromFilters),languageIsoCode=(0,helper.PG)(manifestations),{shelfmark}=bestRepresentation,{track}=(0,useStatistics.B)(),{itemRef,hasBeenVisible:showItem}=(0,lazy_load.H)(),handleClick=(0,react.useCallback)((()=>{track("click",{id:statistics.o.searchResultNumberClick.id,name:statistics.o.searchResultNumberClick.name,trackedData:resultNumber.toString()}).then((()=>{(0,helpers_url.SE)(materialFullUrl)}))}),[materialFullUrl]);return react.createElement("article",{ref:itemRef,"data-cy":dataCy,className:"card-list-item arrow__hover--right-small",onClick:()=>{handleClick()},onKeyUp:e=>"Enter"===e.key&&handleClick},react.createElement("div",{className:"card-list-item__cover"},showItem&&react.createElement(card_list_item_cover,{ids:manifestationPids,bestRepresentation:bookManifestation??bestRepresentation,url:materialFullUrl,tint:coverTint,linkAriaLabelledBy:searchTitleId})),react.createElement("div",{className:"card-list-item__text"},react.createElement("div",{className:"card-list-item__meta"},showItem&&react.createElement(button_favourite.A,{title:fullTitle[0],id:preferredId||workId,addToListRequest:id=>{dispatch((0,guardedRequests_slice.A5)({type:"addFavorite",args:{id,queryClient},app:"search-result"}))}}),firstItemInSeries&&react.createElement(HorizontalTermLine.A,{title:`${t("numberDescriptionText")} ${firstItemInSeries.members[0].numberInSeries??""}`,subTitle:t("inSeriesText"),linkList:[{url:(0,helpers_url.zy)(searchUrl,firstItemInSeries.title),term:firstItemInSeries.title}]})),!(0,general.G)(bestRepresentation)&&shelfmark&&react.createElement(subject_number_SubjectNumber,{className:"text-tags color-secondary-gray mt-8",shelfmark}),react.createElement("h2",{className:"card-list-item__title text-header-h4 mb-4","data-cy":"card-list-item-title",lang:languageIsoCode,id:searchTitleId},react.createElement(Link.A,{href:materialFullUrl,stopPropagation:!0},fullTitle)),author&&item&&react.createElement("p",{className:"text-small-caption","data-cy":"card-list-item-author"},`${t("byAuthorText")} ${author}`,(0,general.C2)(item)?` (${(0,general.C2)(item)})`:"")),react.createElement("div",{className:"card-list-item__availability","data-cy":"card-list-item-availability"},showItem&&react.createElement(availability_labels.F,{cursorPointer:!0,workId,manifestations})),react.createElement(arrow.A,null))};try{cardlistitem.displayName="cardlistitem",cardlistitem.__docgenInfo={description:"",displayName:"cardlistitem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Work"}},coverTint:{defaultValue:null,description:"",name:"coverTint",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"20"'},{value:'"40"'},{value:'"80"'},{value:'"100"'},{value:'"120"'}]}},resultNumber:{defaultValue:null,description:"",name:"resultNumber",required:!0,type:{name:"number"}},preferredId:{defaultValue:null,description:"",name:"preferredId",required:!1,type:{name:"`work-of:${number}-${string}:${string}` | undefined"}},dataCy:{defaultValue:{value:"card-list-item"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/card-item-list/card-list-item/card-list-item.tsx#cardlistitem"]={docgenInfo:cardlistitem.__docgenInfo,name:"cardlistitem",path:"src/components/card-item-list/card-list-item/card-list-item.tsx#cardlistitem"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/checkbox/Checkbox.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>checkbox_Checkbox});var react=__webpack_require__("./node_modules/react/index.js");const icon_checkbox=()=>react.createElement("svg",{width:"20px",height:"20px"},react.createElement("polyline",{points:"1.5 6 4.5 9 10.5 1",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})),checkbox_Checkbox=({id,label,hideLabel,className,selected,onChecked,disabled,ariaLabel,focused,isVisualOnly,labelledBy})=>react.createElement("div",{className:`checkbox ${className||""}`},react.createElement("input",{autoFocus:focused,id,className:"checkbox__input",onChange:e=>{var checked;checked=e.target.checked,onChecked&&onChecked(checked)},checked:selected,type:"checkbox","aria-label":isVisualOnly&&labelledBy?void 0:ariaLabel,"aria-labelledby":isVisualOnly&&labelledBy?labelledBy:void 0,disabled}),react.createElement("label",{className:"checkbox__label",htmlFor:id,"data-cy":id},react.createElement("span",{className:"checkbox__icon","aria-labelledby":labelledBy},react.createElement(icon_checkbox,null)),label&&react.createElement("span",{"data-cy":"checkbox-text",className:"checkbox__text text-small-caption color-secondary-gray "+(hideLabel?"checkbox__text--hide-visually":"")},label)));try{Checkbox.displayName="Checkbox",Checkbox.__docgenInfo={description:"",displayName:"Checkbox",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},hideLabel:{defaultValue:null,description:"",name:"hideLabel",required:!1,type:{name:"boolean | undefined"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean | undefined"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},onChecked:{defaultValue:null,description:"",name:"onChecked",required:!1,type:{name:"((value: boolean) => void) | undefined"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string | undefined"}},focused:{defaultValue:null,description:"",name:"focused",required:!1,type:{name:"boolean | undefined"}},isVisualOnly:{defaultValue:null,description:"",name:"isVisualOnly",required:!1,type:{name:"boolean | undefined"}},labelledBy:{defaultValue:null,description:"",name:"labelledBy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/checkbox/Checkbox.tsx#Checkbox"]={docgenInfo:Checkbox.__docgenInfo,name:"Checkbox",path:"src/components/checkbox/Checkbox.tsx#Checkbox"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/forms/input/TextInput.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var clsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_label_Label__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/forms/label/Label.tsx");const TextInput=({id,label,description,validation,type,onChange,value,className,pattern,inputmode,required,title,placeholder})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:(0,clsx__WEBPACK_IMPORTED_MODULE_2__.A)("dpl-input",className,[{"dpl-input--invalid":!!validation}])},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_label_Label__WEBPACK_IMPORTED_MODULE_1__.A,{id,required},label),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{className:"text-body-medium-medium",required,"aria-describedby":description?`description-${id}`:"",id,"data-cy":id,type,pattern,inputMode:inputmode,onChange:e=>{onChange(e.target.value)},value,"aria-labelledby":validation?`validation-${id}`:"",title,placeholder}),description&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dpl-input__description",id:`description-${id}`},description),validation&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:`validation-${id}`,className:"dpl-input__validation",role:"alert"},validation)),__WEBPACK_DEFAULT_EXPORT__=TextInput;try{TextInput.displayName="TextInput",TextInput.__docgenInfo={description:"",displayName:"TextInput",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"number"'},{value:'"text"'},{value:'"email"'},{value:'"password"'},{value:'"tel"'}]}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean | undefined"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string | undefined"}},validation:{defaultValue:null,description:"",name:"validation",required:!1,type:{name:"string | undefined"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},pattern:{defaultValue:null,description:"",name:"pattern",required:!1,type:{name:"string | undefined"}},inputmode:{defaultValue:null,description:"",name:"inputmode",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"numeric"'}]}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string | undefined"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/forms/input/TextInput.tsx#TextInput"]={docgenInfo:TextInput.__docgenInfo,name:"TextInput",path:"src/components/forms/input/TextInput.tsx#TextInput"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/forms/label/Label.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const Label=({id,className,children,required})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:id,className:(0,clsx__WEBPACK_IMPORTED_MODULE_1__.A)(className)},children,required&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null," *")),__WEBPACK_DEFAULT_EXPORT__=Label;try{Label.displayName="Label",Label.__docgenInfo={description:"",displayName:"Label",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/forms/label/Label.tsx#Label"]={docgenInfo:Label.__docgenInfo,name:"Label",path:"src/components/forms/label/Label.tsx#Label"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/horizontal-term-line/HorizontalTermLine.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>horizontal_term_line_HorizontalTermLine});var react=__webpack_require__("./node_modules/react/index.js"),Link=__webpack_require__("./src/components/atoms/links/Link.tsx"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),ExpandMore=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/ExpandMore.svg"),ExpandMore_default=__webpack_require__.n(ExpandMore),utils_text=__webpack_require__("./src/core/utils/text.tsx");const ButtonExpand=({showMore,setShowMore})=>{const t=(0,utils_text.F)();return react.createElement("button",{className:"button-expand",type:"button",onClick:()=>setShowMore(!showMore),"aria-label":t("expandMoreText")},react.createElement("img",{className:(0,clsx.A)("button-expand__image",{"button-expand__image--expanded":showMore}),src:ExpandMore_default(),alt:""}))},button_expand_ButtonExpand=ButtonExpand;try{ButtonExpand.displayName="ButtonExpand",ButtonExpand.__docgenInfo={description:"",displayName:"ButtonExpand",props:{showMore:{defaultValue:null,description:"",name:"showMore",required:!0,type:{name:"boolean"}},setShowMore:{defaultValue:null,description:"",name:"setShowMore",required:!0,type:{name:"(showMore: boolean) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/button-expand/ButtonExpand.tsx#ButtonExpand"]={docgenInfo:ButtonExpand.__docgenInfo,name:"ButtonExpand",path:"src/components/button-expand/ButtonExpand.tsx#ButtonExpand"})}catch(__react_docgen_typescript_loader_error){}const HorizontalTermLine=({title,subTitle,linkList,dataCy="horizontal-term-line"})=>{const[showMore,setShowMore]=(0,react.useState)(!1),itemsToShow=showMore?linkList:linkList.slice(0,3),showMoreButton=linkList.length>3;return 0===linkList.length?null:react.createElement("div",{"data-cy":dataCy,className:"text-small-caption horizontal-term-line"},react.createElement("h3",{className:"text-label-bold"},title||""," ",subTitle&&react.createElement("span",{className:"text-small-caption"},` ${subTitle}`)),itemsToShow.map((item=>{const{term,url}=item;return react.createElement("span",{key:term},react.createElement(Link.A,{href:url,className:"link-tag",stopPropagation:!0},term))})),showMoreButton&&react.createElement(button_expand_ButtonExpand,{showMore,setShowMore}))},horizontal_term_line_HorizontalTermLine=HorizontalTermLine;try{HorizontalTermLine.displayName="HorizontalTermLine",HorizontalTermLine.__docgenInfo={description:"",displayName:"HorizontalTermLine",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},subTitle:{defaultValue:null,description:"",name:"subTitle",required:!1,type:{name:"string | undefined"}},linkList:{defaultValue:null,description:"",name:"linkList",required:!0,type:{name:"{ url: URL; term: string; }[]"}},dataCy:{defaultValue:{value:"horizontal-term-line"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/horizontal-term-line/HorizontalTermLine.tsx#HorizontalTermLine"]={docgenInfo:HorizontalTermLine.__docgenInfo,name:"HorizontalTermLine",path:"src/components/horizontal-term-line/HorizontalTermLine.tsx#HorizontalTermLine"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/multiselect/Multiselect.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>multiselect_Multiselect});var react=__webpack_require__("./node_modules/react/index.js"),ExpandMore=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/ExpandMore.svg"),ExpandMore_default=__webpack_require__.n(ExpandMore),downshift_esm=__webpack_require__("./node_modules/downshift/dist/downshift.esm.js"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),useClickAway=__webpack_require__("./node_modules/react-use/esm/useClickAway.js"),useDeepCompareEffect=__webpack_require__("./node_modules/react-use/esm/useDeepCompareEffect.js"),Checkbox=__webpack_require__("./src/components/checkbox/Checkbox.tsx");const multiselect_useMultiselectOptions=function useMultiselectOptions(options,allOption){return{allOptions:[allOption,...options]}};var utils_text=__webpack_require__("./src/core/utils/text.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const Multiselect=({dataCy="multiselect",caption,options,defaultValue=[],updateExternalState})=>{const id=(0,react.useId)(),t=(0,utils_text.F)(),ref=(0,react.useRef)(null),[isDropdownOpen,setIsDropdownOpen]=(0,react.useState)(!1),updateState=(updateKey,value)=>{updateExternalState&&updateKey&&updateExternalState.externalUpdateFunction({key:updateKey,value})},{allOptions}=multiselect_useMultiselectOptions(options,{item:"multiselectAllOptionText",value:"all"}),initialSelectedOptions=defaultValue.length>0?defaultValue:allOptions.slice(0,1),{getDropdownProps,setSelectedItems,selectedItems}=(0,downshift_esm.mH)({initialSelectedItems:initialSelectedOptions});(0,useClickAway.A)(ref,(()=>{setIsDropdownOpen(!1)})),(0,useDeepCompareEffect.A)((()=>{setSelectedItems(initialSelectedOptions)}),[setSelectedItems,initialSelectedOptions]);const{getToggleButtonProps,getMenuProps,highlightedIndex,getItemProps}=((isDropdownOpen,allOptions,selectedItems,setSelectedItems,handleSelectedItems)=>(0,downshift_esm.WM)({isOpen:isDropdownOpen,selectedItem:null,items:allOptions,stateReducer:(state,actionAndChanges)=>{const{changes,type}=actionAndChanges;switch(type){case downshift_esm.WM.stateChangeTypes.ToggleButtonKeyDownEnter:case downshift_esm.WM.stateChangeTypes.ToggleButtonKeyDownSpaceButton:case downshift_esm.WM.stateChangeTypes.ItemClick:return{...changes,isOpen:!0}}return changes},onStateChange:({type,selectedItem:newSelectedItem})=>{switch(type){case downshift_esm.WM.stateChangeTypes.ToggleButtonKeyDownSpaceButton:case downshift_esm.WM.stateChangeTypes.ItemClick:case downshift_esm.WM.stateChangeTypes.ToggleButtonKeyDownEnter:if(newSelectedItem&&!selectedItems.find((item=>item.value===newSelectedItem.value)))return void setSelectedItems(handleSelectedItems(selectedItems,newSelectedItem,allOptions.length));if(newSelectedItem&&selectedItems.find((item=>item.value===newSelectedItem.value))){if(1===selectedItems.length)return;const newSelectedItems=selectedItems.filter((item=>item.value!==newSelectedItem.value));setSelectedItems(handleSelectedItems(newSelectedItems,null,allOptions.length))}}}}))(isDropdownOpen,allOptions,selectedItems,setSelectedItems,((allCurrentlySelected,newSelected,allPossibleOptions)=>newSelected?allCurrentlySelected.find((item=>"all"===item.value))&&"all"!==newSelected.value?((selectedItems,newSelected,updateState,updateExternalState,setSelectedItems)=>{const newValue=[...selectedItems.filter((item=>"all"!==item.value)),newSelected];return updateState(null==updateExternalState?void 0:updateExternalState.key,newValue),setSelectedItems(newValue),newValue})(allCurrentlySelected,newSelected,updateState,updateExternalState,setSelectedItems):"all"!==newSelected.value&&[...allCurrentlySelected,newSelected].length===allPossibleOptions-1?((updateState,updateExternalState,setSelectedItems)=>{const newValue=[{item:"multiselectAllOptionText",value:"all"}];return updateState(null==updateExternalState?void 0:updateExternalState.key,newValue),setSelectedItems(newValue),newValue})(updateState,updateExternalState,setSelectedItems):"all"===newSelected.value?(updateState(null==updateExternalState?void 0:updateExternalState.key,[newSelected]),setSelectedItems([newSelected]),[newSelected]):((selectedItems,newSelected,updateState,updateExternalState,setSelectedItems)=>(updateState(null==updateExternalState?void 0:updateExternalState.key,[...selectedItems,newSelected]),setSelectedItems([...selectedItems,newSelected]),[...selectedItems,newSelected]))(selectedItems,newSelected,updateState,updateExternalState,setSelectedItems):((newSelected,updateState,updateExternalState,setSelectedItems)=>(updateState(null==updateExternalState?void 0:updateExternalState.key,newSelected),setSelectedItems(newSelected),newSelected))(allCurrentlySelected,updateState,updateExternalState,setSelectedItems)));return react.createElement(react.Fragment,null,caption&&react.createElement("div",{className:"multiselect__caption"},caption),react.createElement("div",{className:"multiselect",ref,"data-cy":dataCy},react.createElement("button",_extends({type:"button",className:"multiselect focus-styling"},getToggleButtonProps(getDropdownProps({preventKeyAction:isDropdownOpen})),{onClick:()=>{setIsDropdownOpen(!isDropdownOpen)},onKeyUp:e=>{"Enter"===e.key&&setIsDropdownOpen(!isDropdownOpen)}}),react.createElement("div",{className:"multiselect__selected"},selectedItems.map(((singularitem,index)=>(index>0?", ":"")+t(singularitem.item)))),react.createElement("div",{className:"multiselect__opener"},react.createElement("img",{className:(0,clsx.A)("multiselect__icon",{"dropdown__arrow--bottom":isDropdownOpen}),src:ExpandMore_default(),alt:""}))),react.createElement("ul",_extends({className:"multiselect__options"},getMenuProps(),{style:isDropdownOpen?{}:{display:"none"}}),allOptions.map(((item,index)=>{const downshiftProps={...getItemProps({item,index})};return react.createElement("li",_extends({className:(0,clsx.A)("multiselect__option",{"multiselect__option--highlighted":highlightedIndex===index}),key:`${item.value}${item.item}`},getItemProps({item,index}),{role:"option","aria-selected":!!selectedItems.find((selected=>selected.value===item.value))}),react.createElement("span",{id:`multiselect-label-${downshiftProps.id}`},t(item.item)),react.createElement("div",{className:"checkbox multiselect__checkbox"},react.createElement(Checkbox.A,{id:`${id}-${index.toString()}`,selected:!!selectedItems.find((selected=>selected.value===item.value)),isVisualOnly:!0,labelledBy:`multiselect-label-${downshiftProps.id}`})))})))))},multiselect_Multiselect=Multiselect;try{Multiselect.displayName="Multiselect",Multiselect.__docgenInfo={description:"",displayName:"Multiselect",props:{dataCy:{defaultValue:{value:"multiselect"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}},caption:{defaultValue:null,description:"",name:"caption",required:!1,type:{name:"string | undefined"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"MultiselectOption[]"}},defaultValue:{defaultValue:{value:"[]"},description:"",name:"defaultValue",required:!1,type:{name:"MultiselectOption[] | undefined"}},updateExternalState:{defaultValue:null,description:"",name:"updateExternalState",required:!1,type:{name:"MultiselectExternalUpdate | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/multiselect/Multiselect.tsx#Multiselect"]={docgenInfo:Multiselect.__docgenInfo,name:"Multiselect",path:"src/components/multiselect/Multiselect.tsx#Multiselect"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/result-pager/use-pager.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>use_pager});var react=__webpack_require__("./node_modules/react/index.js"),utils_text=__webpack_require__("./src/core/utils/text.tsx");function ResultPager({setPageHandler,itemsShown,hitcount,isLoading,classNames}){const t=(0,utils_text.F)();return react.createElement("div",{className:`result-pager ${classNames}`},react.createElement("p",{className:"text-small-caption result-pager__title"},t("resultPagerStatusText",{placeholders:{"@itemsShown":itemsShown,"@hitcount":hitcount}})),itemsShown!==hitcount&&react.createElement("button",{disabled:isLoading,type:"button",className:"btn-primary btn-outline btn-medium arrow__hover--right-small uppercase",onClick:setPageHandler},t(isLoading?"loadingText":"showMoreText")))}const result_pager=ResultPager;try{ResultPager.displayName="ResultPager",ResultPager.__docgenInfo={description:"",displayName:"ResultPager",props:{setPageHandler:{defaultValue:null,description:"",name:"setPageHandler",required:!0,type:{name:"() => void"}},itemsShown:{defaultValue:null,description:"",name:"itemsShown",required:!0,type:{name:"number"}},hitcount:{defaultValue:null,description:"",name:"hitcount",required:!0,type:{name:"number"}},classNames:{defaultValue:null,description:"",name:"classNames",required:!0,type:{name:"string"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/result-pager/result-pager.tsx#ResultPager"]={docgenInfo:ResultPager.__docgenInfo,name:"ResultPager",path:"src/components/result-pager/result-pager.tsx#ResultPager"})}catch(__react_docgen_typescript_loader_error){}const use_pager=({hitcount,pageSize,overrideItemsShown})=>{const[itemsShown,setItemsShown]=(0,react.useState)(pageSize>=hitcount?hitcount:pageSize),[page,setPage]=(0,react.useState)(0),[firstInNewPage,setFirstInNewPage]=(0,react.useState)(null);(0,react.useEffect)((()=>{setItemsShown(pageSize>hitcount?hitcount:pageSize)}),[hitcount,pageSize]);const pagehandler=()=>{const currentPage=page+1,itemsOnPage=(currentPage+1)*pageSize,onLastPage=itemsOnPage>hitcount;setFirstInNewPage(itemsOnPage-pageSize),setItemsShown(onLastPage?hitcount:itemsOnPage),setPage(currentPage)};return{itemsShown,PagerComponent:({isLoading,classNames=""})=>hitcount?react.createElement(result_pager,{itemsShown:overrideItemsShown?overrideItemsShown():itemsShown,hitcount,classNames,setPageHandler:pagehandler,isLoading}):null,page,firstInNewPage}};try{usepager.displayName="usepager",usepager.__docgenInfo={description:"",displayName:"usepager",props:{hitcount:{defaultValue:null,description:"",name:"hitcount",required:!0,type:{name:"number"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}},overrideItemsShown:{defaultValue:null,description:"",name:"overrideItemsShown",required:!1,type:{name:"(() => number) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/result-pager/use-pager.tsx#usepager"]={docgenInfo:usepager.__docgenInfo,name:"usepager",path:"src/components/result-pager/use-pager.tsx#usepager"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/skeletons/TextLineSkeleton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const TextLineSkeleton=({width=40})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ssc-line w-100",style:{width:`${width}px`}}),__WEBPACK_DEFAULT_EXPORT__=TextLineSkeleton;try{TextLineSkeleton.displayName="TextLineSkeleton",TextLineSkeleton.__docgenInfo={description:"",displayName:"TextLineSkeleton",props:{width:{defaultValue:{value:"40"},description:"",name:"width",required:!1,type:{name:"number | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/skeletons/TextLineSkeleton.tsx#TextLineSkeleton"]={docgenInfo:TextLineSkeleton.__docgenInfo,name:"TextLineSkeleton",path:"src/components/skeletons/TextLineSkeleton.tsx#TextLineSkeleton"})}catch(__react_docgen_typescript_loader_error){}},"./src/core/publizon/publizon.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{tt:()=>getGetV1UserReservationsQueryKey,de:()=>useDeleteV1UserReservationsIdentifier,PF:()=>useGetV1LibraryProfile,Qo:()=>useGetV1LoanstatusIdentifier,wK:()=>useGetV1ProductsIdentifier,VM:()=>useGetV1UserLoans,pA:()=>useGetV1UserReservations});var es=__webpack_require__("./node_modules/react-query/es/index.js"),FetchFailedCriticalError=__webpack_require__("./src/core/fetchers/FetchFailedCriticalError.ts"),helpers=__webpack_require__("./src/core/fetchers/helpers.ts"),core_token=__webpack_require__("./src/core/token.js"),extractServiceBaseUrls=__webpack_require__("./src/core/utils/reduxMiddleware/extractServiceBaseUrls.ts"),FetcherHttpError=__webpack_require__("./src/core/fetchers/FetcherHttpError.ts");function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}class PublizonServiceHttpError extends FetcherHttpError.A{constructor(...args){super(...args),_defineProperty(this,"name","PublizonServiceHttpError")}}const fetcher_fetcher=async({url,method,headers,params,data})=>{const token=(0,core_token.gf)(core_token.CI)??(0,core_token.gf)(core_token._L),authHeaders=token?{Authorization:`Bearer ${token}`}:{},body=data?JSON.stringify(data):null,serviceUrl=(0,helpers.Z4)({baseUrl:(0,extractServiceBaseUrls.aW)(extractServiceBaseUrls.TJ.publizon),url,params});try{const response=await fetch(serviceUrl,{method,headers:{...headers,...authHeaders},body});if(!response.ok)throw new PublizonServiceHttpError(response.status,response.statusText,serviceUrl);try{return await response.json()}catch(e){if(!(e instanceof SyntaxError))throw e}}catch(error){if(error instanceof PublizonServiceHttpError)throw error;const message=error instanceof Error?error.message:"Unknown error";throw new FetchFailedCriticalError.A(message,serviceUrl)}return null},getGetV1LibraryProfileQueryOptions=options=>{const{query:queryOptions}=options??{};return{queryKey:(null==queryOptions?void 0:queryOptions.queryKey)??["/v1/library/profile"],queryFn:({signal})=>(signal=>fetcher_fetcher({url:"/v1/library/profile",method:"GET",signal}))(signal),...queryOptions}},useGetV1LibraryProfile=options=>{const queryOptions=getGetV1LibraryProfileQueryOptions(options),query=(0,es.useQuery)(queryOptions);return query.queryKey=queryOptions.queryKey,query},getGetV1UserLoansQueryOptions=(params,options)=>{const{query:queryOptions}=options??{},queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??(params=>["/v1/user/loans",...params?[params]:[]])(params);return{queryKey,queryFn:({signal})=>((params,signal)=>fetcher_fetcher({url:"/v1/user/loans",method:"GET",params,signal}))(params,signal),...queryOptions}},useGetV1UserLoans=(params,options)=>{const queryOptions=getGetV1UserLoansQueryOptions(params,options),query=(0,es.useQuery)(queryOptions);return query.queryKey=queryOptions.queryKey,query},getGetV1LoanstatusIdentifierQueryOptions=(identifier,queryOptions)=>{const queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??(identifier=>[`/v1/loanstatus/${identifier}`])(identifier);return{queryKey,queryFn:({signal})=>((identifier,signal)=>fetcher_fetcher({url:`/v1/loanstatus/${identifier}`,method:"GET",signal}))(identifier,signal),enabled:!!identifier,...queryOptions}},useGetV1LoanstatusIdentifier=(identifier,queryOptions)=>{const options=getGetV1LoanstatusIdentifierQueryOptions(identifier,queryOptions),query=(0,es.useQuery)(options);return query.queryKey=options.queryKey,query},getGetV1ProductsIdentifierQueryOptions=(identifier,options)=>{const{query:queryOptions}=options??{},queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??(identifier=>[`/v1/products/${identifier}`])(identifier);return{queryKey,queryFn:({signal})=>((identifier,signal)=>fetcher_fetcher({url:`/v1/products/${identifier}`,method:"GET",signal}))(identifier,signal),enabled:!!identifier,...queryOptions}},useGetV1ProductsIdentifier=(identifier,options)=>{const queryOptions=getGetV1ProductsIdentifierQueryOptions(identifier,options),query=(0,es.useQuery)(queryOptions);return query.queryKey=queryOptions.queryKey,query},getGetV1UserReservationsQueryKey=()=>["/v1/user/reservations"],getGetV1UserReservationsQueryOptions=options=>{const{query:queryOptions}=options??{};return{queryKey:(null==queryOptions?void 0:queryOptions.queryKey)??getGetV1UserReservationsQueryKey(),queryFn:({signal})=>(signal=>fetcher_fetcher({url:"/v1/user/reservations",method:"GET",signal}))(signal),...queryOptions}},useGetV1UserReservations=options=>{const queryOptions=getGetV1UserReservationsQueryOptions(options),query=(0,es.useQuery)(queryOptions);return query.queryKey=queryOptions.queryKey,query},getDeleteV1UserReservationsIdentifierMutationOptions=options=>{const{mutation:mutationOptions}=options??{};return{mutationFn:props=>{const{identifier}=props??{};return(identifier=>fetcher_fetcher({url:`/v1/user/reservations/${identifier}`,method:"DELETE"}))(identifier)},...mutationOptions}},useDeleteV1UserReservationsIdentifier=options=>{const mutationOptions=getDeleteV1UserReservationsIdentifierMutationOptions(options);return(0,es.useMutation)(mutationOptions)}},"./src/core/storybook/globalConfigArgs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,U:()=>argTypes});const argTypes={errorMessagesConfig:{description:"Configuration for error messages behaviour",control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:'{"containerId":"dpl-react-apps-error-messages","shouldOnlyShowOneError":true,"showCloseButton":true}'}}}},__WEBPACK_DEFAULT_EXPORT__={errorMessagesConfig:'{"containerId":"dpl-react-apps-error-messages","shouldOnlyShowOneError":true,"showCloseButton":true}'}},"./src/core/utils/branches.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,ov:()=>useGetBranches,z5:()=>excludeBlacklistedBranches});var _config__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/utils/config.tsx");const excludeBlacklistedBranches=(branches,blacklist)=>branches.filter((item=>!blacklist.includes(item.branchId))),cleanBranchesId=branches=>branches.map((branch=>{const matches=/-(\d*)/g.exec(branch.branchId);return matches?matches[1]:""})).filter((item=>item)),useGetBranches=key=>{const config=(0,_config__WEBPACK_IMPORTED_MODULE_0__.UK)(),branches=config("branchesConfig",{transformer:"jsonParse"}),blacklistBranches=config(key,{transformer:"stringToArray"});return excludeBlacklistedBranches(branches,blacklistBranches)},__WEBPACK_DEFAULT_EXPORT__=()=>{const branches=useGetBranches("blacklistedSearchBranchesConfig");return cleanBranchesId(branches)};try{cleanBranchesId.displayName="cleanBranchesId",cleanBranchesId.__docgenInfo={description:"",displayName:"cleanBranchesId",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/utils/branches.tsx#cleanBranchesId"]={docgenInfo:cleanBranchesId.__docgenInfo,name:"cleanBranchesId",path:"src/core/utils/branches.tsx#cleanBranchesId"})}catch(__react_docgen_typescript_loader_error){}try{useGetBranches.displayName="useGetBranches",useGetBranches.__docgenInfo={description:"",displayName:"useGetBranches",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/utils/branches.tsx#useGetBranches"]={docgenInfo:useGetBranches.__docgenInfo,name:"useGetBranches",path:"src/core/utils/branches.tsx#useGetBranches"})}catch(__react_docgen_typescript_loader_error){}},"./src/core/utils/helpers/lazy-load.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>useItemHasBeenVisible});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_use__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-use/esm/useIntersection.js");const useItemHasBeenVisible=()=>{const itemRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),intersection=(0,react_use__WEBPACK_IMPORTED_MODULE_1__.A)(itemRef,{root:null,rootMargin:"0%",threshold:0}),isInViewPort=Boolean(null==intersection?void 0:intersection.isIntersecting),[hasBeenVisible,setHasBeenVisible]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{hasBeenVisible||isInViewPort&&setHasBeenVisible(!0)}),[hasBeenVisible,isInViewPort]),{itemRef,hasBeenVisible:isInViewPort||hasBeenVisible}}},"./src/core/utils/useGetAvailability.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _fbs_fbs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/fbs/fbs.ts"),_apps_material_helper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/apps/material/helper.ts");const __WEBPACK_DEFAULT_EXPORT__=({faustIds,config,options})=>(0,_fbs_fbs__WEBPACK_IMPORTED_MODULE_0__.io)((0,_apps_material_helper__WEBPACK_IMPORTED_MODULE_1__.We)(faustIds,config,"availability"),options)}}]);