"use strict";(globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react=globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react||[]).push([[5894],{"./src/components/date-inputs/DateRangeInput.stories.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,WithExpiredDates:()=>WithExpiredDates,WithSelectedRange:()=>WithSelectedRange,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_DateRangeInput__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/date-inputs/DateRangeInput.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__={title:"Components / Date Range Input",component:_DateRangeInput__WEBPACK_IMPORTED_MODULE_1__.A,argTypes:{label:{control:{type:"text"}},placeholder:{control:{type:"text"}}}},DateRangeInputWithState=args=>{const[startDate,setStartDate]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(args.startDate||""),[endDate,setEndDate]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(args.endDate||"");return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_DateRangeInput__WEBPACK_IMPORTED_MODULE_1__.A,_extends({},args,{startDate,endDate,setStartDate,setEndDate}))},Default={render:args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(DateRangeInputWithState,args),args:{label:"Select date range",placeholder:"Choose dates",startDate:"",endDate:""}},WithSelectedRange={render:args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(DateRangeInputWithState,args),args:{label:"Select date range",placeholder:"Choose dates",startDate:"2035-03-15",endDate:"2035-03-20"}},WithExpiredDates={render:args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(DateRangeInputWithState,args),args:{label:"Pause period",placeholder:"Select start and end date",startDate:"2024-08-01",endDate:"2024-08-31"}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  render: args => <DateRangeInputWithState {...args} />,\n  args: {\n    label: "Select date range",\n    placeholder: "Choose dates",\n    startDate: "",\n    endDate: ""\n  }\n}',...Default.parameters?.docs?.source}}},WithSelectedRange.parameters={...WithSelectedRange.parameters,docs:{...WithSelectedRange.parameters?.docs,source:{originalSource:'{\n  render: args => <DateRangeInputWithState {...args} />,\n  args: {\n    label: "Select date range",\n    placeholder: "Choose dates",\n    startDate: "2035-03-15",\n    endDate: "2035-03-20"\n  }\n}',...WithSelectedRange.parameters?.docs?.source}}},WithExpiredDates.parameters={...WithExpiredDates.parameters,docs:{...WithExpiredDates.parameters?.docs,source:{originalSource:'{\n  render: args => <DateRangeInputWithState {...args} />,\n  args: {\n    label: "Pause period",\n    placeholder: "Select start and end date",\n    startDate: "2024-08-01",\n    endDate: "2024-08-31"\n  }\n}',...WithExpiredDates.parameters?.docs?.source}}}},"./src/components/date-inputs/DateRangeInput.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_flatpickr__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-flatpickr/build/react-flatpickr.js"),flatpickr_dist_l10n_da__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/flatpickr/dist/flatpickr.css"),__webpack_require__("./node_modules/flatpickr/dist/l10n/da.js")),dayjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/dayjs/dayjs.min.js"),dayjs__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_4__),_core_configuration_date_format__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/core/configuration/date-format.ts");const DateRangeInput=({setStartDate,setEndDate,startDate,endDate,label,placeholder,className="date-range",dataCy="date-range"})=>{const refLabel=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),value=startDate&&endDate?[dayjs__WEBPACK_IMPORTED_MODULE_4___default()(startDate).toDate(),dayjs__WEBPACK_IMPORTED_MODULE_4___default()(endDate).toDate()]:void 0;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"data-cy":dataCy,className},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"date-range__input"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{ref:refLabel,htmlFor:"date-range",className:"text-body-medium-regular"},label),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_flatpickr__WEBPACK_IMPORTED_MODULE_1__.A,{id:"date-range",value,options:{altInput:!0,altFormat:"j. F Y",disable:[date=>dayjs__WEBPACK_IMPORTED_MODULE_4___default()(date).isBefore(dayjs__WEBPACK_IMPORTED_MODULE_4___default()(),"day")],locale:flatpickr_dist_l10n_da__WEBPACK_IMPORTED_MODULE_3__.Danish,dateFormat:"d-m-Y",static:!0,mode:"range",defaultDate:new Date,onOpen:()=>{var _refLabel$current;null===(_refLabel$current=refLabel.current)||void 0===_refLabel$current||_refLabel$current.scrollIntoView()},onReady:(dates,currentDateStr,self)=>{var _self$altInput,_self$altInput2,_self$altInput2$getAt;null===(_self$altInput=self.altInput)||void 0===_self$altInput||_self$altInput.setAttribute("aria-label",label);const classes=(null===(_self$altInput2=self.altInput)||void 0===_self$altInput2||null===(_self$altInput2$getAt=_self$altInput2.getAttribute("class"))||void 0===_self$altInput2$getAt?void 0:_self$altInput2$getAt.split(" "))||[];var _self$altInput3,_self$altInput4;!dates.length&&placeholder&&(null===(_self$altInput3=self.altInput)||void 0===_self$altInput3||_self$altInput3.setAttribute("placeholder",placeholder));dates.length||classes.includes("empty-date-range")||(classes.push("empty-date-range"),null===(_self$altInput4=self.altInput)||void 0===_self$altInput4||_self$altInput4.setAttribute("class",classes.join(" ")))},onValueUpdate:(dates,currentDateStr,self)=>{var _self$altInput5,_self$altInput5$getAt;const classes=(null===(_self$altInput5=self.altInput)||void 0===_self$altInput5||null===(_self$altInput5$getAt=_self$altInput5.getAttribute("class"))||void 0===_self$altInput5$getAt?void 0:_self$altInput5$getAt.split(" "))||[];var _self$altInput6;dates.length&&classes.includes("empty-date-range")&&(classes.splice(classes.indexOf("empty-date-range"),1),null===(_self$altInput6=self.altInput)||void 0===_self$altInput6||_self$altInput6.setAttribute("class",classes.join(" ")))}},onChange:([start,end])=>{start&&end&&(setStartDate(dayjs__WEBPACK_IMPORTED_MODULE_4___default()(start).format(_core_configuration_date_format__WEBPACK_IMPORTED_MODULE_5__.n2)),setEndDate(dayjs__WEBPACK_IMPORTED_MODULE_4___default()(end).format(_core_configuration_date_format__WEBPACK_IMPORTED_MODULE_5__.n2)))}})))},__WEBPACK_DEFAULT_EXPORT__=DateRangeInput;try{DateRangeInput.displayName="DateRangeInput",DateRangeInput.__docgenInfo={description:"",displayName:"DateRangeInput",props:{setStartDate:{defaultValue:null,description:"",name:"setStartDate",required:!0,type:{name:"(date: string) => void"}},setEndDate:{defaultValue:null,description:"",name:"setEndDate",required:!0,type:{name:"(date: string) => void"}},startDate:{defaultValue:null,description:"",name:"startDate",required:!0,type:{name:"string"}},endDate:{defaultValue:null,description:"",name:"endDate",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string | undefined"}},className:{defaultValue:{value:"date-range"},description:"",name:"className",required:!1,type:{name:"string | undefined"}},dataCy:{defaultValue:{value:"date-range"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/date-inputs/DateRangeInput.tsx#DateRangeInput"]={docgenInfo:DateRangeInput.__docgenInfo,name:"DateRangeInput",path:"src/components/date-inputs/DateRangeInput.tsx#DateRangeInput"})}catch(__react_docgen_typescript_loader_error){}}}]);