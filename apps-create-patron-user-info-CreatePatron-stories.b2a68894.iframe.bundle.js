"use strict";(globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react=globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react||[]).push([[8429],{"./src/apps/create-patron-user-info/CreatePatron.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,default:()=>CreatePatron_stories});var react=__webpack_require__("./node_modules/react/index.js"),utils_config=__webpack_require__("./src/core/utils/config.tsx"),utils_text=__webpack_require__("./src/core/utils/text.tsx"),url=__webpack_require__("./src/core/utils/url.tsx"),user=__webpack_require__("./src/core/utils/helpers/user.ts"),helpers_url=__webpack_require__("./src/core/utils/helpers/url.ts"),set=__webpack_require__("./node_modules/lodash/set.js"),set_default=__webpack_require__.n(set),BranchesDropdown=__webpack_require__("./src/apps/patron-page/util/BranchesDropdown.tsx"),fbs=__webpack_require__("./src/core/fbs/fbs.ts"),general=__webpack_require__("./src/core/utils/helpers/general.ts"),Link=__webpack_require__("./src/components/atoms/links/Link.tsx");var useSavePatron=__webpack_require__("./src/core/utils/useSavePatron.tsx"),ContactInfoPhone=__webpack_require__("./src/components/contact-info-section/ContactInfoPhone.tsx"),ContactInfoEmail=__webpack_require__("./src/components/contact-info-section/ContactInfoEmail.tsx"),Checkbox=__webpack_require__("./src/components/checkbox/Checkbox.tsx"),TextInput=__webpack_require__("./src/components/forms/input/TextInput.tsx");const create_patron_user_info_CreatePatronPincodeSection=({changePincode,required,setIsPinValid})=>{const t=(0,utils_text.F)(),config=(0,utils_config.UK)(),pincodeLengthMin=parseInt(config("pincodeLengthMinConfig"),10),pincodeLengthMax=parseInt(config("pincodeLengthMaxConfig"),10),[pincodeValidation,setPincodeValidation]=(0,react.useState)(),[pincode,setPincode]=(0,react.useState)(""),[confirmPincode,setConfirmPincode]=(0,react.useState)("");return(0,react.useEffect)((()=>{if(changePincode(null),setPincodeValidation(""),pincode&&confirmPincode){if(pincode.length>pincodeLengthMax||pincode.length<pincodeLengthMin)return setIsPinValid(!1),void setPincodeValidation(t("patronPagePincodeTooShortValidationText",{placeholders:{"@pincodeLengthMin":pincodeLengthMin,"@pincodeLengthMax":pincodeLengthMax}}));if(pincode!==confirmPincode)return setIsPinValid(!1),void setPincodeValidation(t("patronPagePincodesNotTheSameText"));setIsPinValid(!0),changePincode(confirmPincode)}}),[setIsPinValid,changePincode,confirmPincode,pincode,pincodeLengthMax,pincodeLengthMin,t]),react.createElement("section",{"data-cy":"pincode-section",className:"create-patron-page__row"},react.createElement("div",{className:"create-patron-page__row dpl-input__double-row"},react.createElement(TextInput.A,{className:"dpl-input dpl-input--double",id:"pincode-input",type:"password",pattern:"[0-9]*",required,inputmode:"numeric",onChange:newPin=>setPincode(newPin),value:pincode,label:t("patronPagePincodeLabelText"),validation:pincodeValidation,description:t("pincodeSectionDescriptionText")}),react.createElement(TextInput.A,{className:"dpl-input dpl-input--double",id:"pincode-confirm-input",pattern:"[0-9]*",required,inputmode:"numeric",type:"password",onChange:newPin=>setConfirmPincode(newPin),value:confirmPincode,label:t("patronPageConfirmPincodeLabelText"),description:t("pincodeSectionDescriptionText")})))};try{CreatePatronPincodeSection.displayName="CreatePatronPincodeSection",CreatePatronPincodeSection.__docgenInfo={description:"",displayName:"CreatePatronPincodeSection",props:{changePincode:{defaultValue:null,description:"",name:"changePincode",required:!0,type:{name:"(newPin: string | null) => void"}},required:{defaultValue:null,description:"",name:"required",required:!0,type:{name:"boolean"}},setIsPinValid:{defaultValue:null,description:"",name:"setIsPinValid",required:!0,type:{name:"Dispatch<SetStateAction<boolean>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/create-patron-user-info/CreatePatronPincodeSection.tsx#CreatePatronPincodeSection"]={docgenInfo:CreatePatronPincodeSection.__docgenInfo,name:"CreatePatronPincodeSection",path:"src/apps/create-patron-user-info/CreatePatronPincodeSection.tsx#CreatePatronPincodeSection"})}catch(__react_docgen_typescript_loader_error){}var clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),ExpandMore=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/ExpandMore.svg"),ExpandMore_default=__webpack_require__.n(ExpandMore);function LibrarySelect({label,id,description,classNames,selectedBranch,onClickCallback}){return react.createElement("div",{className:(0,clsx.A)("library-select-button-wrapper",classNames)},react.createElement("label",{htmlFor:id},label),react.createElement("button",{type:"button",className:"library-select-button",onClick:onClickCallback,"aria-labelledby":`${id}-label`},selectedBranch?react.createElement("div",null,react.createElement("p",{className:"library-select-button__name"},selectedBranch.title),selectedBranch.location&&react.createElement("div",{className:"library-select-button__address"},react.createElement("p",null,selectedBranch.location.address),react.createElement("p",null,selectedBranch.location.city))):react.createElement("div",null,label),react.createElement("img",{className:"library-select-button__icon",src:ExpandMore_default(),alt:"various-icon"}),react.createElement("input",{type:"text",id,"aria-describedby":`description-${id}`,className:"library-select-button__hidden-input",required:!0,value:(null==selectedBranch?void 0:selectedBranch.title)||"","aria-hidden":"true",tabIndex:-1})),description&&react.createElement("div",{className:"library-select-button-wrapper__description",id:`description-${id}`},description))}const create_patron_user_info_LibrarySelect=LibrarySelect;try{LibrarySelect.displayName="LibrarySelect",LibrarySelect.__docgenInfo={description:"",displayName:"LibrarySelect",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string | undefined"}},classNames:{defaultValue:null,description:"",name:"classNames",required:!1,type:{name:"string | undefined"}},selectedBranch:{defaultValue:null,description:"",name:"selectedBranch",required:!1,type:{name:"TBranch | undefined"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean | undefined"}},onClickCallback:{defaultValue:null,description:"",name:"onClickCallback",required:!1,type:{name:"(() => void) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/create-patron-user-info/LibrarySelect.tsx#LibrarySelect"]={docgenInfo:LibrarySelect.__docgenInfo,name:"LibrarySelect",path:"src/apps/create-patron-user-info/LibrarySelect.tsx#LibrarySelect"})}catch(__react_docgen_typescript_loader_error){}var Location=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Location.svg"),Location_default=__webpack_require__.n(Location),icon_warning=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-warning.svg"),icon_warning_default=__webpack_require__.n(icon_warning);var debounce=__webpack_require__("./node_modules/lodash/debounce.js"),debounce_default=__webpack_require__.n(debounce),downshift_esm=__webpack_require__("./node_modules/downshift/dist/downshift.esm.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function useGetDawaAddresses(query){const[addresses,setAddresses]=(0,react.useState)([]),debouncedFetch=(0,react.useMemo)((()=>debounce_default()((async searchQuery=>{if(searchQuery.length<3)return void setAddresses([]);const result=await async function getAddressesFromLocationQuery(query){try{const response=await fetch(`https://api.dataforsyningen.dk/adresser?q=${query}&struktur=mini&fuzzy&per_side=10`);return(await response.json()).map((address=>({...address,lat:address.y,lng:address.x})))}catch{return[]}}(searchQuery);setAddresses(result)}),300)),[]);return(0,react.useEffect)((()=>(debouncedFetch(query),()=>{debouncedFetch.cancel()})),[query,debouncedFetch]),{addresses}}const DawaInput=({label,id,placeholder,query,onDawaAddressSelect,onQueryChange})=>{const{addresses}=useGetDawaAddresses(query),{isOpen,getLabelProps,getMenuProps,getInputProps,highlightedIndex,getItemProps,selectedItem}=(0,downshift_esm.Bp)({items:addresses,inputValue:query,itemToString:item=>item?item.betegnelse:"",onInputValueChange({inputValue:newInputValue}){onQueryChange(newInputValue||"")},onSelectedItemChange({selectedItem:newSelectedItem}){newSelectedItem&&onDawaAddressSelect(newSelectedItem)}});return react.createElement("div",{className:"dawa-input-wrapper"},react.createElement("label",_extends({className:"dawa-input-wrapper__label"},getLabelProps()),label),react.createElement("div",{className:"dawa-input__input-wrapper"},react.createElement("input",_extends({id,placeholder,className:"dawa-input"},getInputProps())),react.createElement("ul",_extends({className:(0,clsx.A)("dawa-input__address-suggestions",!(isOpen&&addresses.length)&&"dawa-input__address-suggestions--hidden")},getMenuProps()),isOpen&&addresses.map(((address,index)=>react.createElement("li",_extends({className:(0,clsx.A)("dawa-input__address-suggestions__item",highlightedIndex===index&&"dawa-input__address-suggestions__item--highlighted",selectedItem===address&&"dawa-input__address-suggestions__item--selected"),key:address.id},getItemProps({item:address,index})),react.createElement("span",null,address.betegnelse)))))))},dawa_input_DawaInput=DawaInput;try{DawaInput.displayName="DawaInput",DawaInput.__docgenInfo={description:"",displayName:"DawaInput",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:'"text"'}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string | undefined"}},classNames:{defaultValue:null,description:"",name:"classNames",required:!1,type:{name:"string | undefined"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string | undefined"}},onDawaAddressSelect:{defaultValue:null,description:"",name:"onDawaAddressSelect",required:!0,type:{name:"(address: DawaAddress) => void"}},onQueryChange:{defaultValue:null,description:"",name:"onQueryChange",required:!0,type:{name:"(query: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/dawa-input/DawaInput.tsx#DawaInput"]={docgenInfo:DawaInput.__docgenInfo,name:"DawaInput",path:"src/components/dawa-input/DawaInput.tsx#DawaInput"})}catch(__react_docgen_typescript_loader_error){}function FindLibraryDialog({branches,selectedBranchId,handleBranchSelect}){const[selectedDawaAddress,setSelectedDawaAddress]=(0,react.useState)(null),[geoLocationError,setGeoLocationError]=(0,react.useState)(null),[query,setQuery]=(0,react.useState)(""),t=(0,utils_text.F)(),branchesWithDistance=(0,react.useMemo)((()=>{if(!branches||null==selectedDawaAddress||!selectedDawaAddress.lat||null==selectedDawaAddress||!selectedDawaAddress.lng)return(null==branches?void 0:branches.map((branch=>({branch,distance:null}))))||[];return branches.map((branch=>{var _branch$location,_branch$location2;const lat=null!==(_branch$location=branch.location)&&void 0!==_branch$location&&_branch$location.lat?parseFloat(branch.location.lat):null,lng=null!==(_branch$location2=branch.location)&&void 0!==_branch$location2&&_branch$location2.lng?parseFloat(branch.location.lng):null;if(!lat||!lng)return{branch,distance:null};return{branch,distance:((lat1,lng1,lat2,lng2)=>{const dLat=(lat2-lat1)*Math.PI/180,dLon=(lng2-lng1)*Math.PI/180,a=Math.sin(dLat/2)*Math.sin(dLat/2)+Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180)*Math.sin(dLon/2)*Math.sin(dLon/2);return 2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))*6371})(selectedDawaAddress.lat,selectedDawaAddress.lng,lat,lng)}})).sort(((a,b)=>null===a.distance?1:null===b.distance?-1:a.distance-b.distance))}),[branches,selectedDawaAddress]);return react.createElement("div",{className:"find-library-dialog"},react.createElement("h2",{className:"find-library-dialog__title"},t("findLibraryDialogTitleText")),react.createElement("div",{className:"find-library-dialog__location-group"},react.createElement(dawa_input_DawaInput,{id:"address-input-2",label:t("findLibraryDialogDawaInputLabelText"),placeholder:t("findLibraryDialogDawaInputPlaceholderText"),type:"text",query,onQueryChange:query=>setQuery(query),onDawaAddressSelect:address=>{(address=>{setSelectedDawaAddress(address)})(address),setQuery(address.betegnelse)}}),react.createElement("button",{type:"button",onClick:async()=>{setGeoLocationError(null);try{const coords=await(errorMessages=>{const messages={notSupported:(null==errorMessages?void 0:errorMessages.notSupported)??"Geolocation is not supported by your browser.",permissionDenied:(null==errorMessages?void 0:errorMessages.permissionDenied)??"You have denied access to your location. Please allow location access in your browser.",positionUnavailable:(null==errorMessages?void 0:errorMessages.positionUnavailable)??"Your location is not available at the moment.",timeout:(null==errorMessages?void 0:errorMessages.timeout)??"The request for your location timed out. Please try again.",default:(null==errorMessages?void 0:errorMessages.default)??"An error occurred while fetching your location."};return new Promise(((resolve,reject)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((position=>{const coords={latitude:position.coords.latitude,longitude:position.coords.longitude};resolve(coords)}),(error=>{let errorMessage=messages.default;switch(error.code){case error.PERMISSION_DENIED:errorMessage=messages.permissionDenied;break;case error.POSITION_UNAVAILABLE:errorMessage=messages.positionUnavailable;break;case error.TIMEOUT:errorMessage=messages.timeout}reject(new Error(errorMessage))}),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):reject(new Error(messages.notSupported))}))})({notSupported:t("geoLocationErrorNotSupportedText"),permissionDenied:t("geoLocationErrorPermissionDeniedText"),positionUnavailable:t("geoLocationErrorPositionUnavailableText"),timeout:t("geoLocationErrorTimeoutText"),default:t("geoLocationErrorDefaultText")}),{latitude,longitude}=coords,address=await(async(lat,lng,errorMessages)=>{const messages={fetchError:(null==errorMessages?void 0:errorMessages.fetchError)??"Could not fetch address"};try{const response=await fetch(`https://api.dataforsyningen.dk/adgangsadresser/reverse?x=${lng}&y=${lat}&struktur=mini`);if(!response.ok)throw new Error(messages.fetchError);const data=await response.json();return data?{...data,lat,lng}:null}catch{throw new Error(messages.fetchError)}})(latitude,longitude,{fetchError:t("reverseGeocodeErrorDefaultText")});address&&(setSelectedDawaAddress(address),setQuery(address.betegnelse||""))}catch(error){const errorMessage=error instanceof Error?error.message:t("geoLocationErrorDefaultText");setGeoLocationError(errorMessage)}},className:"find-library-dialog__location"},react.createElement("img",{src:Location_default(),alt:""}),react.createElement("p",null,t("findLibraryDialogGeoLocationButtonText"))),geoLocationError&&react.createElement("div",{className:"find-library-dialog__error-message",role:"alert"},react.createElement("img",{src:icon_warning_default(),alt:""}),react.createElement("p",null,geoLocationError))),react.createElement("div",{className:"find-library-dialog__location-list"},react.createElement("p",{className:"find-library-dialog__location-list__title"},t("findLibraryDialogSuggestionsListLabelText")),null==branchesWithDistance?void 0:branchesWithDistance.map((({branch,distance})=>{var _branch$location3,_branch$location4;const isSelected=branch.branchId===selectedBranchId;return react.createElement("button",{type:"button",onClick:()=>{return branchId=branch.branchId,void(handleBranchSelect&&handleBranchSelect(branchId));var branchId},key:branch.branchId,className:(0,clsx.A)("find-library-dialog__location-list__item",{"find-library-dialog__location-list__item--selected":isSelected}),"aria-pressed":isSelected},react.createElement("div",null,react.createElement("p",{className:"find-library-dialog__location-list__item__name"},branch.title),react.createElement("div",{className:"find-library-dialog__location-list__item__address"},react.createElement("p",null,null===(_branch$location3=branch.location)||void 0===_branch$location3?void 0:_branch$location3.address),react.createElement("p",null,null===(_branch$location4=branch.location)||void 0===_branch$location4?void 0:_branch$location4.city))),react.createElement("p",{className:"find-library-dialog__location-list__item__distance"},null!==distance&&distance.toFixed(1).replace(".",",")+" km"))}))))}const create_patron_user_info_FindLibraryDialog=FindLibraryDialog;try{FindLibraryDialog.displayName="FindLibraryDialog",FindLibraryDialog.__docgenInfo={description:"",displayName:"FindLibraryDialog",props:{branches:{defaultValue:null,description:"",name:"branches",required:!1,type:{name:"TBranch[] | undefined"}},selectedBranchId:{defaultValue:null,description:"",name:"selectedBranchId",required:!1,type:{name:"string | undefined"}},handleBranchSelect:{defaultValue:null,description:"",name:"handleBranchSelect",required:!1,type:{name:"((branchId: string) => void) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/create-patron-user-info/FindLibraryDialog.tsx#FindLibraryDialog"]={docgenInfo:FindLibraryDialog.__docgenInfo,name:"FindLibraryDialog",path:"src/apps/create-patron-user-info/FindLibraryDialog.tsx#FindLibraryDialog"})}catch(__react_docgen_typescript_loader_error){}var useDialog=__webpack_require__("./src/components/dialog/useDialog.tsx"),Dialog=__webpack_require__("./src/components/dialog/Dialog.tsx"),utils_branches=__webpack_require__("./src/core/utils/branches.tsx"),reservation_helper=__webpack_require__("./src/components/reservation/helper.ts");const UserInfo=({cpr,registerSuccessCallback})=>{const t=(0,utils_text.F)(),logoutUrl=(0,url.Ik)()("logoutUrl"),config=(0,utils_config.UK)(),[pin,setPin]=(0,react.useState)(null),minAge=parseInt(config("minAgeConfig"),10),[validCpr]=(0,react.useState)((0,general.AQ)(cpr,minAge)),{mutate}=(0,fbs.ti)(),[patron,setPatron]=(0,react.useState)({preferredPickupBranch:"",receiveEmail:!0,receivePostalMail:!1,receiveSms:!1,phoneNumber:"",emailAddress:""}),[isLoading,setIsLoading]=(0,react.useState)(!1),[isSubmitError,setIsSubmitError]=(0,react.useState)(!1),[isPinValid,setIsPinValid]=(0,react.useState)(!0),{dialogContent,openDialogWithContent,closeDialog,dialogRef}=(0,useDialog.A)(),branches=(0,utils_branches.ov)("blacklistedPickupBranchesConfig"),isAddressSearchEnabled=(0,reservation_helper.Qr)(config("branchAddressSearchEnabledConfig")),changePatron=(newValue,key)=>{const copyUser=JSON.parse(JSON.stringify(patron));set_default()(copyUser,key,newValue),setPatron(copyUser)},handleBranchSelect=branchId=>{changePatron(branchId,"preferredPickupBranch"),closeDialog()},selectedBranch=null==branches?void 0:branches.find((b=>b.branchId===patron.preferredPickupBranch));return react.createElement(react.Fragment,null,validCpr&&react.createElement("div",{className:"create-patron-page"},react.createElement("h1",{className:"create-patron-page__title"},t("createPatronHeaderText")),react.createElement("form",{className:"create-patron-page__form",onSubmit:e=>(e=>{e.preventDefault(),setIsLoading(!0);const{preferredPickupBranch,emailAddress}=patron;pin&&preferredPickupBranch&&emailAddress&&mutate({data:{personIdentifier:cpr,patron:(0,useSavePatron.s)(patron),pincode:pin}},{onSuccess:()=>{setIsLoading(!1),registerSuccessCallback(!0)},onError:()=>{setIsLoading(!1),setIsSubmitError(!0)}})})(e)},react.createElement("section",{"data-cy":"patron-page-contact-info",className:"create-patron-page__row dpl-input__double-row"},react.createElement("div",{className:"dpl-input__double-row"},react.createElement("div",{className:"dpl-input dpl-input--double"},react.createElement(ContactInfoPhone.A,{className:"dpl-input",changePatron,patron,isRequired:!0,showCheckboxes:!1}),react.createElement("div",{className:"mt-8"},react.createElement(Checkbox.A,{onChecked:newReceiveSms=>changePatron(newReceiveSms,"receiveSms"),id:"phone-messages",selected:null==patron?void 0:patron.receiveSms,disabled:!1,label:t("patronContactPhoneCheckboxText")}))),react.createElement(ContactInfoEmail.A,{className:"dpl-input dpl-input--double",changePatron,patron,isRequired:!0,showCheckboxes:!1}))),react.createElement(create_patron_user_info_CreatePatronPincodeSection,{required:!0,changePincode:setPin,setIsPinValid}),isAddressSearchEnabled?react.createElement("section",{className:"create-patron-page__row","data-cy":"library-select-section"},react.createElement(create_patron_user_info_LibrarySelect,{label:t("librarySelectEmptyStateText"),id:"library-select",description:t("createPatronBranchDropdownNoteText"),selectedBranch,required:!0,onClickCallback:()=>openDialogWithContent(react.createElement(create_patron_user_info_FindLibraryDialog,{handleBranchSelect,selectedBranchId:patron.preferredPickupBranch,branches}))}),react.createElement(Dialog.A,{isSidebar:!0,closeDialog,ref:dialogRef},dialogContent)):react.createElement("div",null,react.createElement(BranchesDropdown.A,{classNames:"dropdown--grey-borders",selected:(null==patron?void 0:patron.preferredPickupBranch)||"",onChange:newPreferredPickupBranch=>changePatron(newPreferredPickupBranch,"preferredPickupBranch"),required:!0,footnote:t("createPatronBranchDropdownNoteText")})),react.createElement("div",{className:"create-patron-page__buttons"},react.createElement("button",{type:"submit",className:"btn-primary btn-filled btn-small","data-cy":"complete-user-registration-button",disabled:!isPinValid},((t,isLoading,isSubmitError)=>t(isLoading?"createPatronButtonLoadingText":isSubmitError?"createPatronButtonErrorText":"createPatronConfirmButtonText"))(t,isLoading,isSubmitError)),react.createElement(Link.A,{href:logoutUrl,className:"link-tag mx-16 mt-8",dataCy:"cancel-user-registration-button"},t("createPatronCancelButtonText"))))),!validCpr&&react.createElement("div",{className:"dpl-patron-page"},react.createElement("h1",{className:"text-header-h1 mb-48"},t("createPatronInvalidSsnHeaderText")),react.createElement("p",null,t("createPatronInvalidSsnBodyText"))))},create_patron_user_info_UserInfo=UserInfo;try{UserInfo.displayName="UserInfo",UserInfo.__docgenInfo={description:"",displayName:"UserInfo",props:{cpr:{defaultValue:null,description:"",name:"cpr",required:!0,type:{name:"string"}},registerSuccessCallback:{defaultValue:null,description:"",name:"registerSuccessCallback",required:!0,type:{name:"(success: boolean) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/create-patron-user-info/UserInfo.tsx#UserInfo"]={docgenInfo:UserInfo.__docgenInfo,name:"UserInfo",path:"src/apps/create-patron-user-info/UserInfo.tsx#UserInfo"})}catch(__react_docgen_typescript_loader_error){}var useUserInfo=__webpack_require__("./src/core/adgangsplatformen/useUserInfo.ts"),Button=__webpack_require__("./src/components/Buttons/Button.tsx");const RedirectToLoginMessage=()=>{const t=(0,utils_text.F)(),u=(0,url.Ik)(),redirectUrl=(({loginUrl,logoutUrl,redirectOnUserCreatedUrl})=>(0,helpers_url.xl)(logoutUrl,{"current-path":`${loginUrl.pathname}?current-path=${redirectOnUserCreatedUrl.pathname}`}))({loginUrl:u("authUrl"),logoutUrl:u("logoutUrl"),redirectOnUserCreatedUrl:u("redirectOnUserCreatedUrl")}),[seconds,setseconds]=(0,react.useState)(10);return(0,react.useEffect)((()=>{seconds>0&&setTimeout((()=>setseconds(seconds-1)),1e3),0===seconds&&(0,helpers_url.SE)(redirectUrl)}),[redirectUrl,seconds]),react.createElement("section",{className:"redirect-to-login-message"},react.createElement("p",{className:"redirect-to-login-message__top"},t("postRegisterRedirectInfoTopText")),react.createElement("p",{className:"redirect-to-login-message__bottom"},t("postRegisterRedirectInfoBottomText",{placeholders:{"@seconds":`${seconds}`}})),react.createElement(Button.$,{buttonType:"default",size:"small",collapsible:!1,disabled:!1,variant:"outline",onClick:()=>{(0,helpers_url.SE)(redirectUrl)},classNames:"mt-32",label:t("postRegisterRedirectButtonText")}))},create_patron_user_info_RedirectToLoginMessage=RedirectToLoginMessage;try{RedirectToLoginMessage.displayName="RedirectToLoginMessage",RedirectToLoginMessage.__docgenInfo={description:"",displayName:"RedirectToLoginMessage",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/create-patron-user-info/RedirectToLoginMessage.tsx#RedirectToLoginMessage"]={docgenInfo:RedirectToLoginMessage.__docgenInfo,name:"RedirectToLoginMessage",path:"src/apps/create-patron-user-info/RedirectToLoginMessage.tsx#RedirectToLoginMessage"})}catch(__react_docgen_typescript_loader_error){}const CreatePatron=({cpr})=>{const[userInfoCpr,setCpr]=(0,react.useState)(null),[patronIsRegistered,setPpatronIsRegistered]=(0,react.useState)(null),config=(0,utils_config.UK)(),t=(0,utils_text.F)(),{id:agencyId}=config("agencyConfig",{transformer:"jsonParse"}),{data:userInfo,isLoading}=(0,useUserInfo.A)({enabled:!cpr});return(0,react.useEffect)((()=>{if(isLoading||!userInfo||cpr)return;const{attributes:{cpr:userCpr}}=userInfo;setCpr(String(userCpr))}),[agencyId,isLoading,userInfo,cpr]),cpr?react.createElement(create_patron_user_info_UserInfo,{cpr,registerSuccessCallback:setPpatronIsRegistered}):isLoading?react.createElement("div",null,t("loadingText")):userInfoCpr?patronIsRegistered?react.createElement(create_patron_user_info_RedirectToLoginMessage,null):react.createElement(create_patron_user_info_UserInfo,{cpr:userInfoCpr,registerSuccessCallback:setPpatronIsRegistered}):null},create_patron_user_info_CreatePatron=CreatePatron;try{CreatePatron.displayName="CreatePatron",CreatePatron.__docgenInfo={description:"",displayName:"CreatePatron",props:{cpr:{defaultValue:null,description:"",name:"cpr",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/create-patron-user-info/CreatePatron.tsx#CreatePatron"]={docgenInfo:CreatePatron.__docgenInfo,name:"CreatePatron",path:"src/apps/create-patron-user-info/CreatePatron.tsx#CreatePatron"})}catch(__react_docgen_typescript_loader_error){}const CreatePatron_entry=(0,utils_config.NV)((0,utils_text.i)((0,url.nU)((({fakeCpr})=>{const dashboardUrl=(0,url.Ik)()("dashboardUrl");return(0,react.useEffect)((()=>{(0,user.u7)()||(0,helpers_url.SE)(dashboardUrl)}),[dashboardUrl]),(0,user.u7)()?react.createElement(create_patron_user_info_CreatePatron,{cpr:fakeCpr}):null}))));try{CreatePatronentry.displayName="CreatePatronentry",CreatePatronentry.__docgenInfo={description:"",displayName:"CreatePatronentry",props:{fakeCpr:{defaultValue:null,description:"",name:"fakeCpr",required:!1,type:{name:"string | undefined"}},minAgeConfig:{defaultValue:null,description:"",name:"minAgeConfig",required:!1,type:{name:"string | undefined"}},agencyConfig:{defaultValue:null,description:"",name:"agencyConfig",required:!0,type:{name:"string"}},pincodeLengthMinConfig:{defaultValue:null,description:"",name:"pincodeLengthMinConfig",required:!0,type:{name:"string"}},pincodeLengthMaxConfig:{defaultValue:null,description:"",name:"pincodeLengthMaxConfig",required:!0,type:{name:"string"}},blacklistedPickupBranchesConfig:{defaultValue:null,description:"",name:"blacklistedPickupBranchesConfig",required:!0,type:{name:"string"}},branchesConfig:{defaultValue:null,description:"",name:"branchesConfig",required:!0,type:{name:"string"}},textNotificationsEnabledConfig:{defaultValue:null,description:"",name:"textNotificationsEnabledConfig",required:!0,type:{name:"string"}},branchAddressSearchEnabledConfig:{defaultValue:null,description:"",name:"branchAddressSearchEnabledConfig",required:!0,type:{name:"string"}},alertErrorCloseText:{defaultValue:null,description:"",name:"alertErrorCloseText",required:!0,type:{name:"string"}},alertErrorMessageText:{defaultValue:null,description:"",name:"alertErrorMessageText",required:!0,type:{name:"string"}},multiselectAllOptionText:{defaultValue:null,description:"",name:"multiselectAllOptionText",required:!0,type:{name:"string"}},groupModalGoToMaterialAriaLabelText:{defaultValue:null,description:"",name:"groupModalGoToMaterialAriaLabelText",required:!0,type:{name:"string"}},availabilityAvailableText:{defaultValue:null,description:"",name:"availabilityAvailableText",required:!0,type:{name:"string"}},availabilityUnavailableText:{defaultValue:null,description:"",name:"availabilityUnavailableText",required:!0,type:{name:"string"}},loansNotOverdueText:{defaultValue:null,description:"",name:"loansNotOverdueText",required:!0,type:{name:"string"}},patronContactInfoBodyText:{defaultValue:null,description:"",name:"patronContactInfoBodyText",required:!0,type:{name:"string"}},pauseReservationModalBelowInputsText:{defaultValue:null,description:"",name:"pauseReservationModalBelowInputsText",required:!0,type:{name:"string"}},materialDetailsCloseModalAriaLabelText:{defaultValue:null,description:"",name:"materialDetailsCloseModalAriaLabelText",required:!0,type:{name:"string"}},findOnShelfExpandButtonExplanationText:{defaultValue:null,description:"",name:"findOnShelfExpandButtonExplanationText",required:!0,type:{name:"string"}},reservationsStillInQueueForText:{defaultValue:null,description:"",name:"reservationsStillInQueueForText",required:!0,type:{name:"string"}},materialDetailsModalAriaDescriptionText:{defaultValue:null,description:"",name:"materialDetailsModalAriaDescriptionText",required:!0,type:{name:"string"}},changePickupLocationText:{defaultValue:null,description:"",name:"changePickupLocationText",required:!0,type:{name:"string"}},changeInterestPeriodText:{defaultValue:null,description:"",name:"changeInterestPeriodText",required:!0,type:{name:"string"}},modalReservationFormPickupLabelText:{defaultValue:null,description:"",name:"modalReservationFormPickupLabelText",required:!0,type:{name:"string"}},screenReaderModalDescriptionPickupText:{defaultValue:null,description:"",name:"screenReaderModalDescriptionPickupText",required:!0,type:{name:"string"}},closeModalAriaLabelPickupText:{defaultValue:null,description:"",name:"closeModalAriaLabelPickupText",required:!0,type:{name:"string"}},modalReservationFormNoInterestAfterHeaderTitleText:{defaultValue:null,description:"",name:"modalReservationFormNoInterestAfterHeaderTitleText",required:!0,type:{name:"string"}},modalReservationFormNoInterestAfterHeaderDescriptionText:{defaultValue:null,description:"",name:"modalReservationFormNoInterestAfterHeaderDescriptionText",required:!0,type:{name:"string"}},modalReservationFormNoInterestAfterLabelText:{defaultValue:null,description:"",name:"modalReservationFormNoInterestAfterLabelText",required:!0,type:{name:"string"}},screenReaderModalDescriptionEmailText:{defaultValue:null,description:"",name:"screenReaderModalDescriptionEmailText",required:!0,type:{name:"string"}},screenReaderModalDescriptionInterestPeriodText:{defaultValue:null,description:"",name:"screenReaderModalDescriptionInterestPeriodText",required:!0,type:{name:"string"}},screenReaderModalDescriptionSmsText:{defaultValue:null,description:"",name:"screenReaderModalDescriptionSmsText",required:!0,type:{name:"string"}},closeModalAriaLabelEmailText:{defaultValue:null,description:"",name:"closeModalAriaLabelEmailText",required:!0,type:{name:"string"}},closeModalAriaLabelInterestPeriodText:{defaultValue:null,description:"",name:"closeModalAriaLabelInterestPeriodText",required:!0,type:{name:"string"}},closeModalAriaLabelSmsText:{defaultValue:null,description:"",name:"closeModalAriaLabelSmsText",required:!0,type:{name:"string"}},deleteReservationModalButtonText:{defaultValue:null,description:"",name:"deleteReservationModalButtonText",required:!0,type:{name:"string"}},pauseReservationModalAriaDescriptionText:{defaultValue:null,description:"",name:"pauseReservationModalAriaDescriptionText",required:!0,type:{name:"string"}},acceptModalAriaDescriptionText:{defaultValue:null,description:"",name:"acceptModalAriaDescriptionText",required:!0,type:{name:"string"}},addToFavoritesAriaLabelText:{defaultValue:null,description:"",name:"addToFavoritesAriaLabelText",required:!0,type:{name:"string"}},removeFromFavoritesAriaLabelText:{defaultValue:null,description:"",name:"removeFromFavoritesAriaLabelText",required:!0,type:{name:"string"}},acceptModalAriaLabelText:{defaultValue:null,description:"",name:"acceptModalAriaLabelText",required:!0,type:{name:"string"}},acceptModalHeaderText:{defaultValue:null,description:"",name:"acceptModalHeaderText",required:!0,type:{name:"string"}},acceptModalAreYouSureText:{defaultValue:null,description:"",name:"acceptModalAreYouSureText",required:!0,type:{name:"string"}},acceptModalBodyText:{defaultValue:null,description:"",name:"acceptModalBodyText",required:!0,type:{name:"string"}},acceptModalCancelButtonText:{defaultValue:null,description:"",name:"acceptModalCancelButtonText",required:!0,type:{name:"string"}},acceptModalAcceptButtonText:{defaultValue:null,description:"",name:"acceptModalAcceptButtonText",required:!0,type:{name:"string"}},isLoadingHeartText:{defaultValue:null,description:"",name:"isLoadingHeartText",required:!0,type:{name:"string"}},reservationPickUpLatestText:{defaultValue:null,description:"",name:"reservationPickUpLatestText",required:!0,type:{name:"string"}},reservationListReadyText:{defaultValue:null,description:"",name:"reservationListReadyText",required:!0,type:{name:"string"}},reservationListDigitalPickupText:{defaultValue:null,description:"",name:"reservationListDigitalPickupText",required:!0,type:{name:"string"}},pincodeSectionDescriptionText:{defaultValue:null,description:"",name:"pincodeSectionDescriptionText",required:!0,type:{name:"string"}},errorBoundaryAlertBodyButtonAriaText:{defaultValue:null,description:"",name:"errorBoundaryAlertBodyButtonAriaText",required:!0,type:{name:"string"}},buttonText:{defaultValue:null,description:"",name:"buttonText",required:!0,type:{name:"string"}},etAlText:{defaultValue:null,description:"",name:"etAlText",required:!0,type:{name:"string"}},authUrl:{defaultValue:null,description:"",name:"authUrl",required:!0,type:{name:"string"}},loginUrl:{defaultValue:null,description:"",name:"loginUrl",required:!0,type:{name:"string"}},redirectOnUserCreatedUrl:{defaultValue:null,description:"",name:"redirectOnUserCreatedUrl",required:!0,type:{name:"string"}},logoutUrl:{defaultValue:null,description:"",name:"logoutUrl",required:!0,type:{name:"string"}},fbsBaseUrl:{defaultValue:null,description:"",name:"fbsBaseUrl",required:!0,type:{name:"string"}},publizonBaseUrl:{defaultValue:null,description:"",name:"publizonBaseUrl",required:!0,type:{name:"string"}},dashboardUrl:{defaultValue:null,description:"",name:"dashboardUrl",required:!0,type:{name:"string"}},userinfoUrl:{defaultValue:null,description:"",name:"userinfoUrl",required:!0,type:{name:"string"}},pickupBranchesDropdownLabelText:{defaultValue:null,description:"",name:"pickupBranchesDropdownLabelText",required:!0,type:{name:"string"}},createPatronCancelButtonText:{defaultValue:null,description:"",name:"createPatronCancelButtonText",required:!0,type:{name:"string"}},patronPagePhoneInputMessageText:{defaultValue:null,description:"",name:"patronPagePhoneInputMessageText",required:!0,type:{name:"string"}},createPatronConfirmButtonText:{defaultValue:null,description:"",name:"createPatronConfirmButtonText",required:!0,type:{name:"string"}},createPatronHeaderText:{defaultValue:null,description:"",name:"createPatronHeaderText",required:!0,type:{name:"string"}},createPatronInvalidSsnBodyText:{defaultValue:null,description:"",name:"createPatronInvalidSsnBodyText",required:!0,type:{name:"string"}},createPatronInvalidSsnHeaderText:{defaultValue:null,description:"",name:"createPatronInvalidSsnHeaderText",required:!0,type:{name:"string"}},patronContactEmailCheckboxText:{defaultValue:null,description:"",name:"patronContactEmailCheckboxText",required:!0,type:{name:"string"}},patronContactEmailLabelText:{defaultValue:null,description:"",name:"patronContactEmailLabelText",required:!0,type:{name:"string"}},patronContactNameLabelText:{defaultValue:null,description:"",name:"patronContactNameLabelText",required:!0,type:{name:"string"}},patronContactPhoneCheckboxText:{defaultValue:null,description:"",name:"patronContactPhoneCheckboxText",required:!0,type:{name:"string"}},patronContactPhoneLabelText:{defaultValue:null,description:"",name:"patronContactPhoneLabelText",required:!0,type:{name:"string"}},patronPageChangePincodeHeaderText:{defaultValue:null,description:"",name:"patronPageChangePincodeHeaderText",required:!0,type:{name:"string"}},patronPageConfirmPincodeLabelText:{defaultValue:null,description:"",name:"patronPageConfirmPincodeLabelText",required:!0,type:{name:"string"}},patronPagePincodeLabelText:{defaultValue:null,description:"",name:"patronPagePincodeLabelText",required:!0,type:{name:"string"}},patronPagePincodesNotTheSameText:{defaultValue:null,description:"",name:"patronPagePincodesNotTheSameText",required:!0,type:{name:"string"}},patronPagePincodeTooShortValidationText:{defaultValue:null,description:"",name:"patronPagePincodeTooShortValidationText",required:!0,type:{name:"string"}},phoneInputMessageText:{defaultValue:null,description:"",name:"phoneInputMessageText",required:!0,type:{name:"string"}},pickupBranchesDropdownNothingSelectedText:{defaultValue:null,description:"",name:"pickupBranchesDropdownNothingSelectedText",required:!0,type:{name:"string"}},createPatronButtonLoadingText:{defaultValue:null,description:"",name:"createPatronButtonLoadingText",required:!0,type:{name:"string"}},createPatronButtonErrorText:{defaultValue:null,description:"",name:"createPatronButtonErrorText",required:!0,type:{name:"string"}},createPatronBranchDropdownNoteText:{defaultValue:null,description:"",name:"createPatronBranchDropdownNoteText",required:!0,type:{name:"string"}},postRegisterRedirectInfoTopText:{defaultValue:null,description:"",name:"postRegisterRedirectInfoTopText",required:!0,type:{name:"string"}},postRegisterRedirectInfoBottomText:{defaultValue:null,description:"",name:"postRegisterRedirectInfoBottomText",required:!0,type:{name:"string"}},postRegisterRedirectButtonText:{defaultValue:null,description:"",name:"postRegisterRedirectButtonText",required:!0,type:{name:"string"}},librarySelectEmptyStateText:{defaultValue:null,description:"",name:"librarySelectEmptyStateText",required:!0,type:{name:"string"}},findLibraryDialogTitleText:{defaultValue:null,description:"",name:"findLibraryDialogTitleText",required:!0,type:{name:"string"}},findLibraryDialogDawaInputLabelText:{defaultValue:null,description:"",name:"findLibraryDialogDawaInputLabelText",required:!0,type:{name:"string"}},findLibraryDialogDawaInputPlaceholderText:{defaultValue:null,description:"",name:"findLibraryDialogDawaInputPlaceholderText",required:!0,type:{name:"string"}},findLibraryDialogGeoLocationButtonText:{defaultValue:null,description:"",name:"findLibraryDialogGeoLocationButtonText",required:!0,type:{name:"string"}},findLibraryDialogSuggestionsListLabelText:{defaultValue:null,description:"",name:"findLibraryDialogSuggestionsListLabelText",required:!0,type:{name:"string"}},geoLocationErrorNotSupportedText:{defaultValue:null,description:"",name:"geoLocationErrorNotSupportedText",required:!0,type:{name:"string"}},geoLocationErrorPermissionDeniedText:{defaultValue:null,description:"",name:"geoLocationErrorPermissionDeniedText",required:!0,type:{name:"string"}},geoLocationErrorPositionUnavailableText:{defaultValue:null,description:"",name:"geoLocationErrorPositionUnavailableText",required:!0,type:{name:"string"}},geoLocationErrorTimeoutText:{defaultValue:null,description:"",name:"geoLocationErrorTimeoutText",required:!0,type:{name:"string"}},geoLocationErrorDefaultText:{defaultValue:null,description:"",name:"geoLocationErrorDefaultText",required:!0,type:{name:"string"}},reverseGeocodeErrorDefaultText:{defaultValue:null,description:"",name:"reverseGeocodeErrorDefaultText",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/create-patron-user-info/CreatePatron.entry.tsx#CreatePatronentry"]={docgenInfo:CreatePatronentry.__docgenInfo,name:"CreatePatronentry",path:"src/apps/create-patron-user-info/CreatePatron.entry.tsx#CreatePatronentry"})}catch(__react_docgen_typescript_loader_error){}var pincodeArgs=__webpack_require__("./src/core/storybook/pincodeArgs.ts"),serviceUrlArgs=__webpack_require__("./src/core/storybook/serviceUrlArgs.ts"),globalTextArgs=__webpack_require__("./src/core/storybook/globalTextArgs.ts"),globalConfigArgs=__webpack_require__("./src/core/storybook/globalConfigArgs.ts"),token=__webpack_require__("./src/core/token.js");const CreatePatron_stories={title:"Apps / Create patron",component:CreatePatron_entry},Primary={argTypes:{...pincodeArgs.U,...serviceUrlArgs.U,...globalTextArgs.U,...globalConfigArgs.U,patronPageConfirmPincodeLabelText:{table:{type:{summary:"text"},defaultValue:{summary:"Confirm new pin"}},control:{type:"text"}},patronContactNameLabelText:{table:{type:{summary:"text"},defaultValue:{summary:"Name"}},control:{type:"text"}},patronPagePincodeTooShortValidationText:{table:{type:{summary:"text"},defaultValue:{summary:"The pincode should be minimum @pincodeLengthMin and maximum @pincodeLengthMax characters long"}},control:{type:"text"}},patronPagePincodesNotTheSameText:{table:{type:{summary:"text"},defaultValue:{summary:"The pincodes are not the same"}},control:{type:"text"}},patronContactPhoneLabelText:{table:{type:{summary:"text"},defaultValue:{summary:"Phone number"}},control:{type:"text"}},patronContactPhoneCheckboxText:{table:{type:{summary:"text"},defaultValue:{summary:"Receive text messages about your loans, reservations, and so forth"}},control:{type:"text"}},patronContactEmailLabelText:{table:{type:{summary:"text"},defaultValue:{summary:"E-mail"}},control:{type:"text"}},patronContactEmailCheckboxText:{table:{type:{summary:"text"},defaultValue:{summary:"Receive emails about your loans, reservations, and so forth"}},control:{type:"text"}},createPatronHeaderText:{table:{type:{summary:"text"},defaultValue:{summary:"Register as patron"}},control:{type:"text"}},createPatronInvalidSsnHeaderText:{table:{type:{summary:"text"},defaultValue:{summary:"Invalid SSN"}},control:{type:"text"}},createPatronInvalidSsnBodyText:{table:{type:{summary:"text"},defaultValue:{summary:"This SSN is invalid"}},control:{type:"text"}},redirectOnUserCreatedUrl:{table:{type:{summary:"text"},defaultValue:{summary:"https://unsplash.com/photos/KRztl5I6xac"}},control:{type:"text"}},createPatronConfirmButtonText:{table:{type:{summary:"text"},defaultValue:{summary:"Confirm"}},control:{type:"text"}},phoneInputMessageText:{description:"Phone input validation message",table:{type:{summary:"text"},defaultValue:{summary:"The phone number must be 6 to 15 characters in length and should be comprised solely of numbers or begin with a +"}},control:{type:"text"}},fakeCpr:{description:"Storybook context cpr",table:{type:{summary:"text"},defaultValue:{summary:"0101901111"}},control:{type:"text"}},createPatronCancelButtonText:{description:"create patron cancel button text",table:{type:{summary:"text"},defaultValue:{summary:"Cancel"}},control:{type:"text"}},patronPagePhoneInputMessageText:{description:"patron page phone input message text",table:{type:{summary:"text"},defaultValue:{summary:"Phone number"}},control:{type:"text"}},createPatronButtonLoadingText:{description:"create patron button loading text",table:{type:{summary:"text"},defaultValue:{summary:"Loading"}},control:{type:"text"}},createPatronButtonErrorText:{description:"create patron button error text",table:{type:{summary:"text"},defaultValue:{summary:"Error occurred"}},control:{type:"text"}},createPatronBranchDropdownNoteText:{description:"create patron branch dropdown note text",table:{type:{summary:"text"},defaultValue:{summary:"Choose preferred library for pickup of your future reservations."}},control:{type:"text"}},postRegisterRedirectInfoTopText:{description:"Redirect info top text",table:{type:{summary:"text"},defaultValue:{summary:"You are now registered as a user and need to log in again to be able to use the application."}},control:{type:"text"}},postRegisterRedirectInfoBottomText:{description:"Redirect info bottom text",table:{type:{summary:"text"},defaultValue:{summary:"You will be sent to the Adgangsplatformen to log in again in @seconds seconds."}},control:{type:"text"}},postRegisterRedirectButtonText:{description:"Redirect button text",table:{type:{summary:"text"},defaultValue:{summary:"Log in again"}},control:{type:"text"}},librarySelectEmptyStateText:{description:"Library select empty state text",table:{type:{summary:"text"},defaultValue:{summary:"Choose library"}},control:{type:"text"}},findLibraryDialogTitleText:{description:"Find library dialog title text",table:{type:{summary:"text"},defaultValue:{summary:"Find nearest library"}},control:{type:"text"}},findLibraryDialogDawaInputLabelText:{table:{type:{summary:"text"},defaultValue:{summary:"Enter your address"}},control:{type:"text"}},findLibraryDialogDawaInputPlaceholderText:{table:{type:{summary:"text"},defaultValue:{summary:"Fx Torvegade 1, 1401 København K"}},control:{type:"text"}},findLibraryDialogGeoLocationButtonText:{table:{type:{summary:"text"},defaultValue:{summary:"Find nearest library using your location"}},control:{type:"text"}},findLibraryDialogSuggestionsListLabelText:{table:{type:{summary:"text"},defaultValue:{summary:"Choose library"}},control:{type:"text"}},geoLocationErrorNotSupportedText:{table:{type:{summary:"text"},defaultValue:{summary:"Geolocation is not supported by your browser."}},control:{type:"text"}},geoLocationErrorPermissionDeniedText:{table:{type:{summary:"text"},defaultValue:{summary:"You have denied access to your location. Allow location access in your browser."}},control:{type:"text"}},geoLocationErrorPositionUnavailableText:{table:{type:{summary:"text"},defaultValue:{summary:"Your location is not available at the moment."}},control:{type:"text"}},geoLocationErrorTimeoutText:{table:{type:{summary:"text"},defaultValue:{summary:"The request for your location timed out. Please try again."}},control:{type:"text"}},geoLocationErrorDefaultText:{table:{type:{summary:"text"},defaultValue:{summary:"An error occurred while retrieving your location."}},control:{type:"text"}},reverseGeocodeErrorDefaultText:{table:{type:{summary:"text"},defaultValue:{summary:"Could not fetch address."}},control:{type:"text"}}},args:{...serviceUrlArgs.A,...pincodeArgs.A,...globalTextArgs.A,...globalConfigArgs.A,authUrl:"/login",logoutUrl:"/logout",blacklistedPickupBranchesConfig:"FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",minAgeConfig:"18",branchesConfig:'[{"branchId":"DK-710111","title":"Grønlandsk Bibliotek","location":{"address":"Ukendt addresse et sted i Grønland","value":"Ukendt addresse et sted i Grønland"}},{"branchId":"DK-710110","title":"Biblioteket Rentemestervej","location":{"address":"Suomisvej 7 st. 2","city":"1927 Frederiksberg C","value":"Suomisvej 7 st. 2 1927 Frederiksberg C","lat":"55.6795","lng":"12.5563"}},{"branchId":"DK-710113","title":"Sundby","location":{"address":"Baaringvadvænget 2","city":"5580 Nørre Aaby","value":"Baaringvadvænget 2 5580 Nørre Aaby","lat":"55.4534","lng":"9.89213"}},{"branchId":"DK-710112","title":"Solvang","location":{"address":"Banestien 2 ","city":"6310 Broager","value":"Banestien 2 6310 Broager ","lat":"54.8862","lng":"9.67579"}},{"branchId":"DK-710115","title":"Sydhavn","location":{"address":"Dummy Street 15","city":"2450 København SV","value":"Dummy Street 15 2450 København SV","lat":"55.6530","lng":"12.5450"}},{"branchId":"DK-710114","title":"Bibliotekshuset","location":{"address":"Dummy Street 14","city":"1500 København V","value":"Dummy Street 14 1500 København V","lat":"55.6730","lng":"12.5650"}},{"branchId":"DK-710117","title":"Valby","location":{"address":"Dummy Street 17","city":"2500 Valby","value":"Dummy Street 17 2500 Valby","lat":"55.6670","lng":"12.5010"}},{"branchId":"DK-710116","title":"Tingbjerg","location":{"address":"Dummy Street 16","city":"2700 Brønshøj","value":"Dummy Street 16 2700 Brønshøj","lat":"55.7100","lng":"12.5200"}},{"branchId":"DK-710119","title":"Vesterbro","location":{"address":"Dummy Street 19","city":"1620 København V","value":"Dummy Street 19 1620 København V","lat":"55.6680","lng":"12.5520"}},{"branchId":"DK-710118","title":"Vanløse","location":{"address":"Dummy Street 18","city":"2720 Vanløse","value":"Dummy Street 18 2720 Vanløse","lat":"55.6830","lng":"12.4880"}},{"branchId":"DK-710100","title":"Hovedbiblioteket","location":{"address":"Dummy Street 100","city":"1550 København V","value":"Dummy Street 100 1550 København V","lat":"55.6760","lng":"12.5700"}},{"branchId":"DK-710120","title":"Vigerslev","location":{"address":"Dummy Street 120","city":"2500 Valby","value":"Dummy Street 120 2500 Valby","lat":"55.6550","lng":"12.4950"}},{"branchId":"DK-710122","title":"Ørestad","location":{"address":"Dummy Street 122","city":"2300 København S","value":"Dummy Street 122 2300 København S","lat":"55.6380","lng":"12.5780"}},{"branchId":"DK-710121","title":"Østerbro","location":{"address":"Dummy Street 121","city":"2100 København Ø","value":"Dummy Street 121 2100 København Ø","lat":"55.7050","lng":"12.5760"}},{"branchId":"DK-710104","title":"Blågården","location":{"address":"Dummy Street 104","city":"2200 København N","value":"Dummy Street 104 2200 København N","lat":"55.6900","lng":"12.5550"}},{"branchId":"DK-710106","title":"Christianshavn","location":{"address":"Dummy Street 106","city":"1420 København K","value":"Dummy Street 106 1420 København K","lat":"55.6730","lng":"12.5930"}},{"branchId":"DK-710105","title":"Brønshøj","location":{"address":"Dummy Street 105","city":"2700 Brønshøj","value":"Dummy Street 105 2700 Brønshøj","lat":"55.7020","lng":"12.5100"}},{"branchId":"DK-710108","title":"Islands Brygge","location":{"address":"Dummy Street 108","city":"2300 København S","value":"Dummy Street 108 2300 København S","lat":"55.6600","lng":"12.5800"}},{"branchId":"DK-710107","title":"Husum","location":{"address":"Dummy Street 107","city":"2700 Brønshøj","value":"Dummy Street 107 2700 Brønshøj","lat":"55.7050","lng":"12.5250"}},{"branchId":"DK-710109","title":"Øbro Jagtvej"}]',branchAddressSearchEnabledConfig:"1",dashboardUrl:"/user/me/dashboard",agencyConfig:"999999",textNotificationsEnabledConfig:"1",pickupBranchesDropdownLabelText:"Choose pickup branch",patronPageChangePincodeHeaderText:"Pincode",pickupBranchesDropdownNothingSelectedText:"Nothing selected",patronPagePincodeLabelText:"New pin",patronPageConfirmPincodeLabelText:"Confirm new pin",patronContactNameLabelText:"Name",patronPagePincodeTooShortValidationText:"The pincode should be minimum @pincodeLengthMin and maximum @pincodeLengthMax characters long",patronPagePincodesNotTheSameText:"The pincodes are not the same",patronContactPhoneLabelText:"Phone number",patronContactPhoneCheckboxText:"Receive text messages about your loans, reservations, and so forth",patronContactEmailLabelText:"E-mail",patronContactEmailCheckboxText:"Receive emails about your loans, reservations, and so forth",createPatronHeaderText:"Register as patron",createPatronInvalidSsnHeaderText:"Invalid SSN",createPatronInvalidSsnBodyText:"This SSN is invalid",redirectOnUserCreatedUrl:"https://unsplash.com/photos/KRztl5I6xac",createPatronConfirmButtonText:"Confirm",phoneInputMessageText:"The phone number must be 6 to 15 characters in length and should be comprised solely of numbers or begin with a +",fakeCpr:"0101901111",createPatronCancelButtonText:"Cancel",patronPagePhoneInputMessageText:"Phone number",createPatronButtonLoadingText:"Loading",createPatronButtonErrorText:"Error occurred",createPatronBranchDropdownNoteText:"Choose preferred library for pickup of your future reservations.",postRegisterRedirectInfoTopText:"You are now registered as a user and need to log in again to be able to use the application.",postRegisterRedirectInfoBottomText:"You will be sent to the Adgangsplatformen to log in again in @seconds seconds.",postRegisterRedirectButtonText:"Log in again",librarySelectEmptyStateText:"Choose library",findLibraryDialogTitleText:"Find nearest library",findLibraryDialogDawaInputLabelText:"Enter your address",findLibraryDialogDawaInputPlaceholderText:"Ex. Torvegade 1, 1401 København K",findLibraryDialogGeoLocationButtonText:"Find nearest library using your location",findLibraryDialogSuggestionsListLabelText:"Choose library",geoLocationErrorNotSupportedText:"Geolocation is not supported by your browser.",geoLocationErrorPermissionDeniedText:"You have denied access to your location. Allow location access in your browser.",geoLocationErrorPositionUnavailableText:"Your location is not available at the moment.",geoLocationErrorTimeoutText:"The request for your location timed out. Please try again.",geoLocationErrorDefaultText:"An error occurred while retrieving your location.",reverseGeocodeErrorDefaultText:"Could not fetch address"},decorators:[Story=>((0,react.useEffect)((()=>{(0,token.WG)(token.g2,"123456")}),[]),react.createElement(Story,null))]};Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:'{\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore: can\'t figure out how to type pincodeArgTypes, serviceUrlArgTypes and globalTextArgTypes\n  argTypes: {\n    ...pincodeArgTypes,\n    ...serviceUrlArgTypes,\n    ...globalTextArgTypes,\n    ...globalConfigArgTypes,\n    patronPageConfirmPincodeLabelText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Confirm new pin"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    patronContactNameLabelText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Name"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    patronPagePincodeTooShortValidationText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "The pincode should be minimum @pincodeLengthMin and maximum @pincodeLengthMax characters long"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    patronPagePincodesNotTheSameText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "The pincodes are not the same"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    patronContactPhoneLabelText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Phone number"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    patronContactPhoneCheckboxText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Receive text messages about your loans, reservations, and so forth"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    patronContactEmailLabelText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "E-mail"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    patronContactEmailCheckboxText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Receive emails about your loans, reservations, and so forth"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    createPatronHeaderText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Register as patron"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    createPatronInvalidSsnHeaderText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Invalid SSN"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    createPatronInvalidSsnBodyText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "This SSN is invalid"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    redirectOnUserCreatedUrl: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "https://unsplash.com/photos/KRztl5I6xac"\n        } // open source image of a dank fox\n      },\n      control: {\n        type: "text"\n      }\n    },\n    createPatronConfirmButtonText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Confirm"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    phoneInputMessageText: {\n      description: "Phone input validation message",\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "The phone number must be 6 to 15 characters in length and should be comprised solely of numbers or begin with a +"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    fakeCpr: {\n      description: "Storybook context cpr",\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "0101901111"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    createPatronCancelButtonText: {\n      description: "create patron cancel button text",\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Cancel"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    patronPagePhoneInputMessageText: {\n      description: "patron page phone input message text",\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Phone number"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    createPatronButtonLoadingText: {\n      description: "create patron button loading text",\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Loading"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    createPatronButtonErrorText: {\n      description: "create patron button error text",\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Error occurred"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    createPatronBranchDropdownNoteText: {\n      description: "create patron branch dropdown note text",\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Choose preferred library for pickup of your future reservations."\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    postRegisterRedirectInfoTopText: {\n      description: "Redirect info top text",\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "You are now registered as a user and need to log in again to be able to use the application."\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    postRegisterRedirectInfoBottomText: {\n      description: "Redirect info bottom text",\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "You will be sent to the Adgangsplatformen to log in again in @seconds seconds."\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    postRegisterRedirectButtonText: {\n      description: "Redirect button text",\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Log in again"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    librarySelectEmptyStateText: {\n      description: "Library select empty state text",\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Choose library"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    findLibraryDialogTitleText: {\n      description: "Find library dialog title text",\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Find nearest library"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    findLibraryDialogDawaInputLabelText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Enter your address"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    findLibraryDialogDawaInputPlaceholderText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Fx Torvegade 1, 1401 København K"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    findLibraryDialogGeoLocationButtonText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Find nearest library using your location"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    findLibraryDialogSuggestionsListLabelText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Choose library"\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    geoLocationErrorNotSupportedText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Geolocation is not supported by your browser."\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    geoLocationErrorPermissionDeniedText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "You have denied access to your location. Allow location access in your browser."\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    geoLocationErrorPositionUnavailableText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Your location is not available at the moment."\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    geoLocationErrorTimeoutText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "The request for your location timed out. Please try again."\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    geoLocationErrorDefaultText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "An error occurred while retrieving your location."\n        }\n      },\n      control: {\n        type: "text"\n      }\n    },\n    reverseGeocodeErrorDefaultText: {\n      table: {\n        type: {\n          summary: "text"\n        },\n        defaultValue: {\n          summary: "Could not fetch address."\n        }\n      },\n      control: {\n        type: "text"\n      }\n    }\n  },\n  args: {\n    ...serviceUrlArgs,\n    ...pincodeArgs,\n    ...globalTextArgs,\n    ...globalConfigArgs,\n    authUrl: "/login",\n    logoutUrl: "/logout",\n    blacklistedPickupBranchesConfig: "FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",\n    minAgeConfig: "18",\n    branchesConfig: `[{"branchId":"DK-710111","title":"Grønlandsk Bibliotek","location":{"address":"Ukendt addresse et sted i Grønland","value":"Ukendt addresse et sted i Grønland"}},{"branchId":"DK-710110","title":"Biblioteket Rentemestervej","location":{"address":"Suomisvej 7 st. 2","city":"1927 Frederiksberg C","value":"Suomisvej 7 st. 2 1927 Frederiksberg C","lat":"55.6795","lng":"12.5563"}},{"branchId":"DK-710113","title":"Sundby","location":{"address":"Baaringvadvænget 2","city":"5580 Nørre Aaby","value":"Baaringvadvænget 2 5580 Nørre Aaby","lat":"55.4534","lng":"9.89213"}},{"branchId":"DK-710112","title":"Solvang","location":{"address":"Banestien 2 ","city":"6310 Broager","value":"Banestien 2 6310 Broager ","lat":"54.8862","lng":"9.67579"}},{"branchId":"DK-710115","title":"Sydhavn","location":{"address":"Dummy Street 15","city":"2450 København SV","value":"Dummy Street 15 2450 København SV","lat":"55.6530","lng":"12.5450"}},{"branchId":"DK-710114","title":"Bibliotekshuset","location":{"address":"Dummy Street 14","city":"1500 København V","value":"Dummy Street 14 1500 København V","lat":"55.6730","lng":"12.5650"}},{"branchId":"DK-710117","title":"Valby","location":{"address":"Dummy Street 17","city":"2500 Valby","value":"Dummy Street 17 2500 Valby","lat":"55.6670","lng":"12.5010"}},{"branchId":"DK-710116","title":"Tingbjerg","location":{"address":"Dummy Street 16","city":"2700 Brønshøj","value":"Dummy Street 16 2700 Brønshøj","lat":"55.7100","lng":"12.5200"}},{"branchId":"DK-710119","title":"Vesterbro","location":{"address":"Dummy Street 19","city":"1620 København V","value":"Dummy Street 19 1620 København V","lat":"55.6680","lng":"12.5520"}},{"branchId":"DK-710118","title":"Vanløse","location":{"address":"Dummy Street 18","city":"2720 Vanløse","value":"Dummy Street 18 2720 Vanløse","lat":"55.6830","lng":"12.4880"}},{"branchId":"DK-710100","title":"Hovedbiblioteket","location":{"address":"Dummy Street 100","city":"1550 København V","value":"Dummy Street 100 1550 København V","lat":"55.6760","lng":"12.5700"}},{"branchId":"DK-710120","title":"Vigerslev","location":{"address":"Dummy Street 120","city":"2500 Valby","value":"Dummy Street 120 2500 Valby","lat":"55.6550","lng":"12.4950"}},{"branchId":"DK-710122","title":"Ørestad","location":{"address":"Dummy Street 122","city":"2300 København S","value":"Dummy Street 122 2300 København S","lat":"55.6380","lng":"12.5780"}},{"branchId":"DK-710121","title":"Østerbro","location":{"address":"Dummy Street 121","city":"2100 København Ø","value":"Dummy Street 121 2100 København Ø","lat":"55.7050","lng":"12.5760"}},{"branchId":"DK-710104","title":"Blågården","location":{"address":"Dummy Street 104","city":"2200 København N","value":"Dummy Street 104 2200 København N","lat":"55.6900","lng":"12.5550"}},{"branchId":"DK-710106","title":"Christianshavn","location":{"address":"Dummy Street 106","city":"1420 København K","value":"Dummy Street 106 1420 København K","lat":"55.6730","lng":"12.5930"}},{"branchId":"DK-710105","title":"Brønshøj","location":{"address":"Dummy Street 105","city":"2700 Brønshøj","value":"Dummy Street 105 2700 Brønshøj","lat":"55.7020","lng":"12.5100"}},{"branchId":"DK-710108","title":"Islands Brygge","location":{"address":"Dummy Street 108","city":"2300 København S","value":"Dummy Street 108 2300 København S","lat":"55.6600","lng":"12.5800"}},{"branchId":"DK-710107","title":"Husum","location":{"address":"Dummy Street 107","city":"2700 Brønshøj","value":"Dummy Street 107 2700 Brønshøj","lat":"55.7050","lng":"12.5250"}},{"branchId":"DK-710109","title":"Øbro Jagtvej"}]`,\n    branchAddressSearchEnabledConfig: "1",\n    dashboardUrl: "/user/me/dashboard",\n    agencyConfig: "999999",\n    textNotificationsEnabledConfig: "1",\n    pickupBranchesDropdownLabelText: "Choose pickup branch",\n    patronPageChangePincodeHeaderText: "Pincode",\n    pickupBranchesDropdownNothingSelectedText: "Nothing selected",\n    patronPagePincodeLabelText: "New pin",\n    patronPageConfirmPincodeLabelText: "Confirm new pin",\n    patronContactNameLabelText: "Name",\n    patronPagePincodeTooShortValidationText: "The pincode should be minimum @pincodeLengthMin and maximum @pincodeLengthMax characters long",\n    patronPagePincodesNotTheSameText: "The pincodes are not the same",\n    patronContactPhoneLabelText: "Phone number",\n    patronContactPhoneCheckboxText: "Receive text messages about your loans, reservations, and so forth",\n    patronContactEmailLabelText: "E-mail",\n    patronContactEmailCheckboxText: "Receive emails about your loans, reservations, and so forth",\n    createPatronHeaderText: "Register as patron",\n    createPatronInvalidSsnHeaderText: "Invalid SSN",\n    createPatronInvalidSsnBodyText: "This SSN is invalid",\n    redirectOnUserCreatedUrl: "https://unsplash.com/photos/KRztl5I6xac",\n    // open source image of a dank fox\n    createPatronConfirmButtonText: "Confirm",\n    phoneInputMessageText: "The phone number must be 6 to 15 characters in length and should be comprised solely of numbers or begin with a +",\n    fakeCpr: "0101901111",\n    createPatronCancelButtonText: "Cancel",\n    patronPagePhoneInputMessageText: "Phone number",\n    createPatronButtonLoadingText: "Loading",\n    createPatronButtonErrorText: "Error occurred",\n    createPatronBranchDropdownNoteText: "Choose preferred library for pickup of your future reservations.",\n    postRegisterRedirectInfoTopText: "You are now registered as a user and need to log in again to be able to use the application.",\n    postRegisterRedirectInfoBottomText: "You will be sent to the Adgangsplatformen to log in again in @seconds seconds.",\n    postRegisterRedirectButtonText: "Log in again",\n    librarySelectEmptyStateText: "Choose library",\n    findLibraryDialogTitleText: "Find nearest library",\n    findLibraryDialogDawaInputLabelText: "Enter your address",\n    findLibraryDialogDawaInputPlaceholderText: "Ex. Torvegade 1, 1401 København K",\n    findLibraryDialogGeoLocationButtonText: "Find nearest library using your location",\n    findLibraryDialogSuggestionsListLabelText: "Choose library",\n    geoLocationErrorNotSupportedText: "Geolocation is not supported by your browser.",\n    geoLocationErrorPermissionDeniedText: "You have denied access to your location. Allow location access in your browser.",\n    geoLocationErrorPositionUnavailableText: "Your location is not available at the moment.",\n    geoLocationErrorTimeoutText: "The request for your location timed out. Please try again.",\n    geoLocationErrorDefaultText: "An error occurred while retrieving your location.",\n    reverseGeocodeErrorDefaultText: "Could not fetch address"\n  },\n  decorators: [Story => {\n    useEffect(() => {\n      setToken(TOKEN_UNREGISTERED_USER_KEY, "123456");\n    }, []);\n    return <Story />;\n  }]\n}',...Primary.parameters?.docs?.source}}}},"./src/apps/patron-page/util/BranchesDropdown.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_ExpandMore_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/ExpandMore.svg"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_ExpandMore_svg__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_ExpandMore_svg__WEBPACK_IMPORTED_MODULE_1__),clsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),_core_utils_branches__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/utils/branches.tsx"),_core_utils_text__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/core/utils/text.tsx");const BranchesDropdown=({selected,onChange,classNames,required=!1,footnote})=>{const t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_4__.F)(),branches=(0,_core_utils_branches__WEBPACK_IMPORTED_MODULE_3__.ov)("blacklistedPickupBranchesConfig");return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"branches-dropdown",className:"text-body-medium-medium mt-32 mb-8"},`${t("pickupBranchesDropdownLabelText")}${required?" *":""}`),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:(0,clsx__WEBPACK_IMPORTED_MODULE_2__.A)(`dropdown mt-8 ${classNames||""}`,[{"mb-32":!footnote},{"mb-8":footnote}])},branches&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("select",{required:!0,id:"branches-dropdown",onChange:({target})=>onChange(target.value),className:"dropdown__select"},""===selected&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("option",{value:"",className:"dropdown__option",selected:""===selected,disabled:!0},t("pickupBranchesDropdownNothingSelectedText")),branches.map((({branchId,title})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("option",{key:branchId,value:branchId,selected:selected===branchId,className:"dropdown__option"},title)))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dropdown__arrows"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{className:"dropdown__arrow",src:_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_ExpandMore_svg__WEBPACK_IMPORTED_MODULE_1___default(),alt:""})))),footnote&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"dropdown__footnote"},footnote))},__WEBPACK_DEFAULT_EXPORT__=BranchesDropdown;try{BranchesDropdown.displayName="BranchesDropdown",BranchesDropdown.__docgenInfo={description:"",displayName:"BranchesDropdown",props:{selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"string"}},classNames:{defaultValue:null,description:"",name:"classNames",required:!1,type:{name:"string | undefined"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean | undefined"}},footnote:{defaultValue:null,description:"",name:"footnote",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/patron-page/util/BranchesDropdown.tsx#BranchesDropdown"]={docgenInfo:BranchesDropdown.__docgenInfo,name:"BranchesDropdown",path:"src/apps/patron-page/util/BranchesDropdown.tsx#BranchesDropdown"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Buttons/Button.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>Button});var react=__webpack_require__("./node_modules/react/index.js"),icon_arrow_ui_small_right=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/arrow-ui/icon-arrow-ui-small-right.svg"),icon_arrow_ui_small_right_default=__webpack_require__.n(icon_arrow_ui_small_right),icon_btn_external_link=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/buttons/icon-btn-external-link.svg"),icon_btn_external_link_default=__webpack_require__.n(icon_btn_external_link),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs");const ButtonIcon=({buttonType,collapsible,iconClassNames})=>{const iconClassName=`btn-icon ${(0,clsx.A)({"btn-collapsible":collapsible},[iconClassNames])}`;return"default"===buttonType?react.createElement("div",{className:"ml-16"},react.createElement("img",{className:iconClassName,src:icon_arrow_ui_small_right_default(),alt:""})):"external-link"===buttonType?react.createElement("img",{className:iconClassName,src:icon_btn_external_link_default(),alt:""}):null};try{ButtonIcon.displayName="ButtonIcon",ButtonIcon.__docgenInfo={description:"",displayName:"ButtonIcon",props:{buttonType:{defaultValue:null,description:"",name:"buttonType",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"none"'},{value:'"default"'},{value:'"external-link"'},{value:'"search"'}]}},collapsible:{defaultValue:null,description:"",name:"collapsible",required:!1,type:{name:"boolean | undefined"}},iconClassNames:{defaultValue:null,description:"",name:"iconClassNames",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Buttons/ButtonIcon.tsx#ButtonIcon"]={docgenInfo:ButtonIcon.__docgenInfo,name:"ButtonIcon",path:"src/components/Buttons/ButtonIcon.tsx#ButtonIcon"})}catch(__react_docgen_typescript_loader_error){}var general=__webpack_require__("./src/core/utils/helpers/general.ts");const Button=({label,buttonType,type="button",collapsible,size,variant,disabled=!1,onClick,iconClassNames,id,classNames,dataCy,ariaDescribedBy,canOnlyBeClickedOnce=!1})=>{const isLoadingRef=(0,react.useRef)(!1),handleClick=()=>{isLoadingRef.current||(canOnlyBeClickedOnce&&(isLoadingRef.current=!0),onClick&&onClick())};return react.createElement("button",{"data-cy":dataCy||"button",type,className:`btn-primary btn-${variant} btn-${size} ${disabled?"btn-outline":""} arrow__hover--right-small ${classNames??""}`,disabled:disabled||isLoadingRef.current,onMouseUp:handleClick,onKeyUp:e=>{(0,general.GC)(e.key)&&handleClick()},id,"aria-describedby":ariaDescribedBy},label,react.createElement(ButtonIcon,{buttonType,iconClassNames,collapsible}))};try{Button.displayName="Button",Button.__docgenInfo={description:"",displayName:"Button",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},buttonType:{defaultValue:null,description:"",name:"buttonType",required:!0,type:{name:"enum",value:[{value:'"none"'},{value:'"default"'},{value:'"external-link"'},{value:'"search"'}]}},type:{defaultValue:{value:"button"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"button"'},{value:'"submit"'},{value:'"reset"'}]}},collapsible:{defaultValue:null,description:"",name:"collapsible",required:!0,type:{name:"boolean"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"large"'},{value:'"medium"'},{value:'"small"'},{value:'"xsmall"'},{value:'"xlarge"'}]}},variant:{defaultValue:null,description:"",name:"variant",required:!0,type:{name:"enum",value:[{value:'"outline"'},{value:'"filled"'}]}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean | undefined"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void) | undefined"}},iconClassNames:{defaultValue:null,description:"",name:"iconClassNames",required:!1,type:{name:"string | undefined"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string | undefined"}},classNames:{defaultValue:null,description:"",name:"classNames",required:!1,type:{name:"string | undefined"}},dataCy:{defaultValue:null,description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}},ariaDescribedBy:{defaultValue:null,description:"",name:"ariaDescribedBy",required:!1,type:{name:"string | undefined"}},canOnlyBeClickedOnce:{defaultValue:{value:"false"},description:"",name:"canOnlyBeClickedOnce",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Buttons/Button.tsx#Button"]={docgenInfo:Button.__docgenInfo,name:"Button",path:"src/components/Buttons/Button.tsx#Button"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/checkbox/Checkbox.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>checkbox_Checkbox});var clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),react=__webpack_require__("./node_modules/react/index.js");const icon_checkbox=()=>react.createElement("svg",{width:"20px",height:"20px"},react.createElement("polyline",{points:"1.5 6 4.5 9 10.5 1",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})),checkbox_Checkbox=({id,label,hideLabel,className,labelClassName,selected,onChecked,disabled,ariaLabel,ariaDescribedBy,focused,isVisualOnly,labelledBy,tabIndex})=>react.createElement("div",{className:(0,clsx.A)("checkbox",className),style:isVisualOnly?{pointerEvents:"none"}:void 0},react.createElement("input",{autoFocus:focused,id,className:"checkbox__input",onChange:e=>{var checked;checked=e.target.checked,onChecked&&onChecked(checked)},checked:selected,type:"checkbox","aria-label":isVisualOnly&&labelledBy?void 0:ariaLabel,"aria-labelledby":isVisualOnly&&labelledBy?labelledBy:void 0,"aria-describedby":ariaDescribedBy,disabled,tabIndex}),react.createElement("label",{className:(0,clsx.A)("checkbox__label",labelClassName),htmlFor:id,"data-cy":id},react.createElement("span",{className:"checkbox__icon","aria-labelledby":labelledBy},react.createElement(icon_checkbox,null)),label&&react.createElement("span",{"data-cy":"checkbox-text",className:"checkbox__text text-small-caption color-secondary-gray "+(hideLabel?"checkbox__text--hide-visually":"")},label)));try{Checkbox.displayName="Checkbox",Checkbox.__docgenInfo={description:"",displayName:"Checkbox",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},hideLabel:{defaultValue:null,description:"",name:"hideLabel",required:!1,type:{name:"boolean | undefined"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean | undefined"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},labelClassName:{defaultValue:null,description:"",name:"labelClassName",required:!1,type:{name:"string | undefined"}},onChecked:{defaultValue:null,description:"",name:"onChecked",required:!1,type:{name:"((value: boolean) => void) | undefined"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string | undefined"}},ariaDescribedBy:{defaultValue:null,description:"",name:"ariaDescribedBy",required:!1,type:{name:"string | undefined"}},focused:{defaultValue:null,description:"",name:"focused",required:!1,type:{name:"boolean | undefined"}},isVisualOnly:{defaultValue:null,description:"",name:"isVisualOnly",required:!1,type:{name:"boolean | undefined"}},labelledBy:{defaultValue:null,description:"",name:"labelledBy",required:!1,type:{name:"string | undefined"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/checkbox/Checkbox.tsx#Checkbox"]={docgenInfo:Checkbox.__docgenInfo,name:"Checkbox",path:"src/components/checkbox/Checkbox.tsx#Checkbox"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/contact-info-section/ContactInfoEmail.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_utils_text__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/text.tsx"),_checkbox_Checkbox__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/checkbox/Checkbox.tsx"),_forms_input_TextInput__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/forms/input/TextInput.tsx");const ContactInfoEmail=({className="",patron,changePatron,showCheckboxes,isRequired=!1})=>{const t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_1__.F)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_forms_input_TextInput__WEBPACK_IMPORTED_MODULE_3__.A,{className,id:"email-address-input",type:"email",required:isRequired,onChange:newEmail=>changePatron(newEmail,"emailAddress"),value:null==patron?void 0:patron.emailAddress,label:t("patronContactEmailLabelText")}),showCheckboxes&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_checkbox_Checkbox__WEBPACK_IMPORTED_MODULE_2__.A,{className:"mt-8 mb-16",onChecked:newReceiveEmail=>changePatron(newReceiveEmail,"receiveEmail"),id:"email-messages",selected:null==patron?void 0:patron.receiveEmail,disabled:!1,label:t("patronContactEmailCheckboxText")}))},__WEBPACK_DEFAULT_EXPORT__=ContactInfoEmail;try{ContactInfoEmail.displayName="ContactInfoEmail",ContactInfoEmail.__docgenInfo={description:"",displayName:"ContactInfoEmail",props:{className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string | undefined"}},patron:{defaultValue:null,description:"",name:"patron",required:!0,type:{name:"PatronV5 | PatronSettingsV3 | null"}},changePatron:{defaultValue:null,description:"",name:"changePatron",required:!0,type:{name:"ChangePatronProps"}},showCheckboxes:{defaultValue:null,description:"",name:"showCheckboxes",required:!0,type:{name:"boolean"}},isRequired:{defaultValue:{value:"false"},description:"",name:"isRequired",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/contact-info-section/ContactInfoEmail.tsx#ContactInfoEmail"]={docgenInfo:ContactInfoEmail.__docgenInfo,name:"ContactInfoEmail",path:"src/components/contact-info-section/ContactInfoEmail.tsx#ContactInfoEmail"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/contact-info-section/ContactInfoPhone.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_checkbox_Checkbox__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/checkbox/Checkbox.tsx"),_core_utils_text__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/text.tsx"),_forms_input_TextInput__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/forms/input/TextInput.tsx");const ContactInfoPhone=({patron,changePatron,showCheckboxes,className="",isRequired=!1})=>{const t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_2__.F)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_forms_input_TextInput__WEBPACK_IMPORTED_MODULE_3__.A,{className,id:"phone-input",required:isRequired,type:"tel",pattern:"\\+?[0-9]{6,15}",title:t("patronPagePhoneInputMessageText"),onChange:newPhoneNumber=>changePatron(newPhoneNumber,"phoneNumber"),value:null==patron?void 0:patron.phoneNumber,label:t("patronContactPhoneLabelText")}),showCheckboxes&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_checkbox_Checkbox__WEBPACK_IMPORTED_MODULE_1__.A,{className:"mt-8 mb-16",onChecked:newReceiveSms=>changePatron(newReceiveSms,"receiveSms"),id:"phone-messages",selected:null==patron?void 0:patron.receiveSms,disabled:!1,label:t("patronContactPhoneCheckboxText")}))},__WEBPACK_DEFAULT_EXPORT__=ContactInfoPhone;try{ContactInfoPhone.displayName="ContactInfoPhone",ContactInfoPhone.__docgenInfo={description:"",displayName:"ContactInfoPhone",props:{patron:{defaultValue:null,description:"",name:"patron",required:!0,type:{name:"PatronV5 | PatronSettingsV3 | null"}},changePatron:{defaultValue:null,description:"",name:"changePatron",required:!0,type:{name:"ChangePatronProps"}},showCheckboxes:{defaultValue:null,description:"",name:"showCheckboxes",required:!0,type:{name:"boolean"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string | undefined"}},isRequired:{defaultValue:{value:"false"},description:"",name:"isRequired",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/contact-info-section/ContactInfoPhone.tsx#ContactInfoPhone"]={docgenInfo:ContactInfoPhone.__docgenInfo,name:"ContactInfoPhone",path:"src/components/contact-info-section/ContactInfoPhone.tsx#ContactInfoPhone"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/dialog/Dialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>dialog_Dialog});var react=__webpack_require__("./node_modules/react/index.js"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),CloseLarge=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/CloseLarge.svg"),CloseLarge_default=__webpack_require__.n(CloseLarge);const useEscapeKey=({closeDialog})=>{(0,react.useEffect)((()=>{const handleKeyDown=e=>{"Escape"===e.key&&closeDialog()};return document.addEventListener("keydown",handleKeyDown),()=>{document.removeEventListener("keydown",handleKeyDown)}}),[closeDialog])},dialog_useEscapeKey=useEscapeKey;try{useEscapeKey.displayName="useEscapeKey",useEscapeKey.__docgenInfo={description:"",displayName:"useEscapeKey",props:{closeDialog:{defaultValue:null,description:"",name:"closeDialog",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/dialog/useEscapeKey.tsx#useEscapeKey"]={docgenInfo:useEscapeKey.__docgenInfo,name:"useEscapeKey",path:"src/components/dialog/useEscapeKey.tsx#useEscapeKey"})}catch(__react_docgen_typescript_loader_error){}const Dialog=(0,react.forwardRef)((({children,closeDialog,isSidebar},ref)=>(dialog_useEscapeKey({closeDialog}),react.createElement("dialog",{className:(0,clsx.A)("dialog",{"dialog--sidebar":isSidebar}),ref,onClick:({currentTarget,target})=>{currentTarget===target&&closeDialog()}},react.createElement("div",{className:"dialog__top-bar"},react.createElement("button",{type:"button",onClick:closeDialog,className:"dialog__close-button","aria-label":"Close"},react.createElement("img",{src:CloseLarge_default(),alt:""}))),children))));Dialog.displayName="Dialog";const dialog_Dialog=Dialog;try{Dialog.displayName="Dialog",Dialog.__docgenInfo={description:"",displayName:"Dialog",props:{closeDialog:{defaultValue:null,description:"",name:"closeDialog",required:!0,type:{name:"() => void"}},isSidebar:{defaultValue:null,description:"",name:"isSidebar",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/dialog/Dialog.tsx#Dialog"]={docgenInfo:Dialog.__docgenInfo,name:"Dialog",path:"src/components/dialog/Dialog.tsx#Dialog"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/dialog/useDialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const useDialog=({onClose}={})=>{const[dialogContent,setDialogContent]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),dialogRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return{dialogContent,dialogRef,openDialogWithContent:content=>{var _dialogRef$current;setDialogContent(content),null===(_dialogRef$current=dialogRef.current)||void 0===_dialogRef$current||_dialogRef$current.showModal()},closeDialog:()=>{dialogRef.current&&(onClose&&onClose(),dialogRef.current.close())}}},__WEBPACK_DEFAULT_EXPORT__=useDialog;try{useDialog.displayName="useDialog",useDialog.__docgenInfo={description:"",displayName:"useDialog",props:{onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/dialog/useDialog.tsx#useDialog"]={docgenInfo:useDialog.__docgenInfo,name:"useDialog",path:"src/components/dialog/useDialog.tsx#useDialog"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/forms/input/TextInput.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var clsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_label_Label__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/forms/label/Label.tsx");const TextInput=({id,label,description,validation,type,onChange,value,className,labelClassName,pattern,inputmode,required,title,placeholder,ariaLabel})=>react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:(0,clsx__WEBPACK_IMPORTED_MODULE_0__.A)("dpl-input",className,[{"dpl-input--invalid":!!validation}])},label&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(_label_Label__WEBPACK_IMPORTED_MODULE_2__.A,{id,required,className:labelClassName},label),react__WEBPACK_IMPORTED_MODULE_1__.createElement("input",{className:"text-body-medium-medium",required,"aria-describedby":description?`description-${id}`:"",id,"data-cy":id,type,pattern,inputMode:inputmode,onChange:e=>{onChange(e.target.value)},value,"aria-label":ariaLabel||"","aria-labelledby":validation?`validation-${id}`:"",title,placeholder}),description&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"dpl-input__description",id:`description-${id}`},description),validation&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{id:`validation-${id}`,className:"dpl-input__validation",role:"alert"},validation)),__WEBPACK_DEFAULT_EXPORT__=TextInput;try{TextInput.displayName="TextInput",TextInput.__docgenInfo={description:"",displayName:"TextInput",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string | undefined"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"number"'},{value:'"text"'},{value:'"email"'},{value:'"password"'},{value:'"tel"'}]}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean | undefined"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string | undefined"}},validation:{defaultValue:null,description:"",name:"validation",required:!1,type:{name:"string | undefined"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},labelClassName:{defaultValue:null,description:"",name:"labelClassName",required:!1,type:{name:"string | undefined"}},pattern:{defaultValue:null,description:"",name:"pattern",required:!1,type:{name:"string | undefined"}},inputmode:{defaultValue:null,description:"",name:"inputmode",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"numeric"'}]}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string | undefined"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string | undefined"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/forms/input/TextInput.tsx#TextInput"]={docgenInfo:TextInput.__docgenInfo,name:"TextInput",path:"src/components/forms/input/TextInput.tsx#TextInput"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/forms/label/Label.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var clsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js");const Label=({id,className,children,required})=>react__WEBPACK_IMPORTED_MODULE_1__.createElement("label",{htmlFor:id,className:(0,clsx__WEBPACK_IMPORTED_MODULE_0__.A)(className)},children,required&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",null," *")),__WEBPACK_DEFAULT_EXPORT__=Label;try{Label.displayName="Label",Label.__docgenInfo={description:"",displayName:"Label",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/forms/label/Label.tsx#Label"]={docgenInfo:Label.__docgenInfo,name:"Label",path:"src/components/forms/label/Label.tsx#Label"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/reservation/helper.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B6:()=>getInputType,C4:()=>getPreferredBranch,CF:()=>getAuthorLine,En:()=>getNoInterestAfter,He:()=>getReservationModalTypeTranslation,QW:()=>getInstantLoanBranchHoldings,Qr:()=>isConfigValueOne,hn:()=>getManifestationsToReserve,kd:()=>removePrefixFromBranchId,mR:()=>getInstantLoanBranchHoldingsAboveThreshold,pS:()=>translateOpenOrderStatus,wT:()=>constructReservationData});__webpack_require__("./node_modules/core-js/modules/esnext.map.delete-all.js"),__webpack_require__("./node_modules/core-js/modules/esnext.map.every.js"),__webpack_require__("./node_modules/core-js/modules/esnext.map.filter.js"),__webpack_require__("./node_modules/core-js/modules/esnext.map.find.js"),__webpack_require__("./node_modules/core-js/modules/esnext.map.find-key.js"),__webpack_require__("./node_modules/core-js/modules/esnext.map.includes.js"),__webpack_require__("./node_modules/core-js/modules/esnext.map.key-of.js"),__webpack_require__("./node_modules/core-js/modules/esnext.map.map-keys.js"),__webpack_require__("./node_modules/core-js/modules/esnext.map.map-values.js"),__webpack_require__("./node_modules/core-js/modules/esnext.map.merge.js"),__webpack_require__("./node_modules/core-js/modules/esnext.map.reduce.js"),__webpack_require__("./node_modules/core-js/modules/esnext.map.some.js"),__webpack_require__("./node_modules/core-js/modules/esnext.map.update.js");var _core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/core/utils/helpers/general.ts"),_core_utils_helpers_invalid_switch_case__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/core/utils/helpers/invalid-switch-case.ts"),_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/core/dbc-gateway/generated/graphql.ts");const isConfigValueOne=configValue=>"1"===configValue,getPreferredBranch=(id,array)=>{const locationItem=array.find((item=>item.branchId===id));return locationItem?locationItem.title:id},getNoInterestAfter=(days,interestPeriod,t)=>{const interestPeriodFound=interestPeriod.interestPeriods.find((period=>period.value.toString()===days.toString()));return interestPeriodFound?interestPeriodFound.label:`${days} ${t("daysText")}`},constructReservations=({manifestations,pickupBranch,expiryDate,periodical})=>manifestations.map((manifestation=>(({manifestation:{pid},pickupBranch,expiryDate,periodical})=>({recordId:(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_13__.G_)(pid),...pickupBranch?{pickupBranch}:{},...expiryDate?{expiryDate}:{},...periodical?{periodical}:{}}))({manifestation,pickupBranch,expiryDate,periodical}))),constructReservationData=({manifestations,selectedBranch,expiryDate,periodical})=>({reservations:constructReservations({manifestations,...selectedBranch?{pickupBranch:selectedBranch}:{},...expiryDate?{expiryDate}:{},...periodical?{periodical:{volume:periodical.volume,volumeNumber:periodical.volumeNumber,volumeYear:periodical.volumeYear}}:{}}),...manifestations.length>1?{type:"parallel"}:{}}),getAuthorLine=(manifestation,t)=>{if(void 0===manifestation)return[t("materialHeaderAuthorByText"),"Unknown"].join(" ");const{creators}=manifestation,publicationYear=(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_13__.Ey)(manifestation),author=(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_13__.sP)((0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_13__.UV)(creators),t)||null;let year="";return publicationYear&&(year=publicationYear),(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_13__.G)(manifestation)&&(year=`(${t("materialHeaderAllEditionsText")})`),author?[t("materialHeaderAuthorByText"),author,year].join(" "):null},getManifestationsToReserve=(reservableManifestations,isPeriodical)=>isPeriodical?reservableManifestations:!reservableManifestations||reservableManifestations.length<1?[]:(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_13__.G)(reservableManifestations[0])?reservableManifestations:[(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_13__.yr)(reservableManifestations)],getReservationModalTypeTranslation=(name,type)=>{const isCloseModal="closeModalAriaLabelText"===type;switch(name){case"sms":return isCloseModal?"closeModalAriaLabelSmsText":"screenReaderModalDescriptionSmsText";case"email":return isCloseModal?"closeModalAriaLabelEmailText":"screenReaderModalDescriptionEmailText";case"interestPeriod":return isCloseModal?"closeModalAriaLabelInterestPeriodText":"screenReaderModalDescriptionInterestPeriodText";case"pickup":return isCloseModal?"closeModalAriaLabelPickupText":"screenReaderModalDescriptionPickupText";default:return(0,_core_utils_helpers_invalid_switch_case__WEBPACK_IMPORTED_MODULE_14__.A)(name)}},getInstantLoanBranchHoldings=(branchHoldings,whitelist,instantLoanStrings)=>{const whitelistBranchIds=whitelist.map((({branchId})=>branchId));return(branchHoldings=>{const processedBranches=new Map;return branchHoldings.forEach((({branch,materials})=>{const{branchId}=branch,storedBranch=processedBranches.get(branchId);storedBranch?processedBranches.set(branchId,{branch,materials:[...materials,...storedBranch.materials]}):processedBranches.set(branchId,{branch,materials})})),[...processedBranches.values()]})(branchHoldings.filter((({branch})=>whitelistBranchIds.includes(branch.branchId)))).map((({branch,materials})=>({branch,materials:materials.filter((({materialGroup,available})=>instantLoanStrings.some((instantLoanString=>instantLoanString.trim()===materialGroup.name.trim()))&&available))}))).filter((({materials})=>materials.length>0))},getInstantLoanBranchHoldingsAboveThreshold=(instantLoanBranchHoldings,instantLoanThresholdConfig)=>instantLoanBranchHoldings.filter((({materials})=>materials.length>=Number(instantLoanThresholdConfig??0))),removePrefixFromBranchId=branchId=>branchId.split("-")[1],translateOpenOrderStatus=(status,t)=>{const statusTextMap={[_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_15__.IR.OwnedAccepted]:"openOrderStatusOwnedAcceptedText",[_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_15__.IR.AuthenticationError]:"openOrderAuthenticationErrorText",[_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_15__.IR.BorchkUserBlockedByAgency]:"openOrderUserBlockedByAgencyText",[_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_15__.IR.BorchkUserNotVerified]:"openOrderUserNotVerifiedText",[_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_15__.IR.BorchkUserNoLongerExistOnAgency]:"openOrderUserNoLongerExistOnAgencyText",[_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_15__.IR.InvalidOrder]:"openOrderInvalidOrderText",[_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_15__.IR.NotOwnedIllLoc]:"openOrderNotOwnedIllLocText",[_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_15__.IR.NotOwnedNoIllLoc]:"openOrderNotOwnedNoIllLocText",[_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_15__.IR.NotOwnedWrongIllMediumtype]:"openOrderNotOwnedWrongIllMediumtypeText",[_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_15__.IR.NoServicerequester]:"openOrderNoServicerequesterText",[_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_15__.IR.OrsError]:"openOrderOrsErrorText",[_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_15__.IR.OwnedOwnCatalogue]:"openOrderOwnedOwnCatalogueText",[_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_15__.IR.OwnedWrongMediumtype]:"openOrderOwnedWrongMediumtypeText",[_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_15__.IR.ServiceUnavailable]:"openOrderServiceUnavailableText",[_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_15__.IR.UnknownError]:"openOrderUnknownErrorText",[_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_15__.IR.UnknownPickupagency]:"openOrderUnknownPickupagencyText",[_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_15__.IR.UnknownUser]:"openOrderUnknownUserText",[_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_15__.IR.ErrorMissingPincode]:"openOrderErrorMissingPincodeText"};return statusTextMap[status]?t(statusTextMap[status]):""},getInputType=type=>{switch(type){case"email":return"email";case"sms":return"tel";default:return"text"}}},"./src/core/adgangsplatformen/useUserInfo.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>adgangsplatformen_useUserInfo});var es=__webpack_require__("./node_modules/react-query/es/index.js"),FetchFailedCriticalError=__webpack_require__("./src/core/fetchers/FetchFailedCriticalError.ts"),user=__webpack_require__("./src/core/utils/helpers/user.ts"),FetcherCriticalHttpError=__webpack_require__("./src/core/fetchers/FetcherCriticalHttpError.ts");function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}class AdgangsPlatformenServiceHttpError extends FetcherCriticalHttpError.A{constructor(...args){super(...args),_defineProperty(this,"name","AdgangsPlatformenServiceHttpError")}}var utils_url=__webpack_require__("./src/core/utils/url.tsx");const adgangsplatformen_useUserInfo=queryOptions=>{const userinfoUrl=(0,utils_url.Ik)()("userinfoUrl"),url=String(userinfoUrl),queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??(url=>{const userToken=(0,user.dG)();return userToken||console.error("userToken is missing"),userToken?`${url}:${userToken}`:url})(url),getUserInfo=(infoUrl,signal)=>(async({url,method,headers,data})=>{const userToken=(0,user.dG)();if(!userToken)throw new Error("User token is missing");const authHeaders=userToken?{Authorization:`Bearer ${userToken}`}:{},body=data?JSON.stringify(data):null;try{const response=await fetch(url,{method,headers:{...headers,...authHeaders},body});if(!response.ok)throw new AdgangsPlatformenServiceHttpError(response.status,response.statusText,url);try{return await response.json()}catch(e){if(!(e instanceof SyntaxError))throw e}}catch(error){if(error instanceof AdgangsPlatformenServiceHttpError)throw error;const message=error instanceof Error?error.message:"Unknown error";throw new FetchFailedCriticalError.A(message,url)}return null})({url:infoUrl,method:"get",signal});return{queryKey,...(0,es.useQuery)(queryKey,(()=>getUserInfo(url)),queryOptions)}}},"./src/core/storybook/globalConfigArgs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,U:()=>argTypes});const argTypes={errorMessagesConfig:{description:"Configuration for error messages behaviour",control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:'{"containerId":"dpl-react-apps-error-messages","shouldOnlyShowOneError":true,"showCloseButton":true}'}}}},__WEBPACK_DEFAULT_EXPORT__={errorMessagesConfig:'{"containerId":"dpl-react-apps-error-messages","shouldOnlyShowOneError":true,"showCloseButton":true}'}},"./src/core/storybook/pincodeArgs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,U:()=>argTypes});const argTypes={pincodeLengthMinConfig:{description:"Number of search result items on desktop",control:{type:"number"},table:{type:{summary:"number"},defaultValue:{summary:"5"}}},pincodeLengthMaxConfig:{description:"Number of search result items on desktop",control:{type:"number"},table:{type:{summary:"number"},defaultValue:{summary:"5"}}}},__WEBPACK_DEFAULT_EXPORT__={pincodeLengthMinConfig:"4",pincodeLengthMaxConfig:"5"}},"./src/core/utils/branches.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,ov:()=>useGetBranches,z5:()=>excludeBlacklistedBranches});var _config__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/utils/config.tsx");const excludeBlacklistedBranches=(branches,blacklist)=>branches.filter((item=>!blacklist.includes(item.branchId))),cleanBranchesId=branches=>branches.map((branch=>{const matches=/-(\d*)/g.exec(branch.branchId);return matches?matches[1]:""})).filter((item=>item)),useGetBranches=key=>{const config=(0,_config__WEBPACK_IMPORTED_MODULE_0__.UK)(),branches=config("branchesConfig",{transformer:"jsonParse"}),blacklistBranches=config(key,{transformer:"stringToArray"});return excludeBlacklistedBranches(branches,blacklistBranches)},__WEBPACK_DEFAULT_EXPORT__=()=>{const branches=useGetBranches("blacklistedSearchBranchesConfig");return cleanBranchesId(branches)};try{cleanBranchesId.displayName="cleanBranchesId",cleanBranchesId.__docgenInfo={description:"",displayName:"cleanBranchesId",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/utils/branches.tsx#cleanBranchesId"]={docgenInfo:cleanBranchesId.__docgenInfo,name:"cleanBranchesId",path:"src/core/utils/branches.tsx#cleanBranchesId"})}catch(__react_docgen_typescript_loader_error){}try{useGetBranches.displayName="useGetBranches",useGetBranches.__docgenInfo={description:"",displayName:"useGetBranches",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/utils/branches.tsx#useGetBranches"]={docgenInfo:useGetBranches.__docgenInfo,name:"useGetBranches",path:"src/core/utils/branches.tsx#useGetBranches"})}catch(__react_docgen_typescript_loader_error){}},"./src/core/utils/helpers/invalid-switch-case.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function invalidSwitchCase(x){return console.error(`Invalid case for ${x}`),x}},"./src/core/utils/useSavePatron.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,s:()=>convertPatronSettingsV4toV6});var react_query__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-query/es/index.js"),_fbs_fbs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/fbs/fbs.ts"),_adgangsplatformen_useUserInfo__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/adgangsplatformen/useUserInfo.ts"),_helpers_user__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/utils/helpers/user.ts");const useSavePatron=({patron,fetchHandlers})=>{const{data:userInfo}=(0,_adgangsplatformen_useUserInfo__WEBPACK_IMPORTED_MODULE_2__.A)({enabled:!(0,_helpers_user__WEBPACK_IMPORTED_MODULE_3__.ok)()}),{mutate}=(0,_fbs_fbs__WEBPACK_IMPORTED_MODULE_1__.tP)(),queryClient=(0,react_query__WEBPACK_IMPORTED_MODULE_0__.useQueryClient)();return{savePatron:data=>{const{onSuccess,onError}=(null==fetchHandlers?void 0:fetchHandlers.savePatron)||{};patron&&userInfo?mutate({data:{pincodeChange:{pincode:userInfo.attributes.pincode,libraryCardNumber:patron.patronId.toString()},patron:{...convertPatronSettingsV4toV6({...patron,...data})}}},{onSuccess:()=>{queryClient.invalidateQueries((0,_fbs_fbs__WEBPACK_IMPORTED_MODULE_1__.eo)()),onSuccess&&onSuccess()},onError:()=>{onError&&onError()}}):console.error("Patron or userInfo is not defined")},savePincode:data=>{const{onSuccess,onError}=(null==fetchHandlers?void 0:fetchHandlers.savePincode)||{};patron&&mutate({data:{pincodeChange:data}},{onSuccess:()=>{queryClient.invalidateQueries((0,_fbs_fbs__WEBPACK_IMPORTED_MODULE_1__.eo)()),onSuccess&&onSuccess()},onError:()=>{onError&&onError()}})}}};function convertPatronSettingsV4toV6(patronSettings){return{...patronSettings,emailAddresses:patronSettings.emailAddress?[{emailAddress:patronSettings.emailAddress,receiveNotification:patronSettings.receiveEmail||!1}]:[],phoneNumbers:patronSettings.phoneNumber?[{phoneNumber:patronSettings.phoneNumber,receiveNotification:patronSettings.receiveSms||!1}]:[],guardianVisibility:!1}}const __WEBPACK_DEFAULT_EXPORT__=useSavePatron;try{convertPatronSettingsV4toV6.displayName="convertPatronSettingsV4toV6",convertPatronSettingsV4toV6.__docgenInfo={description:"",displayName:"convertPatronSettingsV4toV6",props:{emailAddress:{defaultValue:null,description:"Required if patron should receive email notifications\nExisting email addresses are overwritten with this value\nIf left empty existing email addresses are deleted",name:"emailAddress",required:!1,type:{name:"string | undefined"}},notificationProtocols:{defaultValue:null,description:"Notification protocols that the patron want to receive notification on. SMS and EMAIL are not included.",name:"notificationProtocols",required:!1,type:{name:"string[] | undefined"}},onHold:{defaultValue:null,description:"",name:"onHold",required:!1,type:{name:"Period | undefined"}},phoneNumber:{defaultValue:null,description:"Required if patron should receive SMS notifications\nExisting phonenumbers are overwritten with this value\nIf left empty existing phonenumbers are deleted",name:"phoneNumber",required:!1,type:{name:"string | undefined"}},preferredLanguage:{defaultValue:null,description:"Language in which the patron prefers the communication with the library to take place\nIf left empty default library language will be used",name:"preferredLanguage",required:!1,type:{name:"string | undefined"}},preferredPickupBranch:{defaultValue:null,description:"ISIL-number of preferred pickup branch",name:"preferredPickupBranch",required:!0,type:{name:"string"}},receiveEmail:{defaultValue:null,description:"",name:"receiveEmail",required:!0,type:{name:"boolean"}},receivePostalMail:{defaultValue:null,description:"",name:"receivePostalMail",required:!0,type:{name:"boolean"}},receiveSms:{defaultValue:null,description:"",name:"receiveSms",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/utils/useSavePatron.tsx#convertPatronSettingsV4toV6"]={docgenInfo:convertPatronSettingsV4toV6.__docgenInfo,name:"convertPatronSettingsV4toV6",path:"src/core/utils/useSavePatron.tsx#convertPatronSettingsV4toV6"})}catch(__react_docgen_typescript_loader_error){}try{useSavePatron.displayName="useSavePatron",useSavePatron.__docgenInfo={description:"",displayName:"useSavePatron",props:{patron:{defaultValue:null,description:"",name:"patron",required:!1,type:{name:"PatronV5 | undefined"}},fetchHandlers:{defaultValue:null,description:"",name:"fetchHandlers",required:!1,type:{name:"{ savePatron?: FetchHandlers | undefined; savePincode?: FetchHandlers | undefined; } | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/utils/useSavePatron.tsx#useSavePatron"]={docgenInfo:useSavePatron.__docgenInfo,name:"useSavePatron",path:"src/core/utils/useSavePatron.tsx#useSavePatron"})}catch(__react_docgen_typescript_loader_error){}}}]);