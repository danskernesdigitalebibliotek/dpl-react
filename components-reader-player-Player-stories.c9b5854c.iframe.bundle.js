"use strict";(globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react=globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react||[]).push([[5793],{"./src/components/material/material-buttons/helper.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{ft:()=>hasCorrectAccess,D7:()=>hasCorrectAccessType,S5:()=>hasCorrectMaterialType,BG:()=>isArticle,zM:()=>isMovie});var article_types=__webpack_require__("./src/core/utils/types/article-types.ts"),material_type=__webpack_require__("./src/core/utils/types/material-type.ts");const movie_types=[material_type.sN.movieBluRay,material_type.sN.movie,material_type.sN.movieDvd],hasCorrectAccess=(desiredAccess,manifestations)=>manifestations.some((manifestation=>manifestation.access.some((({__typename})=>__typename.toLowerCase()===desiredAccess.toLowerCase())))),hasCorrectAccessType=(desiredAccessType,manifestations)=>manifestations.some((manifestation=>manifestation.accessTypes.some((type=>type.code===desiredAccessType)))),hasCorrectMaterialType=(desiredMaterialType,manifestations)=>manifestations.some((manifestation=>manifestation.materialTypes.some((type=>type.materialTypeSpecific.display.toLowerCase()===desiredMaterialType.toLowerCase())))),isArticle=manifestations=>article_types.A.some((type=>hasCorrectMaterialType(type,manifestations))),isMovie=manifestations=>movie_types.some((type=>hasCorrectMaterialType(type,manifestations)))},"./src/components/reader-player/Player.stories.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{WithIdentifier:()=>WithIdentifier,WithOrderId:()=>WithOrderId,default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={title:"ReaderPlayer / Player",component:__webpack_require__("./src/components/reader-player/Player.tsx").A,argTypes:{identifier:{control:{type:"text"},description:"Publizon identifier for a material (Do not use both identifier and orderId)"},orderId:{control:{type:"text"},description:"Place order id for a allready ordered material (Do not use both identifier and orderId)"}}},WithIdentifier={args:{identifier:"9788702366600"}},WithOrderId={args:{orderId:""}};WithIdentifier.parameters={...WithIdentifier.parameters,docs:{...WithIdentifier.parameters?.docs,source:{originalSource:'{\n  args: {\n    identifier: "9788702366600"\n  }\n}',...WithIdentifier.parameters?.docs?.source}}},WithOrderId.parameters={...WithOrderId.parameters,docs:{...WithOrderId.parameters?.docs,source:{originalSource:'{\n  args: {\n    orderId: ""\n  }\n}',...WithOrderId.parameters?.docs?.source}}}},"./src/components/reader-player/Player.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_helper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/reader-player/helper.ts");const Player=({identifier,orderId})=>((0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(_helper__WEBPACK_IMPORTED_MODULE_1__.DL.forEach(_helper__WEBPACK_IMPORTED_MODULE_1__.zM),()=>{(0,_helper__WEBPACK_IMPORTED_MODULE_1__.HV)()})),[identifier,orderId]),orderId?react__WEBPACK_IMPORTED_MODULE_0__.createElement("iframe",{tabIndex:0,title:"Player",className:"player",src:`https://play.pubhub.dk/index141.html?o=${orderId}`}):identifier?react__WEBPACK_IMPORTED_MODULE_0__.createElement("iframe",{tabIndex:0,title:"Player",className:"player",src:`https://play.pubhub.dk/index141.html?i=${identifier}`}):(console.error("No identifier or orderId provided for the Player app."),null)),__WEBPACK_DEFAULT_EXPORT__=Player;try{Player.displayName="Player",Player.__docgenInfo={description:"",displayName:"Player",props:{identifier:{defaultValue:null,description:"",name:"identifier",required:!1,type:{name:"string | undefined"}},orderId:{defaultValue:null,description:"",name:"orderId",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reader-player/Player.tsx#Player"]={docgenInfo:Player.__docgenInfo,name:"Player",path:"src/components/reader-player/Player.tsx#Player"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/reader-player/helper.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{DL:()=>playerAssets,Fw:()=>playerTypes,HV:()=>removeAppendedAssets,Qr:()=>findReservedReservation,RM:()=>getReaderPlayerType,TW:()=>readerTypes,k6:()=>getOrderIdByIdentifier,nQ:()=>readerAssets,zM:()=>appendAsset});__webpack_require__("./node_modules/core-js/modules/esnext.set.add-all.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.delete-all.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.difference.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.every.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.filter.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.find.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.intersection.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.join.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.map.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.reduce.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.some.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.union.js");var _core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/core/utils/helpers/general.ts"),_core_utils_types_material_type__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/core/utils/types/material-type.ts"),_material_material_buttons_helper__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/components/material/material-buttons/helper.ts");const playerAssets=[{src:"https://play.pubhub.dk/1.3.0/js/player-kernel.min.js",type:"script",id:"player-kernel-js"}],readerAssets=[{src:"https://reader.pubhub.dk/2.2.0/js/chunk-vendors.js",type:"script",id:"reader-chunk-vendors-js"},{src:"https://reader.pubhub.dk/2.2.0/js/app.js",type:"script",id:"reader-app-js"},{src:"https://reader.pubhub.dk/2.2.0/css/chunk-vendors.css",type:"link",id:"reader-chunk-vendors-css"},{src:"https://reader.pubhub.dk/2.2.0/css/app.css",type:"link",id:"reader-app-css"}],appendedAssets=new Set,appendAsset=({src,type,id})=>{if("script"===type){const scriptElement=document.createElement("script");scriptElement.src=src,scriptElement.defer=!0,scriptElement.async=!1,scriptElement.type="module",scriptElement.id=id,document.head.appendChild(scriptElement),appendedAssets.add(scriptElement)}if("link"===type){const linkElement=document.createElement("link");linkElement.href=src,linkElement.rel="stylesheet",linkElement.id=id,document.head.appendChild(linkElement),appendedAssets.add(linkElement)}},removeAppendedAssets=()=>{appendedAssets.forEach((element=>{document.head.contains(element)&&document.head.removeChild(element),appendedAssets.delete(element)}))},getOrderIdByIdentifier=({loans,identifier})=>{const loanWithIdentifier=loans.find((i=>i.identifier===identifier));return loanWithIdentifier?loanWithIdentifier.orderId:null},readerTypes=[_core_utils_types_material_type__WEBPACK_IMPORTED_MODULE_17__.sN.ebook,_core_utils_types_material_type__WEBPACK_IMPORTED_MODULE_17__.sN.pictureBookOnline,_core_utils_types_material_type__WEBPACK_IMPORTED_MODULE_17__.sN.animatedSeriesOnline,_core_utils_types_material_type__WEBPACK_IMPORTED_MODULE_17__.sN.yearBookOnline],playerTypes=[_core_utils_types_material_type__WEBPACK_IMPORTED_MODULE_17__.sN.audioBook,_core_utils_types_material_type__WEBPACK_IMPORTED_MODULE_17__.sN.podcast,_core_utils_types_material_type__WEBPACK_IMPORTED_MODULE_17__.sN.musicOnline,_core_utils_types_material_type__WEBPACK_IMPORTED_MODULE_17__.sN.audioBookTape],getReaderPlayerType=manifestation=>{if(!manifestation)return null;if(!(0,_material_material_buttons_helper__WEBPACK_IMPORTED_MODULE_18__.ft)("Ereol",[manifestation]))return null;const materialTypes=(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_16__.JB)([manifestation]);return readerTypes.some((type=>materialTypes.includes(type)))?"reader":playerTypes.some((type=>materialTypes.includes(type)))?"player":null},findReservedReservation=(identifier,reservations)=>reservations.find((reservation=>reservation.identifier===identifier&&"reserved"===reservation.state))},"./src/core/utils/types/article-types.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _material_type__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/utils/types/material-type.ts");const __WEBPACK_DEFAULT_EXPORT__=[_material_type__WEBPACK_IMPORTED_MODULE_0__.sN.article,_material_type__WEBPACK_IMPORTED_MODULE_0__.sN.paperArticle,_material_type__WEBPACK_IMPORTED_MODULE_0__.sN.onlineArticle,_material_type__WEBPACK_IMPORTED_MODULE_0__.sN.earticle]},"./src/core/utils/types/material-type.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{sN:()=>ManifestationMaterialType,wP:()=>AutosuggestCategory});let ManifestationMaterialType=function(ManifestationMaterialType){return ManifestationMaterialType.book="bog",ManifestationMaterialType.ebook="e-bog",ManifestationMaterialType.movie="film",ManifestationMaterialType.movieBluRay="film (blu-ray)",ManifestationMaterialType.movieDvd="film (dvd)",ManifestationMaterialType.audioBook="lydbog (online)",ManifestationMaterialType.audioBookGeneric="lydbog",ManifestationMaterialType.music="node",ManifestationMaterialType.game="playstation 5",ManifestationMaterialType.animatedSeries="tegneserie",ManifestationMaterialType.article="artikel",ManifestationMaterialType.paperArticle="avisartikel",ManifestationMaterialType.onlineArticle="artikel (online)",ManifestationMaterialType.earticle="artikel",ManifestationMaterialType.boardGame="spil",ManifestationMaterialType.cdRom="cd",ManifestationMaterialType.magazine="tidsskrift",ManifestationMaterialType.pictureBookOnline="billedbog (online)",ManifestationMaterialType.animatedSeriesOnline="tegneserie (online)",ManifestationMaterialType.yearBookOnline="årbog (online)",ManifestationMaterialType.yearBook="årbog",ManifestationMaterialType.podcast="podcast",ManifestationMaterialType.musicOnline="musik (online)",ManifestationMaterialType.audioBookTape="lydbog (bånd)",ManifestationMaterialType.newspaper="avis",ManifestationMaterialType}({}),AutosuggestCategory=function(AutosuggestCategory){return AutosuggestCategory.book="bog",AutosuggestCategory.ebook="e-bog",AutosuggestCategory.movie="Film",AutosuggestCategory.audioBook="lydbog (online)",AutosuggestCategory.music="Musik",AutosuggestCategory.game="Spil",AutosuggestCategory.animatedSeries="tegneserie",AutosuggestCategory}({})}}]);