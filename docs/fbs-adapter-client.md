# FBS adapter client

The FBS client adapter is autogenerated base the swagger 1.2 json files from
FBS. But Orval requires that we use swagger version 2.0 and the adapter has some
changes in paths and parameters. So some conversion is need at the time of this
writing.

FBS documentation can be found [here](https://ciceroconnect.zendesk.com/hc/da/articles/360011128218-CMS-integrationen-prim%C3%A6rt-til-applikationsudvikling-med-behov-for-kompleks-API-adgang-zip).

All this will hopefully be changed when/or if the adapter comes with its own
specifications.

## API spec converter

A repository [dpl-fbs-adapter-tool](https://github.com/itk-dev/dpl-fbs-adapter-tool/tree/develop)
tool build around PHP and NodeJS can translate the FBS specifikation into one
usable for Orval client generator. It also filters out all the FBS calls not
need by the DPL project.

The tool uses [go-task](https://taskfile.dev/) to simply the execution of the
command.

### Setup

Simple use the installation task.

```shell
task dev:install
```

### Convert swagger

First convert the swagger 1.2 (located in `/fbs/externalapidocs`) to swagger 2.0
using the `api-spec-converter` tool.

```shell
dev:swagger2yaml
```

### Build the Adapter specifications

Build the swagger specification usable by Orval then run Orval.

```shell
task dev:convert
```

### FBS Adapter

The FSB adapter lives at: [https://github.com/DBCDK/fbs-cms-adapter](https://github.com/DBCDK/fbs-cms-adapter)
