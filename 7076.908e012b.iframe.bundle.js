(globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react=globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react||[]).push([[7076],{"./node_modules/preact/compat/dist/compat.module.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d5:()=>compat_module_j});var r,u,i,preact_module=__webpack_require__("./node_modules/preact/dist/preact.module.js"),f=[],c=[],e=preact_module.fF.__b,a=preact_module.fF.__r,v=preact_module.fF.diffed,l=preact_module.fF.__c,m=preact_module.fF.unmount;function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],preact_module.fF.__e(r,t.__v)}}preact_module.fF.__b=function(n){r=null,e&&e(n)},preact_module.fF.__r=function(n){a&&a(n),0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach((function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0}))):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[])),u=r},preact_module.fF.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===preact_module.fF.requestAnimationFrame||((i=preact_module.fF.requestAnimationFrame)||j)(b)),o.__H.__.forEach((function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c}))),u=r=null},preact_module.fF.__c=function(t,r){r.some((function(t){try{t.__h.forEach(k),t.__h=t.__h.filter((function(n){return!n.__||w(n)}))}catch(u){r.some((function(n){n.__h&&(n.__h=[])})),r=[],preact_module.fF.__e(u,t.__v)}})),l&&l(t,r)},preact_module.fF.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach((function(n){try{k(n)}catch(n){r=n}})),u.__H=void 0,r&&preact_module.fF.__e(r,u.__v))};var g="function"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;"function"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function compat_module_g(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if("__source"!==e&&!(e in t))return!0;for(var r in t)if("__source"!==r&&n[r]!==t[r])return!0;return!1}function compat_module_w(n){this.props=n}(compat_module_w.prototype=new preact_module.uA).isPureReactComponent=!0,compat_module_w.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var compat_module_x=preact_module.fF.__b;preact_module.fF.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),compat_module_x&&compat_module_x(n)};"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var compat_module_A=function(n,t){return null==n?null:(0,preact_module.v2)((0,preact_module.v2)(n).map(t))},compat_module_T=(preact_module.v2,preact_module.fF.__e);preact_module.fF.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);compat_module_T(n,t,e,r)};var I=preact_module.fF.unmount;function L(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach((function(n){"function"==typeof n.__c&&n.__c()})),n.__c.__H=null),null!=(n=compat_module_g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map((function(n){return L(n,t,e)}))),n}function U(n,t,e){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map((function(n){return U(n,t,e)})),n.__c&&n.__c.__P===t&&(n.__e&&e.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=e)),n}function D(){this.__u=0,this.t=null,this.__b=null}function compat_module_F(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function compat_module_V(){this.u=null,this.o=null}preact_module.fF.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),I&&I(n)},(D.prototype=new preact_module.uA).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=compat_module_F(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(! --r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=U(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},D.prototype.componentWillUnmount=function(){this.t=[]},D.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=L(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&(0,preact_module.n)(preact_module.FK,null,n.fallback);return i&&(i.__h=null),[(0,preact_module.n)(preact_module.FK,null,e.__a?null:n.children),i]};var W=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&("t"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function compat_module_P(n){return this.getChildContext=function(){return n.context},n.children}function $(n){var e=this,r=n.i;e.componentWillUnmount=function(){(0,preact_module.XX)(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),n.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),(0,preact_module.XX)((0,preact_module.n)(compat_module_P,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function compat_module_j(n,e){var r=(0,preact_module.n)($,{__v:n,i:e});return r.containerInfo=e,r}(compat_module_V.prototype=new preact_module.uA).__a=function(n){var t=this,e=compat_module_F(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),W(t,n,r)):u()};e?e(o):o()}},compat_module_V.prototype.render=function(n){this.u=null,this.o=new Map;var t=(0,preact_module.v2)(n.children);n.revealOrder&&"b"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},compat_module_V.prototype.componentDidUpdate=compat_module_V.prototype.componentDidMount=function(){var n=this;this.o.forEach((function(t,e){W(n,e,t)}))};var compat_module_z="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,compat_module_B=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,H="undefined"!=typeof document,Z=function(n){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};preact_module.uA.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(preact_module.uA.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})}));var G=preact_module.fF.event;function J(){}function K(){return this.cancelBubble}function Q(){return this.defaultPrevented}preact_module.fF.event=function(n){return G&&(n=G(n)),n.persist=J,n.isPropagationStopped=K,n.isDefaultPrevented=Q,n.nativeEvent=n};var nn={configurable:!0,get:function(){return this.class}},tn=preact_module.fF.vnode;preact_module.fF.vnode=function(n){var t=n.type,e=n.props,u=e;if("string"==typeof t){var o=-1===t.indexOf("-");for(var i in u={},e){var l=e[i];H&&"children"===i&&"noscript"===t||"value"===i&&"defaultValue"in e&&null==l||("defaultValue"===i&&"value"in e&&null==e.value?i="value":"download"===i&&!0===l?l="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!Z(e.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():o&&compat_module_B.test(i)?i=i.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===l&&(l=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),u[i]&&(i="oninputCapture")),u[i]=l)}"select"==t&&u.multiple&&Array.isArray(u.value)&&(u.value=(0,preact_module.v2)(e.children).forEach((function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)}))),"select"==t&&null!=u.defaultValue&&(u.value=(0,preact_module.v2)(e.children).forEach((function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value}))),n.props=u,e.class!=e.className&&(nn.enumerable="className"in e,null!=e.className&&(u.class=e.className),Object.defineProperty(u,"className",nn))}n.$$typeof=compat_module_z,tn&&tn(n)};var en=preact_module.fF.__r;preact_module.fF.__r=function(n){en&&en(n),n.__c};preact_module.FK;preact_module.n,preact_module.q6,preact_module._3,preact_module.FK,preact_module.uA},"./node_modules/preact/dist/preact.module.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FK:()=>_,Ob:()=>F,Qv:()=>E,XX:()=>D,_3:()=>d,fF:()=>l,n:()=>y,q6:()=>G,uA:()=>x,v2:()=>j,zO:()=>i});var n,l,u,i,t,r,o,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h(n,l){for(var u in l)n[u]=l[u];return n}function v(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,i){var t,r,o,f={};for(o in u)"key"==o?t=u[o]:"ref"==o?r=u[o]:f[o]=u[o];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),"function"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===f[o]&&(f[o]=l.defaultProps[o]);return p(l,f,t,r,null)}function p(n,i,t,r,o){var f={type:n,props:i,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++u:o};return null==o&&null!=l.vnode&&l.vnode(f),f}function d(){return{current:null}}function _(n){return n.children}function b(n,l,u){"-"===l[0]?n.setProperty(l,null==u?"":u):n[l]=null==u?"":"number"!=typeof u||a.test(l)?u:u+"px"}function g(n,l,u,i,t){var r;n:if("style"===l)if("string"==typeof u)n.style.cssText=u;else{if("string"==typeof i&&(n.style.cssText=i=""),i)for(l in i)u&&l in u||b(n.style,l,"");if(u)for(l in u)i&&u[l]===i[l]||b(n.style,l,u[l])}else if("o"===l[0]&&"n"===l[1])r=l!==(l=l.replace(/Capture$/,"")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?w:m,r):n.removeEventListener(l,r?w:m,r);else if("dangerouslySetInnerHTML"!==l){if(t)l=l.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==l&&"height"!==l&&"href"!==l&&"list"!==l&&"form"!==l&&"tabIndex"!==l&&"download"!==l&&l in n)try{n[l]=null==u?"":u;break n}catch(n){}"function"==typeof u||(null==u||!1===u&&-1==l.indexOf("-")?n.removeAttribute(l):n.setAttribute(l,u))}}function m(n){t=!0;try{return this.l[n.type+!1](l.event?l.event(n):n)}finally{t=!1}}function w(n){t=!0;try{return this.l[n.type+!0](l.event?l.event(n):n)}finally{t=!1}}function x(n,l){this.props=n,this.context=l}function A(n,l){if(null==l)return n.__?A(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return"function"==typeof n.type?A(n):null}function P(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return P(n)}}function C(n){t?setTimeout(n):f(n)}function T(n){(!n.__d&&(n.__d=!0)&&r.push(n)&&!$.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||C)($)}function $(){var n,l,u,i,t,o,f,e;for(r.sort((function(n,l){return n.__v.__b-l.__v.__b}));n=r.shift();)n.__d&&(l=r.length,i=void 0,t=void 0,f=(o=(u=n).__v).__e,(e=u.__P)&&(i=[],(t=h({},o)).__v=o.__v+1,M(e,o,t,u.__n,void 0!==e.ownerSVGElement,null!=o.__h?[f]:null,i,null==f?A(o):f,o.__h),N(i,o),o.__e!=f&&P(o)),r.length>l&&r.sort((function(n,l){return n.__v.__b-l.__v.__b})));$.__r=0}function H(n,l,u,i,t,r,o,f,e,a){var h,v,y,d,k,b,g,m=i&&i.__k||s,w=m.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(d=u.__k[h]=null==(d=l[h])||"boolean"==typeof d?null:"string"==typeof d||"number"==typeof d||"bigint"==typeof d?p(null,d,null,null,d):Array.isArray(d)?p(_,{children:d},null,null,null):d.__b>0?p(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)){if(d.__=u,d.__b=u.__b+1,null===(y=m[h])||y&&d.key==y.key&&d.type===y.type)m[h]=void 0;else for(v=0;v<w;v++){if((y=m[v])&&d.key==y.key&&d.type===y.type){m[v]=void 0;break}y=null}M(n,d,y=y||c,t,r,o,f,e,a),k=d.__e,(v=d.ref)&&y.ref!=v&&(g||(g=[]),y.ref&&g.push(y.ref,null,d),g.push(v,d.__c||k,d)),null!=k?(null==b&&(b=k),"function"==typeof d.type&&d.__k===y.__k?d.__d=e=I(d,e,n):e=z(n,d,y,m,k,e),"function"==typeof u.type&&(u.__d=e)):e&&y.__e==e&&e.parentNode!=n&&(e=A(y))}for(u.__e=b,h=w;h--;)null!=m[h]&&("function"==typeof u.type&&null!=m[h].__e&&m[h].__e==u.__d&&(u.__d=L(i).nextSibling),q(m[h],m[h]));if(g)for(h=0;h<g.length;h++)S(g[h],g[++h],g[++h])}function I(n,l,u){for(var i,t=n.__k,r=0;t&&r<t.length;r++)(i=t[r])&&(i.__=n,l="function"==typeof i.type?I(i,l,u):z(u,i,i,t,i.__e,l));return l}function j(n,l){return l=l||[],null==n||"boolean"==typeof n||(Array.isArray(n)?n.some((function(n){j(n,l)})):l.push(n)),l}function z(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else{for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=1)if(f==t)break n;n.insertBefore(t,r),o=r}return void 0!==o?o:t.nextSibling}function L(n){var l,u,i;if(null==n.type||"string"==typeof n.type)return n.__e;if(n.__k)for(l=n.__k.length-1;l>=0;l--)if((u=n.__k[l])&&(i=L(u)))return i;return null}function M(n,u,i,t,r,o,f,e,c){var s,a,v,y,p,d,k,b,g,m,w,A,P,C,T,$=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(s=l.__b)&&s(u);try{n:if("function"==typeof $){if(b=u.props,g=(s=$.contextType)&&t[s.__c],m=s?g?g.props.value:s.__:t,i.__c?k=(a=u.__c=i.__c).__=a.__E:("prototype"in $&&$.prototype.render?u.__c=a=new $(b,m):(u.__c=a=new x(b,m),a.constructor=$,a.render=B),g&&g.sub(a),a.props=b,a.state||(a.state={}),a.context=m,a.__n=t,v=a.__d=!0,a.__h=[],a._sb=[]),null==a.__s&&(a.__s=a.state),null!=$.getDerivedStateFromProps&&(a.__s==a.state&&(a.__s=h({},a.__s)),h(a.__s,$.getDerivedStateFromProps(b,a.__s))),y=a.props,p=a.state,a.__v=u,v)null==$.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&a.__h.push(a.componentDidMount);else{if(null==$.getDerivedStateFromProps&&b!==y&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(b,m),!a.__e&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(b,a.__s,m)||u.__v===i.__v){for(u.__v!==i.__v&&(a.props=b,a.state=a.__s,a.__d=!1),u.__e=i.__e,u.__k=i.__k,u.__k.forEach((function(n){n&&(n.__=u)})),w=0;w<a._sb.length;w++)a.__h.push(a._sb[w]);a._sb=[],a.__h.length&&f.push(a);break n}null!=a.componentWillUpdate&&a.componentWillUpdate(b,a.__s,m),null!=a.componentDidUpdate&&a.__h.push((function(){a.componentDidUpdate(y,p,d)}))}if(a.context=m,a.props=b,a.__P=n,A=l.__r,P=0,"prototype"in $&&$.prototype.render){for(a.state=a.__s,a.__d=!1,A&&A(u),s=a.render(a.props,a.state,a.context),C=0;C<a._sb.length;C++)a.__h.push(a._sb[C]);a._sb=[]}else do{a.__d=!1,A&&A(u),s=a.render(a.props,a.state,a.context),a.state=a.__s}while(a.__d&&++P<25);a.state=a.__s,null!=a.getChildContext&&(t=h(h({},t),a.getChildContext())),v||null==a.getSnapshotBeforeUpdate||(d=a.getSnapshotBeforeUpdate(y,p)),T=null!=s&&s.type===_&&null==s.key?s.props.children:s,H(n,Array.isArray(T)?T:[T],u,i,t,r,o,f,e,c),a.base=u.__e,u.__h=null,a.__h.length&&f.push(a),k&&(a.__E=a.__=null),a.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=O(i.__e,u,i,t,r,o,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=o)&&(u.__e=e,u.__h=!!c,o[o.indexOf(e)]=null),l.__e(n,u,i)}}function N(n,u){l.__c&&l.__c(u,n),n.some((function(u){try{n=u.__h,u.__h=[],n.some((function(n){n.call(u)}))}catch(n){l.__e(n,u.__v)}}))}function O(l,u,i,t,r,o,f,e){var s,a,h,y=i.props,p=u.props,d=u.type,_=0;if("svg"===d&&(r=!0),null!=o)for(;_<o.length;_++)if((s=o[_])&&"setAttribute"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,o[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=r?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,p.is&&p),o=null,e=!1}if(null===d)y===p||e&&l.data===p||(l.data=p);else{if(o=o&&n.call(l.childNodes),a=(y=i.props||c).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!e){if(null!=o)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(h||a)&&(h&&(a&&h.__html==a.__html||h.__html===l.innerHTML)||(l.innerHTML=h&&h.__html||""))}if(function k(n,l,u,i,t){var r;for(r in u)"children"===r||"key"===r||r in l||g(n,r,null,u[r],i);for(r in l)t&&"function"!=typeof l[r]||"children"===r||"key"===r||"value"===r||"checked"===r||u[r]===l[r]||g(n,r,l[r],u[r],i)}(l,p,y,r,e),h)u.__k=[];else if(_=u.props.children,H(l,Array.isArray(_)?_:[_],u,i,t,r&&"foreignObject"!==d,o,f,o?o[0]:i.__k&&A(i,0),e),null!=o)for(_=o.length;_--;)null!=o[_]&&v(o[_]);e||("value"in p&&void 0!==(_=p.value)&&(_!==l.value||"progress"===d&&!_||"option"===d&&_!==y.value)&&g(l,"value",_,y.value,!1),"checked"in p&&void 0!==(_=p.checked)&&_!==l.checked&&g(l,"checked",_,y.checked,!1))}return l}function S(n,u,i){try{"function"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function q(n,u,i){var t,r;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||S(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(r=0;r<t.length;r++)t[r]&&q(t[r],u,i||"function"!=typeof n.type);i||null==n.__e||v(n.__e),n.__=n.__e=n.__d=void 0}function B(n,l,u){return this.constructor(n,u)}function D(u,i,t){var r,o,f;l.__&&l.__(u,i),o=(r="function"==typeof t)?null:t&&t.__k||i.__k,f=[],M(i,u=(!r&&t||i).__k=y(_,null,[u]),o||c,c,void 0!==i.ownerSVGElement,!r&&t?[t]:o?null:i.firstChild?n.call(i.childNodes):null,f,!r&&t?t:o?o.__e:i.firstChild,r),N(f,u)}function E(n,l){D(n,l,E)}function F(l,u,i){var t,r,o,f=h({},l.props);for(o in u)"key"==o?t=u[o]:"ref"==o?r=u[o]:f[o]=u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),p(l.type,f,t||l.key,r||l.ref,null)}function G(n,l){var u={__c:l="__cC"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some((function(n){n.__e=!0,T(n)}))},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,i){for(var t,r,o;l=l.__;)if((t=l.__c)&&!t.__)try{if((r=t.constructor)&&null!=r.getDerivedStateFromError&&(t.setState(r.getDerivedStateFromError(n)),o=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),o=t.__d),o)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},t=!1,x.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),"function"==typeof n&&(n=n(h({},u),this.props)),n&&h(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),T(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),T(this))},x.prototype.render=_,r=[],f="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$.__r=0,e=0},"./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-cross.svg":module=>{module.exports="data:image/svg+xml,%3csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath fill-rule='evenodd' clip-rule='evenodd' d='M0.832147 0.102297L0.890665 0.152814L4 3.26191L7.10933 0.152814C7.31309 -0.0509379 7.64343 -0.0509379 7.84719 0.152814C8.03241 0.338043 8.04925 0.627896 7.8977 0.832147L7.84719 0.890665L4.73809 4L7.84719 7.10933C8.05094 7.31309 8.05094 7.64343 7.84719 7.84719C7.66196 8.03241 7.3721 8.04925 7.16785 7.8977L7.10933 7.84719L4 4.73809L0.890665 7.84719C0.686913 8.05094 0.356566 8.05094 0.152814 7.84719C-0.0324151 7.66196 -0.0492539 7.3721 0.102297 7.16785L0.152814 7.10933L3.26191 4L0.152814 0.890665C-0.0509379 0.686913 -0.0509379 0.356566 0.152814 0.152814C0.338043 -0.0324151 0.627896 -0.0492539 0.832147 0.102297Z' fill='black'/%3e %3c/svg%3e"},"./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/logo/reload_logo_black.svg":module=>{module.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400' viewBox='0 0 400 400'%3e%3ctitle%3eReload_mark_RGB_black%3c/title%3e%3cpath d='M257.3,166.8A67.1,67.1,0,1,1,200,134.6h0l-20.7,20.7L200,176l38.5-38.5h0l20.7-20.7L200,57.6,179.3,78.3,200,99h0a102.5,102.5,0,1,0,87.7,49.3Z'/%3e%3c/svg%3e"},"./node_modules/@fullcalendar/core/index.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Vv:()=>Calendar,i1:()=>createPlugin});var _internal_common_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@fullcalendar/core/internal-common.js"),preact__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/preact/dist/preact.module.js");__webpack_require__("./node_modules/preact/compat/dist/compat.module.js");const globalLocales=[],MINIMAL_RAW_EN_LOCALE={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},RAW_EN_LOCALE=Object.assign(Object.assign({},MINIMAL_RAW_EN_LOCALE),{buttonHints:{prev:"Previous $0",next:"Next $0",today:(buttonText,unit)=>"day"===unit?"Today":`This ${buttonText}`},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:eventCnt=>`Show ${eventCnt} more event${1===eventCnt?"":"s"}`});function organizeRawLocales(explicitRawLocales){let defaultCode=explicitRawLocales.length>0?explicitRawLocales[0].code:"en",allRawLocales=globalLocales.concat(explicitRawLocales),rawLocaleMap={en:RAW_EN_LOCALE};for(let rawLocale of allRawLocales)rawLocaleMap[rawLocale.code]=rawLocale;return{map:rawLocaleMap,defaultCode}}function buildLocale(inputSingular,available){return"object"!=typeof inputSingular||Array.isArray(inputSingular)?function queryLocale(codeArg,available){let codes=[].concat(codeArg||[]),raw=function queryRawLocale(codes,available){for(let i=0;i<codes.length;i+=1){let parts=codes[i].toLocaleLowerCase().split("-");for(let j=parts.length;j>0;j-=1){let simpleId=parts.slice(0,j).join("-");if(available[simpleId])return available[simpleId]}}return null}(codes,available)||RAW_EN_LOCALE;return parseLocale(codeArg,codes,raw)}(inputSingular,available):parseLocale(inputSingular.code,[inputSingular.code],inputSingular)}function parseLocale(codeArg,codes,raw){let merged=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.m)([MINIMAL_RAW_EN_LOCALE,raw],["buttonText"]);delete merged.code;let{week}=merged;return delete merged.week,{codeArg,codes,week,simpleNumberFormat:new Intl.NumberFormat(codeArg),options:merged}}function createPlugin(input){return{id:(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.g)(),name:input.name,premiumReleaseDate:input.premiumReleaseDate?new Date(input.premiumReleaseDate):void 0,deps:input.deps||[],reducers:input.reducers||[],isLoadingFuncs:input.isLoadingFuncs||[],contextInit:[].concat(input.contextInit||[]),eventRefiners:input.eventRefiners||{},eventDefMemberAdders:input.eventDefMemberAdders||[],eventSourceRefiners:input.eventSourceRefiners||{},isDraggableTransformers:input.isDraggableTransformers||[],eventDragMutationMassagers:input.eventDragMutationMassagers||[],eventDefMutationAppliers:input.eventDefMutationAppliers||[],dateSelectionTransformers:input.dateSelectionTransformers||[],datePointTransforms:input.datePointTransforms||[],dateSpanTransforms:input.dateSpanTransforms||[],views:input.views||{},viewPropsTransformers:input.viewPropsTransformers||[],isPropsValid:input.isPropsValid||null,externalDefTransforms:input.externalDefTransforms||[],viewContainerAppends:input.viewContainerAppends||[],eventDropTransformers:input.eventDropTransformers||[],componentInteractions:input.componentInteractions||[],calendarInteractions:input.calendarInteractions||[],themeClasses:input.themeClasses||{},eventSourceDefs:input.eventSourceDefs||[],cmdFormatter:input.cmdFormatter,recurringTypes:input.recurringTypes||[],namedTimeZonedImpl:input.namedTimeZonedImpl,initialView:input.initialView||"",elementDraggingImpl:input.elementDraggingImpl,optionChangeHandlers:input.optionChangeHandlers||{},scrollGridImpl:input.scrollGridImpl||null,listenerRefiners:input.listenerRefiners||{},optionRefiners:input.optionRefiners||{},propSetHandlers:input.propSetHandlers||{}}}function buildBuildPluginHooks(){let currentHooks,currentOverrideDefs=[],currentGlobalDefs=[];return(overrideDefs,globalDefs)=>(currentHooks&&(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.i)(overrideDefs,currentOverrideDefs)&&(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.i)(globalDefs,currentGlobalDefs)||(currentHooks=function buildPluginHooks(pluginDefs,globalDefs){let currentPluginIds={},hooks={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function addDefs(defs){for(let def of defs){const pluginName=def.name,currentId=currentPluginIds[pluginName];void 0===currentId?(currentPluginIds[pluginName]=def.id,addDefs(def.deps),hooks1=def,hooks={premiumReleaseDate:compareOptionalDates((hooks0=hooks).premiumReleaseDate,hooks1.premiumReleaseDate),reducers:hooks0.reducers.concat(hooks1.reducers),isLoadingFuncs:hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),contextInit:hooks0.contextInit.concat(hooks1.contextInit),eventRefiners:Object.assign(Object.assign({},hooks0.eventRefiners),hooks1.eventRefiners),eventDefMemberAdders:hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},hooks0.eventSourceRefiners),hooks1.eventSourceRefiners),isDraggableTransformers:hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),eventDragMutationMassagers:hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),eventDefMutationAppliers:hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),dateSelectionTransformers:hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),datePointTransforms:hooks0.datePointTransforms.concat(hooks1.datePointTransforms),dateSpanTransforms:hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),views:Object.assign(Object.assign({},hooks0.views),hooks1.views),viewPropsTransformers:hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),isPropsValid:hooks1.isPropsValid||hooks0.isPropsValid,externalDefTransforms:hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),viewContainerAppends:hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),eventDropTransformers:hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),calendarInteractions:hooks0.calendarInteractions.concat(hooks1.calendarInteractions),componentInteractions:hooks0.componentInteractions.concat(hooks1.componentInteractions),themeClasses:Object.assign(Object.assign({},hooks0.themeClasses),hooks1.themeClasses),eventSourceDefs:hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),cmdFormatter:hooks1.cmdFormatter||hooks0.cmdFormatter,recurringTypes:hooks0.recurringTypes.concat(hooks1.recurringTypes),namedTimeZonedImpl:hooks1.namedTimeZonedImpl||hooks0.namedTimeZonedImpl,initialView:hooks0.initialView||hooks1.initialView,elementDraggingImpl:hooks0.elementDraggingImpl||hooks1.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},hooks0.optionChangeHandlers),hooks1.optionChangeHandlers),scrollGridImpl:hooks1.scrollGridImpl||hooks0.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},hooks0.listenerRefiners),hooks1.listenerRefiners),optionRefiners:Object.assign(Object.assign({},hooks0.optionRefiners),hooks1.optionRefiners),propSetHandlers:Object.assign(Object.assign({},hooks0.propSetHandlers),hooks1.propSetHandlers)}):currentId!==def.id&&console.warn(`Duplicate plugin '${pluginName}'`)}var hooks0,hooks1}return pluginDefs&&addDefs(pluginDefs),addDefs(globalDefs),hooks}(overrideDefs,globalDefs)),currentOverrideDefs=overrideDefs,currentGlobalDefs=globalDefs,currentHooks)}function compareOptionalDates(date0,date1){return void 0===date0?date1:void 0===date1?date0:new Date(Math.max(date0.valueOf(),date1.valueOf()))}class StandardTheme extends _internal_common_js__WEBPACK_IMPORTED_MODULE_2__.T{}function ensureViewDef(viewType,hash,defaultConfigs,overrideConfigs){if(hash[viewType])return hash[viewType];let viewDef=function buildViewDef(viewType,hash,defaultConfigs,overrideConfigs){let defaultConfig=defaultConfigs[viewType],overrideConfig=overrideConfigs[viewType],queryProp=name=>defaultConfig&&null!==defaultConfig[name]?defaultConfig[name]:overrideConfig&&null!==overrideConfig[name]?overrideConfig[name]:null,theComponent=queryProp("component"),superType=queryProp("superType"),superDef=null;if(superType){if(superType===viewType)throw new Error("Can't have a custom view type that references itself");superDef=ensureViewDef(superType,hash,defaultConfigs,overrideConfigs)}!theComponent&&superDef&&(theComponent=superDef.component);if(!theComponent)return null;return{type:viewType,component:theComponent,defaults:Object.assign(Object.assign({},superDef?superDef.defaults:{}),defaultConfig?defaultConfig.rawOptions:{}),overrides:Object.assign(Object.assign({},superDef?superDef.overrides:{}),overrideConfig?overrideConfig.rawOptions:{})}}(viewType,hash,defaultConfigs,overrideConfigs);return viewDef&&(hash[viewType]=viewDef),viewDef}function parseViewConfigs(inputs){return(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.a)(inputs,parseViewConfig)}function parseViewConfig(input){let rawOptions="function"==typeof input?{component:input}:input,{component}=rawOptions;return rawOptions.content?component=createViewHookComponent(rawOptions):!component||component.prototype instanceof _internal_common_js__WEBPACK_IMPORTED_MODULE_2__.B||(component=createViewHookComponent(Object.assign(Object.assign({},rawOptions),{content:component}))),{superType:rawOptions.type,component,rawOptions}}function createViewHookComponent(options){return viewProps=>(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.V.Consumer,null,(context=>(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.C,{elTag:"div",elClasses:(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.b)(context.viewSpec),renderProps:Object.assign(Object.assign({},viewProps),{nextDayThreshold:context.options.nextDayThreshold}),generatorName:void 0,customGenerator:options.content,classNameGenerator:options.classNames,didMount:options.didMount,willUnmount:options.willUnmount})))}function buildViewSpecs(defaultInputs,optionOverrides,dynamicOptionOverrides,localeDefaults){let defaultConfigs=parseViewConfigs(defaultInputs),overrideConfigs=parseViewConfigs(optionOverrides.views),viewDefs=function compileViewDefs(defaultConfigs,overrideConfigs){let viewType,hash={};for(viewType in defaultConfigs)ensureViewDef(viewType,hash,defaultConfigs,overrideConfigs);for(viewType in overrideConfigs)ensureViewDef(viewType,hash,defaultConfigs,overrideConfigs);return hash}(defaultConfigs,overrideConfigs);return(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.a)(viewDefs,(viewDef=>function buildViewSpec(viewDef,overrideConfigs,optionOverrides,dynamicOptionOverrides,localeDefaults){let durationInput=viewDef.overrides.duration||viewDef.defaults.duration||dynamicOptionOverrides.duration||optionOverrides.duration,duration=null,durationUnit="",singleUnit="",singleUnitOverrides={};if(durationInput&&(duration=function createDurationCached(durationInput){let json=JSON.stringify(durationInput),res=durationInputMap[json];void 0===res&&(res=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.d)(durationInput),durationInputMap[json]=res);return res}(durationInput),duration)){let denom=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.c)(duration);durationUnit=denom.unit,1===denom.value&&(singleUnit=durationUnit,singleUnitOverrides=overrideConfigs[durationUnit]?overrideConfigs[durationUnit].rawOptions:{})}let queryButtonText=optionsSubset=>{let buttonTextMap=optionsSubset.buttonText||{},buttonTextKey=viewDef.defaults.buttonTextKey;return null!=buttonTextKey&&null!=buttonTextMap[buttonTextKey]?buttonTextMap[buttonTextKey]:null!=buttonTextMap[viewDef.type]?buttonTextMap[viewDef.type]:null!=buttonTextMap[singleUnit]?buttonTextMap[singleUnit]:null},queryButtonTitle=optionsSubset=>{let buttonHints=optionsSubset.buttonHints||{},buttonKey=viewDef.defaults.buttonTextKey;return null!=buttonKey&&null!=buttonHints[buttonKey]?buttonHints[buttonKey]:null!=buttonHints[viewDef.type]?buttonHints[viewDef.type]:null!=buttonHints[singleUnit]?buttonHints[singleUnit]:null};return{type:viewDef.type,component:viewDef.component,duration,durationUnit,singleUnit,optionDefaults:viewDef.defaults,optionOverrides:Object.assign(Object.assign({},singleUnitOverrides),viewDef.overrides),buttonTextOverride:queryButtonText(dynamicOptionOverrides)||queryButtonText(optionOverrides)||viewDef.overrides.buttonText,buttonTextDefault:queryButtonText(localeDefaults)||viewDef.defaults.buttonText||queryButtonText(_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.e)||viewDef.type,buttonTitleOverride:queryButtonTitle(dynamicOptionOverrides)||queryButtonTitle(optionOverrides)||viewDef.overrides.buttonHint,buttonTitleDefault:queryButtonTitle(localeDefaults)||viewDef.defaults.buttonHint||queryButtonTitle(_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.e)}}(viewDef,overrideConfigs,optionOverrides,dynamicOptionOverrides,localeDefaults)))}StandardTheme.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},StandardTheme.prototype.baseIconClass="fc-icon",StandardTheme.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},StandardTheme.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},StandardTheme.prototype.iconOverrideOption="buttonIcons",StandardTheme.prototype.iconOverrideCustomButtonOption="icon",StandardTheme.prototype.iconOverridePrefix="fc-icon-";let durationInputMap={};function initEventSources(calendarOptions,dateProfile,context){let activeRange=dateProfile?dateProfile.activeRange:null;return addSources({},function parseInitialSources(rawOptions,context){let refiners=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.j)(context),rawSources=[].concat(rawOptions.eventSources||[]),sources=[];rawOptions.initialEvents&&rawSources.unshift(rawOptions.initialEvents);rawOptions.events&&rawSources.unshift(rawOptions.events);for(let rawSource of rawSources){let source=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.p)(rawSource,context,refiners);source&&sources.push(source)}return sources}(calendarOptions,context),activeRange,context)}function reduceEventSources(eventSources,action,dateProfile,context){let activeRange=dateProfile?dateProfile.activeRange:null;switch(action.type){case"ADD_EVENT_SOURCES":return addSources(eventSources,action.sources,activeRange,context);case"REMOVE_EVENT_SOURCE":return function removeSource(eventSourceHash,sourceId){return(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.h)(eventSourceHash,(eventSource=>eventSource.sourceId!==sourceId))}(eventSources,action.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return dateProfile?fetchDirtySources(eventSources,activeRange,context):eventSources;case"FETCH_EVENT_SOURCES":return fetchSourcesByIds(eventSources,action.sourceIds?(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.f)(action.sourceIds):excludeStaticSources(eventSources,context),activeRange,action.isRefetch||!1,context);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function receiveResponse(sourceHash,sourceId,fetchId,fetchRange){let eventSource=sourceHash[sourceId];if(eventSource&&fetchId===eventSource.latestFetchId)return Object.assign(Object.assign({},sourceHash),{[sourceId]:Object.assign(Object.assign({},eventSource),{isFetching:!1,fetchRange})});return sourceHash}(eventSources,action.sourceId,action.fetchId,action.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return eventSources}}function computeEventSourcesLoading(eventSources){for(let sourceId in eventSources)if(eventSources[sourceId].isFetching)return!0;return!1}function addSources(eventSourceHash,sources,fetchRange,context){let hash={};for(let source of sources)hash[source.sourceId]=source;return fetchRange&&(hash=fetchDirtySources(hash,fetchRange,context)),Object.assign(Object.assign({},eventSourceHash),hash)}function fetchDirtySources(sourceHash,fetchRange,context){return fetchSourcesByIds(sourceHash,(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.h)(sourceHash,(eventSource=>function isSourceDirty(eventSource,fetchRange,context){if(!doesSourceNeedRange(eventSource,context))return!eventSource.latestFetchId;return!context.options.lazyFetching||!eventSource.fetchRange||eventSource.isFetching||fetchRange.start<eventSource.fetchRange.start||fetchRange.end>eventSource.fetchRange.end}(eventSource,fetchRange,context))),fetchRange,!1,context)}function fetchSourcesByIds(prevSources,sourceIdHash,fetchRange,isRefetch,context){let nextSources={};for(let sourceId in prevSources){let source=prevSources[sourceId];sourceIdHash[sourceId]?nextSources[sourceId]=fetchSource(source,fetchRange,isRefetch,context):nextSources[sourceId]=source}return nextSources}function fetchSource(eventSource,fetchRange,isRefetch,context){let{options,calendarApi}=context,sourceDef=context.pluginHooks.eventSourceDefs[eventSource.sourceDefId],fetchId=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.g)();return sourceDef.fetch({eventSource,range:fetchRange,isRefetch,context},(res=>{let{rawEvents}=res;options.eventSourceSuccess&&(rawEvents=options.eventSourceSuccess.call(calendarApi,rawEvents,res.response)||rawEvents),eventSource.success&&(rawEvents=eventSource.success.call(calendarApi,rawEvents,res.response)||rawEvents),context.dispatch({type:"RECEIVE_EVENTS",sourceId:eventSource.sourceId,fetchId,fetchRange,rawEvents})}),(error=>{let errorHandled=!1;options.eventSourceFailure&&(options.eventSourceFailure.call(calendarApi,error),errorHandled=!0),eventSource.failure&&(eventSource.failure(error),errorHandled=!0),errorHandled||console.warn(error.message,error),context.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:eventSource.sourceId,fetchId,fetchRange,error})})),Object.assign(Object.assign({},eventSource),{isFetching:!0,latestFetchId:fetchId})}function excludeStaticSources(eventSources,context){return(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.h)(eventSources,(eventSource=>doesSourceNeedRange(eventSource,context)))}function doesSourceNeedRange(eventSource,context){return!context.pluginHooks.eventSourceDefs[eventSource.sourceDefId].ignoreRange}function reduceDateSelection(currentSelection,action){switch(action.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return action.selection;default:return currentSelection}}function reduceSelectedEvent(currentInstanceId,action){switch(action.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return action.eventInstanceId;default:return currentInstanceId}}function reduceEventDrag(currentDrag,action){let newDrag;switch(action.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return newDrag=action.state,{affectedEvents:newDrag.affectedEvents,mutatedEvents:newDrag.mutatedEvents,isEvent:newDrag.isEvent};default:return currentDrag}}function reduceEventResize(currentResize,action){let newResize;switch(action.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return newResize=action.state,{affectedEvents:newResize.affectedEvents,mutatedEvents:newResize.mutatedEvents,isEvent:newResize.isEvent};default:return currentResize}}function parseToolbars(calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi){return{header:calendarOptions.headerToolbar?parseToolbar(calendarOptions.headerToolbar,calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi):null,footer:calendarOptions.footerToolbar?parseToolbar(calendarOptions.footerToolbar,calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi):null}}function parseToolbar(sectionStrHash,calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi){let sectionWidgets={},viewsWithButtons=[],hasTitle=!1;for(let sectionName in sectionStrHash){let sectionRes=parseSection(sectionStrHash[sectionName],calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi);sectionWidgets[sectionName]=sectionRes.widgets,viewsWithButtons.push(...sectionRes.viewsWithButtons),hasTitle=hasTitle||sectionRes.hasTitle}return{sectionWidgets,viewsWithButtons,hasTitle}}function parseSection(sectionStr,calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi){let isRtl="rtl"===calendarOptions.direction,calendarCustomButtons=calendarOptions.customButtons||{},calendarButtonTextOverrides=calendarOptionOverrides.buttonText||{},calendarButtonText=calendarOptions.buttonText||{},calendarButtonHintOverrides=calendarOptionOverrides.buttonHints||{},calendarButtonHints=calendarOptions.buttonHints||{},sectionSubstrs=sectionStr?sectionStr.split(" "):[],viewsWithButtons=[],hasTitle=!1;return{widgets:sectionSubstrs.map((buttonGroupStr=>buttonGroupStr.split(",").map((buttonName=>{if("title"===buttonName)return hasTitle=!0,{buttonName};let customButtonProps,viewSpec,buttonClick,buttonIcon,buttonText,buttonHint;if(customButtonProps=calendarCustomButtons[buttonName])buttonClick=ev=>{customButtonProps.click&&customButtonProps.click.call(ev.target,ev,ev.target)},(buttonIcon=theme.getCustomButtonIconClass(customButtonProps))||(buttonIcon=theme.getIconClass(buttonName,isRtl))||(buttonText=customButtonProps.text),buttonHint=customButtonProps.hint||customButtonProps.text;else if(viewSpec=viewSpecs[buttonName]){viewsWithButtons.push(buttonName),buttonClick=()=>{calendarApi.changeView(buttonName)},(buttonText=viewSpec.buttonTextOverride)||(buttonIcon=theme.getIconClass(buttonName,isRtl))||(buttonText=viewSpec.buttonTextDefault);let textFallback=viewSpec.buttonTextOverride||viewSpec.buttonTextDefault;buttonHint=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.k)(viewSpec.buttonTitleOverride||viewSpec.buttonTitleDefault||calendarOptions.viewHint,[textFallback,buttonName],textFallback)}else if(calendarApi[buttonName])if(buttonClick=()=>{calendarApi[buttonName]()},(buttonText=calendarButtonTextOverrides[buttonName])||(buttonIcon=theme.getIconClass(buttonName,isRtl))||(buttonText=calendarButtonText[buttonName]),"prevYear"===buttonName||"nextYear"===buttonName){let prevOrNext="prevYear"===buttonName?"prev":"next";buttonHint=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.k)(calendarButtonHintOverrides[prevOrNext]||calendarButtonHints[prevOrNext],[calendarButtonText.year||"year","year"],calendarButtonText[buttonName])}else buttonHint=navUnit=>(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.k)(calendarButtonHintOverrides[buttonName]||calendarButtonHints[buttonName],[calendarButtonText[navUnit]||navUnit,navUnit],calendarButtonText[buttonName]);return{buttonName,buttonClick,buttonIcon,buttonText,buttonHint}})))),viewsWithButtons,hasTitle}}class ViewImpl{constructor(type,getCurrentData,dateEnv){this.type=type,this.getCurrentData=getCurrentData,this.dateEnv=dateEnv}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(name){return this.getCurrentData().options[name]}}function handleEventSources(inputs,context){let unfoundSources=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.v)(context.getCurrentData().eventSources);if(1===unfoundSources.length&&1===inputs.length&&Array.isArray(unfoundSources[0]._raw)&&Array.isArray(inputs[0]))return void context.dispatch({type:"RESET_RAW_EVENTS",sourceId:unfoundSources[0].sourceId,rawEvents:inputs[0]});let newInputs=[];for(let input of inputs){let inputFound=!1;for(let i=0;i<unfoundSources.length;i+=1)if(unfoundSources[i]._raw===input){unfoundSources.splice(i,1),inputFound=!0;break}inputFound||newInputs.push(input)}for(let unfoundSource of unfoundSources)context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:unfoundSource.sourceId});for(let newInput of newInputs)context.calendarApi.addEventSource(newInput)}const globalPlugins=[createPlugin({name:"array-event-source",eventSourceDefs:[{ignoreRange:!0,parseMeta:refined=>Array.isArray(refined.events)?refined.events:null,fetch(arg,successCallback){successCallback({rawEvents:arg.eventSource.meta})}}]}),createPlugin({name:"func-event-source",eventSourceDefs:[{parseMeta:refined=>"function"==typeof refined.events?refined.events:null,fetch(arg,successCallback,errorCallback){const{dateEnv}=arg.context,func=arg.eventSource.meta;(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.u)(func.bind(null,(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.l)(arg.range,dateEnv)),(rawEvents=>successCallback({rawEvents})),errorCallback)}}]}),createPlugin({name:"json-event-source",eventSourceRefiners:{method:String,extraParams:_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.n,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:refined=>!refined.url||"json"!==refined.format&&refined.format?null:{url:refined.url,format:"json",method:(refined.method||"GET").toUpperCase(),extraParams:refined.extraParams,startParam:refined.startParam,endParam:refined.endParam,timeZoneParam:refined.timeZoneParam},fetch(arg,successCallback,errorCallback){const{meta}=arg.eventSource,requestParams=function buildRequestParams(meta,range,context){let startParam,endParam,timeZoneParam,customRequestParams,{dateEnv,options}=context,params={};startParam=meta.startParam,null==startParam&&(startParam=options.startParam);endParam=meta.endParam,null==endParam&&(endParam=options.endParam);timeZoneParam=meta.timeZoneParam,null==timeZoneParam&&(timeZoneParam=options.timeZoneParam);customRequestParams="function"==typeof meta.extraParams?meta.extraParams():meta.extraParams||{};Object.assign(params,customRequestParams),params[startParam]=dateEnv.formatIso(range.start),params[endParam]=dateEnv.formatIso(range.end),"local"!==dateEnv.timeZone&&(params[timeZoneParam]=dateEnv.timeZone);return params}(meta,arg.range,arg.context);(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.r)(meta.method,meta.url,requestParams).then((([rawEvents,response])=>{successCallback({rawEvents,response})}),errorCallback)}}]}),createPlugin({name:"simple-recurring-event",recurringTypes:[{parse(refined,dateEnv){if(refined.daysOfWeek||refined.startTime||refined.endTime||refined.startRecur||refined.endRecur){let duration,recurringData={daysOfWeek:refined.daysOfWeek||null,startTime:refined.startTime||null,endTime:refined.endTime||null,startRecur:refined.startRecur?dateEnv.createMarker(refined.startRecur):null,endRecur:refined.endRecur?dateEnv.createMarker(refined.endRecur):null};return refined.duration&&(duration=refined.duration),!duration&&refined.startTime&&refined.endTime&&(duration=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.s)(refined.endTime,refined.startTime)),{allDayGuess:Boolean(!refined.startTime&&!refined.endTime),duration,typeData:recurringData}}return null},expand(typeData,framingRange,dateEnv){let clippedFramingRange=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.o)(framingRange,{start:typeData.startRecur,end:typeData.endRecur});return clippedFramingRange?function expandRanges(daysOfWeek,startTime,framingRange,dateEnv){let dowHash=daysOfWeek?(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.f)(daysOfWeek):null,dayMarker=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.q)(framingRange.start),endMarker=framingRange.end,instanceStarts=[];for(;dayMarker<endMarker;){let instanceStart;dowHash&&!dowHash[dayMarker.getUTCDay()]||(instanceStart=startTime?dateEnv.add(dayMarker,startTime):dayMarker,instanceStarts.push(instanceStart)),dayMarker=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.t)(dayMarker,1)}return instanceStarts}(typeData.daysOfWeek,typeData.startTime,clippedFramingRange,dateEnv):[]}}],eventRefiners:{daysOfWeek:_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.n,startTime:_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.d,endTime:_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.d,duration:_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.d,startRecur:_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.n,endRecur:_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.n}}),createPlugin({name:"change-handler",optionChangeHandlers:{events(events,context){handleEventSources([events],context)},eventSources:handleEventSources}}),createPlugin({name:"misc",isLoadingFuncs:[state=>computeEventSourcesLoading(state.eventSources)],propSetHandlers:{dateProfile:function handleDateProfile(dateProfile,context){context.emitter.trigger("datesSet",Object.assign(Object.assign({},(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.l)(dateProfile.activeRange,context.dateEnv)),{view:context.viewApi}))},eventStore:function handleEventStore(eventStore,context){let{emitter}=context;emitter.hasHandlers("eventsSet")&&emitter.trigger("eventsSet",(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.w)(eventStore,context))}}})];class TaskRunner{constructor(runTaskOption,drainedOption){this.runTaskOption=runTaskOption,this.drainedOption=drainedOption,this.queue=[],this.delayedRunner=new _internal_common_js__WEBPACK_IMPORTED_MODULE_2__.D(this.drain.bind(this))}request(task,delay){this.queue.push(task),this.delayedRunner.request(delay)}pause(scope){this.delayedRunner.pause(scope)}resume(scope,force){this.delayedRunner.resume(scope,force)}drain(){let{queue}=this;for(;queue.length;){let task,completedTasks=[];for(;task=queue.shift();)this.runTask(task),completedTasks.push(task);this.drained(completedTasks)}}runTask(task){this.runTaskOption&&this.runTaskOption(task)}drained(completedTasks){this.drainedOption&&this.drainedOption(completedTasks)}}function buildTitle(dateProfile,viewOptions,dateEnv){let range;return range=/^(year|month)$/.test(dateProfile.currentRangeUnit)?dateProfile.currentRange:dateProfile.activeRange,dateEnv.formatRange(range.start,range.end,(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.x)(viewOptions.titleFormat||function buildTitleFormat(dateProfile){let{currentRangeUnit}=dateProfile;if("year"===currentRangeUnit)return{year:"numeric"};if("month"===currentRangeUnit)return{year:"numeric",month:"long"};let days=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.y)(dateProfile.currentRange.start,dateProfile.currentRange.end);if(null!==days&&days>1)return{year:"numeric",month:"short",day:"numeric"};return{year:"numeric",month:"long",day:"numeric"}}(dateProfile)),{isEndExclusive:dateProfile.isRangeAllDay,defaultSeparator:viewOptions.titleRangeSeparator})}class CalendarDataManager{constructor(props){this.computeCurrentViewData=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.z)(this._computeCurrentViewData),this.organizeRawLocales=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.z)(organizeRawLocales),this.buildLocale=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.z)(buildLocale),this.buildPluginHooks=buildBuildPluginHooks(),this.buildDateEnv=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.z)(buildDateEnv$1),this.buildTheme=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.z)(buildTheme),this.parseToolbars=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.z)(parseToolbars),this.buildViewSpecs=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.z)(buildViewSpecs),this.buildDateProfileGenerator=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.A)(buildDateProfileGenerator),this.buildViewApi=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.z)(buildViewApi),this.buildViewUiProps=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.A)(buildViewUiProps),this.buildEventUiBySource=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.z)(buildEventUiBySource,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.E),this.buildEventUiBases=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.z)(buildEventUiBases),this.parseContextBusinessHours=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.A)(parseContextBusinessHours),this.buildTitle=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.z)(buildTitle),this.emitter=new _internal_common_js__WEBPACK_IMPORTED_MODULE_2__.F,this.actionRunner=new TaskRunner(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=action=>{this.actionRunner.request(action)},this.props=props,this.actionRunner.pause();let dynamicOptionOverrides={},optionsData=this.computeOptionsData(props.optionOverrides,dynamicOptionOverrides,props.calendarApi),currentViewType=optionsData.calendarOptions.initialView||optionsData.pluginHooks.initialView,currentViewData=this.computeCurrentViewData(currentViewType,optionsData,props.optionOverrides,dynamicOptionOverrides);props.calendarApi.currentDataManager=this,this.emitter.setThisContext(props.calendarApi),this.emitter.setOptions(currentViewData.options);let currentDate=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.G)(optionsData.calendarOptions,optionsData.dateEnv),dateProfile=currentViewData.dateProfileGenerator.build(currentDate);(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.H)(dateProfile.activeRange,currentDate)||(currentDate=dateProfile.currentRange.start);let calendarContext={dateEnv:optionsData.dateEnv,options:optionsData.calendarOptions,pluginHooks:optionsData.pluginHooks,calendarApi:props.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let callback of optionsData.pluginHooks.contextInit)callback(calendarContext);let eventSources=initEventSources(optionsData.calendarOptions,dateProfile,calendarContext),initialState={dynamicOptionOverrides,currentViewType,currentDate,dateProfile,businessHours:this.parseContextBusinessHours(calendarContext),eventSources,eventUiBases:{},eventStore:(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.I)(),renderableEventStore:(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.I)(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(calendarContext).selectionConfig},contextAndState=Object.assign(Object.assign({},calendarContext),initialState);for(let reducer of optionsData.pluginHooks.reducers)Object.assign(initialState,reducer(null,null,contextAndState));computeIsLoading(initialState,calendarContext)&&this.emitter.trigger("loading",!0),this.state=initialState,this.updateData(),this.actionRunner.resume()}resetOptions(optionOverrides,changedOptionNames){let{props}=this;void 0===changedOptionNames?props.optionOverrides=optionOverrides:(props.optionOverrides=Object.assign(Object.assign({},props.optionOverrides||{}),optionOverrides),this.optionsForRefining.push(...changedOptionNames)),(void 0===changedOptionNames||changedOptionNames.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(action){let{props,state,emitter}=this,dynamicOptionOverrides=function reduceDynamicOptionOverrides(dynamicOptionOverrides,action){return"SET_OPTION"===action.type?Object.assign(Object.assign({},dynamicOptionOverrides),{[action.optionName]:action.rawOptionValue}):dynamicOptionOverrides}(state.dynamicOptionOverrides,action),optionsData=this.computeOptionsData(props.optionOverrides,dynamicOptionOverrides,props.calendarApi),currentViewType=function reduceViewType(viewType,action){"CHANGE_VIEW_TYPE"===action.type&&(viewType=action.viewType);return viewType}(state.currentViewType,action),currentViewData=this.computeCurrentViewData(currentViewType,optionsData,props.optionOverrides,dynamicOptionOverrides);props.calendarApi.currentDataManager=this,emitter.setThisContext(props.calendarApi),emitter.setOptions(currentViewData.options);let calendarContext={dateEnv:optionsData.dateEnv,options:optionsData.calendarOptions,pluginHooks:optionsData.pluginHooks,calendarApi:props.calendarApi,dispatch:this.dispatch,emitter,getCurrentData:this.getCurrentData},{currentDate,dateProfile}=state;this.data&&this.data.dateProfileGenerator!==currentViewData.dateProfileGenerator&&(dateProfile=currentViewData.dateProfileGenerator.build(currentDate)),currentDate=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.J)(currentDate,action),dateProfile=function reduceDateProfile(currentDateProfile,action,currentDate,dateProfileGenerator){let dp;switch(action.type){case"CHANGE_VIEW_TYPE":return dateProfileGenerator.build(action.dateMarker||currentDate);case"CHANGE_DATE":return dateProfileGenerator.build(action.dateMarker);case"PREV":if(dp=dateProfileGenerator.buildPrev(currentDateProfile,currentDate),dp.isValid)return dp;break;case"NEXT":if(dp=dateProfileGenerator.buildNext(currentDateProfile,currentDate),dp.isValid)return dp}return currentDateProfile}(dateProfile,action,currentDate,currentViewData.dateProfileGenerator),"PREV"!==action.type&&"NEXT"!==action.type&&(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.H)(dateProfile.currentRange,currentDate)||(currentDate=dateProfile.currentRange.start);let eventSources=reduceEventSources(state.eventSources,action,dateProfile,calendarContext),eventStore=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.K)(state.eventStore,action,eventSources,dateProfile,calendarContext),renderableEventStore=computeEventSourcesLoading(eventSources)&&!currentViewData.options.progressiveEventRendering&&state.renderableEventStore||eventStore,{eventUiSingleBase,selectionConfig}=this.buildViewUiProps(calendarContext),eventUiBySource=this.buildEventUiBySource(eventSources),newState={dynamicOptionOverrides,currentViewType,currentDate,dateProfile,eventSources,eventStore,renderableEventStore,selectionConfig,eventUiBases:this.buildEventUiBases(renderableEventStore.defs,eventUiSingleBase,eventUiBySource),businessHours:this.parseContextBusinessHours(calendarContext),dateSelection:reduceDateSelection(state.dateSelection,action),eventSelection:reduceSelectedEvent(state.eventSelection,action),eventDrag:reduceEventDrag(state.eventDrag,action),eventResize:reduceEventResize(state.eventResize,action)},contextAndState=Object.assign(Object.assign({},calendarContext),newState);for(let reducer of optionsData.pluginHooks.reducers)Object.assign(newState,reducer(state,action,contextAndState));let wasLoading=computeIsLoading(state,calendarContext),isLoading=computeIsLoading(newState,calendarContext);!wasLoading&&isLoading?emitter.trigger("loading",!0):wasLoading&&!isLoading&&emitter.trigger("loading",!1),this.state=newState,props.onAction&&props.onAction(action)}updateData(){let{props,state}=this,oldData=this.data,optionsData=this.computeOptionsData(props.optionOverrides,state.dynamicOptionOverrides,props.calendarApi),currentViewData=this.computeCurrentViewData(state.currentViewType,optionsData,props.optionOverrides,state.dynamicOptionOverrides),data=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(state.dateProfile,currentViewData.options,optionsData.dateEnv),calendarApi:props.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},optionsData),currentViewData),state),changeHandlers=optionsData.pluginHooks.optionChangeHandlers,oldCalendarOptions=oldData&&oldData.calendarOptions,newCalendarOptions=optionsData.calendarOptions;if(oldCalendarOptions&&oldCalendarOptions!==newCalendarOptions){oldCalendarOptions.timeZone!==newCalendarOptions.timeZone&&(state.eventSources=data.eventSources=function reduceEventSourcesNewTimeZone(eventSources,dateProfile,context){let activeRange=dateProfile?dateProfile.activeRange:null;return fetchSourcesByIds(eventSources,excludeStaticSources(eventSources,context),activeRange,!0,context)}(data.eventSources,state.dateProfile,data),state.eventStore=data.eventStore=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.L)(data.eventStore,oldData.dateEnv,data.dateEnv),state.renderableEventStore=data.renderableEventStore=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.L)(data.renderableEventStore,oldData.dateEnv,data.dateEnv));for(let optionName in changeHandlers)-1===this.optionsForHandling.indexOf(optionName)&&oldCalendarOptions[optionName]===newCalendarOptions[optionName]||changeHandlers[optionName](newCalendarOptions[optionName],data)}this.optionsForHandling=[],props.onData&&props.onData(data)}computeOptionsData(optionOverrides,dynamicOptionOverrides,calendarApi){if(!this.optionsForRefining.length&&optionOverrides===this.stableOptionOverrides&&dynamicOptionOverrides===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions,pluginHooks,localeDefaults,availableLocaleData,extra}=this.processRawCalendarOptions(optionOverrides,dynamicOptionOverrides);warnUnknownOptions(extra);let dateEnv=this.buildDateEnv(refinedOptions.timeZone,refinedOptions.locale,refinedOptions.weekNumberCalculation,refinedOptions.firstDay,refinedOptions.weekText,pluginHooks,availableLocaleData,refinedOptions.defaultRangeSeparator),viewSpecs=this.buildViewSpecs(pluginHooks.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,localeDefaults),theme=this.buildTheme(refinedOptions,pluginHooks),toolbarConfig=this.parseToolbars(refinedOptions,this.stableOptionOverrides,theme,viewSpecs,calendarApi);return this.stableCalendarOptionsData={calendarOptions:refinedOptions,pluginHooks,dateEnv,viewSpecs,theme,toolbarConfig,localeDefaults,availableRawLocales:availableLocaleData.map}}processRawCalendarOptions(optionOverrides,dynamicOptionOverrides){let{locales,locale}=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.M)([_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.e,optionOverrides,dynamicOptionOverrides]),availableLocaleData=this.organizeRawLocales(locales),availableRawLocales=availableLocaleData.map,localeDefaults=this.buildLocale(locale||availableLocaleData.defaultCode,availableRawLocales).options,pluginHooks=this.buildPluginHooks(optionOverrides.plugins||[],globalPlugins),refiners=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.N),_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.O),_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.P),pluginHooks.listenerRefiners),pluginHooks.optionRefiners),extra={},raw=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.M)([_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.e,localeDefaults,optionOverrides,dynamicOptionOverrides]),refined={},currentRaw=this.currentCalendarOptionsInput,currentRefined=this.currentCalendarOptionsRefined,anyChanges=!1;for(let optionName in raw)-1===this.optionsForRefining.indexOf(optionName)&&(raw[optionName]===currentRaw[optionName]||_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.Q[optionName]&&optionName in currentRaw&&_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.Q[optionName](currentRaw[optionName],raw[optionName]))?refined[optionName]=currentRefined[optionName]:refiners[optionName]?(refined[optionName]=refiners[optionName](raw[optionName]),anyChanges=!0):extra[optionName]=currentRaw[optionName];return anyChanges&&(this.currentCalendarOptionsInput=raw,this.currentCalendarOptionsRefined=refined,this.stableOptionOverrides=optionOverrides,this.stableDynamicOptionOverrides=dynamicOptionOverrides),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks,availableLocaleData,localeDefaults,extra}}_computeCurrentViewData(viewType,optionsData,optionOverrides,dynamicOptionOverrides){let viewSpec=optionsData.viewSpecs[viewType];if(!viewSpec)throw new Error(`viewType "${viewType}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions,extra}=this.processRawViewOptions(viewSpec,optionsData.pluginHooks,optionsData.localeDefaults,optionOverrides,dynamicOptionOverrides);return warnUnknownOptions(extra),{viewSpec,options:refinedOptions,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:viewSpec.optionDefaults.dateProfileGeneratorClass,duration:viewSpec.duration,durationUnit:viewSpec.durationUnit,usesMinMaxTime:viewSpec.optionDefaults.usesMinMaxTime,dateEnv:optionsData.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:refinedOptions.slotMinTime,slotMaxTime:refinedOptions.slotMaxTime,showNonCurrentDates:refinedOptions.showNonCurrentDates,dayCount:refinedOptions.dayCount,dateAlignment:refinedOptions.dateAlignment,dateIncrement:refinedOptions.dateIncrement,hiddenDays:refinedOptions.hiddenDays,weekends:refinedOptions.weekends,nowInput:refinedOptions.now,validRangeInput:refinedOptions.validRange,visibleRangeInput:refinedOptions.visibleRange,fixedWeekCount:refinedOptions.fixedWeekCount}),viewApi:this.buildViewApi(viewType,this.getCurrentData,optionsData.dateEnv)}}processRawViewOptions(viewSpec,pluginHooks,localeDefaults,optionOverrides,dynamicOptionOverrides){let raw=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.M)([_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.e,viewSpec.optionDefaults,localeDefaults,optionOverrides,viewSpec.optionOverrides,dynamicOptionOverrides]),refiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.N),_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.O),_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.P),_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.R),pluginHooks.listenerRefiners),pluginHooks.optionRefiners),refined={},currentRaw=this.currentViewOptionsInput,currentRefined=this.currentViewOptionsRefined,anyChanges=!1,extra={};for(let optionName in raw)raw[optionName]===currentRaw[optionName]||_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.Q[optionName]&&_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.Q[optionName](raw[optionName],currentRaw[optionName])?refined[optionName]=currentRefined[optionName]:(raw[optionName]===this.currentCalendarOptionsInput[optionName]||_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.Q[optionName]&&_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.Q[optionName](raw[optionName],this.currentCalendarOptionsInput[optionName])?optionName in this.currentCalendarOptionsRefined&&(refined[optionName]=this.currentCalendarOptionsRefined[optionName]):refiners[optionName]?refined[optionName]=refiners[optionName](raw[optionName]):extra[optionName]=raw[optionName],anyChanges=!0);return anyChanges&&(this.currentViewOptionsInput=raw,this.currentViewOptionsRefined=refined),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra}}}function buildDateEnv$1(timeZone,explicitLocale,weekNumberCalculation,firstDay,weekText,pluginHooks,availableLocaleData,defaultSeparator){let locale=buildLocale(explicitLocale||availableLocaleData.defaultCode,availableLocaleData.map);return new _internal_common_js__WEBPACK_IMPORTED_MODULE_2__.S({calendarSystem:"gregory",timeZone,namedTimeZoneImpl:pluginHooks.namedTimeZonedImpl,locale,weekNumberCalculation,firstDay,weekText,cmdFormatter:pluginHooks.cmdFormatter,defaultSeparator})}function buildTheme(options,pluginHooks){return new(pluginHooks.themeClasses[options.themeSystem]||StandardTheme)(options)}function buildDateProfileGenerator(props){return new(props.dateProfileGeneratorClass||_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.U)(props)}function buildViewApi(type,getCurrentData,dateEnv){return new ViewImpl(type,getCurrentData,dateEnv)}function buildEventUiBySource(eventSources){return(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.a)(eventSources,(eventSource=>eventSource.ui))}function buildEventUiBases(eventDefs,eventUiSingleBase,eventUiBySource){let eventUiBases={"":eventUiSingleBase};for(let defId in eventDefs){let def=eventDefs[defId];def.sourceId&&eventUiBySource[def.sourceId]&&(eventUiBases[defId]=eventUiBySource[def.sourceId])}return eventUiBases}function buildViewUiProps(calendarContext){let{options}=calendarContext;return{eventUiSingleBase:(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.W)({display:options.eventDisplay,editable:options.editable,startEditable:options.eventStartEditable,durationEditable:options.eventDurationEditable,constraint:options.eventConstraint,overlap:"boolean"==typeof options.eventOverlap?options.eventOverlap:void 0,allow:options.eventAllow,backgroundColor:options.eventBackgroundColor,borderColor:options.eventBorderColor,textColor:options.eventTextColor,color:options.eventColor},calendarContext),selectionConfig:(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.W)({constraint:options.selectConstraint,overlap:"boolean"==typeof options.selectOverlap?options.selectOverlap:void 0,allow:options.selectAllow},calendarContext)}}function computeIsLoading(state,context){for(let isLoadingFunc of context.pluginHooks.isLoadingFuncs)if(isLoadingFunc(state))return!0;return!1}function parseContextBusinessHours(calendarContext){return(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.X)(calendarContext.options.businessHours,calendarContext)}function warnUnknownOptions(options,viewName){for(let optionName in options)console.warn(`Unknown option '${optionName}'`+(viewName?` for view '${viewName}'`:""))}class ToolbarSection extends _internal_common_js__WEBPACK_IMPORTED_MODULE_2__.B{render(){let children=this.props.widgetGroups.map((widgetGroup=>this.renderWidgetGroup(widgetGroup)));return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("div",{className:"fc-toolbar-chunk"},...children)}renderWidgetGroup(widgetGroup){let{props}=this,{theme}=this.context,children=[],isOnlyButtons=!0;for(let widget of widgetGroup){let{buttonName,buttonClick,buttonText,buttonIcon,buttonHint}=widget;if("title"===buttonName)isOnlyButtons=!1,children.push((0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("h2",{className:"fc-toolbar-title",id:props.titleId},props.title));else{let isPressed=buttonName===props.activeButton,isDisabled=!props.isTodayEnabled&&"today"===buttonName||!props.isPrevEnabled&&"prev"===buttonName||!props.isNextEnabled&&"next"===buttonName,buttonClasses=[`fc-${buttonName}-button`,theme.getClass("button")];isPressed&&buttonClasses.push(theme.getClass("buttonActive")),children.push((0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("button",{type:"button",title:"function"==typeof buttonHint?buttonHint(props.navUnit):buttonHint,disabled:isDisabled,"aria-pressed":isPressed,className:buttonClasses.join(" "),onClick:buttonClick},buttonText||(buttonIcon?(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("span",{className:buttonIcon,role:"img"}):"")))}}if(children.length>1){let groupClassName=isOnlyButtons&&theme.getClass("buttonGroup")||"";return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("div",{className:groupClassName},...children)}return children[0]}}class Toolbar extends _internal_common_js__WEBPACK_IMPORTED_MODULE_2__.B{render(){let startContent,endContent,{model,extraClassName}=this.props,forceLtr=!1,sectionWidgets=model.sectionWidgets,centerContent=sectionWidgets.center;sectionWidgets.left?(forceLtr=!0,startContent=sectionWidgets.left):startContent=sectionWidgets.start,sectionWidgets.right?(forceLtr=!0,endContent=sectionWidgets.right):endContent=sectionWidgets.end;let classNames=[extraClassName||"","fc-toolbar",forceLtr?"fc-toolbar-ltr":""];return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("div",{className:classNames.join(" ")},this.renderSection("start",startContent||[]),this.renderSection("center",centerContent||[]),this.renderSection("end",endContent||[]))}renderSection(key,widgetGroups){let{props}=this;return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(ToolbarSection,{key,widgetGroups,title:props.title,navUnit:props.navUnit,activeButton:props.activeButton,isTodayEnabled:props.isTodayEnabled,isPrevEnabled:props.isPrevEnabled,isNextEnabled:props.isNextEnabled,titleId:props.titleId})}}class ViewHarness extends _internal_common_js__WEBPACK_IMPORTED_MODULE_2__.B{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=el=>{this.el=el,(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.Y)(this.props.elRef,el),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props,state}=this,{aspectRatio}=props,classNames=["fc-view-harness",aspectRatio||props.liquid||props.height?"fc-view-harness-active":"fc-view-harness-passive"],height="",paddingBottom="";return aspectRatio?null!==state.availableWidth?height=state.availableWidth/aspectRatio:paddingBottom=1/aspectRatio*100+"%":height=props.height||"",(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("div",{"aria-labelledby":props.labeledById,ref:this.handleEl,className:classNames.join(" "),style:{height,paddingBottom}},props.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class EventClicking extends _internal_common_js__WEBPACK_IMPORTED_MODULE_2__.Z{constructor(settings){super(settings),this.handleSegClick=(ev,segEl)=>{let{component}=this,{context}=component,seg=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__._)(segEl);if(seg&&component.isValidSegDownEl(ev.target)){let hasUrlContainer=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.$)(ev.target,".fc-event-forced-url"),url=hasUrlContainer?hasUrlContainer.querySelector("a[href]").href:"";context.emitter.trigger("eventClick",{el:segEl,event:new _internal_common_js__WEBPACK_IMPORTED_MODULE_2__.a0(component.context,seg.eventRange.def,seg.eventRange.instance),jsEvent:ev,view:context.viewApi}),url&&!ev.defaultPrevented&&(window.location.href=url)}},this.destroy=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.a1)(settings.el,"click",".fc-event",this.handleSegClick)}}class EventHovering extends _internal_common_js__WEBPACK_IMPORTED_MODULE_2__.Z{constructor(settings){super(settings),this.handleEventElRemove=el=>{el===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(ev,segEl)=>{(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__._)(segEl)&&(this.currentSegEl=segEl,this.triggerEvent("eventMouseEnter",ev,segEl))},this.handleSegLeave=(ev,segEl)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",ev,segEl))},this.removeHoverListeners=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.a2)(settings.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(publicEvName,ev,segEl){let{component}=this,{context}=component,seg=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__._)(segEl);ev&&!component.isValidSegDownEl(ev.target)||context.emitter.trigger(publicEvName,{el:segEl,event:new _internal_common_js__WEBPACK_IMPORTED_MODULE_2__.a0(context,seg.eventRange.def,seg.eventRange.instance),jsEvent:ev,view:context.viewApi})}}class CalendarContent extends _internal_common_js__WEBPACK_IMPORTED_MODULE_2__.a3{constructor(){super(...arguments),this.buildViewContext=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.z)(_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.a4),this.buildViewPropTransformers=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.z)(buildViewPropTransformers),this.buildToolbarProps=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.z)(buildToolbarProps),this.headerRef=(0,preact__WEBPACK_IMPORTED_MODULE_0__._3)(),this.footerRef=(0,preact__WEBPACK_IMPORTED_MODULE_0__._3)(),this.interactionsStore={},this.state={viewLabelId:(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.a5)()},this.registerInteractiveComponent=(component,settingsInput)=>{let settings=(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.a6)(component,settingsInput),interactions=[EventClicking,EventHovering].concat(this.props.pluginHooks.componentInteractions).map((TheInteractionClass=>new TheInteractionClass(settings)));this.interactionsStore[component.uid]=interactions,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.a7[component.uid]=settings},this.unregisterInteractiveComponent=component=>{let listeners=this.interactionsStore[component.uid];if(listeners){for(let listener of listeners)listener.destroy();delete this.interactionsStore[component.uid]}delete _internal_common_js__WEBPACK_IMPORTED_MODULE_2__.a7[component.uid]},this.resizeRunner=new _internal_common_js__WEBPACK_IMPORTED_MODULE_2__.D((()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})})),this.handleWindowResize=ev=>{let{options}=this.props;options.handleWindowResize&&ev.target===window&&this.resizeRunner.request(options.windowResizeDelay)}}render(){let viewAspectRatio,{props}=this,{toolbarConfig,options}=props,toolbarProps=this.buildToolbarProps(props.viewSpec,props.dateProfile,props.dateProfileGenerator,props.currentDate,(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.a8)(props.options.now,props.dateEnv),props.viewTitle),viewVGrow=!1,viewHeight="";props.isHeightAuto||props.forPrint?viewHeight="":null!=options.height?viewVGrow=!0:null!=options.contentHeight?viewHeight=options.contentHeight:viewAspectRatio=Math.max(options.aspectRatio,.5);let viewContext=this.buildViewContext(props.viewSpec,props.viewApi,props.options,props.dateProfileGenerator,props.dateEnv,props.theme,props.pluginHooks,props.dispatch,props.getCurrentData,props.emitter,props.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),viewLabelId=toolbarConfig.header&&toolbarConfig.header.hasTitle?this.state.viewLabelId:void 0;return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.V.Provider,{value:viewContext},toolbarConfig.header&&(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(Toolbar,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:toolbarConfig.header,titleId:viewLabelId},toolbarProps)),(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(ViewHarness,{liquid:viewVGrow,height:viewHeight,aspectRatio:viewAspectRatio,labeledById:viewLabelId},this.renderView(props),this.buildAppendContent()),toolbarConfig.footer&&(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(Toolbar,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:toolbarConfig.footer,titleId:""},toolbarProps)))}componentDidMount(){let{props}=this;this.calendarInteractions=props.pluginHooks.calendarInteractions.map((CalendarInteractionClass=>new CalendarInteractionClass(props))),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers}=props.pluginHooks;for(let propName in propSetHandlers)propSetHandlers[propName](props[propName],props)}componentDidUpdate(prevProps){let{props}=this,{propSetHandlers}=props.pluginHooks;for(let propName in propSetHandlers)props[propName]!==prevProps[propName]&&propSetHandlers[propName](props[propName],props)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let interaction of this.calendarInteractions)interaction.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props}=this,children=props.pluginHooks.viewContainerAppends.map((buildAppendContent=>buildAppendContent(props)));return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(preact__WEBPACK_IMPORTED_MODULE_0__.FK,{},...children)}renderView(props){let{pluginHooks}=props,{viewSpec}=props,viewProps={dateProfile:props.dateProfile,businessHours:props.businessHours,eventStore:props.renderableEventStore,eventUiBases:props.eventUiBases,dateSelection:props.dateSelection,eventSelection:props.eventSelection,eventDrag:props.eventDrag,eventResize:props.eventResize,isHeightAuto:props.isHeightAuto,forPrint:props.forPrint},transformers=this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);for(let transformer of transformers)Object.assign(viewProps,transformer.transform(viewProps,props));let ViewComponent=viewSpec.component;return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(ViewComponent,Object.assign({},viewProps))}}function buildToolbarProps(viewSpec,dateProfile,dateProfileGenerator,currentDate,now,title){let todayInfo=dateProfileGenerator.build(now,void 0,!1),prevInfo=dateProfileGenerator.buildPrev(dateProfile,currentDate,!1),nextInfo=dateProfileGenerator.buildNext(dateProfile,currentDate,!1);return{title,activeButton:viewSpec.type,navUnit:viewSpec.singleUnit,isTodayEnabled:todayInfo.isValid&&!(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.H)(dateProfile.currentRange,now),isPrevEnabled:prevInfo.isValid,isNextEnabled:nextInfo.isValid}}function buildViewPropTransformers(theClasses){return theClasses.map((TheClass=>new TheClass))}class Calendar extends _internal_common_js__WEBPACK_IMPORTED_MODULE_2__.a9{constructor(el,optionOverrides={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=action=>{switch(action.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=data=>{this.currentData=data,this.renderRunner.request(data.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData}=this;(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.aa)((()=>{(0,preact__WEBPACK_IMPORTED_MODULE_0__.XX)((0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.ab,{options:currentData.calendarOptions,theme:currentData.theme,emitter:currentData.emitter},((classNames,height,isHeightAuto,forPrint)=>(this.setClassNames(classNames),this.setHeight(height),(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.ac.Provider,{value:this.customContentRenderId},(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(CalendarContent,Object.assign({isHeightAuto,forPrint},currentData)))))),this.el)}))}else this.isRendered&&(this.isRendered=!1,(0,preact__WEBPACK_IMPORTED_MODULE_0__.XX)(null,this.el),this.setClassNames([]),this.setHeight(""))},(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.ad)(el),this.el=el,this.renderRunner=new _internal_common_js__WEBPACK_IMPORTED_MODULE_2__.D(this.handleRenderRequest),new CalendarDataManager({optionOverrides,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let wasRendering=this.isRendering;wasRendering?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),wasRendering&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.aa)((()=>{super.updateSize()}))}batchRendering(func){this.renderRunner.pause("batchRendering"),func(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(optionOverrides,changedOptionNames){this.currentDataManager.resetOptions(optionOverrides,changedOptionNames)}setClassNames(classNames){if(!(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.i)(classNames,this.currentClassNames)){let{classList}=this.el;for(let className of this.currentClassNames)classList.remove(className);for(let className of classNames)classList.add(className);this.currentClassNames=classNames}}setHeight(height){(0,_internal_common_js__WEBPACK_IMPORTED_MODULE_2__.ae)(this.el,"height",height)}}},"./node_modules/@fullcalendar/core/internal-common.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>elementClosest,A:()=>memoizeObjArg,B:()=>BaseComponent,C:()=>ContentContainer,D:()=>DelayedRunner,E:()=>isPropsEqual,F:()=>Emitter,G:()=>getInitialDate,H:()=>rangeContainsMarker,I:()=>createEmptyEventStore,J:()=>reduceCurrentDate,K:()=>reduceEventStore,L:()=>rezoneEventStoreDates,M:()=>mergeRawOptions,N:()=>BASE_OPTION_REFINERS,O:()=>CALENDAR_LISTENER_REFINERS,P:()=>CALENDAR_OPTION_REFINERS,Q:()=>COMPLEX_OPTION_COMPARATORS,R:()=>VIEW_OPTION_REFINERS,S:()=>DateEnv,T:()=>Theme,U:()=>DateProfileGenerator,V:()=>ViewContextType,W:()=>createEventUi,X:()=>parseBusinessHours,Y:()=>setRef,Z:()=>Interaction,_:()=>getElSeg,a:()=>mapHash,a0:()=>EventImpl,a1:()=>listenBySelector,a2:()=>listenToHoverBySelector,a3:()=>PureComponent,a4:()=>buildViewContext,a5:()=>getUniqueDomId,a6:()=>parseInteractionSettings,a7:()=>interactionSettingsStore,a8:()=>getNow,a9:()=>CalendarImpl,aA:()=>diffDates,aE:()=>intersectRects,aF:()=>pointInsideRect,aG:()=>constrainPoint,aH:()=>getRectCenter,aI:()=>diffPoints,aO:()=>removeElement,aP:()=>applyStyle,aR:()=>getEventTargetViaRoot,aV:()=>getRelevantEvents,aY:()=>Splitter,aa:()=>flushSync,ab:()=>CalendarRoot,ac:()=>RenderId,ad:()=>ensureElHasStyles,ae:()=>applyStyleProp,ar:()=>preventSelection,as:()=>allowSelection,at:()=>preventContextMenu,au:()=>allowContextMenu,av:()=>compareNumbers,aw:()=>enableCursor,ax:()=>disableCursor,b:()=>buildViewClassNames,b$:()=>SimpleScrollGrid,b0:()=>buildNavLinkAttrs,b2:()=>whenTransitionDone,b3:()=>computeInnerRect,b5:()=>getClippingParents,b6:()=>computeRect,b9:()=>rangeContainsRange,bA:()=>SegHierarchy,bB:()=>buildEntryKey,bC:()=>getEntrySpanEnd,bD:()=>binarySearch,bE:()=>groupIntersectingEntries,bF:()=>intersectSpans,bG:()=>interactionSettingsToStore,bH:()=>ElementDragging,bI:()=>config,bK:()=>DayHeader,bO:()=>DaySeriesModel,bP:()=>hasBgRendering,bQ:()=>buildSegTimeText,bR:()=>sortEventSegs,bS:()=>getSegMeta,bT:()=>buildEventRangeKey,bU:()=>getSegAnchorAttrs,bV:()=>DayTableModel,bW:()=>Slicer,bX:()=>applyMutationToEventStore,bZ:()=>isInteractionValid,b_:()=>isDateSelectionValid,ba:()=>PositionCache,bb:()=>ScrollController,bc:()=>ElementScrollController,bd:()=>WindowScrollController,be:()=>DateComponent,bf:()=>isDateSpansEqual,bg:()=>addMs,bh:()=>addWeeks,bi:()=>diffWeeks,bl:()=>diffDays,bo:()=>multiplyDuration,bp:()=>addDurations,bs:()=>asRoughMs,bt:()=>wholeDivideDurations,bu:()=>formatIsoTimeString,bv:()=>formatDayString,bw:()=>buildIsoString,bx:()=>formatIsoMonthStr,c:()=>greatestDurationDenominator,ca:()=>renderScrollShim,cb:()=>getStickyFooterScrollbar,cc:()=>getStickyHeaderDates,cf:()=>RefMap,ch:()=>NowTimer,cj:()=>StandardEvent,ck:()=>NowIndicatorContainer,cl:()=>DayCellContainer,cm:()=>hasCustomDayCellContent,cn:()=>EventContainer,co:()=>renderFill,cp:()=>BgEvent,cq:()=>WeekNumberContainer,cr:()=>MoreLinkContainer,cs:()=>computeEarliestSegStart,ct:()=>ViewContainer,cu:()=>triggerDateSelect,cw:()=>injectStyles,cy:()=>CustomRenderingStore,d:()=>createDuration,e:()=>BASE_OPTION_DEFAULTS,f:()=>arrayToHash,g:()=>guid,h:()=>filterHash,i:()=>isArraysEqual,j:()=>buildEventSourceRefiners,k:()=>formatWithOrdinals,l:()=>buildRangeApiWithTimeZone,m:()=>mergeProps,n:()=>identity,o:()=>intersectRanges,p:()=>parseEventSource,q:()=>startOfDay,r:()=>requestJson,s:()=>subtractDurations,t:()=>addDays,u:()=>unpromisify,v:()=>hashValuesToArray,w:()=>buildEventApis,x:()=>createFormatter,y:()=>diffWholeDays,z:()=>memoize});var preact__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/preact/dist/preact.module.js"),preact_compat__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/preact/compat/dist/compat.module.js");const styleTexts=[],styleEls=new Map;function injectStyles(styleText){styleTexts.push(styleText),styleEls.forEach((styleEl=>{appendStylesTo(styleEl,styleText)}))}function ensureElHasStyles(el){el.isConnected&&el.getRootNode&&registerStylesRoot(el.getRootNode())}function registerStylesRoot(rootNode){let styleEl=styleEls.get(rootNode);if(!styleEl||!styleEl.isConnected){if(styleEl=rootNode.querySelector("style[data-fullcalendar]"),!styleEl){styleEl=document.createElement("style"),styleEl.setAttribute("data-fullcalendar","");const nonce=function getNonceValue(){void 0===queriedNonceValue&&(queriedNonceValue=function queryNonceValue(){const metaWithNonce=document.querySelector('meta[name="csp-nonce"]');if(metaWithNonce&&metaWithNonce.hasAttribute("content"))return metaWithNonce.getAttribute("content");const elWithNonce=document.querySelector("script[nonce]");if(elWithNonce)return elWithNonce.nonce||"";return""}());return queriedNonceValue}();nonce&&(styleEl.nonce=nonce);const parentEl=rootNode===document?document.head:rootNode,insertBefore=rootNode===document?parentEl.querySelector("script,link[rel=stylesheet],link[as=style],style"):parentEl.firstChild;parentEl.insertBefore(styleEl,insertBefore)}styleEls.set(rootNode,styleEl),function hydrateStylesRoot(styleEl){for(const styleText of styleTexts)appendStylesTo(styleEl,styleText)}(styleEl)}}function appendStylesTo(styleEl,styleText){const{sheet}=styleEl,ruleCnt=sheet.cssRules.length;styleText.split("}").forEach(((styleStr,i)=>{(styleStr=styleStr.trim())&&sheet.insertRule(styleStr+"}",ruleCnt+i)}))}let queriedNonceValue;"undefined"!=typeof document&&registerStylesRoot(document);injectStyles(':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}');class DelayedRunner{constructor(drainedOption){this.drainedOption=drainedOption,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(delay){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==delay?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),delay))}pause(scope=""){let{pauseDepths}=this;pauseDepths[scope]=(pauseDepths[scope]||0)+1,this.clearTimeout()}resume(scope="",force){let{pauseDepths}=this;if(scope in pauseDepths){if(force)delete pauseDepths[scope];else{pauseDepths[scope]-=1,pauseDepths[scope]<=0&&delete pauseDepths[scope]}this.tryDrain()}}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function removeElement(el){el.parentNode&&el.parentNode.removeChild(el)}function elementClosest(el,selector){if(el.closest)return el.closest(selector);if(!document.documentElement.contains(el))return null;do{if(elementMatches(el,selector))return el;el=el.parentElement||el.parentNode}while(null!==el&&1===el.nodeType);return null}function elementMatches(el,selector){return(el.matches||el.matchesSelector||el.msMatchesSelector).call(el,selector)}const PIXEL_PROP_RE=/(top|left|right|bottom|width|height)$/i;function applyStyle(el,props){for(let propName in props)applyStyleProp(el,propName,props[propName])}function applyStyleProp(el,name,val){null==val?el.style[name]="":"number"==typeof val&&PIXEL_PROP_RE.test(name)?el.style[name]=`${val}px`:el.style[name]=val}function getEventTargetViaRoot(ev){var _a,_b;return null!==(_b=null===(_a=ev.composedPath)||void 0===_a?void 0:_a.call(ev)[0])&&void 0!==_b?_b:ev.target}let guid$1=0;function getUniqueDomId(){return guid$1+=1,"fc-dom-"+guid$1}function preventDefault(ev){ev.preventDefault()}function listenBySelector(container,eventType,selector,handler){let attachedHandler=function buildDelegationHandler(selector,handler){return ev=>{let matchedChild=elementClosest(ev.target,selector);matchedChild&&handler.call(matchedChild,ev,matchedChild)}}(selector,handler);return container.addEventListener(eventType,attachedHandler),()=>{container.removeEventListener(eventType,attachedHandler)}}function listenToHoverBySelector(container,selector,onMouseEnter,onMouseLeave){let currentMatchedChild;return listenBySelector(container,"mouseover",selector,((mouseOverEv,matchedChild)=>{if(matchedChild!==currentMatchedChild){currentMatchedChild=matchedChild,onMouseEnter(mouseOverEv,matchedChild);let realOnMouseLeave=mouseLeaveEv=>{currentMatchedChild=null,onMouseLeave(mouseLeaveEv,matchedChild),matchedChild.removeEventListener("mouseleave",realOnMouseLeave)};matchedChild.addEventListener("mouseleave",realOnMouseLeave)}}))}const transitionEventNames=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function whenTransitionDone(el,callback){let realCallback=ev=>{callback(ev),transitionEventNames.forEach((eventName=>{el.removeEventListener(eventName,realCallback)}))};transitionEventNames.forEach((eventName=>{el.addEventListener(eventName,realCallback)}))}function createAriaClickAttrs(handler){return Object.assign({onClick:handler},createAriaKeyboardAttrs(handler))}function createAriaKeyboardAttrs(handler){return{tabIndex:0,onKeyDown(ev){"Enter"!==ev.key&&" "!==ev.key||(handler(ev),ev.preventDefault())}}}let guidNumber=0;function guid(){return guidNumber+=1,String(guidNumber)}function disableCursor(){document.body.classList.add("fc-not-allowed")}function enableCursor(){document.body.classList.remove("fc-not-allowed")}function preventSelection(el){el.style.userSelect="none",el.style.webkitUserSelect="none",el.addEventListener("selectstart",preventDefault)}function allowSelection(el){el.style.userSelect="",el.style.webkitUserSelect="",el.removeEventListener("selectstart",preventDefault)}function preventContextMenu(el){el.addEventListener("contextmenu",preventDefault)}function allowContextMenu(el){el.removeEventListener("contextmenu",preventDefault)}function compareByFieldSpec(obj0,obj1,fieldSpec){return fieldSpec.func?fieldSpec.func(obj0,obj1):function flexibleCompare(a,b){if(!a&&!b)return 0;if(null==b)return-1;if(null==a)return 1;if("string"==typeof a||"string"==typeof b)return String(a).localeCompare(String(b));return a-b}(obj0[fieldSpec.field],obj1[fieldSpec.field])*(fieldSpec.order||1)}function padStart(val,len){let s=String(val);return"000".substr(0,len-s.length)+s}function formatWithOrdinals(formatter,args,fallbackText){return"function"==typeof formatter?formatter(...args):"string"==typeof formatter?args.reduce(((str,arg,index)=>str.replace("$"+index,arg||"")),formatter):fallbackText}function compareNumbers(a,b){return a-b}function isInt(n){return n%1==0}function computeSmallestCellWidth(cellEl){let allWidthEl=cellEl.querySelector(".fc-scrollgrid-shrink-frame"),contentWidthEl=cellEl.querySelector(".fc-scrollgrid-shrink-cushion");if(!allWidthEl)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!contentWidthEl)throw new Error("needs fc-scrollgrid-shrink-cushion className");return cellEl.getBoundingClientRect().width-allWidthEl.getBoundingClientRect().width+contentWidthEl.getBoundingClientRect().width}const INTERNAL_UNITS=["years","months","days","milliseconds"],PARSE_RE=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function createDuration(input,unit){return"string"==typeof input?function parseString(s){let m=PARSE_RE.exec(s);if(m){let sign=m[1]?-1:1;return{years:0,months:0,days:sign*(m[2]?parseInt(m[2],10):0),milliseconds:sign*(60*(m[3]?parseInt(m[3],10):0)*60*1e3+60*(m[4]?parseInt(m[4],10):0)*1e3+1e3*(m[5]?parseInt(m[5],10):0)+(m[6]?parseInt(m[6],10):0))}}return null}(input):"object"==typeof input&&input?parseObject(input):"number"==typeof input?parseObject({[unit||"milliseconds"]:input}):null}function parseObject(obj){let duration={years:obj.years||obj.year||0,months:obj.months||obj.month||0,days:obj.days||obj.day||0,milliseconds:60*(obj.hours||obj.hour||0)*60*1e3+60*(obj.minutes||obj.minute||0)*1e3+1e3*(obj.seconds||obj.second||0)+(obj.milliseconds||obj.millisecond||obj.ms||0)},weeks=obj.weeks||obj.week;return weeks&&(duration.days+=7*weeks,duration.specifiedWeeks=!0),duration}function addDurations(d0,d1){return{years:d0.years+d1.years,months:d0.months+d1.months,days:d0.days+d1.days,milliseconds:d0.milliseconds+d1.milliseconds}}function subtractDurations(d1,d0){return{years:d1.years-d0.years,months:d1.months-d0.months,days:d1.days-d0.days,milliseconds:d1.milliseconds-d0.milliseconds}}function multiplyDuration(d,n){return{years:d.years*n,months:d.months*n,days:d.days*n,milliseconds:d.milliseconds*n}}function asRoughDays(dur){return asRoughMs(dur)/864e5}function asRoughMs(dur){return 31536e6*dur.years+2592e6*dur.months+864e5*dur.days+dur.milliseconds}function wholeDivideDurations(numerator,denominator){let res=null;for(let i=0;i<INTERNAL_UNITS.length;i+=1){let unit=INTERNAL_UNITS[i];if(denominator[unit]){let localRes=numerator[unit]/denominator[unit];if(!isInt(localRes)||null!==res&&res!==localRes)return null;res=localRes}else if(numerator[unit])return null}return res}function greatestDurationDenominator(dur){let ms=dur.milliseconds;if(ms){if(ms%1e3!=0)return{unit:"millisecond",value:ms};if(ms%6e4!=0)return{unit:"second",value:ms/1e3};if(ms%36e5!=0)return{unit:"minute",value:ms/6e4};if(ms)return{unit:"hour",value:ms/36e5}}return dur.days?dur.specifiedWeeks&&dur.days%7==0?{unit:"week",value:dur.days/7}:{unit:"day",value:dur.days}:dur.months?{unit:"month",value:dur.months}:dur.years?{unit:"year",value:dur.years}:{unit:"millisecond",value:0}}function isArraysEqual(a0,a1,equalityFunc){if(a0===a1)return!0;let i,len=a0.length;if(len!==a1.length)return!1;for(i=0;i<len;i+=1)if(!(equalityFunc?equalityFunc(a0[i],a1[i]):a0[i]===a1[i]))return!1;return!0}const DAY_IDS=["sun","mon","tue","wed","thu","fri","sat"];function addWeeks(m,n){let a=dateToUtcArray(m);return a[2]+=7*n,arrayToUtcDate(a)}function addDays(m,n){let a=dateToUtcArray(m);return a[2]+=n,arrayToUtcDate(a)}function addMs(m,n){let a=dateToUtcArray(m);return a[6]+=n,arrayToUtcDate(a)}function diffWeeks(m0,m1){return diffDays(m0,m1)/7}function diffDays(m0,m1){return(m1.valueOf()-m0.valueOf())/864e5}function diffWholeDays(m0,m1){return timeAsMs(m0)===timeAsMs(m1)?Math.round(diffDays(m0,m1)):null}function startOfDay(m){return arrayToUtcDate([m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()])}function weekOfGivenYear(marker,year,dow,doy){let firstWeekStart=arrayToUtcDate([year,0,1+firstWeekOffset(year,dow,doy)]),dayStart=startOfDay(marker),days=Math.round(diffDays(firstWeekStart,dayStart));return Math.floor(days/7)+1}function firstWeekOffset(year,dow,doy){let fwd=7+dow-doy;return-((7+arrayToUtcDate([year,0,fwd]).getUTCDay()-dow)%7)+fwd-1}function dateToLocalArray(date){return[date.getFullYear(),date.getMonth(),date.getDate(),date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds()]}function arrayToLocalDate(a){return new Date(a[0],a[1]||0,null==a[2]?1:a[2],a[3]||0,a[4]||0,a[5]||0)}function dateToUtcArray(date){return[date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds(),date.getUTCMilliseconds()]}function arrayToUtcDate(a){return 1===a.length&&(a=a.concat([0])),new Date(Date.UTC(...a))}function isValidDate(m){return!isNaN(m.valueOf())}function timeAsMs(m){return 1e3*m.getUTCHours()*60*60+1e3*m.getUTCMinutes()*60+1e3*m.getUTCSeconds()+m.getUTCMilliseconds()}function buildIsoString(marker,timeZoneOffset,stripZeroTime=!1){let s=marker.toISOString();return s=s.replace(".000",""),stripZeroTime&&(s=s.replace("T00:00:00Z","")),s.length>10&&(null==timeZoneOffset?s=s.replace("Z",""):0!==timeZoneOffset&&(s=s.replace("Z",formatTimeZoneOffset(timeZoneOffset,!0)))),s}function formatDayString(marker){return marker.toISOString().replace(/T.*$/,"")}function formatIsoMonthStr(marker){return marker.toISOString().match(/^\d{4}-\d{2}/)[0]}function formatIsoTimeString(marker){return padStart(marker.getUTCHours(),2)+":"+padStart(marker.getUTCMinutes(),2)+":"+padStart(marker.getUTCSeconds(),2)}function formatTimeZoneOffset(minutes,doIso=!1){let sign=minutes<0?"-":"+",abs=Math.abs(minutes),hours=Math.floor(abs/60),mins=Math.round(abs%60);return doIso?`${sign+padStart(hours,2)}:${padStart(mins,2)}`:`GMT${sign}${hours}${mins?`:${padStart(mins,2)}`:""}`}function memoize(workerFunc,resEquality,teardownFunc){let currentArgs,currentRes;return function(...newArgs){if(currentArgs){if(!isArraysEqual(currentArgs,newArgs)){teardownFunc&&teardownFunc(currentRes);let res=workerFunc.apply(this,newArgs);resEquality&&resEquality(res,currentRes)||(currentRes=res)}}else currentRes=workerFunc.apply(this,newArgs);return currentArgs=newArgs,currentRes}}function memoizeObjArg(workerFunc,resEquality,teardownFunc){let currentArg,currentRes;return newArg=>{if(currentArg){if(!isPropsEqual(currentArg,newArg)){teardownFunc&&teardownFunc(currentRes);let res=workerFunc.call(this,newArg);resEquality&&resEquality(res,currentRes)||(currentRes=res)}}else currentRes=workerFunc.call(this,newArg);return currentArg=newArg,currentRes}}const EXTENDED_SETTINGS_AND_SEVERITIES={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},STANDARD_DATE_PROP_SEVERITIES={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},MERIDIEM_RE=/\s*([ap])\.?m\.?/i,COMMA_RE=/,/g,MULTI_SPACE_RE=/\s+/g,LTR_RE=/\u200e/g,UTC_RE=/UTC|GMT/;class NativeFormatter{constructor(formatSettings){let standardDateProps={},extendedSettings={},severity=0;for(let name in formatSettings)name in EXTENDED_SETTINGS_AND_SEVERITIES?(extendedSettings[name]=formatSettings[name],severity=Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name],severity)):(standardDateProps[name]=formatSettings[name],name in STANDARD_DATE_PROP_SEVERITIES&&(severity=Math.max(STANDARD_DATE_PROP_SEVERITIES[name],severity)));this.standardDateProps=standardDateProps,this.extendedSettings=extendedSettings,this.severity=severity,this.buildFormattingFunc=memoize(buildFormattingFunc)}format(date,context){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,context)(date)}formatRange(start,end,context,betterDefaultSeparator){let{standardDateProps,extendedSettings}=this,diffSeverity=function computeMarkerDiffSeverity(d0,d1,ca){if(ca.getMarkerYear(d0)!==ca.getMarkerYear(d1))return 5;if(ca.getMarkerMonth(d0)!==ca.getMarkerMonth(d1))return 4;if(ca.getMarkerDay(d0)!==ca.getMarkerDay(d1))return 2;if(timeAsMs(d0)!==timeAsMs(d1))return 1;return 0}(start.marker,end.marker,context.calendarSystem);if(!diffSeverity)return this.format(start,context);let biggestUnitForPartial=diffSeverity;!(biggestUnitForPartial>1)||"numeric"!==standardDateProps.year&&"2-digit"!==standardDateProps.year||"numeric"!==standardDateProps.month&&"2-digit"!==standardDateProps.month||"numeric"!==standardDateProps.day&&"2-digit"!==standardDateProps.day||(biggestUnitForPartial=1);let full0=this.format(start,context),full1=this.format(end,context);if(full0===full1)return full0;let partialFormattingFunc=buildFormattingFunc(function computePartialFormattingOptions(options,biggestUnit){let partialOptions={};for(let name in options)(!(name in STANDARD_DATE_PROP_SEVERITIES)||STANDARD_DATE_PROP_SEVERITIES[name]<=biggestUnit)&&(partialOptions[name]=options[name]);return partialOptions}(standardDateProps,biggestUnitForPartial),extendedSettings,context),partial0=partialFormattingFunc(start),partial1=partialFormattingFunc(end),insertion=function findCommonInsertion(full0,partial0,full1,partial1){let i0=0;for(;i0<full0.length;){let found0=full0.indexOf(partial0,i0);if(-1===found0)break;let before0=full0.substr(0,found0);i0=found0+partial0.length;let after0=full0.substr(i0),i1=0;for(;i1<full1.length;){let found1=full1.indexOf(partial1,i1);if(-1===found1)break;let before1=full1.substr(0,found1);i1=found1+partial1.length;let after1=full1.substr(i1);if(before0===before1&&after0===after1)return{before:before0,after:after0}}}return null}(full0,partial0,full1,partial1),separator=extendedSettings.separator||betterDefaultSeparator||context.defaultSeparator||"";return insertion?insertion.before+partial0+separator+partial1+insertion.after:full0+separator+full1}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function buildFormattingFunc(standardDateProps,extendedSettings,context){let standardDatePropCnt=Object.keys(standardDateProps).length;return 1===standardDatePropCnt&&"short"===standardDateProps.timeZoneName?date=>formatTimeZoneOffset(date.timeZoneOffset):0===standardDatePropCnt&&extendedSettings.week?date=>function formatWeekNumber(num,weekText,weekTextLong,locale,display){let parts=[];"long"===display?parts.push(weekTextLong):"short"!==display&&"narrow"!==display||parts.push(weekText);"long"!==display&&"short"!==display||parts.push(" ");parts.push(locale.simpleNumberFormat.format(num)),"rtl"===locale.options.direction&&parts.reverse();return parts.join("")}(context.computeWeekNumber(date.marker),context.weekText,context.weekTextLong,context.locale,extendedSettings.week):function buildNativeFormattingFunc(standardDateProps,extendedSettings,context){standardDateProps=Object.assign({},standardDateProps),extendedSettings=Object.assign({},extendedSettings),function sanitizeSettings(standardDateProps,extendedSettings){standardDateProps.timeZoneName&&(standardDateProps.hour||(standardDateProps.hour="2-digit"),standardDateProps.minute||(standardDateProps.minute="2-digit"));"long"===standardDateProps.timeZoneName&&(standardDateProps.timeZoneName="short");extendedSettings.omitZeroMinute&&(standardDateProps.second||standardDateProps.millisecond)&&delete extendedSettings.omitZeroMinute}(standardDateProps,extendedSettings),standardDateProps.timeZone="UTC";let zeroFormat,normalFormat=new Intl.DateTimeFormat(context.locale.codes,standardDateProps);if(extendedSettings.omitZeroMinute){let zeroProps=Object.assign({},standardDateProps);delete zeroProps.minute,zeroFormat=new Intl.DateTimeFormat(context.locale.codes,zeroProps)}return date=>{let format,{marker}=date;return format=zeroFormat&&!marker.getUTCMinutes()?zeroFormat:normalFormat,function postProcess(s,date,standardDateProps,extendedSettings,context){s=s.replace(LTR_RE,""),"short"===standardDateProps.timeZoneName&&(s=function injectTzoStr(s,tzoStr){let replaced=!1;s=s.replace(UTC_RE,(()=>(replaced=!0,tzoStr))),replaced||(s+=` ${tzoStr}`);return s}(s,"UTC"===context.timeZone||null==date.timeZoneOffset?"UTC":formatTimeZoneOffset(date.timeZoneOffset)));extendedSettings.omitCommas&&(s=s.replace(COMMA_RE,"").trim());extendedSettings.omitZeroMinute&&(s=s.replace(":00",""));!1===extendedSettings.meridiem?s=s.replace(MERIDIEM_RE,"").trim():"narrow"===extendedSettings.meridiem?s=s.replace(MERIDIEM_RE,((m0,m1)=>m1.toLocaleLowerCase())):"short"===extendedSettings.meridiem?s=s.replace(MERIDIEM_RE,((m0,m1)=>`${m1.toLocaleLowerCase()}m`)):"lowercase"===extendedSettings.meridiem&&(s=s.replace(MERIDIEM_RE,(m0=>m0.toLocaleLowerCase())));return s=s.replace(MULTI_SPACE_RE," "),s=s.trim(),s}(format.format(marker),date,standardDateProps,extendedSettings,context)}}(standardDateProps,extendedSettings,context)}function expandZonedMarker(dateInfo,calendarSystem){let a=calendarSystem.markerToArray(dateInfo.marker);return{marker:dateInfo.marker,timeZoneOffset:dateInfo.timeZoneOffset,array:a,year:a[0],month:a[1],day:a[2],hour:a[3],minute:a[4],second:a[5],millisecond:a[6]}}function createVerboseFormattingArg(start,end,context,betterDefaultSeparator){let startInfo=expandZonedMarker(start,context.calendarSystem);return{date:startInfo,start:startInfo,end:end?expandZonedMarker(end,context.calendarSystem):null,timeZone:context.timeZone,localeCodes:context.locale.codes,defaultSeparator:betterDefaultSeparator||context.defaultSeparator}}class CmdFormatter{constructor(cmdStr){this.cmdStr=cmdStr}format(date,context,betterDefaultSeparator){return context.cmdFormatter(this.cmdStr,createVerboseFormattingArg(date,null,context,betterDefaultSeparator))}formatRange(start,end,context,betterDefaultSeparator){return context.cmdFormatter(this.cmdStr,createVerboseFormattingArg(start,end,context,betterDefaultSeparator))}}class FuncFormatter{constructor(func){this.func=func}format(date,context,betterDefaultSeparator){return this.func(createVerboseFormattingArg(date,null,context,betterDefaultSeparator))}formatRange(start,end,context,betterDefaultSeparator){return this.func(createVerboseFormattingArg(start,end,context,betterDefaultSeparator))}}function createFormatter(input){return"object"==typeof input&&input?new NativeFormatter(input):"string"==typeof input?new CmdFormatter(input):"function"==typeof input?new FuncFormatter(input):null}const BASE_OPTION_REFINERS={navLinkDayClick:identity,navLinkWeekClick:identity,duration:createDuration,bootstrapFontAwesome:identity,buttonIcons:identity,customButtons:identity,defaultAllDayEventDuration:createDuration,defaultTimedEventDuration:createDuration,nextDayThreshold:createDuration,scrollTime:createDuration,scrollTimeReset:Boolean,slotMinTime:createDuration,slotMaxTime:createDuration,dayPopoverFormat:createFormatter,slotDuration:createDuration,snapDuration:createDuration,headerToolbar:identity,footerToolbar:identity,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:createFormatter,dayHeaderClassNames:identity,dayHeaderContent:identity,dayHeaderDidMount:identity,dayHeaderWillUnmount:identity,dayCellClassNames:identity,dayCellContent:identity,dayCellDidMount:identity,dayCellWillUnmount:identity,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:identity,weekNumbers:Boolean,weekNumberClassNames:identity,weekNumberContent:identity,weekNumberDidMount:identity,weekNumberWillUnmount:identity,editable:Boolean,viewClassNames:identity,viewDidMount:identity,viewWillUnmount:identity,nowIndicator:Boolean,nowIndicatorClassNames:identity,nowIndicatorContent:identity,nowIndicatorDidMount:identity,nowIndicatorWillUnmount:identity,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:identity,locale:identity,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:identity,eventOrder:function parseFieldSpecs(input){let i,token,specs=[],tokens=[];for("string"==typeof input?tokens=input.split(/\s*,\s*/):"function"==typeof input?tokens=[input]:Array.isArray(input)&&(tokens=input),i=0;i<tokens.length;i+=1)token=tokens[i],"string"==typeof token?specs.push("-"===token.charAt(0)?{field:token.substring(1),order:-1}:{field:token,order:1}):"function"==typeof token&&specs.push({func:token});return specs},eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:identity,contentHeight:identity,direction:String,weekNumberFormat:createFormatter,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:identity,initialDate:identity,now:identity,eventDataTransform:identity,stickyHeaderDates:identity,stickyFooterScrollbar:identity,viewHeight:identity,defaultAllDay:Boolean,eventSourceFailure:identity,eventSourceSuccess:identity,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:identity,eventConstraint:identity,eventAllow:identity,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:identity,eventContent:identity,eventDidMount:identity,eventWillUnmount:identity,selectConstraint:identity,selectOverlap:identity,selectAllow:identity,droppable:Boolean,unselectCancel:String,slotLabelFormat:identity,slotLaneClassNames:identity,slotLaneContent:identity,slotLaneDidMount:identity,slotLaneWillUnmount:identity,slotLabelClassNames:identity,slotLabelContent:identity,slotLabelDidMount:identity,slotLabelWillUnmount:identity,dayMaxEvents:identity,dayMaxEventRows:identity,dayMinWidth:Number,slotLabelInterval:createDuration,allDayText:String,allDayClassNames:identity,allDayContent:identity,allDayDidMount:identity,allDayWillUnmount:identity,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:createFormatter,rerenderDelay:Number,moreLinkText:identity,moreLinkHint:identity,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:identity,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:createDuration,hiddenDays:identity,fixedWeekCount:Boolean,validRange:identity,visibleRange:identity,titleFormat:identity,eventInteractive:Boolean,noEventsText:String,viewHint:identity,navLinkHint:identity,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:identity,moreLinkClassNames:identity,moreLinkContent:identity,moreLinkDidMount:identity,moreLinkWillUnmount:identity,monthStartFormat:createFormatter,handleCustomRendering:identity,customRenderingMetaMap:identity,customRenderingReplaces:Boolean},BASE_OPTION_DEFAULTS={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},CALENDAR_LISTENER_REFINERS={datesSet:identity,eventsSet:identity,eventAdd:identity,eventChange:identity,eventRemove:identity,windowResize:identity,eventClick:identity,eventMouseEnter:identity,eventMouseLeave:identity,select:identity,unselect:identity,loading:identity,_unmount:identity,_beforeprint:identity,_afterprint:identity,_noEventDrop:identity,_noEventResize:identity,_resize:identity,_scrollRequest:identity},CALENDAR_OPTION_REFINERS={buttonText:identity,buttonHints:identity,views:identity,plugins:identity,initialEvents:identity,events:identity,eventSources:identity},COMPLEX_OPTION_COMPARATORS={headerToolbar:isMaybeObjectsEqual,footerToolbar:isMaybeObjectsEqual,buttonText:isMaybeObjectsEqual,buttonHints:isMaybeObjectsEqual,buttonIcons:isMaybeObjectsEqual,dateIncrement:isMaybeObjectsEqual,plugins:isMaybeArraysEqual,events:isMaybeArraysEqual,eventSources:isMaybeArraysEqual,resources:isMaybeArraysEqual};function isMaybeObjectsEqual(a,b){return"object"==typeof a&&"object"==typeof b&&a&&b?isPropsEqual(a,b):a===b}function isMaybeArraysEqual(a,b){return Array.isArray(a)&&Array.isArray(b)?isArraysEqual(a,b):a===b}const VIEW_OPTION_REFINERS={type:String,component:identity,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:identity,usesMinMaxTime:Boolean,classNames:identity,content:identity,didMount:identity,willUnmount:identity};function mergeRawOptions(optionSets){return mergeProps(optionSets,COMPLEX_OPTION_COMPARATORS)}function refineProps(input,refiners){let refined={},extra={};for(let propName in refiners)propName in input&&(refined[propName]=refiners[propName](input[propName]));for(let propName in input)propName in refiners||(extra[propName]=input[propName]);return{refined,extra}}function identity(raw){return raw}const{hasOwnProperty}=Object.prototype;function mergeProps(propObjs,complexPropsMap){let dest={};if(complexPropsMap)for(let name in complexPropsMap)if(complexPropsMap[name]===isMaybeObjectsEqual){let complexObjs=[];for(let i=propObjs.length-1;i>=0;i-=1){let val=propObjs[i][name];if("object"==typeof val&&val)complexObjs.unshift(val);else if(void 0!==val){dest[name]=val;break}}complexObjs.length&&(dest[name]=mergeProps(complexObjs))}for(let i=propObjs.length-1;i>=0;i-=1){let props=propObjs[i];for(let name in props)name in dest||(dest[name]=props[name])}return dest}function filterHash(hash,func){let filtered={};for(let key in hash)func(hash[key],key)&&(filtered[key]=hash[key]);return filtered}function mapHash(hash,func){let newHash={};for(let key in hash)newHash[key]=func(hash[key],key);return newHash}function arrayToHash(a){let hash={};for(let item of a)hash[item]=!0;return hash}function hashValuesToArray(obj){let a=[];for(let key in obj)a.push(obj[key]);return a}function isPropsEqual(obj0,obj1){if(obj0===obj1)return!0;for(let key in obj0)if(hasOwnProperty.call(obj0,key)&&!(key in obj1))return!1;for(let key in obj1)if(hasOwnProperty.call(obj1,key)&&obj0[key]!==obj1[key])return!1;return!0}const HANDLER_RE=/^on[A-Z]/;function getUnequalProps(obj0,obj1){let keys=[];for(let key in obj0)hasOwnProperty.call(obj0,key)&&(key in obj1||keys.push(key));for(let key in obj1)hasOwnProperty.call(obj1,key)&&obj0[key]!==obj1[key]&&keys.push(key);return keys}function compareObjs(oldProps,newProps,equalityFuncs={}){if(oldProps===newProps)return!0;for(let key in newProps)if(!(key in oldProps)||!isObjValsEqual(oldProps[key],newProps[key],equalityFuncs[key]))return!1;for(let key in oldProps)if(!(key in newProps))return!1;return!0}function isObjValsEqual(val0,val1,comparator){return val0===val1||!0===comparator||!!comparator&&comparator(val0,val1)}let calendarSystemClassMap={};!function registerCalendarSystem(name,theClass){calendarSystemClassMap[name]=theClass}("gregory",class GregorianCalendarSystem{getMarkerYear(d){return d.getUTCFullYear()}getMarkerMonth(d){return d.getUTCMonth()}getMarkerDay(d){return d.getUTCDate()}arrayToMarker(arr){return arrayToUtcDate(arr)}markerToArray(marker){return dateToUtcArray(marker)}});const ISO_RE=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;class DateEnv{constructor(settings){let timeZone=this.timeZone=settings.timeZone,isNamedTimeZone="local"!==timeZone&&"UTC"!==timeZone;settings.namedTimeZoneImpl&&isNamedTimeZone&&(this.namedTimeZoneImpl=new settings.namedTimeZoneImpl(timeZone)),this.canComputeOffset=Boolean(!isNamedTimeZone||this.namedTimeZoneImpl),this.calendarSystem=function createCalendarSystem(name){return new calendarSystemClassMap[name]}(settings.calendarSystem),this.locale=settings.locale,this.weekDow=settings.locale.week.dow,this.weekDoy=settings.locale.week.doy,"ISO"===settings.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof settings.firstDay&&(this.weekDow=settings.firstDay),"function"==typeof settings.weekNumberCalculation&&(this.weekNumberFunc=settings.weekNumberCalculation),this.weekText=null!=settings.weekText?settings.weekText:settings.locale.options.weekText,this.weekTextLong=(null!=settings.weekTextLong?settings.weekTextLong:settings.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=settings.cmdFormatter,this.defaultSeparator=settings.defaultSeparator}createMarker(input){let meta=this.createMarkerMeta(input);return null===meta?null:meta.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):arrayToUtcDate(dateToLocalArray(new Date))}createMarkerMeta(input){if("string"==typeof input)return this.parse(input);let marker=null;return"number"==typeof input?marker=this.timestampToMarker(input):input instanceof Date?(input=input.valueOf(),isNaN(input)||(marker=this.timestampToMarker(input))):Array.isArray(input)&&(marker=arrayToUtcDate(input)),null!==marker&&isValidDate(marker)?{marker,isTimeUnspecified:!1,forcedTzo:null}:null}parse(s){let parts=function parse(str){let m=ISO_RE.exec(str);if(m){let marker=new Date(Date.UTC(Number(m[1]),m[3]?Number(m[3])-1:0,Number(m[5]||1),Number(m[7]||0),Number(m[8]||0),Number(m[10]||0),m[12]?1e3*Number(`0.${m[12]}`):0));if(isValidDate(marker)){let timeZoneOffset=null;return m[13]&&(timeZoneOffset=("-"===m[15]?-1:1)*(60*Number(m[16]||0)+Number(m[18]||0))),{marker,isTimeUnspecified:!m[6],timeZoneOffset}}}return null}(s);if(null===parts)return null;let{marker}=parts,forcedTzo=null;return null!==parts.timeZoneOffset&&(this.canComputeOffset?marker=this.timestampToMarker(marker.valueOf()-60*parts.timeZoneOffset*1e3):forcedTzo=parts.timeZoneOffset),{marker,isTimeUnspecified:parts.isTimeUnspecified,forcedTzo}}getYear(marker){return this.calendarSystem.getMarkerYear(marker)}getMonth(marker){return this.calendarSystem.getMarkerMonth(marker)}getDay(marker){return this.calendarSystem.getMarkerDay(marker)}add(marker,dur){let a=this.calendarSystem.markerToArray(marker);return a[0]+=dur.years,a[1]+=dur.months,a[2]+=dur.days,a[6]+=dur.milliseconds,this.calendarSystem.arrayToMarker(a)}subtract(marker,dur){let a=this.calendarSystem.markerToArray(marker);return a[0]-=dur.years,a[1]-=dur.months,a[2]-=dur.days,a[6]-=dur.milliseconds,this.calendarSystem.arrayToMarker(a)}addYears(marker,n){let a=this.calendarSystem.markerToArray(marker);return a[0]+=n,this.calendarSystem.arrayToMarker(a)}addMonths(marker,n){let a=this.calendarSystem.markerToArray(marker);return a[1]+=n,this.calendarSystem.arrayToMarker(a)}diffWholeYears(m0,m1){let{calendarSystem}=this;return timeAsMs(m0)===timeAsMs(m1)&&calendarSystem.getMarkerDay(m0)===calendarSystem.getMarkerDay(m1)&&calendarSystem.getMarkerMonth(m0)===calendarSystem.getMarkerMonth(m1)?calendarSystem.getMarkerYear(m1)-calendarSystem.getMarkerYear(m0):null}diffWholeMonths(m0,m1){let{calendarSystem}=this;return timeAsMs(m0)===timeAsMs(m1)&&calendarSystem.getMarkerDay(m0)===calendarSystem.getMarkerDay(m1)?calendarSystem.getMarkerMonth(m1)-calendarSystem.getMarkerMonth(m0)+12*(calendarSystem.getMarkerYear(m1)-calendarSystem.getMarkerYear(m0)):null}greatestWholeUnit(m0,m1){let n=this.diffWholeYears(m0,m1);return null!==n?{unit:"year",value:n}:(n=this.diffWholeMonths(m0,m1),null!==n?{unit:"month",value:n}:(n=function diffWholeWeeks(m0,m1){let d=diffWholeDays(m0,m1);return null!==d&&d%7==0?d/7:null}(m0,m1),null!==n?{unit:"week",value:n}:(n=diffWholeDays(m0,m1),null!==n?{unit:"day",value:n}:(n=function diffHours(m0,m1){return(m1.valueOf()-m0.valueOf())/36e5}(m0,m1),isInt(n)?{unit:"hour",value:n}:(n=function diffMinutes(m0,m1){return(m1.valueOf()-m0.valueOf())/6e4}(m0,m1),isInt(n)?{unit:"minute",value:n}:(n=function diffSeconds(m0,m1){return(m1.valueOf()-m0.valueOf())/1e3}(m0,m1),isInt(n)?{unit:"second",value:n}:{unit:"millisecond",value:m1.valueOf()-m0.valueOf()}))))))}countDurationsBetween(m0,m1,d){let diff;return d.years&&(diff=this.diffWholeYears(m0,m1),null!==diff)?diff/function asRoughYears(dur){return asRoughDays(dur)/365}(d):d.months&&(diff=this.diffWholeMonths(m0,m1),null!==diff)?diff/function asRoughMonths(dur){return asRoughDays(dur)/30}(d):d.days&&(diff=diffWholeDays(m0,m1),null!==diff)?diff/asRoughDays(d):(m1.valueOf()-m0.valueOf())/asRoughMs(d)}startOf(m,unit){return"year"===unit?this.startOfYear(m):"month"===unit?this.startOfMonth(m):"week"===unit?this.startOfWeek(m):"day"===unit?startOfDay(m):"hour"===unit?function startOfHour(m){return arrayToUtcDate([m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate(),m.getUTCHours()])}(m):"minute"===unit?function startOfMinute(m){return arrayToUtcDate([m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate(),m.getUTCHours(),m.getUTCMinutes()])}(m):"second"===unit?function startOfSecond(m){return arrayToUtcDate([m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate(),m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds()])}(m):null}startOfYear(m){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(m)])}startOfMonth(m){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(m),this.calendarSystem.getMarkerMonth(m)])}startOfWeek(m){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(m),this.calendarSystem.getMarkerMonth(m),m.getUTCDate()-(m.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(marker){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(marker)):function weekOfYear(marker,dow,doy){let y=marker.getUTCFullYear(),w=weekOfGivenYear(marker,y,dow,doy);if(w<1)return weekOfGivenYear(marker,y-1,dow,doy);let nextW=weekOfGivenYear(marker,y+1,dow,doy);return nextW>=1?Math.min(w,nextW):w}(marker,this.weekDow,this.weekDoy)}format(marker,formatter,dateOptions={}){return formatter.format({marker,timeZoneOffset:null!=dateOptions.forcedTzo?dateOptions.forcedTzo:this.offsetForMarker(marker)},this)}formatRange(start,end,formatter,dateOptions={}){return dateOptions.isEndExclusive&&(end=addMs(end,-1)),formatter.formatRange({marker:start,timeZoneOffset:null!=dateOptions.forcedStartTzo?dateOptions.forcedStartTzo:this.offsetForMarker(start)},{marker:end,timeZoneOffset:null!=dateOptions.forcedEndTzo?dateOptions.forcedEndTzo:this.offsetForMarker(end)},this,dateOptions.defaultSeparator)}formatIso(marker,extraOptions={}){let timeZoneOffset=null;return extraOptions.omitTimeZoneOffset||(timeZoneOffset=null!=extraOptions.forcedTzo?extraOptions.forcedTzo:this.offsetForMarker(marker)),buildIsoString(marker,timeZoneOffset,extraOptions.omitTime)}timestampToMarker(ms){return"local"===this.timeZone?arrayToUtcDate(dateToLocalArray(new Date(ms))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms)):new Date(ms)}offsetForMarker(m){return"local"===this.timeZone?-arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)):null}toDate(m,forcedTzo){return"local"===this.timeZone?arrayToLocalDate(dateToUtcArray(m)):"UTC"===this.timeZone?new Date(m.valueOf()):this.namedTimeZoneImpl?new Date(m.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m))*60):new Date(m.valueOf()-(forcedTzo||0))}}class Theme{constructor(calendarOptions){this.iconOverrideOption&&this.setIconOverride(calendarOptions[this.iconOverrideOption])}setIconOverride(iconOverrideHash){let iconClassesCopy,buttonName;if("object"==typeof iconOverrideHash&&iconOverrideHash){for(buttonName in iconClassesCopy=Object.assign({},this.iconClasses),iconOverrideHash)iconClassesCopy[buttonName]=this.applyIconOverridePrefix(iconOverrideHash[buttonName]);this.iconClasses=iconClassesCopy}else!1===iconOverrideHash&&(this.iconClasses={})}applyIconOverridePrefix(className){let prefix=this.iconOverridePrefix;return prefix&&0!==className.indexOf(prefix)&&(className=prefix+className),className}getClass(key){return this.classes[key]||""}getIconClass(buttonName,isRtl){let className;return className=isRtl&&this.rtlIconClasses&&this.rtlIconClasses[buttonName]||this.iconClasses[buttonName],className?`${this.baseIconClass} ${className}`:""}getCustomButtonIconClass(customButtonProps){let className;return this.iconOverrideCustomButtonOption&&(className=customButtonProps[this.iconOverrideCustomButtonOption],className)?`${this.baseIconClass} ${this.applyIconOverridePrefix(className)}`:""}}function flushSync(runBeforeFlush){runBeforeFlush();let oldDebounceRendering=preact__WEBPACK_IMPORTED_MODULE_0__.fF.debounceRendering,callbackQ=[];for(preact__WEBPACK_IMPORTED_MODULE_0__.fF.debounceRendering=function execCallbackSync(callback){callbackQ.push(callback)},preact__WEBPACK_IMPORTED_MODULE_0__.XX(preact__WEBPACK_IMPORTED_MODULE_0__.n(FakeComponent,{}),document.createElement("div"));callbackQ.length;)callbackQ.shift()();preact__WEBPACK_IMPORTED_MODULE_0__.fF.debounceRendering=oldDebounceRendering}Theme.prototype.classes={},Theme.prototype.iconClasses={},Theme.prototype.baseIconClass="",Theme.prototype.iconOverridePrefix="";class FakeComponent extends preact__WEBPACK_IMPORTED_MODULE_0__.uA{render(){return preact__WEBPACK_IMPORTED_MODULE_0__.n("div",{})}componentDidMount(){this.setState({})}}function createContext(defaultValue){let ContextType=preact__WEBPACK_IMPORTED_MODULE_0__.q6(defaultValue),origProvider=ContextType.Provider;return ContextType.Provider=function(){let isNew=!this.getChildContext,children=origProvider.apply(this,arguments);if(isNew){let subs=[];this.shouldComponentUpdate=_props=>{this.props.value!==_props.value&&subs.forEach((c=>{c.context=_props.value,c.forceUpdate()}))},this.sub=c=>{subs.push(c);let old=c.componentWillUnmount;c.componentWillUnmount=()=>{subs.splice(subs.indexOf(c),1),old&&old.call(c)}}}return children},ContextType}class ScrollResponder{constructor(execFunc,emitter,scrollTime,scrollTimeReset){this.execFunc=execFunc,this.emitter=emitter,this.scrollTime=scrollTime,this.scrollTimeReset=scrollTimeReset,this.handleScrollRequest=request=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},request),this.drain()},emitter.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(isDatesNew){isDatesNew&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const ViewContextType=createContext({});function buildViewContext(viewSpec,viewApi,viewOptions,dateProfileGenerator,dateEnv,theme,pluginHooks,dispatch,getCurrentData,emitter,calendarApi,registerInteractiveComponent,unregisterInteractiveComponent){return{dateEnv,options:viewOptions,pluginHooks,emitter,dispatch,getCurrentData,calendarApi,viewSpec,viewApi,dateProfileGenerator,theme,isRtl:"rtl"===viewOptions.direction,addResizeHandler(handler){emitter.on("_resize",handler)},removeResizeHandler(handler){emitter.off("_resize",handler)},createScrollResponder:execFunc=>new ScrollResponder(execFunc,emitter,createDuration(viewOptions.scrollTime),viewOptions.scrollTimeReset),registerInteractiveComponent,unregisterInteractiveComponent}}class PureComponent extends preact__WEBPACK_IMPORTED_MODULE_0__.uA{shouldComponentUpdate(nextProps,nextState){return this.debug&&console.log(getUnequalProps(nextProps,this.props),getUnequalProps(nextState,this.state)),!compareObjs(this.props,nextProps,this.propEquality)||!compareObjs(this.state,nextState,this.stateEquality)}safeSetState(newState){compareObjs(this.state,Object.assign(Object.assign({},this.state),newState),this.stateEquality)||this.setState(newState)}}PureComponent.addPropsEquality=function addPropsEquality(propEquality){let hash=Object.create(this.prototype.propEquality);Object.assign(hash,propEquality),this.prototype.propEquality=hash},PureComponent.addStateEquality=function addStateEquality(stateEquality){let hash=Object.create(this.prototype.stateEquality);Object.assign(hash,stateEquality),this.prototype.stateEquality=hash},PureComponent.contextType=ViewContextType,PureComponent.prototype.propEquality={},PureComponent.prototype.stateEquality={};class BaseComponent extends PureComponent{}function setRef(ref,current){"function"==typeof ref?ref(current):ref&&(ref.current=current)}BaseComponent.contextType=ViewContextType;class ContentInjector extends BaseComponent{constructor(){super(...arguments),this.id=guid(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=el=>{const{options}=this.context,{generatorName}=this.props;options.customRenderingReplaces&&hasCustomRenderingHandler(generatorName,options)||this.updateElRef(el)},this.updateElRef=el=>{this.props.elRef&&setRef(this.props.elRef,el)}}render(){const{props,context}=this,{options}=context,{customGenerator,defaultGenerator,renderProps}=props,attrs=buildElAttrs(props,[],this.handleEl);let innerContent,currentGeneratorMeta,useDefault=!1,queuedDomNodes=[];if(null!=customGenerator){const customGeneratorRes="function"==typeof customGenerator?customGenerator(renderProps,preact__WEBPACK_IMPORTED_MODULE_0__.n):customGenerator;if(!0===customGeneratorRes)useDefault=!0;else{const isObject=customGeneratorRes&&"object"==typeof customGeneratorRes;isObject&&"html"in customGeneratorRes?attrs.dangerouslySetInnerHTML={__html:customGeneratorRes.html}:isObject&&"domNodes"in customGeneratorRes?queuedDomNodes=Array.prototype.slice.call(customGeneratorRes.domNodes):(isObject?(0,preact__WEBPACK_IMPORTED_MODULE_0__.zO)(customGeneratorRes):"function"!=typeof customGeneratorRes)?innerContent=customGeneratorRes:currentGeneratorMeta=customGeneratorRes}}else useDefault=!hasCustomRenderingHandler(props.generatorName,options);return useDefault&&defaultGenerator&&(innerContent=defaultGenerator(renderProps)),this.queuedDomNodes=queuedDomNodes,this.currentGeneratorMeta=currentGeneratorMeta,(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(props.elTag,attrs,innerContent)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(isActive){var _a;const{props,context}=this,{handleCustomRendering,customRenderingMetaMap}=context.options;if(handleCustomRendering){const generatorMeta=null!==(_a=this.currentGeneratorMeta)&&void 0!==_a?_a:null==customRenderingMetaMap?void 0:customRenderingMetaMap[props.generatorName];generatorMeta&&handleCustomRendering(Object.assign(Object.assign({id:this.id,isActive,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta},props),{elClasses:(props.elClasses||[]).filter(isTruthy)}))}}applyQueueudDomNodes(){const{queuedDomNodes,currentDomNodes}=this,el=this.base;if(!isArraysEqual(queuedDomNodes,currentDomNodes)){currentDomNodes.forEach(removeElement);for(let newNode of queuedDomNodes)el.appendChild(newNode);this.currentDomNodes=queuedDomNodes}}}function hasCustomRenderingHandler(generatorName,options){var _a;return Boolean(options.handleCustomRendering&&generatorName&&(null===(_a=options.customRenderingMetaMap)||void 0===_a?void 0:_a[generatorName]))}function buildElAttrs(props,extraClassNames,elRef){const attrs=Object.assign(Object.assign({},props.elAttrs),{ref:elRef});return(props.elClasses||extraClassNames)&&(attrs.className=(props.elClasses||[]).concat(extraClassNames||[]).concat(attrs.className||[]).filter(Boolean).join(" ")),props.elStyle&&(attrs.style=props.elStyle),attrs}function isTruthy(val){return Boolean(val)}ContentInjector.addPropsEquality({elClasses:isArraysEqual,elStyle:isPropsEqual,elAttrs:function isNonHandlerPropsEqual(obj0,obj1){const keys=getUnequalProps(obj0,obj1);for(let key of keys)if(!HANDLER_RE.test(key))return!1;return!0},renderProps:isPropsEqual});const RenderId=createContext(0);class ContentContainer extends preact__WEBPACK_IMPORTED_MODULE_0__.uA{constructor(){super(...arguments),this.InnerContent=InnerContentInjector.bind(void 0,this),this.handleEl=el=>{this.el=el,this.props.elRef&&(setRef(this.props.elRef,el),el&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props}=this,generatedClassNames=function generateClassNames(classNameGenerator,renderProps){const classNames="function"==typeof classNameGenerator?classNameGenerator(renderProps):classNameGenerator||[];return"string"==typeof classNames?[classNames]:classNames}(props.classNameGenerator,props.renderProps);if(props.children){const elAttrs=buildElAttrs(props,generatedClassNames,this.handleEl),children=props.children(this.InnerContent,props.renderProps,elAttrs);return props.elTag?(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(props.elTag,elAttrs,children):children}return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(ContentInjector,Object.assign(Object.assign({},props),{elRef:this.handleEl,elTag:props.elTag||"div",elClasses:(props.elClasses||[]).concat(generatedClassNames),renderId:this.context}))}componentDidMount(){var _a,_b;this.el?null===(_b=(_a=this.props).didMount)||void 0===_b||_b.call(_a,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var _a,_b;null===(_b=(_a=this.props).willUnmount)||void 0===_b||_b.call(_a,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}function InnerContentInjector(containerComponent,props){const parentProps=containerComponent.props;return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(ContentInjector,Object.assign({renderProps:parentProps.renderProps,generatorName:parentProps.generatorName,customGenerator:parentProps.customGenerator,defaultGenerator:parentProps.defaultGenerator,renderId:containerComponent.context},props))}ContentContainer.contextType=RenderId;class ViewContainer extends BaseComponent{render(){let{props,context}=this,{options}=context,renderProps={view:context.viewApi};return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(ContentContainer,Object.assign({},props,{elTag:props.elTag||"div",elClasses:[...buildViewClassNames(props.viewSpec),...props.elClasses||[]],renderProps,classNameGenerator:options.viewClassNames,generatorName:void 0,didMount:options.viewDidMount,willUnmount:options.viewWillUnmount}),(()=>props.children))}}function buildViewClassNames(viewSpec){return[`fc-${viewSpec.type}-view`,"fc-view"]}function invertRanges(ranges,constraintRange){let i,dateRange,invertedRanges=[],{start}=constraintRange;for(ranges.sort(compareRanges),i=0;i<ranges.length;i+=1)dateRange=ranges[i],dateRange.start>start&&invertedRanges.push({start,end:dateRange.start}),dateRange.end>start&&(start=dateRange.end);return start<constraintRange.end&&invertedRanges.push({start,end:constraintRange.end}),invertedRanges}function compareRanges(range0,range1){return range0.start.valueOf()-range1.start.valueOf()}function intersectRanges(range0,range1){let{start,end}=range0,newRange=null;return null!==range1.start&&(start=null===start?range1.start:new Date(Math.max(start.valueOf(),range1.start.valueOf()))),null!=range1.end&&(end=null===end?range1.end:new Date(Math.min(end.valueOf(),range1.end.valueOf()))),(null===start||null===end||start<end)&&(newRange={start,end}),newRange}function rangesIntersect(range0,range1){return(null===range0.end||null===range1.start||range0.end>range1.start)&&(null===range0.start||null===range1.end||range0.start<range1.end)}function rangeContainsRange(outerRange,innerRange){return(null===outerRange.start||null!==innerRange.start&&innerRange.start>=outerRange.start)&&(null===outerRange.end||null!==innerRange.end&&innerRange.end<=outerRange.end)}function rangeContainsMarker(range,date){return(null===range.start||date>=range.start)&&(null===range.end||date<range.end)}function computeAlignedDayRange(timedRange){let dayCnt=Math.floor(diffDays(timedRange.start,timedRange.end))||1,start=startOfDay(timedRange.start);return{start,end:addDays(start,dayCnt)}}function computeVisibleDayRange(timedRange,nextDayThreshold=createDuration(0)){let startDay=null,endDay=null;if(timedRange.end){endDay=startOfDay(timedRange.end);let endTimeMS=timedRange.end.valueOf()-endDay.valueOf();endTimeMS&&endTimeMS>=asRoughMs(nextDayThreshold)&&(endDay=addDays(endDay,1))}return timedRange.start&&(startDay=startOfDay(timedRange.start),endDay&&endDay<=startDay&&(endDay=addDays(startDay,1))),{start:startDay,end:endDay}}function diffDates(date0,date1,dateEnv,largeUnit){return"year"===largeUnit?createDuration(dateEnv.diffWholeYears(date0,date1),"year"):"month"===largeUnit?createDuration(dateEnv.diffWholeMonths(date0,date1),"month"):function diffDayAndTime(m0,m1){let m0day=startOfDay(m0),m1day=startOfDay(m1);return{years:0,months:0,days:Math.round(diffDays(m0day,m1day)),milliseconds:m1.valueOf()-m1day.valueOf()-(m0.valueOf()-m0day.valueOf())}}(date0,date1)}function reduceCurrentDate(currentDate,action){return"CHANGE_DATE"===action.type?action.dateMarker:currentDate}function getInitialDate(options,dateEnv){let initialDateInput=options.initialDate;return null!=initialDateInput?dateEnv.createMarker(initialDateInput):getNow(options.now,dateEnv)}function getNow(nowInput,dateEnv){return"function"==typeof nowInput&&(nowInput=nowInput()),null==nowInput?dateEnv.createNowMarker():dateEnv.createMarker(nowInput)}class DateProfileGenerator{constructor(props){this.props=props,this.nowDate=getNow(props.nowInput,props.dateEnv),this.initHiddenDays()}buildPrev(currentDateProfile,currentDate,forceToValid){let{dateEnv}=this.props,prevDate=dateEnv.subtract(dateEnv.startOf(currentDate,currentDateProfile.currentRangeUnit),currentDateProfile.dateIncrement);return this.build(prevDate,-1,forceToValid)}buildNext(currentDateProfile,currentDate,forceToValid){let{dateEnv}=this.props,nextDate=dateEnv.add(dateEnv.startOf(currentDate,currentDateProfile.currentRangeUnit),currentDateProfile.dateIncrement);return this.build(nextDate,1,forceToValid)}build(currentDate,direction,forceToValid=!0){let validRange,currentInfo,isRangeAllDay,renderRange,activeRange,isValid,{props}=this;return validRange=this.buildValidRange(),validRange=this.trimHiddenDays(validRange),forceToValid&&(currentDate=function constrainMarkerToRange(date,range){return null!=range.start&&date<range.start?range.start:null!=range.end&&date>=range.end?new Date(range.end.valueOf()-1):date}(currentDate,validRange)),currentInfo=this.buildCurrentRangeInfo(currentDate,direction),isRangeAllDay=/^(year|month|week|day)$/.test(currentInfo.unit),renderRange=this.buildRenderRange(this.trimHiddenDays(currentInfo.range),currentInfo.unit,isRangeAllDay),renderRange=this.trimHiddenDays(renderRange),activeRange=renderRange,props.showNonCurrentDates||(activeRange=intersectRanges(activeRange,currentInfo.range)),activeRange=this.adjustActiveRange(activeRange),activeRange=intersectRanges(activeRange,validRange),isValid=rangesIntersect(currentInfo.range,validRange),rangeContainsMarker(renderRange,currentDate)||(currentDate=renderRange.start),{currentDate,validRange,currentRange:currentInfo.range,currentRangeUnit:currentInfo.unit,isRangeAllDay,activeRange,renderRange,slotMinTime:props.slotMinTime,slotMaxTime:props.slotMaxTime,isValid,dateIncrement:this.buildDateIncrement(currentInfo.duration)}}buildValidRange(){let input=this.props.validRangeInput,simpleInput="function"==typeof input?input.call(this.props.calendarApi,this.nowDate):input;return this.refineRange(simpleInput)||{start:null,end:null}}buildCurrentRangeInfo(date,direction){let dayCount,{props}=this,duration=null,unit=null,range=null;return props.duration?(duration=props.duration,unit=props.durationUnit,range=this.buildRangeFromDuration(date,direction,duration,unit)):(dayCount=this.props.dayCount)?(unit="day",range=this.buildRangeFromDayCount(date,direction,dayCount)):(range=this.buildCustomVisibleRange(date))?unit=props.dateEnv.greatestWholeUnit(range.start,range.end).unit:(duration=this.getFallbackDuration(),unit=greatestDurationDenominator(duration).unit,range=this.buildRangeFromDuration(date,direction,duration,unit)),{duration,unit,range}}getFallbackDuration(){return createDuration({day:1})}adjustActiveRange(range){let{dateEnv,usesMinMaxTime,slotMinTime,slotMaxTime}=this.props,{start,end}=range;return usesMinMaxTime&&(asRoughDays(slotMinTime)<0&&(start=startOfDay(start),start=dateEnv.add(start,slotMinTime)),asRoughDays(slotMaxTime)>1&&(end=startOfDay(end),end=addDays(end,-1),end=dateEnv.add(end,slotMaxTime))),{start,end}}buildRangeFromDuration(date,direction,duration,unit){let start,end,res,{dateEnv,dateAlignment}=this.props;if(!dateAlignment){let{dateIncrement}=this.props;dateAlignment=dateIncrement&&asRoughMs(dateIncrement)<asRoughMs(duration)?greatestDurationDenominator(dateIncrement).unit:unit}function computeRes(){start=dateEnv.startOf(date,dateAlignment),end=dateEnv.add(start,duration),res={start,end}}return asRoughDays(duration)<=1&&this.isHiddenDay(start)&&(start=this.skipHiddenDays(start,direction),start=startOfDay(start)),computeRes(),this.trimHiddenDays(res)||(date=this.skipHiddenDays(date,direction),computeRes()),res}buildRangeFromDayCount(date,direction,dayCount){let end,{dateEnv,dateAlignment}=this.props,runningCount=0,start=date;dateAlignment&&(start=dateEnv.startOf(start,dateAlignment)),start=startOfDay(start),start=this.skipHiddenDays(start,direction),end=start;do{end=addDays(end,1),this.isHiddenDay(end)||(runningCount+=1)}while(runningCount<dayCount);return{start,end}}buildCustomVisibleRange(date){let{props}=this,input=props.visibleRangeInput,simpleInput="function"==typeof input?input.call(props.calendarApi,props.dateEnv.toDate(date)):input,range=this.refineRange(simpleInput);return!range||null!=range.start&&null!=range.end?range:null}buildRenderRange(currentRange,currentRangeUnit,isRangeAllDay){return currentRange}buildDateIncrement(fallback){let customAlignment,{dateIncrement}=this.props;return dateIncrement||((customAlignment=this.props.dateAlignment)?createDuration(1,customAlignment):fallback||createDuration({days:1}))}refineRange(rangeInput){if(rangeInput){let range=function parseRange(input,dateEnv){let start=null,end=null;return input.start&&(start=dateEnv.createMarker(input.start)),input.end&&(end=dateEnv.createMarker(input.end)),start||end?start&&end&&end<start?null:{start,end}:null}(rangeInput,this.props.dateEnv);return range&&(range=computeVisibleDayRange(range)),range}return null}initHiddenDays(){let i,hiddenDays=this.props.hiddenDays||[],isHiddenDayHash=[],dayCnt=0;for(!1===this.props.weekends&&hiddenDays.push(0,6),i=0;i<7;i+=1)(isHiddenDayHash[i]=-1!==hiddenDays.indexOf(i))||(dayCnt+=1);if(!dayCnt)throw new Error("invalid hiddenDays");this.isHiddenDayHash=isHiddenDayHash}trimHiddenDays(range){let{start,end}=range;return start&&(start=this.skipHiddenDays(start)),end&&(end=this.skipHiddenDays(end,-1,!0)),null==start||null==end||start<end?{start,end}:null}isHiddenDay(day){return day instanceof Date&&(day=day.getUTCDay()),this.isHiddenDayHash[day]}skipHiddenDays(date,inc=1,isExclusive=!1){for(;this.isHiddenDayHash[(date.getUTCDay()+(isExclusive?inc:0)+7)%7];)date=addDays(date,inc);return date}}function createEventInstance(defId,range,forcedStartTzo,forcedEndTzo){return{instanceId:guid(),defId,range,forcedStartTzo:null==forcedStartTzo?null:forcedStartTzo,forcedEndTzo:null==forcedEndTzo?null:forcedEndTzo}}function expandRecurring(eventStore,framingRange,context){let{dateEnv,pluginHooks,options}=context,{defs,instances}=eventStore;instances=filterHash(instances,(instance=>!defs[instance.defId].recurringDef));for(let defId in defs){let def=defs[defId];if(def.recurringDef){let{duration}=def.recurringDef;duration||(duration=def.allDay?options.defaultAllDayEventDuration:options.defaultTimedEventDuration);let starts=expandRecurringRanges(def,duration,framingRange,dateEnv,pluginHooks.recurringTypes);for(let start of starts){let instance=createEventInstance(defId,{start,end:dateEnv.add(start,duration)});instances[instance.instanceId]=instance}}}return{defs,instances}}function expandRecurringRanges(eventDef,duration,framingRange,dateEnv,recurringTypes){let markers=recurringTypes[eventDef.recurringDef.typeId].expand(eventDef.recurringDef.typeData,{start:dateEnv.subtract(framingRange.start,duration),end:framingRange.end},dateEnv);return eventDef.allDay&&(markers=markers.map(startOfDay)),markers}const EVENT_NON_DATE_REFINERS={id:String,groupId:String,title:String,url:String,interactive:Boolean},EVENT_DATE_REFINERS={start:identity,end:identity,date:identity,allDay:Boolean},EVENT_REFINERS=Object.assign(Object.assign(Object.assign({},EVENT_NON_DATE_REFINERS),EVENT_DATE_REFINERS),{extendedProps:identity});function parseEvent(raw,eventSource,context,allowOpenRange,refiners=buildEventRefiners(context),defIdMap,instanceIdMap){let{refined,extra}=refineEventDef(raw,context,refiners),defaultAllDay=function computeIsDefaultAllDay(eventSource,context){let res=null;eventSource&&(res=eventSource.defaultAllDay);null==res&&(res=context.options.defaultAllDay);return res}(eventSource,context),recurringRes=function parseRecurring(refined,defaultAllDay,dateEnv,recurringTypes){for(let i=0;i<recurringTypes.length;i+=1){let parsed=recurringTypes[i].parse(refined,dateEnv);if(parsed){let{allDay}=refined;return null==allDay&&(allDay=defaultAllDay,null==allDay&&(allDay=parsed.allDayGuess,null==allDay&&(allDay=!1))),{allDay,duration:parsed.duration,typeData:parsed.typeData,typeId:i}}}return null}(refined,defaultAllDay,context.dateEnv,context.pluginHooks.recurringTypes);if(recurringRes){let def=parseEventDef(refined,extra,eventSource?eventSource.sourceId:"",recurringRes.allDay,Boolean(recurringRes.duration),context,defIdMap);return def.recurringDef={typeId:recurringRes.typeId,typeData:recurringRes.typeData,duration:recurringRes.duration},{def,instance:null}}let singleRes=function parseSingle(refined,defaultAllDay,context,allowOpenRange){let startMeta,endMeta,{allDay}=refined,startMarker=null,hasEnd=!1,endMarker=null,startInput=null!=refined.start?refined.start:refined.date;if(startMeta=context.dateEnv.createMarkerMeta(startInput),startMeta)startMarker=startMeta.marker;else if(!allowOpenRange)return null;null!=refined.end&&(endMeta=context.dateEnv.createMarkerMeta(refined.end));null==allDay&&(allDay=null!=defaultAllDay?defaultAllDay:(!startMeta||startMeta.isTimeUnspecified)&&(!endMeta||endMeta.isTimeUnspecified));allDay&&startMarker&&(startMarker=startOfDay(startMarker));endMeta&&(endMarker=endMeta.marker,allDay&&(endMarker=startOfDay(endMarker)),startMarker&&endMarker<=startMarker&&(endMarker=null));endMarker?hasEnd=!0:allowOpenRange||(hasEnd=context.options.forceEventDuration||!1,endMarker=context.dateEnv.add(startMarker,allDay?context.options.defaultAllDayEventDuration:context.options.defaultTimedEventDuration));return{allDay,hasEnd,range:{start:startMarker,end:endMarker},forcedStartTzo:startMeta?startMeta.forcedTzo:null,forcedEndTzo:endMeta?endMeta.forcedTzo:null}}(refined,defaultAllDay,context,allowOpenRange);if(singleRes){let def=parseEventDef(refined,extra,eventSource?eventSource.sourceId:"",singleRes.allDay,singleRes.hasEnd,context,defIdMap),instance=createEventInstance(def.defId,singleRes.range,singleRes.forcedStartTzo,singleRes.forcedEndTzo);return instanceIdMap&&def.publicId&&instanceIdMap[def.publicId]&&(instance.instanceId=instanceIdMap[def.publicId]),{def,instance}}return null}function refineEventDef(raw,context,refiners=buildEventRefiners(context)){return refineProps(raw,refiners)}function buildEventRefiners(context){return Object.assign(Object.assign(Object.assign({},EVENT_UI_REFINERS),EVENT_REFINERS),context.pluginHooks.eventRefiners)}function parseEventDef(refined,extra,sourceId,allDay,hasEnd,context,defIdMap){let def={title:refined.title||"",groupId:refined.groupId||"",publicId:refined.id||"",url:refined.url||"",recurringDef:null,defId:(defIdMap&&refined.id?defIdMap[refined.id]:"")||guid(),sourceId,allDay,hasEnd,interactive:refined.interactive,ui:createEventUi(refined,context),extendedProps:Object.assign(Object.assign({},refined.extendedProps||{}),extra)};for(let memberAdder of context.pluginHooks.eventDefMemberAdders)Object.assign(def,memberAdder(refined));return Object.freeze(def.ui.classNames),Object.freeze(def.extendedProps),def}function parseEvents(rawEvents,eventSource,context,allowOpenRange,defIdMap,instanceIdMap){let eventStore={defs:{},instances:{}},eventRefiners=buildEventRefiners(context);for(let rawEvent of rawEvents){let tuple=parseEvent(rawEvent,eventSource,context,allowOpenRange,eventRefiners,defIdMap,instanceIdMap);tuple&&eventTupleToStore(tuple,eventStore)}return eventStore}function eventTupleToStore(tuple,eventStore={defs:{},instances:{}}){return eventStore.defs[tuple.def.defId]=tuple.def,tuple.instance&&(eventStore.instances[tuple.instance.instanceId]=tuple.instance),eventStore}function getRelevantEvents(eventStore,instanceId){let instance=eventStore.instances[instanceId];if(instance){let def=eventStore.defs[instance.defId],newStore=filterEventStoreDefs(eventStore,(lookDef=>function isEventDefsGrouped(def0,def1){return Boolean(def0.groupId&&def0.groupId===def1.groupId)}(def,lookDef)));return newStore.defs[def.defId]=def,newStore.instances[instance.instanceId]=instance,newStore}return{defs:{},instances:{}}}function createEmptyEventStore(){return{defs:{},instances:{}}}function mergeEventStores(store0,store1){return{defs:Object.assign(Object.assign({},store0.defs),store1.defs),instances:Object.assign(Object.assign({},store0.instances),store1.instances)}}function filterEventStoreDefs(eventStore,filterFunc){let defs=filterHash(eventStore.defs,filterFunc),instances=filterHash(eventStore.instances,(instance=>defs[instance.defId]));return{defs,instances}}function parseClassNames(raw){return Array.isArray(raw)?raw:"string"==typeof raw?raw.split(/\s+/):[]}const EVENT_UI_REFINERS={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:identity,overlap:identity,allow:identity,className:parseClassNames,classNames:parseClassNames,color:String,backgroundColor:String,borderColor:String,textColor:String},EMPTY_EVENT_UI={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function createEventUi(refined,context){let constraint=function normalizeConstraint(input,context){return Array.isArray(input)?parseEvents(input,null,context,!0):"object"==typeof input&&input?parseEvents([input],null,context,!0):null!=input?String(input):null}(refined.constraint,context);return{display:refined.display||null,startEditable:null!=refined.startEditable?refined.startEditable:refined.editable,durationEditable:null!=refined.durationEditable?refined.durationEditable:refined.editable,constraints:null!=constraint?[constraint]:[],overlap:null!=refined.overlap?refined.overlap:null,allows:null!=refined.allow?[refined.allow]:[],backgroundColor:refined.backgroundColor||refined.color||"",borderColor:refined.borderColor||refined.color||"",textColor:refined.textColor||"",classNames:(refined.className||[]).concat(refined.classNames||[])}}function combineEventUis(uis){return uis.reduce(combineTwoEventUis,EMPTY_EVENT_UI)}function combineTwoEventUis(item0,item1){return{display:null!=item1.display?item1.display:item0.display,startEditable:null!=item1.startEditable?item1.startEditable:item0.startEditable,durationEditable:null!=item1.durationEditable?item1.durationEditable:item0.durationEditable,constraints:item0.constraints.concat(item1.constraints),overlap:"boolean"==typeof item1.overlap?item1.overlap:item0.overlap,allows:item0.allows.concat(item1.allows),backgroundColor:item1.backgroundColor||item0.backgroundColor,borderColor:item1.borderColor||item0.borderColor,textColor:item1.textColor||item0.textColor,classNames:item0.classNames.concat(item1.classNames)}}const EVENT_SOURCE_REFINERS={id:String,defaultAllDay:Boolean,url:String,format:String,events:identity,eventDataTransform:identity,success:identity,failure:identity};function parseEventSource(raw,context,refiners=buildEventSourceRefiners(context)){let rawObj;if("string"==typeof raw?rawObj={url:raw}:"function"==typeof raw||Array.isArray(raw)?rawObj={events:raw}:"object"==typeof raw&&raw&&(rawObj=raw),rawObj){let{refined,extra}=refineProps(rawObj,refiners),metaRes=function buildEventSourceMeta(raw,context){let defs=context.pluginHooks.eventSourceDefs;for(let i=defs.length-1;i>=0;i-=1){let meta=defs[i].parseMeta(raw);if(meta)return{sourceDefId:i,meta}}return null}(refined,context);if(metaRes)return{_raw:raw,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:refined.defaultAllDay,eventDataTransform:refined.eventDataTransform,success:refined.success,failure:refined.failure,publicId:refined.id||"",sourceId:guid(),sourceDefId:metaRes.sourceDefId,meta:metaRes.meta,ui:createEventUi(refined,context),extendedProps:extra}}return null}function buildEventSourceRefiners(context){return Object.assign(Object.assign(Object.assign({},EVENT_UI_REFINERS),EVENT_SOURCE_REFINERS),context.pluginHooks.eventSourceRefiners)}function reduceEventStore(eventStore,action,eventSources,dateProfile,context){switch(action.type){case"RECEIVE_EVENTS":return function receiveRawEvents(eventStore,eventSource,fetchId,fetchRange,rawEvents,context){if(eventSource&&fetchId===eventSource.latestFetchId){let subset=parseEvents(transformRawEvents(rawEvents,eventSource,context),eventSource,context);return fetchRange&&(subset=expandRecurring(subset,fetchRange,context)),mergeEventStores(excludeEventsBySourceId(eventStore,eventSource.sourceId),subset)}return eventStore}(eventStore,eventSources[action.sourceId],action.fetchId,action.fetchRange,action.rawEvents,context);case"RESET_RAW_EVENTS":return function resetRawEvents(existingEventStore,eventSource,rawEvents,activeRange,context){const{defIdMap,instanceIdMap}=function buildPublicIdMaps(eventStore){const{defs,instances}=eventStore,defIdMap={},instanceIdMap={};for(let defId in defs){const def=defs[defId],{publicId}=def;publicId&&(defIdMap[publicId]=defId)}for(let instanceId in instances){const def=defs[instances[instanceId].defId],{publicId}=def;publicId&&(instanceIdMap[publicId]=instanceId)}return{defIdMap,instanceIdMap}}(existingEventStore);let newEventStore=parseEvents(transformRawEvents(rawEvents,eventSource,context),eventSource,context,!1,defIdMap,instanceIdMap);return expandRecurring(newEventStore,activeRange,context)}(eventStore,eventSources[action.sourceId],action.rawEvents,dateProfile.activeRange,context);case"ADD_EVENTS":return function addEvent(eventStore,subset,expandRange,context){expandRange&&(subset=expandRecurring(subset,expandRange,context));return mergeEventStores(eventStore,subset)}(eventStore,action.eventStore,dateProfile?dateProfile.activeRange:null,context);case"RESET_EVENTS":return action.eventStore;case"MERGE_EVENTS":return mergeEventStores(eventStore,action.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return dateProfile?expandRecurring(eventStore,dateProfile.activeRange,context):eventStore;case"REMOVE_EVENTS":return function excludeSubEventStore(master,sub){let{defs,instances}=master,filteredDefs={},filteredInstances={};for(let defId in defs)sub.defs[defId]||(filteredDefs[defId]=defs[defId]);for(let instanceId in instances)!sub.instances[instanceId]&&filteredDefs[instances[instanceId].defId]&&(filteredInstances[instanceId]=instances[instanceId]);return{defs:filteredDefs,instances:filteredInstances}}(eventStore,action.eventStore);case"REMOVE_EVENT_SOURCE":return excludeEventsBySourceId(eventStore,action.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return filterEventStoreDefs(eventStore,(eventDef=>!eventDef.sourceId));case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return eventStore}}function transformRawEvents(rawEvents,eventSource,context){let calEachTransform=context.options.eventDataTransform,sourceEachTransform=eventSource?eventSource.eventDataTransform:null;return sourceEachTransform&&(rawEvents=transformEachRawEvent(rawEvents,sourceEachTransform)),calEachTransform&&(rawEvents=transformEachRawEvent(rawEvents,calEachTransform)),rawEvents}function transformEachRawEvent(rawEvents,func){let refinedEvents;if(func){refinedEvents=[];for(let rawEvent of rawEvents){let refinedEvent=func(rawEvent);refinedEvent?refinedEvents.push(refinedEvent):null==refinedEvent&&refinedEvents.push(rawEvent)}}else refinedEvents=rawEvents;return refinedEvents}function rezoneEventStoreDates(eventStore,oldDateEnv,newDateEnv){let{defs}=eventStore,instances=mapHash(eventStore.instances,(instance=>defs[instance.defId].allDay?instance:Object.assign(Object.assign({},instance),{range:{start:newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start,instance.forcedStartTzo)),end:newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end,instance.forcedEndTzo))},forcedStartTzo:newDateEnv.canComputeOffset?null:instance.forcedStartTzo,forcedEndTzo:newDateEnv.canComputeOffset?null:instance.forcedEndTzo})));return{defs,instances}}function excludeEventsBySourceId(eventStore,sourceId){return filterEventStoreDefs(eventStore,(eventDef=>eventDef.sourceId!==sourceId))}class Emitter{constructor(){this.handlers={},this.thisContext=null}setThisContext(thisContext){this.thisContext=thisContext}setOptions(options){this.options=options}on(type,handler){!function addToHash(hash,type,handler){(hash[type]||(hash[type]=[])).push(handler)}(this.handlers,type,handler)}off(type,handler){!function removeFromHash(hash,type,handler){handler?hash[type]&&(hash[type]=hash[type].filter((func=>func!==handler))):delete hash[type]}(this.handlers,type,handler)}trigger(type,...args){let attachedHandlers=this.handlers[type]||[],optionHandler=this.options&&this.options[type],handlers=[].concat(optionHandler||[],attachedHandlers);for(let handler of handlers)handler.apply(this.thisContext,args)}hasHandlers(type){return Boolean(this.handlers[type]&&this.handlers[type].length||this.options&&this.options[type])}}const DEF_DEFAULTS={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function parseBusinessHours(input,context){return parseEvents(function refineInputs(input){let rawDefs;rawDefs=!0===input?[{}]:Array.isArray(input)?input.filter((rawDef=>rawDef.daysOfWeek)):"object"==typeof input&&input?[input]:[];return rawDefs=rawDefs.map((rawDef=>Object.assign(Object.assign({},DEF_DEFAULTS),rawDef))),rawDefs}(input),null,context)}function triggerDateSelect(selection,pev,context){context.emitter.trigger("select",Object.assign(Object.assign({},buildDateSpanApiWithContext(selection,context)),{jsEvent:pev?pev.origEvent:null,view:context.viewApi||context.calendarApi.view}))}function buildDateSpanApiWithContext(dateSpan,context){let props={};for(let transform of context.pluginHooks.dateSpanTransforms)Object.assign(props,transform(dateSpan,context));return Object.assign(props,function buildDateSpanApi(span,dateEnv){return Object.assign(Object.assign({},buildRangeApi(span.range,dateEnv,span.allDay)),{allDay:span.allDay})}(dateSpan,context.dateEnv)),props}function getDefaultEventEnd(allDay,marker,context){let{dateEnv,options}=context,end=marker;return allDay?(end=startOfDay(end),end=dateEnv.add(end,options.defaultAllDayEventDuration)):end=dateEnv.add(end,options.defaultTimedEventDuration),end}function applyMutationToEventStore(eventStore,eventConfigBase,mutation,context){let eventConfigs=compileEventUis(eventStore.defs,eventConfigBase),dest={defs:{},instances:{}};for(let defId in eventStore.defs){let def=eventStore.defs[defId];dest.defs[defId]=applyMutationToEventDef(def,eventConfigs[defId],mutation,context)}for(let instanceId in eventStore.instances){let instance=eventStore.instances[instanceId],def=dest.defs[instance.defId];dest.instances[instanceId]=applyMutationToEventInstance(instance,def,eventConfigs[instance.defId],mutation,context)}return dest}function applyMutationToEventDef(eventDef,eventConfig,mutation,context){let standardProps=mutation.standardProps||{};null==standardProps.hasEnd&&eventConfig.durationEditable&&(mutation.startDelta||mutation.endDelta)&&(standardProps.hasEnd=!0);let copy=Object.assign(Object.assign(Object.assign({},eventDef),standardProps),{ui:Object.assign(Object.assign({},eventDef.ui),standardProps.ui)});mutation.extendedProps&&(copy.extendedProps=Object.assign(Object.assign({},copy.extendedProps),mutation.extendedProps));for(let applier of context.pluginHooks.eventDefMutationAppliers)applier(copy,mutation,context);return!copy.hasEnd&&context.options.forceEventDuration&&(copy.hasEnd=!0),copy}function applyMutationToEventInstance(eventInstance,eventDef,eventConfig,mutation,context){let{dateEnv}=context,forceAllDay=mutation.standardProps&&!0===mutation.standardProps.allDay,clearEnd=mutation.standardProps&&!1===mutation.standardProps.hasEnd,copy=Object.assign({},eventInstance);return forceAllDay&&(copy.range=computeAlignedDayRange(copy.range)),mutation.datesDelta&&eventConfig.startEditable&&(copy.range={start:dateEnv.add(copy.range.start,mutation.datesDelta),end:dateEnv.add(copy.range.end,mutation.datesDelta)}),mutation.startDelta&&eventConfig.durationEditable&&(copy.range={start:dateEnv.add(copy.range.start,mutation.startDelta),end:copy.range.end}),mutation.endDelta&&eventConfig.durationEditable&&(copy.range={start:copy.range.start,end:dateEnv.add(copy.range.end,mutation.endDelta)}),clearEnd&&(copy.range={start:copy.range.start,end:getDefaultEventEnd(eventDef.allDay,copy.range.start,context)}),eventDef.allDay&&(copy.range={start:startOfDay(copy.range.start),end:startOfDay(copy.range.end)}),copy.range.end<copy.range.start&&(copy.range.end=getDefaultEventEnd(eventDef.allDay,copy.range.start,context)),copy}class EventSourceImpl{constructor(context,internalEventSource){this.context=context,this.internalEventSource=internalEventSource}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class EventImpl{constructor(context,def,instance){this._context=context,this._def=def,this._instance=instance||null}setProp(name,val){if(name in EVENT_DATE_REFINERS)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===name)val=EVENT_NON_DATE_REFINERS[name](val),this.mutate({standardProps:{publicId:val}});else if(name in EVENT_NON_DATE_REFINERS)val=EVENT_NON_DATE_REFINERS[name](val),this.mutate({standardProps:{[name]:val}});else if(name in EVENT_UI_REFINERS){let ui=EVENT_UI_REFINERS[name](val);ui="color"===name?{backgroundColor:val,borderColor:val}:"editable"===name?{startEditable:val,durationEditable:val}:{[name]:val},this.mutate({standardProps:{ui}})}else console.warn(`Could not set prop '${name}'. Use setExtendedProp instead.`)}setExtendedProp(name,val){this.mutate({extendedProps:{[name]:val}})}setStart(startInput,options={}){let{dateEnv}=this._context,start=dateEnv.createMarker(startInput);if(start&&this._instance){let startDelta=diffDates(this._instance.range.start,start,dateEnv,options.granularity);options.maintainDuration?this.mutate({datesDelta:startDelta}):this.mutate({startDelta})}}setEnd(endInput,options={}){let end,{dateEnv}=this._context;if((null==endInput||(end=dateEnv.createMarker(endInput),end))&&this._instance)if(end){let endDelta=diffDates(this._instance.range.end,end,dateEnv,options.granularity);this.mutate({endDelta})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(startInput,endInput,options={}){let end,{dateEnv}=this._context,standardProps={allDay:options.allDay},start=dateEnv.createMarker(startInput);if(start&&(null==endInput||(end=dateEnv.createMarker(endInput),end))&&this._instance){let instanceRange=this._instance.range;!0===options.allDay&&(instanceRange=computeAlignedDayRange(instanceRange));let startDelta=diffDates(instanceRange.start,start,dateEnv,options.granularity);if(end){let endDelta=diffDates(instanceRange.end,end,dateEnv,options.granularity);!function durationsEqual(d0,d1){return d0.years===d1.years&&d0.months===d1.months&&d0.days===d1.days&&d0.milliseconds===d1.milliseconds}(startDelta,endDelta)?this.mutate({startDelta,endDelta,standardProps}):this.mutate({datesDelta:startDelta,standardProps})}else standardProps.hasEnd=!1,this.mutate({datesDelta:startDelta,standardProps})}}moveStart(deltaInput){let delta=createDuration(deltaInput);delta&&this.mutate({startDelta:delta})}moveEnd(deltaInput){let delta=createDuration(deltaInput);delta&&this.mutate({endDelta:delta})}moveDates(deltaInput){let delta=createDuration(deltaInput);delta&&this.mutate({datesDelta:delta})}setAllDay(allDay,options={}){let standardProps={allDay},{maintainDuration}=options;null==maintainDuration&&(maintainDuration=this._context.options.allDayMaintainDuration),this._def.allDay!==allDay&&(standardProps.hasEnd=maintainDuration),this.mutate({standardProps})}formatRange(formatInput){let{dateEnv}=this._context,instance=this._instance,formatter=createFormatter(formatInput);return this._def.hasEnd?dateEnv.formatRange(instance.range.start,instance.range.end,formatter,{forcedStartTzo:instance.forcedStartTzo,forcedEndTzo:instance.forcedEndTzo}):dateEnv.format(instance.range.start,formatter,{forcedTzo:instance.forcedStartTzo})}mutate(mutation){let instance=this._instance;if(instance){let def=this._def,context=this._context,{eventStore}=context.getCurrentData(),relevantEvents=getRelevantEvents(eventStore,instance.instanceId);relevantEvents=applyMutationToEventStore(relevantEvents,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},mutation,context);let oldEvent=new EventImpl(context,def,instance);this._def=relevantEvents.defs[def.defId],this._instance=relevantEvents.instances[instance.instanceId],context.dispatch({type:"MERGE_EVENTS",eventStore:relevantEvents}),context.emitter.trigger("eventChange",{oldEvent,event:this,relatedEvents:buildEventApis(relevantEvents,context,instance),revert(){context.dispatch({type:"RESET_EVENTS",eventStore})}})}}remove(){let context=this._context,asStore=eventApiToStore(this);context.dispatch({type:"REMOVE_EVENTS",eventStore:asStore}),context.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){context.dispatch({type:"MERGE_EVENTS",eventStore:asStore})}})}get source(){let{sourceId}=this._def;return sourceId?new EventSourceImpl(this._context,this._context.getCurrentData().eventSources[sourceId]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let instance=this._instance;return instance?this._context.dateEnv.formatIso(instance.range.start,{omitTime:this._def.allDay,forcedTzo:instance.forcedStartTzo}):""}get endStr(){let instance=this._instance;return instance&&this._def.hasEnd?this._context.dateEnv.formatIso(instance.range.end,{omitTime:this._def.allDay,forcedTzo:instance.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(settings={}){let def=this._def,{ui}=def,{startStr,endStr}=this,res={allDay:def.allDay};return def.title&&(res.title=def.title),startStr&&(res.start=startStr),endStr&&(res.end=endStr),def.publicId&&(res.id=def.publicId),def.groupId&&(res.groupId=def.groupId),def.url&&(res.url=def.url),ui.display&&"auto"!==ui.display&&(res.display=ui.display),settings.collapseColor&&ui.backgroundColor&&ui.backgroundColor===ui.borderColor?res.color=ui.backgroundColor:(ui.backgroundColor&&(res.backgroundColor=ui.backgroundColor),ui.borderColor&&(res.borderColor=ui.borderColor)),ui.textColor&&(res.textColor=ui.textColor),ui.classNames.length&&(res.classNames=ui.classNames),Object.keys(def.extendedProps).length&&(settings.collapseExtendedProps?Object.assign(res,def.extendedProps):res.extendedProps=def.extendedProps),res}toJSON(){return this.toPlainObject()}}function eventApiToStore(eventApi){let def=eventApi._def,instance=eventApi._instance;return{defs:{[def.defId]:def},instances:instance?{[instance.instanceId]:instance}:{}}}function buildEventApis(eventStore,context,excludeInstance){let{defs,instances}=eventStore,eventApis=[],excludeInstanceId=excludeInstance?excludeInstance.instanceId:"";for(let id in instances){let instance=instances[id],def=defs[instance.defId];instance.instanceId!==excludeInstanceId&&eventApis.push(new EventImpl(context,def,instance))}return eventApis}function sliceEventStore(eventStore,eventUiBases,framingRange,nextDayThreshold){let inverseBgByGroupId={},inverseBgByDefId={},defByGroupId={},bgRanges=[],fgRanges=[],eventUis=compileEventUis(eventStore.defs,eventUiBases);for(let defId in eventStore.defs){let def=eventStore.defs[defId];"inverse-background"===eventUis[def.defId].display&&(def.groupId?(inverseBgByGroupId[def.groupId]=[],defByGroupId[def.groupId]||(defByGroupId[def.groupId]=def)):inverseBgByDefId[defId]=[])}for(let instanceId in eventStore.instances){let instance=eventStore.instances[instanceId],def=eventStore.defs[instance.defId],ui=eventUis[def.defId],origRange=instance.range,normalRange=!def.allDay&&nextDayThreshold?computeVisibleDayRange(origRange,nextDayThreshold):origRange,slicedRange=intersectRanges(normalRange,framingRange);slicedRange&&("inverse-background"===ui.display?def.groupId?inverseBgByGroupId[def.groupId].push(slicedRange):inverseBgByDefId[instance.defId].push(slicedRange):"none"!==ui.display&&("background"===ui.display?bgRanges:fgRanges).push({def,ui,instance,range:slicedRange,isStart:normalRange.start&&normalRange.start.valueOf()===slicedRange.start.valueOf(),isEnd:normalRange.end&&normalRange.end.valueOf()===slicedRange.end.valueOf()}))}for(let groupId in inverseBgByGroupId){let invertedRanges=invertRanges(inverseBgByGroupId[groupId],framingRange);for(let invertedRange of invertedRanges){let def=defByGroupId[groupId],ui=eventUis[def.defId];bgRanges.push({def,ui,instance:null,range:invertedRange,isStart:!1,isEnd:!1})}}for(let defId in inverseBgByDefId){let invertedRanges=invertRanges(inverseBgByDefId[defId],framingRange);for(let invertedRange of invertedRanges)bgRanges.push({def:eventStore.defs[defId],ui:eventUis[defId],instance:null,range:invertedRange,isStart:!1,isEnd:!1})}return{bg:bgRanges,fg:fgRanges}}function hasBgRendering(def){return"background"===def.ui.display||"inverse-background"===def.ui.display}function setElSeg(el,seg){el.fcSeg=seg}function getElSeg(el){return el.fcSeg||el.parentNode.fcSeg||null}function compileEventUis(eventDefs,eventUiBases){return mapHash(eventDefs,(eventDef=>compileEventUi(eventDef,eventUiBases)))}function compileEventUi(eventDef,eventUiBases){let uis=[];return eventUiBases[""]&&uis.push(eventUiBases[""]),eventUiBases[eventDef.defId]&&uis.push(eventUiBases[eventDef.defId]),uis.push(eventDef.ui),combineEventUis(uis)}function sortEventSegs(segs,eventOrderSpecs){let objs=segs.map(buildSegCompareObj);return objs.sort(((obj0,obj1)=>function compareByFieldSpecs(obj0,obj1,fieldSpecs){let i,cmp;for(i=0;i<fieldSpecs.length;i+=1)if(cmp=compareByFieldSpec(obj0,obj1,fieldSpecs[i]),cmp)return cmp;return 0}(obj0,obj1,eventOrderSpecs))),objs.map((c=>c._seg))}function buildSegCompareObj(seg){let{eventRange}=seg,eventDef=eventRange.def,range=eventRange.instance?eventRange.instance.range:eventRange.range,start=range.start?range.start.valueOf():0,end=range.end?range.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},eventDef.extendedProps),eventDef),{id:eventDef.publicId,start,end,duration:end-start,allDay:Number(eventDef.allDay),_seg:seg})}function computeSegDraggable(seg,context){let{pluginHooks}=context,transformers=pluginHooks.isDraggableTransformers,{def,ui}=seg.eventRange,val=ui.startEditable;for(let transformer of transformers)val=transformer(val,def,ui,context);return val}function computeSegStartResizable(seg,context){return seg.isStart&&seg.eventRange.ui.durationEditable&&context.options.eventResizableFromStart}function computeSegEndResizable(seg,context){return seg.isEnd&&seg.eventRange.ui.durationEditable}function buildSegTimeText(seg,timeFormat,context,defaultDisplayEventTime,defaultDisplayEventEnd,startOverride,endOverride){let{dateEnv,options}=context,{displayEventTime,displayEventEnd}=options,eventDef=seg.eventRange.def,eventInstance=seg.eventRange.instance;null==displayEventTime&&(displayEventTime=!1!==defaultDisplayEventTime),null==displayEventEnd&&(displayEventEnd=!1!==defaultDisplayEventEnd);let wholeEventStart=eventInstance.range.start,wholeEventEnd=eventInstance.range.end,segStart=startOverride||seg.start||seg.eventRange.range.start,segEnd=endOverride||seg.end||seg.eventRange.range.end,isStartDay=startOfDay(wholeEventStart).valueOf()===startOfDay(segStart).valueOf(),isEndDay=startOfDay(addMs(wholeEventEnd,-1)).valueOf()===startOfDay(addMs(segEnd,-1)).valueOf();return displayEventTime&&!eventDef.allDay&&(isStartDay||isEndDay)?(segStart=isStartDay?wholeEventStart:segStart,segEnd=isEndDay?wholeEventEnd:segEnd,displayEventEnd&&eventDef.hasEnd?dateEnv.formatRange(segStart,segEnd,timeFormat,{forcedStartTzo:startOverride?null:eventInstance.forcedStartTzo,forcedEndTzo:endOverride?null:eventInstance.forcedEndTzo}):dateEnv.format(segStart,timeFormat,{forcedTzo:startOverride?null:eventInstance.forcedStartTzo})):""}function getSegMeta(seg,todayRange,nowDate){let segRange=seg.eventRange.range;return{isPast:segRange.end<=(nowDate||todayRange.start),isFuture:segRange.start>=(nowDate||todayRange.end),isToday:todayRange&&rangeContainsMarker(todayRange,segRange.start)}}function getEventClassNames(props){let classNames=["fc-event"];return props.isMirror&&classNames.push("fc-event-mirror"),props.isDraggable&&classNames.push("fc-event-draggable"),(props.isStartResizable||props.isEndResizable)&&classNames.push("fc-event-resizable"),props.isDragging&&classNames.push("fc-event-dragging"),props.isResizing&&classNames.push("fc-event-resizing"),props.isSelected&&classNames.push("fc-event-selected"),props.isStart&&classNames.push("fc-event-start"),props.isEnd&&classNames.push("fc-event-end"),props.isPast&&classNames.push("fc-event-past"),props.isToday&&classNames.push("fc-event-today"),props.isFuture&&classNames.push("fc-event-future"),classNames}function buildEventRangeKey(eventRange){return eventRange.instance?eventRange.instance.instanceId:`${eventRange.def.defId}:${eventRange.range.start.toISOString()}`}function getSegAnchorAttrs(seg,context){let{def,instance}=seg.eventRange,{url}=def;if(url)return{href:url};let{emitter,options}=context,{eventInteractive}=options;return null==eventInteractive&&(eventInteractive=def.interactive,null==eventInteractive&&(eventInteractive=Boolean(emitter.hasHandlers("eventClick")))),eventInteractive?createAriaKeyboardAttrs((ev=>{emitter.trigger("eventClick",{el:ev.target,event:new EventImpl(context,def,instance),jsEvent:ev,view:context.viewApi})})):{}}const STANDARD_PROPS={start:identity,end:identity,allDay:Boolean};function parseDateSpan(raw,dateEnv,defaultDuration){let span=function parseOpenDateSpan(raw,dateEnv){let{refined:standardProps,extra}=refineProps(raw,STANDARD_PROPS),startMeta=standardProps.start?dateEnv.createMarkerMeta(standardProps.start):null,endMeta=standardProps.end?dateEnv.createMarkerMeta(standardProps.end):null,{allDay}=standardProps;null==allDay&&(allDay=startMeta&&startMeta.isTimeUnspecified&&(!endMeta||endMeta.isTimeUnspecified));return Object.assign({range:{start:startMeta?startMeta.marker:null,end:endMeta?endMeta.marker:null},allDay},extra)}(raw,dateEnv),{range}=span;if(!range.start)return null;if(!range.end){if(null==defaultDuration)return null;range.end=dateEnv.add(range.start,defaultDuration)}return span}function isDateSpansEqual(span0,span1){return function rangesEqual(range0,range1){return(null===range0.start?null:range0.start.valueOf())===(null===range1.start?null:range1.start.valueOf())&&(null===range0.end?null:range0.end.valueOf())===(null===range1.end?null:range1.end.valueOf())}(span0.range,span1.range)&&span0.allDay===span1.allDay&&function isSpanPropsEqual(span0,span1){for(let propName in span1)if("range"!==propName&&"allDay"!==propName&&span0[propName]!==span1[propName])return!1;for(let propName in span0)if(!(propName in span1))return!1;return!0}(span0,span1)}function buildRangeApiWithTimeZone(range,dateEnv,omitTime){return Object.assign(Object.assign({},buildRangeApi(range,dateEnv,omitTime)),{timeZone:dateEnv.timeZone})}function buildRangeApi(range,dateEnv,omitTime){return{start:dateEnv.toDate(range.start),end:dateEnv.toDate(range.end),startStr:dateEnv.formatIso(range.start,{omitTime}),endStr:dateEnv.formatIso(range.end,{omitTime})}}function unpromisify(func,normalizedSuccessCallback,normalizedFailureCallback){let isResolved=!1,wrappedSuccess=function(res){isResolved||(isResolved=!0,normalizedSuccessCallback(res))},wrappedFailure=function(error){isResolved||(isResolved=!0,normalizedFailureCallback(error))},res=func(wrappedSuccess,wrappedFailure);res&&"function"==typeof res.then&&res.then(wrappedSuccess,wrappedFailure)}class JsonRequestError extends Error{constructor(message,response){super(message),this.response=response}}function requestJson(method,url,params){const fetchOptions={method:method=method.toUpperCase()};return"GET"===method?url+=(-1===url.indexOf("?")?"?":"&")+new URLSearchParams(params):(fetchOptions.body=new URLSearchParams(params),fetchOptions.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(url,fetchOptions).then((fetchRes=>{if(fetchRes.ok)return fetchRes.json().then((parsedResponse=>[parsedResponse,fetchRes]),(()=>{throw new JsonRequestError("Failure parsing JSON",fetchRes)}));throw new JsonRequestError("Request failed",fetchRes)}))}let canVGrowWithinCell;function getCanVGrowWithinCell(){return null==canVGrowWithinCell&&(canVGrowWithinCell=function computeCanVGrowWithinCell(){if("undefined"==typeof document)return!0;let el=document.createElement("div");el.style.position="absolute",el.style.top="0px",el.style.left="0px",el.innerHTML="<table><tr><td><div></div></td></tr></table>",el.querySelector("table").style.height="100px",el.querySelector("div").style.height="100%",document.body.appendChild(el);let possible=el.querySelector("div").offsetHeight>0;return document.body.removeChild(el),possible}()),canVGrowWithinCell}class CalendarRoot extends BaseComponent{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{flushSync((()=>{this.setState({forPrint:!0})}))},this.handleAfterPrint=()=>{flushSync((()=>{this.setState({forPrint:!1})}))}}render(){let{props}=this,{options}=props,{forPrint}=this.state,isHeightAuto=forPrint||"auto"===options.height||"auto"===options.contentHeight,height=isHeightAuto||null==options.height?"":options.height,classNames=["fc",forPrint?"fc-media-print":"fc-media-screen",`fc-direction-${options.direction}`,props.theme.getClass("root")];return getCanVGrowWithinCell()||classNames.push("fc-liquid-hack"),props.children(classNames,height,isHeightAuto,forPrint)}componentDidMount(){let{emitter}=this.props;emitter.on("_beforeprint",this.handleBeforePrint),emitter.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter}=this.props;emitter.off("_beforeprint",this.handleBeforePrint),emitter.off("_afterprint",this.handleAfterPrint)}}class Interaction{constructor(settings){this.component=settings.component,this.isHitComboAllowed=settings.isHitComboAllowed||null}destroy(){}}function parseInteractionSettings(component,input){return{component,el:input.el,useEventCenter:null==input.useEventCenter||input.useEventCenter,isHitComboAllowed:input.isHitComboAllowed||null}}function interactionSettingsToStore(settings){return{[settings.component.uid]:settings}}const interactionSettingsStore={};class CalendarImpl{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(action){this.currentDataManager.dispatch(action)}get view(){return this.getCurrentData().viewApi}batchRendering(callback){callback()}updateSize(){this.trigger("_resize",!0)}setOption(name,val){this.dispatch({type:"SET_OPTION",optionName:name,rawOptionValue:val})}getOption(name){return this.currentDataManager.currentCalendarOptionsInput[name]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(handlerName,handler){let{currentDataManager}=this;currentDataManager.currentCalendarOptionsRefiners[handlerName]?currentDataManager.emitter.on(handlerName,handler):console.warn(`Unknown listener name '${handlerName}'`)}off(handlerName,handler){this.currentDataManager.emitter.off(handlerName,handler)}trigger(handlerName,...args){this.currentDataManager.emitter.trigger(handlerName,...args)}changeView(viewType,dateOrRange){this.batchRendering((()=>{if(this.unselect(),dateOrRange)if(dateOrRange.start&&dateOrRange.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:dateOrRange});else{let{dateEnv}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType,dateMarker:dateEnv.createMarker(dateOrRange)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType})}))}zoomTo(dateMarker,viewType){let spec;viewType=viewType||"day",spec=this.getCurrentData().viewSpecs[viewType]||this.getUnitViewSpec(viewType),this.unselect(),spec?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:spec.type,dateMarker}):this.dispatch({type:"CHANGE_DATE",dateMarker})}getUnitViewSpec(unit){let i,spec,{viewSpecs,toolbarConfig}=this.getCurrentData(),viewTypes=[].concat(toolbarConfig.header?toolbarConfig.header.viewsWithButtons:[],toolbarConfig.footer?toolbarConfig.footer.viewsWithButtons:[]);for(let viewType in viewSpecs)viewTypes.push(viewType);for(i=0;i<viewTypes.length;i+=1)if(spec=viewSpecs[viewTypes[i]],spec&&spec.singleUnit===unit)return spec;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let state=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:state.dateEnv.addYears(state.currentDate,-1)})}nextYear(){let state=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:state.dateEnv.addYears(state.currentDate,1)})}today(){let state=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:getNow(state.calendarOptions.now,state.dateEnv)})}gotoDate(zonedDateInput){let state=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:state.dateEnv.createMarker(zonedDateInput)})}incrementDate(deltaInput){let state=this.getCurrentData(),delta=createDuration(deltaInput);delta&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:state.dateEnv.add(state.currentDate,delta)}))}getDate(){let state=this.getCurrentData();return state.dateEnv.toDate(state.currentDate)}formatDate(d,formatter){let{dateEnv}=this.getCurrentData();return dateEnv.format(dateEnv.createMarker(d),createFormatter(formatter))}formatRange(d0,d1,settings){let{dateEnv}=this.getCurrentData();return dateEnv.formatRange(dateEnv.createMarker(d0),dateEnv.createMarker(d1),createFormatter(settings),settings)}formatIso(d,omitTime){let{dateEnv}=this.getCurrentData();return dateEnv.formatIso(dateEnv.createMarker(d),{omitTime})}select(dateOrObj,endDate){let selectionInput;selectionInput=null==endDate?null!=dateOrObj.start?dateOrObj:{start:dateOrObj,end:null}:{start:dateOrObj,end:endDate};let state=this.getCurrentData(),selection=parseDateSpan(selectionInput,state.dateEnv,createDuration({days:1}));selection&&(this.dispatch({type:"SELECT_DATES",selection}),triggerDateSelect(selection,null,state))}unselect(pev){let state=this.getCurrentData();state.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function triggerDateUnselect(pev,context){context.emitter.trigger("unselect",{jsEvent:pev?pev.origEvent:null,view:context.viewApi||context.calendarApi.view})}(pev,state))}addEvent(eventInput,sourceInput){if(eventInput instanceof EventImpl){let def=eventInput._def,instance=eventInput._instance;return this.getCurrentData().eventStore.defs[def.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:eventTupleToStore({def,instance})}),this.triggerEventAdd(eventInput)),eventInput}let eventSource,state=this.getCurrentData();if(sourceInput instanceof EventSourceImpl)eventSource=sourceInput.internalEventSource;else if("boolean"==typeof sourceInput)sourceInput&&([eventSource]=hashValuesToArray(state.eventSources));else if(null!=sourceInput){let sourceApi=this.getEventSourceById(sourceInput);if(!sourceApi)return console.warn(`Could not find an event source with ID "${sourceInput}"`),null;eventSource=sourceApi.internalEventSource}let tuple=parseEvent(eventInput,eventSource,state,!1);if(tuple){let newEventApi=new EventImpl(state,tuple.def,tuple.def.recurringDef?null:tuple.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:eventTupleToStore(tuple)}),this.triggerEventAdd(newEventApi),newEventApi}return null}triggerEventAdd(eventApi){let{emitter}=this.getCurrentData();emitter.trigger("eventAdd",{event:eventApi,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:eventApiToStore(eventApi)})}})}getEventById(id){let state=this.getCurrentData(),{defs,instances}=state.eventStore;id=String(id);for(let defId in defs){let def=defs[defId];if(def.publicId===id){if(def.recurringDef)return new EventImpl(state,def,null);for(let instanceId in instances){let instance=instances[instanceId];if(instance.defId===def.defId)return new EventImpl(state,def,instance)}}}return null}getEvents(){let currentData=this.getCurrentData();return buildEventApis(currentData.eventStore,currentData)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let state=this.getCurrentData(),sourceHash=state.eventSources,sourceApis=[];for(let internalId in sourceHash)sourceApis.push(new EventSourceImpl(state,sourceHash[internalId]));return sourceApis}getEventSourceById(id){let state=this.getCurrentData(),sourceHash=state.eventSources;id=String(id);for(let sourceId in sourceHash)if(sourceHash[sourceId].publicId===id)return new EventSourceImpl(state,sourceHash[sourceId]);return null}addEventSource(sourceInput){let state=this.getCurrentData();if(sourceInput instanceof EventSourceImpl)return state.eventSources[sourceInput.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[sourceInput.internalEventSource]}),sourceInput;let eventSource=parseEventSource(sourceInput,state);return eventSource?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[eventSource]}),new EventSourceImpl(state,eventSource)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(timeInput){let time=createDuration(timeInput);time&&this.trigger("_scrollRequest",{time})}}function pointInsideRect(point,rect){return point.left>=rect.left&&point.left<rect.right&&point.top>=rect.top&&point.top<rect.bottom}function intersectRects(rect1,rect2){let res={left:Math.max(rect1.left,rect2.left),right:Math.min(rect1.right,rect2.right),top:Math.max(rect1.top,rect2.top),bottom:Math.min(rect1.bottom,rect2.bottom)};return res.left<res.right&&res.top<res.bottom&&res}function constrainPoint(point,rect){return{left:Math.min(Math.max(point.left,rect.left),rect.right),top:Math.min(Math.max(point.top,rect.top),rect.bottom)}}function getRectCenter(rect){return{left:(rect.left+rect.right)/2,top:(rect.top+rect.bottom)/2}}function diffPoints(point1,point2){return{left:point1.left-point2.left,top:point1.top-point2.top}}const EMPTY_EVENT_STORE={defs:{},instances:{}};class Splitter{constructor(){this.getKeysForEventDefs=memoize(this._getKeysForEventDefs),this.splitDateSelection=memoize(this._splitDateSpan),this.splitEventStore=memoize(this._splitEventStore),this.splitIndividualUi=memoize(this._splitIndividualUi),this.splitEventDrag=memoize(this._splitInteraction),this.splitEventResize=memoize(this._splitInteraction),this.eventUiBuilders={}}splitProps(props){let keyInfos=this.getKeyInfo(props),defKeys=this.getKeysForEventDefs(props.eventStore),dateSelections=this.splitDateSelection(props.dateSelection),individualUi=this.splitIndividualUi(props.eventUiBases,defKeys),eventStores=this.splitEventStore(props.eventStore,defKeys),eventDrags=this.splitEventDrag(props.eventDrag),eventResizes=this.splitEventResize(props.eventResize),splitProps={};this.eventUiBuilders=mapHash(keyInfos,((info,key)=>this.eventUiBuilders[key]||memoize(buildEventUiForKey)));for(let key in keyInfos){let keyInfo=keyInfos[key],eventStore=eventStores[key]||EMPTY_EVENT_STORE,buildEventUi=this.eventUiBuilders[key];splitProps[key]={businessHours:keyInfo.businessHours||props.businessHours,dateSelection:dateSelections[key]||null,eventStore,eventUiBases:buildEventUi(props.eventUiBases[""],keyInfo.ui,individualUi[key]),eventSelection:eventStore.instances[props.eventSelection]?props.eventSelection:"",eventDrag:eventDrags[key]||null,eventResize:eventResizes[key]||null}}return splitProps}_splitDateSpan(dateSpan){let dateSpans={};if(dateSpan){let keys=this.getKeysForDateSpan(dateSpan);for(let key of keys)dateSpans[key]=dateSpan}return dateSpans}_getKeysForEventDefs(eventStore){return mapHash(eventStore.defs,(eventDef=>this.getKeysForEventDef(eventDef)))}_splitEventStore(eventStore,defKeys){let{defs,instances}=eventStore,splitStores={};for(let defId in defs)for(let key of defKeys[defId])splitStores[key]||(splitStores[key]={defs:{},instances:{}}),splitStores[key].defs[defId]=defs[defId];for(let instanceId in instances){let instance=instances[instanceId];for(let key of defKeys[instance.defId])splitStores[key]&&(splitStores[key].instances[instanceId]=instance)}return splitStores}_splitIndividualUi(eventUiBases,defKeys){let splitHashes={};for(let defId in eventUiBases)if(defId)for(let key of defKeys[defId])splitHashes[key]||(splitHashes[key]={}),splitHashes[key][defId]=eventUiBases[defId];return splitHashes}_splitInteraction(interaction){let splitStates={};if(interaction){let affectedStores=this._splitEventStore(interaction.affectedEvents,this._getKeysForEventDefs(interaction.affectedEvents)),mutatedKeysByDefId=this._getKeysForEventDefs(interaction.mutatedEvents),mutatedStores=this._splitEventStore(interaction.mutatedEvents,mutatedKeysByDefId),populate=key=>{splitStates[key]||(splitStates[key]={affectedEvents:affectedStores[key]||EMPTY_EVENT_STORE,mutatedEvents:mutatedStores[key]||EMPTY_EVENT_STORE,isEvent:interaction.isEvent})};for(let key in affectedStores)populate(key);for(let key in mutatedStores)populate(key)}return splitStates}}function buildEventUiForKey(allUi,eventUiForKey,individualUi){let baseParts=[];allUi&&baseParts.push(allUi),eventUiForKey&&baseParts.push(eventUiForKey);let stuff={"":combineEventUis(baseParts)};return individualUi&&Object.assign(stuff,individualUi),stuff}function getDateMeta(date,todayRange,nowDate,dateProfile){return{dow:date.getUTCDay(),isDisabled:Boolean(dateProfile&&!rangeContainsMarker(dateProfile.activeRange,date)),isOther:Boolean(dateProfile&&!rangeContainsMarker(dateProfile.currentRange,date)),isToday:Boolean(todayRange&&rangeContainsMarker(todayRange,date)),isPast:Boolean(nowDate?date<nowDate:!!todayRange&&date<todayRange.start),isFuture:Boolean(nowDate?date>nowDate:!!todayRange&&date>=todayRange.end)}}function getDayClassNames(meta,theme){let classNames=["fc-day",`fc-day-${DAY_IDS[meta.dow]}`];return meta.isDisabled?classNames.push("fc-day-disabled"):(meta.isToday&&(classNames.push("fc-day-today"),classNames.push(theme.getClass("today"))),meta.isPast&&classNames.push("fc-day-past"),meta.isFuture&&classNames.push("fc-day-future"),meta.isOther&&classNames.push("fc-day-other")),classNames}const DAY_FORMAT=createFormatter({year:"numeric",month:"long",day:"numeric"}),WEEK_FORMAT=createFormatter({week:"long"});function buildNavLinkAttrs(context,dateMarker,viewType="day",isTabbable=!0){const{dateEnv,options,calendarApi}=context;let dateStr=dateEnv.format(dateMarker,"week"===viewType?WEEK_FORMAT:DAY_FORMAT);if(options.navLinks){let zonedDate=dateEnv.toDate(dateMarker);const handleInteraction=ev=>{let customAction="day"===viewType?options.navLinkDayClick:"week"===viewType?options.navLinkWeekClick:null;"function"==typeof customAction?customAction.call(calendarApi,dateEnv.toDate(dateMarker),ev):("string"==typeof customAction&&(viewType=customAction),calendarApi.zoomTo(dateMarker,viewType))};return Object.assign({title:formatWithOrdinals(options.navLinkHint,[dateStr,zonedDate],dateStr),"data-navlink":""},isTabbable?createAriaClickAttrs(handleInteraction):{onClick:handleInteraction})}return{"aria-label":dateStr}}let _scrollbarWidths,_isRtlScrollbarOnLeft=null;function getIsRtlScrollbarOnLeft(){return null===_isRtlScrollbarOnLeft&&(_isRtlScrollbarOnLeft=function computeIsRtlScrollbarOnLeft(){let outerEl=document.createElement("div");applyStyle(outerEl,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),outerEl.innerHTML="<div></div>",document.body.appendChild(outerEl);let res=outerEl.firstChild.getBoundingClientRect().left>outerEl.getBoundingClientRect().left;return removeElement(outerEl),res}()),_isRtlScrollbarOnLeft}function getScrollbarWidths(){return _scrollbarWidths||(_scrollbarWidths=function computeScrollbarWidths(){let el=document.createElement("div");el.style.overflow="scroll",el.style.position="absolute",el.style.top="-9999px",el.style.left="-9999px",document.body.appendChild(el);let res=computeScrollbarWidthsForEl(el);return document.body.removeChild(el),res}()),_scrollbarWidths}function computeScrollbarWidthsForEl(el){return{x:el.offsetHeight-el.clientHeight,y:el.offsetWidth-el.clientWidth}}function computeInnerRect(el,goWithinPadding=!1,doFromWindowViewport){let outerRect=doFromWindowViewport?el.getBoundingClientRect():computeRect(el),edges=function computeEdges(el,getPadding=!1){let computedStyle=window.getComputedStyle(el),borderLeft=parseInt(computedStyle.borderLeftWidth,10)||0,borderRight=parseInt(computedStyle.borderRightWidth,10)||0,borderTop=parseInt(computedStyle.borderTopWidth,10)||0,borderBottom=parseInt(computedStyle.borderBottomWidth,10)||0,badScrollbarWidths=computeScrollbarWidthsForEl(el),scrollbarLeftRight=badScrollbarWidths.y-borderLeft-borderRight,res={borderLeft,borderRight,borderTop,borderBottom,scrollbarBottom:badScrollbarWidths.x-borderTop-borderBottom,scrollbarLeft:0,scrollbarRight:0};return getIsRtlScrollbarOnLeft()&&"rtl"===computedStyle.direction?res.scrollbarLeft=scrollbarLeftRight:res.scrollbarRight=scrollbarLeftRight,getPadding&&(res.paddingLeft=parseInt(computedStyle.paddingLeft,10)||0,res.paddingRight=parseInt(computedStyle.paddingRight,10)||0,res.paddingTop=parseInt(computedStyle.paddingTop,10)||0,res.paddingBottom=parseInt(computedStyle.paddingBottom,10)||0),res}(el,goWithinPadding),res={left:outerRect.left+edges.borderLeft+edges.scrollbarLeft,right:outerRect.right-edges.borderRight-edges.scrollbarRight,top:outerRect.top+edges.borderTop,bottom:outerRect.bottom-edges.borderBottom-edges.scrollbarBottom};return goWithinPadding&&(res.left+=edges.paddingLeft,res.right-=edges.paddingRight,res.top+=edges.paddingTop,res.bottom-=edges.paddingBottom),res}function computeRect(el){let rect=el.getBoundingClientRect();return{left:rect.left+window.scrollX,top:rect.top+window.scrollY,right:rect.right+window.scrollX,bottom:rect.bottom+window.scrollY}}function getClippingParents(el){let parents=[];for(;el instanceof HTMLElement;){let computedStyle=window.getComputedStyle(el);if("fixed"===computedStyle.position)break;/(auto|scroll)/.test(computedStyle.overflow+computedStyle.overflowY+computedStyle.overflowX)&&parents.push(el),el=el.parentNode}return parents}class PositionCache{constructor(originEl,els,isHorizontal,isVertical){this.els=els;let originClientRect=this.originClientRect=originEl.getBoundingClientRect();isHorizontal&&this.buildElHorizontals(originClientRect.left),isVertical&&this.buildElVerticals(originClientRect.top)}buildElHorizontals(originClientLeft){let lefts=[],rights=[];for(let el of this.els){let rect=el.getBoundingClientRect();lefts.push(rect.left-originClientLeft),rights.push(rect.right-originClientLeft)}this.lefts=lefts,this.rights=rights}buildElVerticals(originClientTop){let tops=[],bottoms=[];for(let el of this.els){let rect=el.getBoundingClientRect();tops.push(rect.top-originClientTop),bottoms.push(rect.bottom-originClientTop)}this.tops=tops,this.bottoms=bottoms}leftToIndex(leftPosition){let i,{lefts,rights}=this,len=lefts.length;for(i=0;i<len;i+=1)if(leftPosition>=lefts[i]&&leftPosition<rights[i])return i}topToIndex(topPosition){let i,{tops,bottoms}=this,len=tops.length;for(i=0;i<len;i+=1)if(topPosition>=tops[i]&&topPosition<bottoms[i])return i}getWidth(leftIndex){return this.rights[leftIndex]-this.lefts[leftIndex]}getHeight(topIndex){return this.bottoms[topIndex]-this.tops[topIndex]}similarTo(otherCache){return similarNumArrays(this.tops||[],otherCache.tops||[])&&similarNumArrays(this.bottoms||[],otherCache.bottoms||[])&&similarNumArrays(this.lefts||[],otherCache.lefts||[])&&similarNumArrays(this.rights||[],otherCache.rights||[])}}function similarNumArrays(a,b){const len=a.length;if(len!==b.length)return!1;for(let i=0;i<len;i++)if(Math.round(a[i])!==Math.round(b[i]))return!1;return!0}class ScrollController{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class ElementScrollController extends ScrollController{constructor(el){super(),this.el=el}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(top){this.el.scrollTop=top}setScrollLeft(left){this.el.scrollLeft=left}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class WindowScrollController extends ScrollController{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(n){window.scroll(window.scrollX,n)}setScrollLeft(n){window.scroll(n,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class DateComponent extends BaseComponent{constructor(){super(...arguments),this.uid=guid()}prepareHits(){}queryHit(positionLeft,positionTop,elWidth,elHeight){return null}isValidSegDownEl(el){return!this.props.eventDrag&&!this.props.eventResize&&!elementClosest(el,".fc-event-mirror")}isValidDateDownEl(el){return!(elementClosest(el,".fc-event:not(.fc-bg-event)")||elementClosest(el,".fc-more-link")||elementClosest(el,"a[data-navlink]")||elementClosest(el,".fc-popover"))}}class SegHierarchy{constructor(getEntryThickness=(entry=>entry.thickness||1)){this.getEntryThickness=getEntryThickness,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(inputs){let hiddenEntries=[];for(let input of inputs)this.insertEntry(input,hiddenEntries);return hiddenEntries}insertEntry(entry,hiddenEntries){let insertion=this.findInsertion(entry);this.isInsertionValid(insertion,entry)?this.insertEntryAt(entry,insertion):this.handleInvalidInsertion(insertion,entry,hiddenEntries)}isInsertionValid(insertion,entry){return(-1===this.maxCoord||insertion.levelCoord+this.getEntryThickness(entry)<=this.maxCoord)&&(-1===this.maxStackCnt||insertion.stackCnt<this.maxStackCnt)}handleInvalidInsertion(insertion,entry,hiddenEntries){if(this.allowReslicing&&insertion.touchingEntry){const hiddenEntry=Object.assign(Object.assign({},entry),{span:intersectSpans(entry.span,insertion.touchingEntry.span)});hiddenEntries.push(hiddenEntry),this.splitEntry(entry,insertion.touchingEntry,hiddenEntries)}else hiddenEntries.push(entry)}splitEntry(entry,barrier,hiddenEntries){let entrySpan=entry.span,barrierSpan=barrier.span;entrySpan.start<barrierSpan.start&&this.insertEntry({index:entry.index,thickness:entry.thickness,span:{start:entrySpan.start,end:barrierSpan.start}},hiddenEntries),entrySpan.end>barrierSpan.end&&this.insertEntry({index:entry.index,thickness:entry.thickness,span:{start:barrierSpan.end,end:entrySpan.end}},hiddenEntries)}insertEntryAt(entry,insertion){let{entriesByLevel,levelCoords}=this;-1===insertion.lateral?(insertAt(levelCoords,insertion.level,insertion.levelCoord),insertAt(entriesByLevel,insertion.level,[entry])):insertAt(entriesByLevel[insertion.level],insertion.lateral,entry),this.stackCnts[buildEntryKey(entry)]=insertion.stackCnt}findInsertion(newEntry){let{levelCoords,entriesByLevel,strictOrder,stackCnts}=this,levelCnt=levelCoords.length,candidateCoord=0,touchingLevel=-1,touchingLateral=-1,touchingEntry=null,stackCnt=0;for(let trackingLevel=0;trackingLevel<levelCnt;trackingLevel+=1){const trackingCoord=levelCoords[trackingLevel];if(!strictOrder&&trackingCoord>=candidateCoord+this.getEntryThickness(newEntry))break;let trackingEntry,trackingEntries=entriesByLevel[trackingLevel],searchRes=binarySearch(trackingEntries,newEntry.span.start,getEntrySpanEnd),lateralIndex=searchRes[0]+searchRes[1];for(;(trackingEntry=trackingEntries[lateralIndex])&&trackingEntry.span.start<newEntry.span.end;){let trackingEntryBottom=trackingCoord+this.getEntryThickness(trackingEntry);trackingEntryBottom>candidateCoord&&(candidateCoord=trackingEntryBottom,touchingEntry=trackingEntry,touchingLevel=trackingLevel,touchingLateral=lateralIndex),trackingEntryBottom===candidateCoord&&(stackCnt=Math.max(stackCnt,stackCnts[buildEntryKey(trackingEntry)]+1)),lateralIndex+=1}}let destLevel=0;if(touchingEntry)for(destLevel=touchingLevel+1;destLevel<levelCnt&&levelCoords[destLevel]<candidateCoord;)destLevel+=1;let destLateral=-1;return destLevel<levelCnt&&levelCoords[destLevel]===candidateCoord&&(destLateral=binarySearch(entriesByLevel[destLevel],newEntry.span.end,getEntrySpanEnd)[0]),{touchingLevel,touchingLateral,touchingEntry,stackCnt,levelCoord:candidateCoord,level:destLevel,lateral:destLateral}}toRects(){let{entriesByLevel,levelCoords}=this,levelCnt=entriesByLevel.length,rects=[];for(let level=0;level<levelCnt;level+=1){let entries=entriesByLevel[level],levelCoord=levelCoords[level];for(let entry of entries)rects.push(Object.assign(Object.assign({},entry),{thickness:this.getEntryThickness(entry),levelCoord}))}return rects}}function getEntrySpanEnd(entry){return entry.span.end}function buildEntryKey(entry){return entry.index+":"+entry.span.start}function groupIntersectingEntries(entries){let merges=[];for(let entry of entries){let filteredMerges=[],hungryMerge={span:entry.span,entries:[entry]};for(let merge of merges)intersectSpans(merge.span,hungryMerge.span)?hungryMerge={entries:merge.entries.concat(hungryMerge.entries),span:(span0=merge.span,span1=hungryMerge.span,{start:Math.min(span0.start,span1.start),end:Math.max(span0.end,span1.end)})}:filteredMerges.push(merge);filteredMerges.push(hungryMerge),merges=filteredMerges}var span0,span1;return merges}function intersectSpans(span0,span1){let start=Math.max(span0.start,span1.start),end=Math.min(span0.end,span1.end);return start<end?{start,end}:null}function insertAt(arr,index,item){arr.splice(index,0,item)}function binarySearch(a,searchVal,getItemVal){let startIndex=0,endIndex=a.length;if(!endIndex||searchVal<getItemVal(a[startIndex]))return[0,0];if(searchVal>getItemVal(a[endIndex-1]))return[endIndex,0];for(;startIndex<endIndex;){let middleIndex=Math.floor(startIndex+(endIndex-startIndex)/2),middleVal=getItemVal(a[middleIndex]);if(searchVal<middleVal)endIndex=middleIndex;else{if(!(searchVal>middleVal))return[middleIndex,1];startIndex=middleIndex+1}}return[startIndex,0]}class ElementDragging{constructor(el,selector){this.emitter=new Emitter}destroy(){}setMirrorIsVisible(bool){}setMirrorNeedsRevert(bool){}setAutoScrollEnabled(bool){}}const config={};Boolean;const CLASS_NAME="fc-col-header-cell";function renderInner$1(renderProps){return renderProps.text}class TableDateCell extends BaseComponent{render(){let{dateEnv,options,theme,viewApi}=this.context,{props}=this,{date,dateProfile}=props,dayMeta=getDateMeta(date,props.todayRange,null,dateProfile),classNames=[CLASS_NAME].concat(getDayClassNames(dayMeta,theme)),text=dateEnv.format(date,props.dayHeaderFormat),navLinkAttrs=!dayMeta.isDisabled&&props.colCnt>1?buildNavLinkAttrs(this.context,date):{},renderProps=Object.assign(Object.assign(Object.assign({date:dateEnv.toDate(date),view:viewApi},props.extraRenderProps),{text}),dayMeta);return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(ContentContainer,{elTag:"th",elClasses:classNames,elAttrs:Object.assign({role:"columnheader",colSpan:props.colSpan,"data-date":dayMeta.isDisabled?void 0:formatDayString(date)},props.extraDataAttrs),renderProps,generatorName:"dayHeaderContent",customGenerator:options.dayHeaderContent,defaultGenerator:renderInner$1,classNameGenerator:options.dayHeaderClassNames,didMount:options.dayHeaderDidMount,willUnmount:options.dayHeaderWillUnmount},(InnerContainer=>(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("div",{className:"fc-scrollgrid-sync-inner"},!dayMeta.isDisabled&&(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(InnerContainer,{elTag:"a",elAttrs:navLinkAttrs,elClasses:["fc-col-header-cell-cushion",props.isSticky&&"fc-sticky"]}))))}}const WEEKDAY_FORMAT=createFormatter({weekday:"long"});class TableDowCell extends BaseComponent{render(){let{props}=this,{dateEnv,theme,viewApi,options}=this.context,date=addDays(new Date(2592e5),props.dow),dateMeta={dow:props.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},text=dateEnv.format(date,props.dayHeaderFormat),renderProps=Object.assign(Object.assign(Object.assign(Object.assign({date},dateMeta),{view:viewApi}),props.extraRenderProps),{text});return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(ContentContainer,{elTag:"th",elClasses:[CLASS_NAME,...getDayClassNames(dateMeta,theme),...props.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:props.colSpan},props.extraDataAttrs),renderProps,generatorName:"dayHeaderContent",customGenerator:options.dayHeaderContent,defaultGenerator:renderInner$1,classNameGenerator:options.dayHeaderClassNames,didMount:options.dayHeaderDidMount,willUnmount:options.dayHeaderWillUnmount},(InnerContent=>(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("div",{className:"fc-scrollgrid-sync-inner"},(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(InnerContent,{elTag:"a",elClasses:["fc-col-header-cell-cushion",props.isSticky&&"fc-sticky"],elAttrs:{"aria-label":dateEnv.format(date,WEEKDAY_FORMAT)}}))))}}class NowTimer extends preact__WEBPACK_IMPORTED_MODULE_0__.uA{constructor(props,context){super(props,context),this.initialNowDate=getNow(context.options.now,context.dateEnv),this.initialNowQueriedMs=(new Date).valueOf(),this.state=this.computeTiming().currentState}render(){let{props,state}=this;return props.children(state.nowDate,state.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(prevProps){prevProps.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props,context}=this,unroundedNow=addMs(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),currentUnitStart=context.dateEnv.startOf(unroundedNow,props.unit),nextUnitStart=context.dateEnv.add(currentUnitStart,createDuration(1,props.unit)),waitMs=nextUnitStart.valueOf()-unroundedNow.valueOf();return waitMs=Math.min(864e5,waitMs),{currentState:{nowDate:currentUnitStart,todayRange:buildDayRange(currentUnitStart)},nextState:{nowDate:nextUnitStart,todayRange:buildDayRange(nextUnitStart)},waitMs}}setTimeout(){let{nextState,waitMs}=this.computeTiming();this.timeoutId=setTimeout((()=>{this.setState(nextState,(()=>{this.setTimeout()}))}),waitMs)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}function buildDayRange(date){let start=startOfDay(date);return{start,end:addDays(start,1)}}NowTimer.contextType=ViewContextType;class DayHeader extends BaseComponent{constructor(){super(...arguments),this.createDayHeaderFormatter=memoize(createDayHeaderFormatter)}render(){let{context}=this,{dates,dateProfile,datesRepDistinctDays,renderIntro}=this.props,dayHeaderFormat=this.createDayHeaderFormatter(context.options.dayHeaderFormat,datesRepDistinctDays,dates.length);return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(NowTimer,{unit:"day"},((nowDate,todayRange)=>(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("tr",{role:"row"},renderIntro&&renderIntro("day"),dates.map((date=>datesRepDistinctDays?(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(TableDateCell,{key:date.toISOString(),date,dateProfile,todayRange,colCnt:dates.length,dayHeaderFormat}):(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(TableDowCell,{key:date.getUTCDay(),dow:date.getUTCDay(),dayHeaderFormat}))))))}}function createDayHeaderFormatter(explicitFormat,datesRepDistinctDays,dateCnt){return explicitFormat||function computeFallbackHeaderFormat(datesRepDistinctDays,dayCnt){return createFormatter(!datesRepDistinctDays||dayCnt>10?{weekday:"short"}:dayCnt>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}(datesRepDistinctDays,dateCnt)}class DaySeriesModel{constructor(range,dateProfileGenerator){let date=range.start,{end}=range,indices=[],dates=[],dayIndex=-1;for(;date<end;)dateProfileGenerator.isHiddenDay(date)?indices.push(dayIndex+.5):(dayIndex+=1,indices.push(dayIndex),dates.push(date)),date=addDays(date,1);this.dates=dates,this.indices=indices,this.cnt=dates.length}sliceRange(range){let firstIndex=this.getDateDayIndex(range.start),lastIndex=this.getDateDayIndex(addDays(range.end,-1)),clippedFirstIndex=Math.max(0,firstIndex),clippedLastIndex=Math.min(this.cnt-1,lastIndex);return clippedFirstIndex=Math.ceil(clippedFirstIndex),clippedLastIndex=Math.floor(clippedLastIndex),clippedFirstIndex<=clippedLastIndex?{firstIndex:clippedFirstIndex,lastIndex:clippedLastIndex,isStart:firstIndex===clippedFirstIndex,isEnd:lastIndex===clippedLastIndex}:null}getDateDayIndex(date){let{indices}=this,dayOffset=Math.floor(diffDays(this.dates[0],date));return dayOffset<0?indices[0]-1:dayOffset>=indices.length?indices[indices.length-1]+1:indices[dayOffset]}}class DayTableModel{constructor(daySeries,breakOnWeeks){let daysPerRow,firstDay,rowCnt,{dates}=daySeries;if(breakOnWeeks){for(firstDay=dates[0].getUTCDay(),daysPerRow=1;daysPerRow<dates.length&&dates[daysPerRow].getUTCDay()!==firstDay;daysPerRow+=1);rowCnt=Math.ceil(dates.length/daysPerRow)}else rowCnt=1,daysPerRow=dates.length;this.rowCnt=rowCnt,this.colCnt=daysPerRow,this.daySeries=daySeries,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let rows=[];for(let row=0;row<this.rowCnt;row+=1){let cells=[];for(let col=0;col<this.colCnt;col+=1)cells.push(this.buildCell(row,col));rows.push(cells)}return rows}buildCell(row,col){let date=this.daySeries.dates[row*this.colCnt+col];return{key:date.toISOString(),date}}buildHeaderDates(){let dates=[];for(let col=0;col<this.colCnt;col+=1)dates.push(this.cells[0][col].date);return dates}sliceRange(range){let{colCnt}=this,seriesSeg=this.daySeries.sliceRange(range),segs=[];if(seriesSeg){let{firstIndex,lastIndex}=seriesSeg,index=firstIndex;for(;index<=lastIndex;){let row=Math.floor(index/colCnt),nextIndex=Math.min((row+1)*colCnt,lastIndex+1);segs.push({row,firstCol:index%colCnt,lastCol:(nextIndex-1)%colCnt,isStart:seriesSeg.isStart&&index===firstIndex,isEnd:seriesSeg.isEnd&&nextIndex-1===lastIndex}),index=nextIndex}}return segs}}class Slicer{constructor(){this.sliceBusinessHours=memoize(this._sliceBusinessHours),this.sliceDateSelection=memoize(this._sliceDateSpan),this.sliceEventStore=memoize(this._sliceEventStore),this.sliceEventDrag=memoize(this._sliceInteraction),this.sliceEventResize=memoize(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(props,dateProfile,nextDayThreshold,context,...extraArgs){let{eventUiBases}=props,eventSegs=this.sliceEventStore(props.eventStore,eventUiBases,dateProfile,nextDayThreshold,...extraArgs);return{dateSelectionSegs:this.sliceDateSelection(props.dateSelection,dateProfile,nextDayThreshold,eventUiBases,context,...extraArgs),businessHourSegs:this.sliceBusinessHours(props.businessHours,dateProfile,nextDayThreshold,context,...extraArgs),fgEventSegs:eventSegs.fg,bgEventSegs:eventSegs.bg,eventDrag:this.sliceEventDrag(props.eventDrag,eventUiBases,dateProfile,nextDayThreshold,...extraArgs),eventResize:this.sliceEventResize(props.eventResize,eventUiBases,dateProfile,nextDayThreshold,...extraArgs),eventSelection:props.eventSelection}}sliceNowDate(date,dateProfile,nextDayThreshold,context,...extraArgs){return this._sliceDateSpan({range:{start:date,end:addMs(date,1)},allDay:!1},dateProfile,nextDayThreshold,{},context,...extraArgs)}_sliceBusinessHours(businessHours,dateProfile,nextDayThreshold,context,...extraArgs){return businessHours?this._sliceEventStore(expandRecurring(businessHours,computeActiveRange(dateProfile,Boolean(nextDayThreshold)),context),{},dateProfile,nextDayThreshold,...extraArgs).bg:[]}_sliceEventStore(eventStore,eventUiBases,dateProfile,nextDayThreshold,...extraArgs){if(eventStore){let rangeRes=sliceEventStore(eventStore,eventUiBases,computeActiveRange(dateProfile,Boolean(nextDayThreshold)),nextDayThreshold);return{bg:this.sliceEventRanges(rangeRes.bg,extraArgs),fg:this.sliceEventRanges(rangeRes.fg,extraArgs)}}return{bg:[],fg:[]}}_sliceInteraction(interaction,eventUiBases,dateProfile,nextDayThreshold,...extraArgs){if(!interaction)return null;let rangeRes=sliceEventStore(interaction.mutatedEvents,eventUiBases,computeActiveRange(dateProfile,Boolean(nextDayThreshold)),nextDayThreshold);return{segs:this.sliceEventRanges(rangeRes.fg,extraArgs),affectedInstances:interaction.affectedEvents.instances,isEvent:interaction.isEvent}}_sliceDateSpan(dateSpan,dateProfile,nextDayThreshold,eventUiBases,context,...extraArgs){if(!dateSpan)return[];let activeRange=computeActiveRange(dateProfile,Boolean(nextDayThreshold)),activeDateSpanRange=intersectRanges(dateSpan.range,activeRange);if(activeDateSpanRange){let eventRange=function fabricateEventRange(dateSpan,eventUiBases,context){let res=refineEventDef({editable:!1},context),def=parseEventDef(res.refined,res.extra,"",dateSpan.allDay,!0,context);return{def,ui:compileEventUi(def,eventUiBases),instance:createEventInstance(def.defId,dateSpan.range),range:dateSpan.range,isStart:!0,isEnd:!0}}(dateSpan=Object.assign(Object.assign({},dateSpan),{range:activeDateSpanRange}),eventUiBases,context),segs=this.sliceRange(dateSpan.range,...extraArgs);for(let seg of segs)seg.eventRange=eventRange;return segs}return[]}sliceEventRanges(eventRanges,extraArgs){let segs=[];for(let eventRange of eventRanges)segs.push(...this.sliceEventRange(eventRange,extraArgs));return segs}sliceEventRange(eventRange,extraArgs){let dateRange=eventRange.range;this.forceDayIfListItem&&"list-item"===eventRange.ui.display&&(dateRange={start:dateRange.start,end:addDays(dateRange.start,1)});let segs=this.sliceRange(dateRange,...extraArgs);for(let seg of segs)seg.eventRange=eventRange,seg.isStart=eventRange.isStart&&seg.isStart,seg.isEnd=eventRange.isEnd&&seg.isEnd;return segs}}function computeActiveRange(dateProfile,isComponentAllDay){let range=dateProfile.activeRange;return isComponentAllDay?range:{start:addMs(range.start,dateProfile.slotMinTime.milliseconds),end:addMs(range.end,dateProfile.slotMaxTime.milliseconds-864e5)}}function isInteractionValid(interaction,dateProfile,context){let{instances}=interaction.mutatedEvents;for(let instanceId in instances)if(!rangeContainsRange(dateProfile.validRange,instances[instanceId].range))return!1;return isNewPropsValid({eventDrag:interaction},context)}function isDateSelectionValid(dateSelection,dateProfile,context){return!!rangeContainsRange(dateProfile.validRange,dateSelection.range)&&isNewPropsValid({dateSelection},context)}function isNewPropsValid(newProps,context){let calendarState=context.getCurrentData(),props=Object.assign({businessHours:calendarState.businessHours,dateSelection:"",eventStore:calendarState.eventStore,eventUiBases:calendarState.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},newProps);return(context.pluginHooks.isPropsValid||isPropsValid)(props,context)}function isPropsValid(state,context,dateSpanMeta={},filterConfig){return!(state.eventDrag&&!function isInteractionPropsValid(state,context,dateSpanMeta,filterConfig){let currentState=context.getCurrentData(),interaction=state.eventDrag,subjectEventStore=interaction.mutatedEvents,subjectDefs=subjectEventStore.defs,subjectInstances=subjectEventStore.instances,subjectConfigs=compileEventUis(subjectDefs,interaction.isEvent?state.eventUiBases:{"":currentState.selectionConfig});filterConfig&&(subjectConfigs=mapHash(subjectConfigs,filterConfig));let otherEventStore=function excludeInstances(eventStore,removals){return{defs:eventStore.defs,instances:filterHash(eventStore.instances,(instance=>!removals[instance.instanceId]))}}(state.eventStore,interaction.affectedEvents.instances),otherDefs=otherEventStore.defs,otherInstances=otherEventStore.instances,otherConfigs=compileEventUis(otherDefs,state.eventUiBases);for(let subjectInstanceId in subjectInstances){let subjectInstance=subjectInstances[subjectInstanceId],subjectRange=subjectInstance.range,subjectConfig=subjectConfigs[subjectInstance.defId],subjectDef=subjectDefs[subjectInstance.defId];if(!allConstraintsPass(subjectConfig.constraints,subjectRange,otherEventStore,state.businessHours,context))return!1;let{eventOverlap}=context.options,eventOverlapFunc="function"==typeof eventOverlap?eventOverlap:null;for(let otherInstanceId in otherInstances){let otherInstance=otherInstances[otherInstanceId];if(rangesIntersect(subjectRange,otherInstance.range)){if(!1===otherConfigs[otherInstance.defId].overlap&&interaction.isEvent)return!1;if(!1===subjectConfig.overlap)return!1;if(eventOverlapFunc&&!eventOverlapFunc(new EventImpl(context,otherDefs[otherInstance.defId],otherInstance),new EventImpl(context,subjectDef,subjectInstance)))return!1}}let calendarEventStore=currentState.eventStore;for(let subjectAllow of subjectConfig.allows){let eventApi,subjectDateSpan=Object.assign(Object.assign({},dateSpanMeta),{range:subjectInstance.range,allDay:subjectDef.allDay}),origDef=calendarEventStore.defs[subjectDef.defId],origInstance=calendarEventStore.instances[subjectInstanceId];if(eventApi=origDef?new EventImpl(context,origDef,origInstance):new EventImpl(context,subjectDef),!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan,context),eventApi))return!1}}return!0}(state,context,dateSpanMeta,filterConfig))&&!(state.dateSelection&&!function isDateSelectionPropsValid(state,context,dateSpanMeta,filterConfig){let relevantEventStore=state.eventStore,relevantDefs=relevantEventStore.defs,relevantInstances=relevantEventStore.instances,selection=state.dateSelection,selectionRange=selection.range,{selectionConfig}=context.getCurrentData();filterConfig&&(selectionConfig=filterConfig(selectionConfig));if(!allConstraintsPass(selectionConfig.constraints,selectionRange,relevantEventStore,state.businessHours,context))return!1;let{selectOverlap}=context.options,selectOverlapFunc="function"==typeof selectOverlap?selectOverlap:null;for(let relevantInstanceId in relevantInstances){let relevantInstance=relevantInstances[relevantInstanceId];if(rangesIntersect(selectionRange,relevantInstance.range)){if(!1===selectionConfig.overlap)return!1;if(selectOverlapFunc&&!selectOverlapFunc(new EventImpl(context,relevantDefs[relevantInstance.defId],relevantInstance),null))return!1}}for(let selectionAllow of selectionConfig.allows){if(!selectionAllow(buildDateSpanApiWithContext(Object.assign(Object.assign({},dateSpanMeta),selection),context),null))return!1}return!0}(state,context,dateSpanMeta,filterConfig))}function allConstraintsPass(constraints,subjectRange,otherEventStore,businessHoursUnexpanded,context){for(let constraint of constraints)if(!anyRangesContainRange(constraintToRanges(constraint,subjectRange,otherEventStore,businessHoursUnexpanded,context),subjectRange))return!1;return!0}function constraintToRanges(constraint,subjectRange,otherEventStore,businessHoursUnexpanded,context){return"businessHours"===constraint?eventStoreToRanges(expandRecurring(businessHoursUnexpanded,subjectRange,context)):"string"==typeof constraint?eventStoreToRanges(filterEventStoreDefs(otherEventStore,(eventDef=>eventDef.groupId===constraint))):"object"==typeof constraint&&constraint?eventStoreToRanges(expandRecurring(constraint,subjectRange,context)):[]}function eventStoreToRanges(eventStore){let{instances}=eventStore,ranges=[];for(let instanceId in instances)ranges.push(instances[instanceId].range);return ranges}function anyRangesContainRange(outerRanges,innerRange){for(let outerRange of outerRanges)if(rangeContainsRange(outerRange,innerRange))return!0;return!1}const VISIBLE_HIDDEN_RE=/^(visible|hidden)$/;class Scroller extends BaseComponent{constructor(){super(...arguments),this.handleEl=el=>{this.el=el,setRef(this.props.elRef,el)}}render(){let{props}=this,{liquid,liquidIsAbsolute}=props,isAbsolute=liquid&&liquidIsAbsolute,className=["fc-scroller"];return liquid&&(liquidIsAbsolute?className.push("fc-scroller-liquid-absolute"):className.push("fc-scroller-liquid")),(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("div",{ref:this.handleEl,className:className.join(" "),style:{overflowX:props.overflowX,overflowY:props.overflowY,left:isAbsolute&&-(props.overcomeLeft||0)||"",right:isAbsolute&&-(props.overcomeRight||0)||"",bottom:isAbsolute&&-(props.overcomeBottom||0)||"",marginLeft:!isAbsolute&&-(props.overcomeLeft||0)||"",marginRight:!isAbsolute&&-(props.overcomeRight||0)||"",marginBottom:!isAbsolute&&-(props.overcomeBottom||0)||"",maxHeight:props.maxHeight||""}},props.children)}needsXScrolling(){if(VISIBLE_HIDDEN_RE.test(this.props.overflowX))return!1;let{el}=this,realClientWidth=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children}=el;for(let i=0;i<children.length;i+=1){if(children[i].getBoundingClientRect().width>realClientWidth)return!0}return!1}needsYScrolling(){if(VISIBLE_HIDDEN_RE.test(this.props.overflowY))return!1;let{el}=this,realClientHeight=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children}=el;for(let i=0;i<children.length;i+=1){if(children[i].getBoundingClientRect().height>realClientHeight)return!0}return!1}getXScrollbarWidth(){return VISIBLE_HIDDEN_RE.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return VISIBLE_HIDDEN_RE.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class RefMap{constructor(masterCallback){this.masterCallback=masterCallback,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(val,key)=>{let{depths,currentMap}=this,removed=!1,added=!1;null!==val?(removed=key in currentMap,currentMap[key]=val,depths[key]=(depths[key]||0)+1,added=!0):(depths[key]-=1,depths[key]||(delete currentMap[key],delete this.callbackMap[key],removed=!0)),this.masterCallback&&(removed&&this.masterCallback(null,String(key)),added&&this.masterCallback(val,String(key)))}}createRef(key){let refCallback=this.callbackMap[key];return refCallback||(refCallback=this.callbackMap[key]=val=>{this.handleValue(val,String(key))}),refCallback}collect(startIndex,endIndex,step){return function collectFromHash(hash,startIndex=0,endIndex,step=1){let res=[];null==endIndex&&(endIndex=Object.keys(hash).length);for(let i=startIndex;i<endIndex;i+=step){let val=hash[i];void 0!==val&&res.push(val)}return res}(this.currentMap,startIndex,endIndex,step)}getAll(){return hashValuesToArray(this.currentMap)}}function computeShrinkWidth(chunkEls){let shrinkCells=function findElements(container,selector){let containers=container instanceof HTMLElement?[container]:container,allMatches=[];for(let i=0;i<containers.length;i+=1){let matches=containers[i].querySelectorAll(selector);for(let j=0;j<matches.length;j+=1)allMatches.push(matches[j])}return allMatches}(chunkEls,".fc-scrollgrid-shrink"),largestWidth=0;for(let shrinkCell of shrinkCells)largestWidth=Math.max(largestWidth,computeSmallestCellWidth(shrinkCell));return Math.ceil(largestWidth)}function getSectionHasLiquidHeight(props,sectionConfig){return props.liquid&&sectionConfig.liquid}function isColPropsEqual(cols0,cols1){return isArraysEqual(cols0,cols1,isPropsEqual)}function renderMicroColGroup(cols,shrinkWidth){let colNodes=[];for(let colProps of cols){let span=colProps.span||1;for(let i=0;i<span;i+=1)colNodes.push((0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("col",{style:{width:"shrink"===colProps.width?sanitizeShrinkWidth(shrinkWidth):colProps.width||"",minWidth:colProps.minWidth||""}}))}return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("colgroup",{},...colNodes)}function sanitizeShrinkWidth(shrinkWidth){return null==shrinkWidth?4:shrinkWidth}function getSectionClassNames(sectionConfig,wholeTableVGrow){let classNames=["fc-scrollgrid-section",`fc-scrollgrid-section-${sectionConfig.type}`,sectionConfig.className];return wholeTableVGrow&&sectionConfig.liquid&&null==sectionConfig.maxHeight&&classNames.push("fc-scrollgrid-section-liquid"),sectionConfig.isSticky&&classNames.push("fc-scrollgrid-section-sticky"),classNames}function renderScrollShim(arg){return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("div",{className:"fc-scrollgrid-sticky-shim",style:{width:arg.clientWidth,minWidth:arg.tableMinWidth}})}function getStickyHeaderDates(options){let{stickyHeaderDates}=options;return null!=stickyHeaderDates&&"auto"!==stickyHeaderDates||(stickyHeaderDates="auto"===options.height||"auto"===options.viewHeight),stickyHeaderDates}function getStickyFooterScrollbar(options){let{stickyFooterScrollbar}=options;return null!=stickyFooterScrollbar&&"auto"!==stickyFooterScrollbar||(stickyFooterScrollbar="auto"===options.height||"auto"===options.viewHeight),stickyFooterScrollbar}class SimpleScrollGrid extends BaseComponent{constructor(){super(...arguments),this.processCols=memoize((a=>a),isColPropsEqual),this.renderMicroColGroup=memoize(renderMicroColGroup),this.scrollerRefs=new RefMap,this.scrollerElRefs=new RefMap(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props,state,context}=this,sectionConfigs=props.sections||[],cols=this.processCols(props.cols),microColGroupNode=this.renderMicroColGroup(cols,state.shrinkWidth),classNames=function getScrollGridClassNames(liquid,context){let classNames=["fc-scrollgrid",context.theme.getClass("table")];return liquid&&classNames.push("fc-scrollgrid-liquid"),classNames}(props.liquid,context);props.collapsibleWidth&&classNames.push("fc-scrollgrid-collapsible");let currentConfig,configCnt=sectionConfigs.length,configI=0,headSectionNodes=[],bodySectionNodes=[],footSectionNodes=[];for(;configI<configCnt&&"header"===(currentConfig=sectionConfigs[configI]).type;)headSectionNodes.push(this.renderSection(currentConfig,microColGroupNode,!0)),configI+=1;for(;configI<configCnt&&"body"===(currentConfig=sectionConfigs[configI]).type;)bodySectionNodes.push(this.renderSection(currentConfig,microColGroupNode,!1)),configI+=1;for(;configI<configCnt&&"footer"===(currentConfig=sectionConfigs[configI]).type;)footSectionNodes.push(this.renderSection(currentConfig,microColGroupNode,!0)),configI+=1;let isBuggy=!getCanVGrowWithinCell();const roleAttrs={role:"rowgroup"};return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("table",{role:"grid",className:classNames.join(" "),style:{height:props.height}},Boolean(!isBuggy&&headSectionNodes.length)&&(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("thead",roleAttrs,...headSectionNodes),Boolean(!isBuggy&&bodySectionNodes.length)&&(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("tbody",roleAttrs,...bodySectionNodes),Boolean(!isBuggy&&footSectionNodes.length)&&(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("tfoot",roleAttrs,...footSectionNodes),isBuggy&&(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("tbody",roleAttrs,...headSectionNodes,...bodySectionNodes,...footSectionNodes))}renderSection(sectionConfig,microColGroupNode,isHeader){return"outerContent"in sectionConfig?(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(preact__WEBPACK_IMPORTED_MODULE_0__.FK,{key:sectionConfig.key},sectionConfig.outerContent):(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("tr",{key:sectionConfig.key,role:"presentation",className:getSectionClassNames(sectionConfig,this.props.liquid).join(" ")},this.renderChunkTd(sectionConfig,microColGroupNode,sectionConfig.chunk,isHeader))}renderChunkTd(sectionConfig,microColGroupNode,chunkConfig,isHeader){if("outerContent"in chunkConfig)return chunkConfig.outerContent;let{props}=this,{forceYScrollbars,scrollerClientWidths,scrollerClientHeights}=this.state,needsYScrolling=function getAllowYScrolling(props,sectionConfig){return null!=sectionConfig.maxHeight||getSectionHasLiquidHeight(props,sectionConfig)}(props,sectionConfig),isLiquid=getSectionHasLiquidHeight(props,sectionConfig),overflowY=props.liquid?forceYScrollbars?"scroll":needsYScrolling?"auto":"hidden":"visible",sectionKey=sectionConfig.key,content=function renderChunkContent(sectionConfig,chunkConfig,arg,isHeader){let{expandRows}=arg;return"function"==typeof chunkConfig.content?chunkConfig.content(arg):(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("table",{role:"presentation",className:[chunkConfig.tableClassName,sectionConfig.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:arg.tableMinWidth,width:arg.clientWidth,height:expandRows?arg.clientHeight:""}},arg.tableColGroupNode,(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(isHeader?"thead":"tbody",{role:"presentation"},"function"==typeof chunkConfig.rowContent?chunkConfig.rowContent(arg):chunkConfig.rowContent))}(sectionConfig,chunkConfig,{tableColGroupNode:microColGroupNode,tableMinWidth:"",clientWidth:props.collapsibleWidth||void 0===scrollerClientWidths[sectionKey]?null:scrollerClientWidths[sectionKey],clientHeight:void 0!==scrollerClientHeights[sectionKey]?scrollerClientHeights[sectionKey]:null,expandRows:sectionConfig.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},isHeader);return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(isHeader?"th":"td",{ref:chunkConfig.elRef,role:"presentation"},(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("div",{className:"fc-scroller-harness"+(isLiquid?" fc-scroller-harness-liquid":"")},(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(Scroller,{ref:this.scrollerRefs.createRef(sectionKey),elRef:this.scrollerElRefs.createRef(sectionKey),overflowY,overflowX:props.liquid?"hidden":"visible",maxHeight:sectionConfig.maxHeight,liquid:isLiquid,liquidIsAbsolute:!0},content)))}_handleScrollerEl(scrollerEl,key){let section=function getSectionByKey(sections,key){for(let section of sections)if(section.key===key)return section;return null}(this.props.sections,key);section&&setRef(section.chunk.scrollerElRef,scrollerEl)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return function hasShrinkWidth(cols){for(let col of cols)if("shrink"===col.width)return!0;return!1}(this.props.cols)?computeShrinkWidth(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let scrollbarWidth=getScrollbarWidths(),{scrollerRefs,scrollerElRefs}=this,forceYScrollbars=!1,scrollerClientWidths={},scrollerClientHeights={};for(let sectionKey in scrollerRefs.currentMap){let scroller=scrollerRefs.currentMap[sectionKey];if(scroller&&scroller.needsYScrolling()){forceYScrollbars=!0;break}}for(let section of this.props.sections){let sectionKey=section.key,scrollerEl=scrollerElRefs.currentMap[sectionKey];if(scrollerEl){let harnessEl=scrollerEl.parentNode;scrollerClientWidths[sectionKey]=Math.floor(harnessEl.getBoundingClientRect().width-(forceYScrollbars?scrollbarWidth.y:0)),scrollerClientHeights[sectionKey]=Math.floor(harnessEl.getBoundingClientRect().height)}}return{forceYScrollbars,scrollerClientWidths,scrollerClientHeights}}}SimpleScrollGrid.addStateEquality({scrollerClientWidths:isPropsEqual,scrollerClientHeights:isPropsEqual});class EventContainer extends BaseComponent{constructor(){super(...arguments),this.handleEl=el=>{this.el=el,el&&setElSeg(el,this.props.seg)}}render(){const{props,context}=this,{options}=context,{seg}=props,{eventRange}=seg,{ui}=eventRange,renderProps={event:new EventImpl(context,eventRange.def,eventRange.instance),view:context.viewApi,timeText:props.timeText,textColor:ui.textColor,backgroundColor:ui.backgroundColor,borderColor:ui.borderColor,isDraggable:!props.disableDragging&&computeSegDraggable(seg,context),isStartResizable:!props.disableResizing&&computeSegStartResizable(seg,context),isEndResizable:!props.disableResizing&&computeSegEndResizable(seg),isMirror:Boolean(props.isDragging||props.isResizing||props.isDateSelecting),isStart:Boolean(seg.isStart),isEnd:Boolean(seg.isEnd),isPast:Boolean(props.isPast),isFuture:Boolean(props.isFuture),isToday:Boolean(props.isToday),isSelected:Boolean(props.isSelected),isDragging:Boolean(props.isDragging),isResizing:Boolean(props.isResizing)};return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(ContentContainer,Object.assign({},props,{elRef:this.handleEl,elClasses:[...getEventClassNames(renderProps),...seg.eventRange.ui.classNames,...props.elClasses||[]],renderProps,generatorName:"eventContent",customGenerator:options.eventContent,defaultGenerator:props.defaultGenerator,classNameGenerator:options.eventClassNames,didMount:options.eventDidMount,willUnmount:options.eventWillUnmount}))}componentDidUpdate(prevProps){this.el&&this.props.seg!==prevProps.seg&&setElSeg(this.el,this.props.seg)}}class StandardEvent extends BaseComponent{render(){let{props,context}=this,{options}=context,{seg}=props,{ui}=seg.eventRange,timeText=buildSegTimeText(seg,options.eventTimeFormat||props.defaultTimeFormat,context,props.defaultDisplayEventTime,props.defaultDisplayEventEnd);return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(EventContainer,Object.assign({},props,{elTag:"a",elStyle:{borderColor:ui.borderColor,backgroundColor:ui.backgroundColor},elAttrs:getSegAnchorAttrs(seg,context),defaultGenerator:renderInnerContent$1,timeText}),((InnerContent,eventContentArg)=>(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(preact__WEBPACK_IMPORTED_MODULE_0__.FK,null,(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(InnerContent,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:eventContentArg.textColor}}),Boolean(eventContentArg.isStartResizable)&&(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("div",{className:"fc-event-resizer fc-event-resizer-start"}),Boolean(eventContentArg.isEndResizable)&&(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("div",{className:"fc-event-resizer fc-event-resizer-end"}))))}}function renderInnerContent$1(innerProps){return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("div",{className:"fc-event-main-frame"},innerProps.timeText&&(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("div",{className:"fc-event-time"},innerProps.timeText),(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("div",{className:"fc-event-title-container"},(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("div",{className:"fc-event-title fc-sticky"},innerProps.event.title||(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(preact__WEBPACK_IMPORTED_MODULE_0__.FK,null,""))))}const NowIndicatorContainer=props=>(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(ViewContextType.Consumer,null,(context=>{let{options}=context,renderProps={isAxis:props.isAxis,date:context.dateEnv.toDate(props.date),view:context.viewApi};return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(ContentContainer,Object.assign({},props,{elTag:props.elTag||"div",renderProps,generatorName:"nowIndicatorContent",customGenerator:options.nowIndicatorContent,classNameGenerator:options.nowIndicatorClassNames,didMount:options.nowIndicatorDidMount,willUnmount:options.nowIndicatorWillUnmount}))})),DAY_NUM_FORMAT=createFormatter({day:"numeric"});class DayCellContainer extends BaseComponent{constructor(){super(...arguments),this.refineRenderProps=memoizeObjArg(refineRenderProps)}render(){let{props,context}=this,{options}=context,renderProps=this.refineRenderProps({date:props.date,dateProfile:props.dateProfile,todayRange:props.todayRange,isMonthStart:props.isMonthStart||!1,showDayNumber:props.showDayNumber,extraRenderProps:props.extraRenderProps,viewApi:context.viewApi,dateEnv:context.dateEnv,monthStartFormat:options.monthStartFormat});return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(ContentContainer,Object.assign({},props,{elClasses:[...getDayClassNames(renderProps,context.theme),...props.elClasses||[]],elAttrs:Object.assign(Object.assign({},props.elAttrs),renderProps.isDisabled?{}:{"data-date":formatDayString(props.date)}),renderProps,generatorName:"dayCellContent",customGenerator:options.dayCellContent,defaultGenerator:props.defaultGenerator,classNameGenerator:renderProps.isDisabled?void 0:options.dayCellClassNames,didMount:options.dayCellDidMount,willUnmount:options.dayCellWillUnmount}))}}function hasCustomDayCellContent(options){return Boolean(options.dayCellContent||hasCustomRenderingHandler("dayCellContent",options))}function refineRenderProps(raw){let{date,dateEnv,dateProfile,isMonthStart}=raw,dayMeta=getDateMeta(date,raw.todayRange,null,dateProfile),dayNumberText=raw.showDayNumber?dateEnv.format(date,isMonthStart?raw.monthStartFormat:DAY_NUM_FORMAT):"";return Object.assign(Object.assign(Object.assign({date:dateEnv.toDate(date),view:raw.viewApi},dayMeta),{isMonthStart,dayNumberText}),raw.extraRenderProps)}class BgEvent extends BaseComponent{render(){let{props}=this,{seg}=props;return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(EventContainer,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:seg.eventRange.ui.backgroundColor},defaultGenerator:renderInnerContent,seg,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:props.isPast,isFuture:props.isFuture,isToday:props.isToday,disableDragging:!0,disableResizing:!0})}}function renderInnerContent(props){let{title}=props.event;return title&&(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("div",{className:"fc-event-title"},props.event.title)}function renderFill(fillType){return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("div",{className:`fc-${fillType}`})}const WeekNumberContainer=props=>(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(ViewContextType.Consumer,null,(context=>{let{dateEnv,options}=context,{date}=props,format=options.weekNumberFormat||props.defaultFormat,renderProps={num:dateEnv.computeWeekNumber(date),text:dateEnv.format(date,format),date};return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(ContentContainer,Object.assign({},props,{renderProps,generatorName:"weekNumberContent",customGenerator:options.weekNumberContent,defaultGenerator:renderInner,classNameGenerator:options.weekNumberClassNames,didMount:options.weekNumberDidMount,willUnmount:options.weekNumberWillUnmount}))}));function renderInner(innerProps){return innerProps.text}class Popover extends BaseComponent{constructor(){super(...arguments),this.state={titleId:getUniqueDomId()},this.handleRootEl=el=>{this.rootEl=el,this.props.elRef&&setRef(this.props.elRef,el)},this.handleDocumentMouseDown=ev=>{const target=getEventTargetViaRoot(ev);this.rootEl.contains(target)||this.handleCloseClick()},this.handleDocumentKeyDown=ev=>{"Escape"===ev.key&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose}=this.props;onClose&&onClose()}}render(){let{theme,options}=this.context,{props,state}=this,classNames=["fc-popover",theme.getClass("popover")].concat(props.extraClassNames||[]);return(0,preact_compat__WEBPACK_IMPORTED_MODULE_1__.d5)((0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("div",Object.assign({},props.extraAttrs,{id:props.id,className:classNames.join(" "),"aria-labelledby":state.titleId,ref:this.handleRootEl}),(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("div",{className:"fc-popover-header "+theme.getClass("popoverHeader")},(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("span",{className:"fc-popover-title",id:state.titleId},props.title),(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("span",{className:"fc-popover-close "+theme.getIconClass("close"),title:options.closeHint,onClick:this.handleCloseClick})),(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)("div",{className:"fc-popover-body "+theme.getClass("popoverContent")},props.children)),props.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl}=this.context,{alignmentEl,alignGridTop}=this.props,{rootEl}=this,alignmentRect=function computeClippedClientRect(el){let clippingParents=getClippingParents(el),rect=el.getBoundingClientRect();for(let clippingParent of clippingParents){let intersection=intersectRects(rect,clippingParent.getBoundingClientRect());if(!intersection)return null;rect=intersection}return rect}(alignmentEl);if(alignmentRect){let popoverDims=rootEl.getBoundingClientRect(),popoverTop=alignGridTop?elementClosest(alignmentEl,".fc-scrollgrid").getBoundingClientRect().top:alignmentRect.top,popoverLeft=isRtl?alignmentRect.right-popoverDims.width:alignmentRect.left;popoverTop=Math.max(popoverTop,10),popoverLeft=Math.min(popoverLeft,document.documentElement.clientWidth-10-popoverDims.width),popoverLeft=Math.max(popoverLeft,10);let origin=rootEl.offsetParent.getBoundingClientRect();applyStyle(rootEl,{top:popoverTop-origin.top,left:popoverLeft-origin.left})}}}class MorePopover extends DateComponent{constructor(){super(...arguments),this.handleRootEl=rootEl=>{this.rootEl=rootEl,rootEl?this.context.registerInteractiveComponent(this,{el:rootEl,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options,dateEnv}=this.context,{props}=this,{startDate,todayRange,dateProfile}=props,title=dateEnv.format(startDate,options.dayPopoverFormat);return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(DayCellContainer,{elRef:this.handleRootEl,date:startDate,dateProfile,todayRange},((InnerContent,renderProps,elAttrs)=>(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(Popover,{elRef:elAttrs.ref,id:props.id,title,extraClassNames:["fc-more-popover"].concat(elAttrs.className||[]),extraAttrs:elAttrs,parentEl:props.parentEl,alignmentEl:props.alignmentEl,alignGridTop:props.alignGridTop,onClose:props.onClose},hasCustomDayCellContent(options)&&(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(InnerContent,{elTag:"div",elClasses:["fc-more-popover-misc"]}),props.children)))}queryHit(positionLeft,positionTop,elWidth,elHeight){let{rootEl,props}=this;return positionLeft>=0&&positionLeft<elWidth&&positionTop>=0&&positionTop<elHeight?{dateProfile:props.dateProfile,dateSpan:Object.assign({allDay:!props.forceTimed,range:{start:props.startDate,end:props.endDate}},props.extraDateSpan),dayEl:rootEl,rect:{left:0,top:0,right:elWidth,bottom:elHeight},layer:1}:null}}class MoreLinkContainer extends BaseComponent{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:getUniqueDomId()},this.handleLinkEl=linkEl=>{this.linkEl=linkEl,this.props.elRef&&setRef(this.props.elRef,linkEl)},this.handleClick=ev=>{let{props,context}=this,{moreLinkClick}=context.options,date=computeRange(props).start;function buildPublicSeg(seg){let{def,instance,range}=seg.eventRange;return{event:new EventImpl(context,def,instance),start:context.dateEnv.toDate(range.start),end:context.dateEnv.toDate(range.end),isStart:seg.isStart,isEnd:seg.isEnd}}"function"==typeof moreLinkClick&&(moreLinkClick=moreLinkClick({date,allDay:Boolean(props.allDayDate),allSegs:props.allSegs.map(buildPublicSeg),hiddenSegs:props.hiddenSegs.map(buildPublicSeg),jsEvent:ev,view:context.viewApi})),moreLinkClick&&"popover"!==moreLinkClick?"string"==typeof moreLinkClick&&context.calendarApi.zoomTo(date,moreLinkClick):this.setState({isPopoverOpen:!0})},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props,state}=this;return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(ViewContextType.Consumer,null,(context=>{let{viewApi,options,calendarApi}=context,{moreLinkText}=options,{moreCnt}=props,range=computeRange(props),text="function"==typeof moreLinkText?moreLinkText.call(calendarApi,moreCnt):`+${moreCnt} ${moreLinkText}`,hint=formatWithOrdinals(options.moreLinkHint,[moreCnt],text),renderProps={num:moreCnt,shortText:`+${moreCnt}`,text,view:viewApi};return(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(preact__WEBPACK_IMPORTED_MODULE_0__.FK,null,Boolean(props.moreCnt)&&(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(ContentContainer,{elTag:props.elTag||"a",elRef:this.handleLinkEl,elClasses:[...props.elClasses||[],"fc-more-link"],elStyle:props.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},props.elAttrs),createAriaClickAttrs(this.handleClick)),{title:hint,"aria-expanded":state.isPopoverOpen,"aria-controls":state.isPopoverOpen?state.popoverId:""}),renderProps,generatorName:"moreLinkContent",customGenerator:options.moreLinkContent,defaultGenerator:props.defaultGenerator||renderMoreLinkInner,classNameGenerator:options.moreLinkClassNames,didMount:options.moreLinkDidMount,willUnmount:options.moreLinkWillUnmount},props.children),state.isPopoverOpen&&(0,preact__WEBPACK_IMPORTED_MODULE_0__.n)(MorePopover,{id:state.popoverId,startDate:range.start,endDate:range.end,dateProfile:props.dateProfile,todayRange:props.todayRange,extraDateSpan:props.extraDateSpan,parentEl:this.parentEl,alignmentEl:props.alignmentElRef?props.alignmentElRef.current:this.linkEl,alignGridTop:props.alignGridTop,forceTimed:props.forceTimed,onClose:this.handlePopoverClose},props.popoverContent()))}))}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=elementClosest(this.linkEl,".fc-view-harness"))}}function renderMoreLinkInner(props){return props.text}function computeRange(props){if(props.allDayDate)return{start:props.allDayDate,end:addDays(props.allDayDate,1)};let{hiddenSegs}=props;return{start:computeEarliestSegStart(hiddenSegs),end:(segs=hiddenSegs,segs.reduce(pickLatestEnd).eventRange.range.end)};var segs}function computeEarliestSegStart(segs){return segs.reduce(pickEarliestStart).eventRange.range.start}function pickEarliestStart(seg0,seg1){return seg0.eventRange.range.start<seg1.eventRange.range.start?seg0:seg1}function pickLatestEnd(seg0,seg1){return seg0.eventRange.range.end>seg1.eventRange.range.end?seg0:seg1}class Store{constructor(){this.handlers=[]}set(value){this.currentValue=value;for(let handler of this.handlers)handler(value)}subscribe(handler){this.handlers.push(handler),void 0!==this.currentValue&&handler(this.currentValue)}}class CustomRenderingStore extends Store{constructor(){super(...arguments),this.map=new Map}handle(customRendering){const{map}=this;let updated=!1;customRendering.isActive?(map.set(customRendering.id,customRendering),updated=!0):map.has(customRendering.id)&&(map.delete(customRendering.id),updated=!0),updated&&this.set(map)}}},"./node_modules/@fullcalendar/core/locales/da.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>l15});var l15={code:"da",week:{dow:1,doy:4},buttonText:{prev:"Forrige",next:"Nste",today:"I dag",year:"r",month:"Mned",week:"Uge",day:"Dag",list:"Agenda"},weekText:"Uge",allDayText:"Hele dagen",moreLinkText:"flere",noEventsText:"Ingen arrangementer at vise"}},"./node_modules/@fullcalendar/daygrid/index.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>index});var _fullcalendar_core_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@fullcalendar/core/index.js"),_internal_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@fullcalendar/daygrid/internal.js"),index=(0,_fullcalendar_core_index_js__WEBPACK_IMPORTED_MODULE_0__.i1)({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:_internal_js__WEBPACK_IMPORTED_MODULE_1__.eu,dateProfileGeneratorClass:_internal_js__WEBPACK_IMPORTED_MODULE_1__.LH},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}})},"./node_modules/@fullcalendar/daygrid/internal.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{LH:()=>TableDateProfileGenerator,eu:()=>DayTableView,t7:()=>DayTable});var _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@fullcalendar/core/internal-common.js"),_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/preact/dist/preact.module.js");class TableView extends _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.be{constructor(){super(...arguments),this.headerElRef=(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__._3)()}renderSimpleLayout(headerRowContent,bodyContent){let{props,context}=this,sections=[],stickyHeaderDates=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.cc)(context.options);return headerRowContent&&sections.push({type:"header",key:"header",isSticky:stickyHeaderDates,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:headerRowContent}}),sections.push({type:"body",key:"body",liquid:!0,chunk:{content:bodyContent}}),(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.ct,{elClasses:["fc-daygrid"],viewSpec:context.viewSpec},(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.b$,{liquid:!props.isHeightAuto&&!props.forPrint,collapsibleWidth:props.forPrint,cols:[],sections}))}renderHScrollLayout(headerRowContent,bodyContent,colCnt,dayMinWidth){let ScrollGrid=this.context.pluginHooks.scrollGridImpl;if(!ScrollGrid)throw new Error("No ScrollGrid implementation");let{props,context}=this,stickyHeaderDates=!props.forPrint&&(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.cc)(context.options),stickyFooterScrollbar=!props.forPrint&&(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.cb)(context.options),sections=[];return headerRowContent&&sections.push({type:"header",key:"header",isSticky:stickyHeaderDates,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:headerRowContent}]}),sections.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:bodyContent}]}),stickyFooterScrollbar&&sections.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.ca}]}),(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.ct,{elClasses:["fc-daygrid"],viewSpec:context.viewSpec},(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(ScrollGrid,{liquid:!props.isHeightAuto&&!props.forPrint,forPrint:props.forPrint,collapsibleWidth:props.forPrint,colGroups:[{cols:[{span:colCnt,minWidth:dayMinWidth}]}],sections}))}}function splitSegsByRow(segs,rowCnt){let byRow=[];for(let i=0;i<rowCnt;i+=1)byRow[i]=[];for(let seg of segs)byRow[seg.row].push(seg);return byRow}function splitSegsByFirstCol(segs,colCnt){let byCol=[];for(let i=0;i<colCnt;i+=1)byCol[i]=[];for(let seg of segs)byCol[seg.firstCol].push(seg);return byCol}function splitInteractionByRow(ui,rowCnt){let byRow=[];if(ui){for(let i=0;i<rowCnt;i+=1)byRow[i]={affectedInstances:ui.affectedInstances,isEvent:ui.isEvent,segs:[]};for(let seg of ui.segs)byRow[seg.row].segs.push(seg)}else for(let i=0;i<rowCnt;i+=1)byRow[i]=null;return byRow}const DEFAULT_TABLE_EVENT_TIME_FORMAT=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.x)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function hasListItemDisplay(seg){let{display}=seg.eventRange.ui;return"list-item"===display||"auto"===display&&!seg.eventRange.def.allDay&&seg.firstCol===seg.lastCol&&seg.isStart&&seg.isEnd}class TableBlockEvent extends _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.B{render(){let{props}=this;return(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.cj,Object.assign({},props,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:DEFAULT_TABLE_EVENT_TIME_FORMAT,defaultDisplayEventEnd:props.defaultDisplayEventEnd,disableResizing:!props.seg.eventRange.def.allDay}))}}class TableListItemEvent extends _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.B{render(){let{props,context}=this,{options}=context,{seg}=props,timeFormat=options.eventTimeFormat||DEFAULT_TABLE_EVENT_TIME_FORMAT,timeText=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bQ)(seg,timeFormat,context,!0,props.defaultDisplayEventEnd);return(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.cn,Object.assign({},props,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bU)(props.seg,context),defaultGenerator:renderInnerContent,timeText,isResizing:!1,isDateSelecting:!1}))}}function renderInnerContent(renderProps){return(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.FK,null,(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)("div",{className:"fc-daygrid-event-dot",style:{borderColor:renderProps.borderColor||renderProps.backgroundColor}}),renderProps.timeText&&(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)("div",{className:"fc-event-time"},renderProps.timeText),(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)("div",{className:"fc-event-title"},renderProps.event.title||(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.FK,null,"")))}class TableCellMoreLink extends _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.B{constructor(){super(...arguments),this.compileSegs=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.z)(compileSegs)}render(){let{props}=this,{allSegs,invisibleSegs}=this.compileSegs(props.singlePlacements);return(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.cr,{elClasses:["fc-daygrid-more-link"],dateProfile:props.dateProfile,todayRange:props.todayRange,allDayDate:props.allDayDate,moreCnt:props.moreCnt,allSegs,hiddenSegs:invisibleSegs,alignmentElRef:props.alignmentElRef,alignGridTop:props.alignGridTop,extraDateSpan:props.extraDateSpan,popoverContent:()=>{let isForcedInvisible=(props.eventDrag?props.eventDrag.affectedInstances:null)||(props.eventResize?props.eventResize.affectedInstances:null)||{};return(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.FK,null,allSegs.map((seg=>{let instanceId=seg.eventRange.instance.instanceId;return(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)("div",{className:"fc-daygrid-event-harness",key:instanceId,style:{visibility:isForcedInvisible[instanceId]?"hidden":""}},hasListItemDisplay(seg)?(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(TableListItemEvent,Object.assign({seg,isDragging:!1,isSelected:instanceId===props.eventSelection,defaultDisplayEventEnd:!1},(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bS)(seg,props.todayRange))):(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(TableBlockEvent,Object.assign({seg,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:instanceId===props.eventSelection,defaultDisplayEventEnd:!1},(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bS)(seg,props.todayRange))))})))}})}}function compileSegs(singlePlacements){let allSegs=[],invisibleSegs=[];for(let placement of singlePlacements)allSegs.push(placement.seg),placement.isVisible||invisibleSegs.push(placement.seg);return{allSegs,invisibleSegs}}const DEFAULT_WEEK_NUM_FORMAT=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.x)({week:"narrow"});class TableCell extends _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.be{constructor(){super(...arguments),this.rootElRef=(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__._3)(),this.state={dayNumberId:(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.a5)()},this.handleRootEl=el=>{(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.Y)(this.rootElRef,el),(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.Y)(this.props.elRef,el)}}render(){let{context,props,state,rootElRef}=this,{options,dateEnv}=context,{date,dateProfile}=props;const isMonthStart=props.showDayNumber&&function shouldDisplayMonthStart(date,currentRange,dateEnv){const{start:currentStart,end:currentEnd}=currentRange,currentEndIncl=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bg)(currentEnd,-1),currentFirstYear=dateEnv.getYear(currentStart),currentFirstMonth=dateEnv.getMonth(currentStart),currentLastYear=dateEnv.getYear(currentEndIncl),currentLastMonth=dateEnv.getMonth(currentEndIncl);return!(currentFirstYear===currentLastYear&&currentFirstMonth===currentLastMonth)&&Boolean(date.valueOf()===currentStart.valueOf()||1===dateEnv.getDay(date)&&date.valueOf()<currentEnd.valueOf())}(date,dateProfile.currentRange,dateEnv);return(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.cl,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...props.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},props.extraDataAttrs),props.showDayNumber?{"aria-labelledby":state.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:renderTopInner,date,dateProfile,todayRange:props.todayRange,showDayNumber:props.showDayNumber,isMonthStart,extraRenderProps:props.extraRenderProps},((InnerContent,renderProps)=>(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)("div",{ref:props.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:props.minHeight}},props.showWeekNumber&&(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.cq,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.b0)(context,date,"week"),date,defaultFormat:DEFAULT_WEEK_NUM_FORMAT}),!renderProps.isDisabled&&(props.showDayNumber||(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.cm)(options)||props.forceDayTop)?(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)("div",{className:"fc-daygrid-day-top"},(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(InnerContent,{elTag:"a",elClasses:["fc-daygrid-day-number",isMonthStart&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.b0)(context,date)),{id:state.dayNumberId})})):props.showDayNumber?(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)("a",{className:"fc-daygrid-day-number"},"")):void 0,(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)("div",{className:"fc-daygrid-day-events",ref:props.fgContentElRef},props.fgContent,(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:props.moreMarginTop}},(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(TableCellMoreLink,{allDayDate:date,singlePlacements:props.singlePlacements,moreCnt:props.moreCnt,alignmentElRef:rootElRef,alignGridTop:!props.showDayNumber,extraDateSpan:props.extraDateSpan,dateProfile:props.dateProfile,eventSelection:props.eventSelection,eventDrag:props.eventDrag,eventResize:props.eventResize,todayRange:props.todayRange}))),(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)("div",{className:"fc-daygrid-day-bg"},props.bgContent))))}}function renderTopInner(props){return props.dayNumberText||(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.FK,null,"")}function generateSegKey(seg){return seg.eventRange.instance.instanceId+":"+seg.firstCol}function generateSegUid(seg){return generateSegKey(seg)+":"+seg.lastCol}function computeFgSegPlacement(segs,dayMaxEvents,dayMaxEventRows,strictOrder,segHeights,maxContentHeight,cells){let hierarchy=new DayGridSegHierarchy((segEntry=>{let segUid=segs[segEntry.index].eventRange.instance.instanceId+":"+segEntry.span.start+":"+(segEntry.span.end-1);return segHeights[segUid]||1}));hierarchy.allowReslicing=!0,hierarchy.strictOrder=strictOrder,!0===dayMaxEvents||!0===dayMaxEventRows?(hierarchy.maxCoord=maxContentHeight,hierarchy.hiddenConsumes=!0):"number"==typeof dayMaxEvents?hierarchy.maxStackCnt=dayMaxEvents:"number"==typeof dayMaxEventRows&&(hierarchy.maxStackCnt=dayMaxEventRows,hierarchy.hiddenConsumes=!0);let segInputs=[],unknownHeightSegs=[];for(let i=0;i<segs.length;i+=1){let seg=segs[i],segUid=generateSegUid(seg);null!=segHeights[segUid]?segInputs.push({index:i,span:{start:seg.firstCol,end:seg.lastCol+1}}):unknownHeightSegs.push(seg)}let hiddenEntries=hierarchy.addSegs(segInputs),segRects=hierarchy.toRects(),{singleColPlacements,multiColPlacements,leftoverMargins}=function placeRects(allRects,segs,cells){let rectsByEachCol=function groupRectsByEachCol(rects,colCnt){let rectsByEachCol=[];for(let col=0;col<colCnt;col+=1)rectsByEachCol.push([]);for(let rect of rects)for(let col=rect.span.start;col<rect.span.end;col+=1)rectsByEachCol[col].push(rect);return rectsByEachCol}(allRects,cells.length),singleColPlacements=[],multiColPlacements=[],leftoverMargins=[];for(let col=0;col<cells.length;col+=1){let rects=rectsByEachCol[col],singlePlacements=[],currentHeight=0,currentMarginTop=0;for(let rect of rects){let seg=segs[rect.index];singlePlacements.push({seg:resliceSeg(seg,col,col+1,cells),isVisible:!0,isAbsolute:!1,absoluteTop:rect.levelCoord,marginTop:rect.levelCoord-currentHeight}),currentHeight=rect.levelCoord+rect.thickness}let multiPlacements=[];currentHeight=0,currentMarginTop=0;for(let rect of rects){let seg=segs[rect.index],isAbsolute=rect.span.end-rect.span.start>1,isFirstCol=rect.span.start===col;currentMarginTop+=rect.levelCoord-currentHeight,currentHeight=rect.levelCoord+rect.thickness,isAbsolute?(currentMarginTop+=rect.thickness,isFirstCol&&multiPlacements.push({seg:resliceSeg(seg,rect.span.start,rect.span.end,cells),isVisible:!0,isAbsolute:!0,absoluteTop:rect.levelCoord,marginTop:0})):isFirstCol&&(multiPlacements.push({seg:resliceSeg(seg,rect.span.start,rect.span.end,cells),isVisible:!0,isAbsolute:!1,absoluteTop:rect.levelCoord,marginTop:currentMarginTop}),currentMarginTop=0)}singleColPlacements.push(singlePlacements),multiColPlacements.push(multiPlacements),leftoverMargins.push(currentMarginTop)}return{singleColPlacements,multiColPlacements,leftoverMargins}}(segRects,segs,cells),moreCnts=[],moreMarginTops=[];for(let seg of unknownHeightSegs){multiColPlacements[seg.firstCol].push({seg,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let col=seg.firstCol;col<=seg.lastCol;col+=1)singleColPlacements[col].push({seg:resliceSeg(seg,col,col+1,cells),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let col=0;col<cells.length;col+=1)moreCnts.push(0);for(let hiddenEntry of hiddenEntries){let seg=segs[hiddenEntry.index],hiddenSpan=hiddenEntry.span;multiColPlacements[hiddenSpan.start].push({seg:resliceSeg(seg,hiddenSpan.start,hiddenSpan.end,cells),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let col=hiddenSpan.start;col<hiddenSpan.end;col+=1)moreCnts[col]+=1,singleColPlacements[col].push({seg:resliceSeg(seg,col,col+1,cells),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let col=0;col<cells.length;col+=1)moreMarginTops.push(leftoverMargins[col]);return{singleColPlacements,multiColPlacements,moreCnts,moreMarginTops}}function resliceSeg(seg,spanStart,spanEnd,cells){if(seg.firstCol===spanStart&&seg.lastCol===spanEnd-1)return seg;let eventRange=seg.eventRange,origRange=eventRange.range,slicedRange=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.o)(origRange,{start:cells[spanStart].date,end:(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.t)(cells[spanEnd-1].date,1)});return Object.assign(Object.assign({},seg),{firstCol:spanStart,lastCol:spanEnd-1,eventRange:{def:eventRange.def,ui:Object.assign(Object.assign({},eventRange.ui),{durationEditable:!1}),instance:eventRange.instance,range:slicedRange},isStart:seg.isStart&&slicedRange.start.valueOf()===origRange.start.valueOf(),isEnd:seg.isEnd&&slicedRange.end.valueOf()===origRange.end.valueOf()})}class DayGridSegHierarchy extends _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bA{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(segInputs){const hiddenSegs=super.addSegs(segInputs),{entriesByLevel}=this,excludeHidden=entry=>!this.forceHidden[(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bB)(entry)];for(let level=0;level<entriesByLevel.length;level+=1)entriesByLevel[level]=entriesByLevel[level].filter(excludeHidden);return hiddenSegs}handleInvalidInsertion(insertion,entry,hiddenEntries){const{entriesByLevel,forceHidden}=this,{touchingEntry,touchingLevel,touchingLateral}=insertion;if(this.hiddenConsumes&&touchingEntry){const touchingEntryId=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bB)(touchingEntry);if(!forceHidden[touchingEntryId])if(this.allowReslicing){const hiddenEntry=Object.assign(Object.assign({},touchingEntry),{span:(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bF)(touchingEntry.span,entry.span)});forceHidden[(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bB)(hiddenEntry)]=!0,entriesByLevel[touchingLevel][touchingLateral]=hiddenEntry,hiddenEntries.push(hiddenEntry),this.splitEntry(touchingEntry,entry,hiddenEntries)}else forceHidden[touchingEntryId]=!0,hiddenEntries.push(touchingEntry)}super.handleInvalidInsertion(insertion,entry,hiddenEntries)}}class TableRow extends _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.be{constructor(){super(...arguments),this.cellElRefs=new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.cf,this.frameElRefs=new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.cf,this.fgElRefs=new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.cf,this.segHarnessRefs=new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.cf,this.rootElRef=(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__._3)(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=isForced=>{isForced&&this.updateSizing(!0)}}render(){let{props,state,context}=this,{options}=context,colCnt=props.cells.length,businessHoursByCol=splitSegsByFirstCol(props.businessHourSegs,colCnt),bgEventSegsByCol=splitSegsByFirstCol(props.bgEventSegs,colCnt),highlightSegsByCol=splitSegsByFirstCol(this.getHighlightSegs(),colCnt),mirrorSegsByCol=splitSegsByFirstCol(this.getMirrorSegs(),colCnt),{singleColPlacements,multiColPlacements,moreCnts,moreMarginTops}=computeFgSegPlacement((0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bR)(props.fgEventSegs,options.eventOrder),props.dayMaxEvents,props.dayMaxEventRows,options.eventOrderStrict,state.segHeights,state.maxContentHeight,props.cells),isForcedInvisible=props.eventDrag&&props.eventDrag.affectedInstances||props.eventResize&&props.eventResize.affectedInstances||{};return(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)("tr",{ref:this.rootElRef,role:"row"},props.renderIntro&&props.renderIntro(),props.cells.map(((cell,col)=>{let normalFgNodes=this.renderFgSegs(col,props.forPrint?singleColPlacements[col]:multiColPlacements[col],props.todayRange,isForcedInvisible),mirrorFgNodes=this.renderFgSegs(col,function buildMirrorPlacements(mirrorSegs,colPlacements){if(!mirrorSegs.length)return[];let topsByInstanceId=function buildAbsoluteTopHash(colPlacements){let topsByInstanceId={};for(let placements of colPlacements)for(let placement of placements)topsByInstanceId[placement.seg.eventRange.instance.instanceId]=placement.absoluteTop;return topsByInstanceId}(colPlacements);return mirrorSegs.map((seg=>({seg,isVisible:!0,isAbsolute:!0,absoluteTop:topsByInstanceId[seg.eventRange.instance.instanceId],marginTop:0})))}(mirrorSegsByCol[col],multiColPlacements),props.todayRange,{},Boolean(props.eventDrag),Boolean(props.eventResize),!1);return(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(TableCell,{key:cell.key,elRef:this.cellElRefs.createRef(cell.key),innerElRef:this.frameElRefs.createRef(cell.key),dateProfile:props.dateProfile,date:cell.date,showDayNumber:props.showDayNumbers,showWeekNumber:props.showWeekNumbers&&0===col,forceDayTop:props.showWeekNumbers,todayRange:props.todayRange,eventSelection:props.eventSelection,eventDrag:props.eventDrag,eventResize:props.eventResize,extraRenderProps:cell.extraRenderProps,extraDataAttrs:cell.extraDataAttrs,extraClassNames:cell.extraClassNames,extraDateSpan:cell.extraDateSpan,moreCnt:moreCnts[col],moreMarginTop:moreMarginTops[col],singlePlacements:singleColPlacements[col],fgContentElRef:this.fgElRefs.createRef(cell.key),fgContent:(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.FK,null,(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.FK,null,normalFgNodes),(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.FK,null,mirrorFgNodes)),bgContent:(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.FK,null,this.renderFillSegs(highlightSegsByCol[col],"highlight"),this.renderFillSegs(businessHoursByCol[col],"non-business"),this.renderFillSegs(bgEventSegsByCol[col],"bg-event")),minHeight:props.cellMinHeight})})))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(prevProps,prevState){let currentProps=this.props;this.updateSizing(!(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.E)(prevProps,currentProps))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props}=this;return props.eventDrag&&props.eventDrag.segs.length?props.eventDrag.segs:props.eventResize&&props.eventResize.segs.length?props.eventResize.segs:props.dateSelectionSegs}getMirrorSegs(){let{props}=this;return props.eventResize&&props.eventResize.segs.length?props.eventResize.segs:[]}renderFgSegs(col,segPlacements,todayRange,isForcedInvisible,isDragging,isResizing,isDateSelecting){let{context}=this,{eventSelection}=this.props,{framePositions}=this.state,defaultDisplayEventEnd=1===this.props.cells.length,isMirror=isDragging||isResizing||isDateSelecting,nodes=[];if(framePositions)for(let placement of segPlacements){let{seg}=placement,{instanceId}=seg.eventRange.instance,isVisible=placement.isVisible&&!isForcedInvisible[instanceId],isAbsolute=placement.isAbsolute,left="",right="";isAbsolute&&(context.isRtl?(right=0,left=framePositions.lefts[seg.lastCol]-framePositions.lefts[seg.firstCol]):(left=0,right=framePositions.rights[seg.firstCol]-framePositions.rights[seg.lastCol])),nodes.push((0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)("div",{className:"fc-daygrid-event-harness"+(isAbsolute?" fc-daygrid-event-harness-abs":""),key:generateSegKey(seg),ref:isMirror?null:this.segHarnessRefs.createRef(generateSegUid(seg)),style:{visibility:isVisible?"":"hidden",marginTop:isAbsolute?"":placement.marginTop,top:isAbsolute?placement.absoluteTop:"",left,right}},hasListItemDisplay(seg)?(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(TableListItemEvent,Object.assign({seg,isDragging,isSelected:instanceId===eventSelection,defaultDisplayEventEnd},(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bS)(seg,todayRange))):(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(TableBlockEvent,Object.assign({seg,isDragging,isResizing,isDateSelecting,isSelected:instanceId===eventSelection,defaultDisplayEventEnd},(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bS)(seg,todayRange)))))}return nodes}renderFillSegs(segs,fillType){let{isRtl}=this.context,{todayRange}=this.props,{framePositions}=this.state,nodes=[];if(framePositions)for(let seg of segs){let leftRightCss=isRtl?{right:0,left:framePositions.lefts[seg.lastCol]-framePositions.lefts[seg.firstCol]}:{left:0,right:framePositions.rights[seg.firstCol]-framePositions.rights[seg.lastCol]};nodes.push((0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)("div",{key:(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bT)(seg.eventRange),className:"fc-daygrid-bg-harness",style:leftRightCss},"bg-event"===fillType?(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.cp,Object.assign({seg},(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bS)(seg,todayRange))):(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.co)(fillType)))}return(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.FK,{},...nodes)}updateSizing(isExternalSizingChange){let{props,state,frameElRefs}=this;if(!props.forPrint&&null!==props.clientWidth){if(isExternalSizingChange){let frameEls=props.cells.map((cell=>frameElRefs.currentMap[cell.key]));if(frameEls.length){let originEl=this.rootElRef.current,newPositionCache=new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.ba(originEl,frameEls,!0,!1);state.framePositions&&state.framePositions.similarTo(newPositionCache)||this.setState({framePositions:new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.ba(originEl,frameEls,!0,!1)})}}const oldSegHeights=this.state.segHeights,newSegHeights=this.querySegHeights(),limitByContentHeight=!0===props.dayMaxEvents||!0===props.dayMaxEventRows;this.safeSetState({segHeights:Object.assign(Object.assign({},oldSegHeights),newSegHeights),maxContentHeight:limitByContentHeight?this.computeMaxContentHeight():null})}}querySegHeights(){let segElMap=this.segHarnessRefs.currentMap,segHeights={};for(let segUid in segElMap){let height=Math.round(segElMap[segUid].getBoundingClientRect().height);segHeights[segUid]=Math.max(segHeights[segUid]||0,height)}return segHeights}computeMaxContentHeight(){let firstKey=this.props.cells[0].key,cellEl=this.cellElRefs.currentMap[firstKey],fcContainerEl=this.fgElRefs.currentMap[firstKey];return cellEl.getBoundingClientRect().bottom-fcContainerEl.getBoundingClientRect().top}getCellEls(){let elMap=this.cellElRefs.currentMap;return this.props.cells.map((cell=>elMap[cell.key]))}}TableRow.addStateEquality({segHeights:_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.E});class TableRows extends _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.be{constructor(){super(...arguments),this.splitBusinessHourSegs=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.z)(splitSegsByRow),this.splitBgEventSegs=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.z)(splitSegsByRow),this.splitFgEventSegs=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.z)(splitSegsByRow),this.splitDateSelectionSegs=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.z)(splitSegsByRow),this.splitEventDrag=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.z)(splitInteractionByRow),this.splitEventResize=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.z)(splitInteractionByRow),this.rowRefs=new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.cf}render(){let{props,context}=this,rowCnt=props.cells.length,businessHourSegsByRow=this.splitBusinessHourSegs(props.businessHourSegs,rowCnt),bgEventSegsByRow=this.splitBgEventSegs(props.bgEventSegs,rowCnt),fgEventSegsByRow=this.splitFgEventSegs(props.fgEventSegs,rowCnt),dateSelectionSegsByRow=this.splitDateSelectionSegs(props.dateSelectionSegs,rowCnt),eventDragByRow=this.splitEventDrag(props.eventDrag,rowCnt),eventResizeByRow=this.splitEventResize(props.eventResize,rowCnt),cellMinHeight=rowCnt>=7&&props.clientWidth?props.clientWidth/context.options.aspectRatio/6:null;return(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.ch,{unit:"day"},((nowDate,todayRange)=>(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.FK,null,props.cells.map(((cells,row)=>(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(TableRow,{ref:this.rowRefs.createRef(row),key:cells.length?cells[0].date.toISOString():row,showDayNumbers:rowCnt>1,showWeekNumbers:props.showWeekNumbers,todayRange,dateProfile:props.dateProfile,cells,renderIntro:props.renderRowIntro,businessHourSegs:businessHourSegsByRow[row],eventSelection:props.eventSelection,bgEventSegs:bgEventSegsByRow[row].filter(isSegAllDay),fgEventSegs:fgEventSegsByRow[row],dateSelectionSegs:dateSelectionSegsByRow[row],eventDrag:eventDragByRow[row],eventResize:eventResizeByRow[row],dayMaxEvents:props.dayMaxEvents,dayMaxEventRows:props.dayMaxEventRows,clientWidth:props.clientWidth,clientHeight:props.clientHeight,cellMinHeight,forPrint:props.forPrint}))))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const firstCellEl=this.rowRefs.currentMap[0].getCellEls()[0],rootEl=firstCellEl?firstCellEl.closest(".fc-daygrid-body"):null;rootEl&&(this.rootEl=rootEl,this.context.registerInteractiveComponent(this,{el:rootEl,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.ba(this.rootEl,this.rowRefs.collect().map((rowObj=>rowObj.getCellEls()[0])),!1,!0),this.colPositions=new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.ba(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(positionLeft,positionTop){let{colPositions,rowPositions}=this,col=colPositions.leftToIndex(positionLeft),row=rowPositions.topToIndex(positionTop);if(null!=row&&null!=col){let cell=this.props.cells[row][col];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(row,col),allDay:!0},cell.extraDateSpan),dayEl:this.getCellEl(row,col),rect:{left:colPositions.lefts[col],right:colPositions.rights[col],top:rowPositions.tops[row],bottom:rowPositions.bottoms[row]},layer:0}}return null}getCellEl(row,col){return this.rowRefs.currentMap[row].getCellEls()[col]}getCellRange(row,col){let start=this.props.cells[row][col].date;return{start,end:(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.t)(start,1)}}}function isSegAllDay(seg){return seg.eventRange.def.allDay}class Table extends _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.be{constructor(){super(...arguments),this.elRef=(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__._3)(),this.needsScrollReset=!1}render(){let{props}=this,{dayMaxEventRows,dayMaxEvents,expandRows}=props,limitViaBalanced=!0===dayMaxEvents||!0===dayMaxEventRows;limitViaBalanced&&!expandRows&&(limitViaBalanced=!1,dayMaxEventRows=null,dayMaxEvents=null);let classNames=["fc-daygrid-body",limitViaBalanced?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",expandRows?"":"fc-daygrid-body-natural"];return(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)("div",{ref:this.elRef,className:classNames.join(" "),style:{width:props.clientWidth,minWidth:props.tableMinWidth}},(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:props.clientWidth,minWidth:props.tableMinWidth,height:expandRows?props.clientHeight:""}},props.colGroupNode,(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)("tbody",{role:"presentation"},(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(TableRows,{dateProfile:props.dateProfile,cells:props.cells,renderRowIntro:props.renderRowIntro,showWeekNumbers:props.showWeekNumbers,clientWidth:props.clientWidth,clientHeight:props.clientHeight,businessHourSegs:props.businessHourSegs,bgEventSegs:props.bgEventSegs,fgEventSegs:props.fgEventSegs,dateSelectionSegs:props.dateSelectionSegs,eventSelection:props.eventSelection,eventDrag:props.eventDrag,eventResize:props.eventResize,dayMaxEvents,dayMaxEventRows,forPrint:props.forPrint,isHitComboAllowed:props.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(prevProps){prevProps.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const subjectEl=function getScrollSubjectEl(containerEl,dateProfile){let el;dateProfile.currentRangeUnit.match(/year|month/)&&(el=containerEl.querySelector(`[data-date="${(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bx)(dateProfile.currentDate)}-01"]`));el||(el=containerEl.querySelector(`[data-date="${(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bv)(dateProfile.currentDate)}"]`));return el}(this.elRef.current,this.props.dateProfile);if(subjectEl){const originEl=subjectEl.closest(".fc-daygrid-body"),scrollEl=originEl.closest(".fc-scroller"),scrollTop=subjectEl.getBoundingClientRect().top-originEl.getBoundingClientRect().top;scrollEl.scrollTop=scrollTop?scrollTop+1:0}this.needsScrollReset=!1}}}class DayTableSlicer extends _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bW{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(dateRange,dayTableModel){return dayTableModel.sliceRange(dateRange)}}class DayTable extends _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.be{constructor(){super(...arguments),this.slicer=new DayTableSlicer,this.tableRef=(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__._3)()}render(){let{props,context}=this;return(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(Table,Object.assign({ref:this.tableRef},this.slicer.sliceProps(props,props.dateProfile,props.nextDayThreshold,context,props.dayTableModel),{dateProfile:props.dateProfile,cells:props.dayTableModel.cells,colGroupNode:props.colGroupNode,tableMinWidth:props.tableMinWidth,renderRowIntro:props.renderRowIntro,dayMaxEvents:props.dayMaxEvents,dayMaxEventRows:props.dayMaxEventRows,showWeekNumbers:props.showWeekNumbers,expandRows:props.expandRows,headerAlignElRef:props.headerAlignElRef,clientWidth:props.clientWidth,clientHeight:props.clientHeight,forPrint:props.forPrint}))}}class DayTableView extends TableView{constructor(){super(...arguments),this.buildDayTableModel=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.z)(buildDayTableModel),this.headerRef=(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__._3)(),this.tableRef=(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__._3)()}render(){let{options,dateProfileGenerator}=this.context,{props}=this,dayTableModel=this.buildDayTableModel(props.dateProfile,dateProfileGenerator),headerContent=options.dayHeaders&&(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bK,{ref:this.headerRef,dateProfile:props.dateProfile,dates:dayTableModel.headerDates,datesRepDistinctDays:1===dayTableModel.rowCnt}),bodyContent=contentArg=>(0,_fullcalendar_core_preact_js__WEBPACK_IMPORTED_MODULE_1__.n)(DayTable,{ref:this.tableRef,dateProfile:props.dateProfile,dayTableModel,businessHours:props.businessHours,dateSelection:props.dateSelection,eventStore:props.eventStore,eventUiBases:props.eventUiBases,eventSelection:props.eventSelection,eventDrag:props.eventDrag,eventResize:props.eventResize,nextDayThreshold:options.nextDayThreshold,colGroupNode:contentArg.tableColGroupNode,tableMinWidth:contentArg.tableMinWidth,dayMaxEvents:options.dayMaxEvents,dayMaxEventRows:options.dayMaxEventRows,showWeekNumbers:options.weekNumbers,expandRows:!props.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:contentArg.clientWidth,clientHeight:contentArg.clientHeight,forPrint:props.forPrint});return options.dayMinWidth?this.renderHScrollLayout(headerContent,bodyContent,dayTableModel.colCnt,options.dayMinWidth):this.renderSimpleLayout(headerContent,bodyContent)}}function buildDayTableModel(dateProfile,dateProfileGenerator){let daySeries=new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bO(dateProfile.renderRange,dateProfileGenerator);return new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bV(daySeries,/year|month|week/.test(dateProfile.currentRangeUnit))}class TableDateProfileGenerator extends _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.U{buildRenderRange(currentRange,currentRangeUnit,isRangeAllDay){let renderRange=super.buildRenderRange(currentRange,currentRangeUnit,isRangeAllDay),{props}=this;return function buildDayTableRenderRange(props){let endOfWeek,{dateEnv,currentRange}=props,{start,end}=currentRange;props.snapToWeek&&(start=dateEnv.startOfWeek(start),endOfWeek=dateEnv.startOfWeek(end),endOfWeek.valueOf()!==end.valueOf()&&(end=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bh)(endOfWeek,1)));if(props.fixedWeekCount){let lastMonthRenderStart=dateEnv.startOfWeek(dateEnv.startOfMonth((0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.t)(currentRange.end,-1))),rowCnt=Math.ceil((0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bi)(lastMonthRenderStart,end));end=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bh)(end,6-rowCnt)}return{start,end}}({currentRange:renderRange,snapToWeek:/^(year|month)$/.test(currentRangeUnit),fixedWeekCount:props.fixedWeekCount,dateEnv:props.dateEnv})}}(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.cw)(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}')},"./node_modules/@fullcalendar/interaction/index.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>index});var _fullcalendar_core_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@fullcalendar/core/index.js"),_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@fullcalendar/core/internal-common.js");_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bI.touchMouseIgnoreWait=500;let ignoreMouseDepth=0,listenerCnt=0,isWindowTouchMoveCancelled=!1;class PointerDragging{constructor(containerEl){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=ev=>{if(!this.shouldIgnoreMouse()&&function isPrimaryMouseButton(ev){return 0===ev.button&&!ev.ctrlKey}(ev)&&this.tryStart(ev)){let pev=this.createEventFromMouse(ev,!0);this.emitter.trigger("pointerdown",pev),this.initScrollWatch(pev),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=ev=>{let pev=this.createEventFromMouse(ev);this.recordCoords(pev),this.emitter.trigger("pointermove",pev)},this.handleMouseUp=ev=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(ev)),this.cleanup()},this.handleTouchStart=ev=>{if(this.tryStart(ev)){this.isTouchDragging=!0;let pev=this.createEventFromTouch(ev,!0);this.emitter.trigger("pointerdown",pev),this.initScrollWatch(pev);let targetEl=ev.target;this.shouldIgnoreMove||targetEl.addEventListener("touchmove",this.handleTouchMove),targetEl.addEventListener("touchend",this.handleTouchEnd),targetEl.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=ev=>{let pev=this.createEventFromTouch(ev);this.recordCoords(pev),this.emitter.trigger("pointermove",pev)},this.handleTouchEnd=ev=>{if(this.isDragging){let targetEl=ev.target;targetEl.removeEventListener("touchmove",this.handleTouchMove),targetEl.removeEventListener("touchend",this.handleTouchEnd),targetEl.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(ev)),this.cleanup(),this.isTouchDragging=!1,function startIgnoringMouse(){ignoreMouseDepth+=1,setTimeout((()=>{ignoreMouseDepth-=1}),_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bI.touchMouseIgnoreWait)}()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=ev=>{if(!this.shouldIgnoreMove){let pageX=window.scrollX-this.prevScrollX+this.prevPageX,pageY=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:ev,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX,pageY,deltaX:pageX-this.origPageX,deltaY:pageY-this.origPageY})}},this.containerEl=containerEl,this.emitter=new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.F,containerEl.addEventListener("mousedown",this.handleMouseDown),containerEl.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),function listenerCreated(){listenerCnt+=1,1===listenerCnt&&window.addEventListener("touchmove",onWindowTouchMove,{passive:!1})}()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),function listenerDestroyed(){listenerCnt-=1,listenerCnt||window.removeEventListener("touchmove",onWindowTouchMove,{passive:!1})}()}tryStart(ev){let subjectEl=this.querySubjectEl(ev),downEl=ev.target;return!(!subjectEl||this.handleSelector&&!(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.$)(downEl,this.handleSelector))&&(this.subjectEl=subjectEl,this.isDragging=!0,this.wasTouchScroll=!1,!0)}cleanup(){isWindowTouchMoveCancelled=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(ev){return this.selector?(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.$)(ev.target,this.selector):this.containerEl}shouldIgnoreMouse(){return ignoreMouseDepth||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(isWindowTouchMoveCancelled=!0)}initScrollWatch(ev){this.shouldWatchScroll&&(this.recordCoords(ev),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(ev){this.shouldWatchScroll&&(this.prevPageX=ev.pageX,this.prevPageY=ev.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(ev,isFirst){let deltaX=0,deltaY=0;return isFirst?(this.origPageX=ev.pageX,this.origPageY=ev.pageY):(deltaX=ev.pageX-this.origPageX,deltaY=ev.pageY-this.origPageY),{origEvent:ev,isTouch:!1,subjectEl:this.subjectEl,pageX:ev.pageX,pageY:ev.pageY,deltaX,deltaY}}createEventFromTouch(ev,isFirst){let pageX,pageY,touches=ev.touches,deltaX=0,deltaY=0;return touches&&touches.length?(pageX=touches[0].pageX,pageY=touches[0].pageY):(pageX=ev.pageX,pageY=ev.pageY),isFirst?(this.origPageX=pageX,this.origPageY=pageY):(deltaX=pageX-this.origPageX,deltaY=pageY-this.origPageY),{origEvent:ev,isTouch:!0,subjectEl:this.subjectEl,pageX,pageY,deltaX,deltaY}}}function onWindowTouchMove(ev){isWindowTouchMoveCancelled&&ev.preventDefault()}class ElementMirror{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(sourceEl,pageX,pageY){this.sourceEl=sourceEl,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=pageX-window.scrollX,this.origScreenY=pageY-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(pageX,pageY){this.deltaX=pageX-window.scrollX-this.origScreenX,this.deltaY=pageY-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(bool){bool?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=bool,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=bool)}stop(needsRevertAnimation,callback){let done=()=>{this.cleanup(),callback()};needsRevertAnimation&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(done,this.revertDuration):setTimeout(done,0)}doRevertAnimation(callback,revertDuration){let mirrorEl=this.mirrorEl,finalSourceElRect=this.sourceEl.getBoundingClientRect();mirrorEl.style.transition="top "+revertDuration+"ms,left "+revertDuration+"ms",(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.aP)(mirrorEl,{left:finalSourceElRect.left,top:finalSourceElRect.top}),(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.b2)(mirrorEl,(()=>{mirrorEl.style.transition="",callback()}))}cleanup(){this.mirrorEl&&((0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.aO)(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.aP)(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let sourceElRect=this.sourceElRect,mirrorEl=this.mirrorEl;return mirrorEl||(mirrorEl=this.mirrorEl=this.sourceEl.cloneNode(!0),mirrorEl.style.userSelect="none",mirrorEl.style.webkitUserSelect="none",mirrorEl.style.pointerEvents="none",mirrorEl.classList.add("fc-event-dragging"),(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.aP)(mirrorEl,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:sourceElRect.right-sourceElRect.left,height:sourceElRect.bottom-sourceElRect.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(mirrorEl)),mirrorEl}}class ScrollGeomCache extends _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bb{constructor(scrollController,doesListening){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=scrollController,this.doesListening=doesListening,this.scrollTop=this.origScrollTop=scrollController.getScrollTop(),this.scrollLeft=this.origScrollLeft=scrollController.getScrollLeft(),this.scrollWidth=scrollController.getScrollWidth(),this.scrollHeight=scrollController.getScrollHeight(),this.clientWidth=scrollController.getClientWidth(),this.clientHeight=scrollController.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(top){this.scrollController.setScrollTop(top),this.doesListening||(this.scrollTop=Math.max(Math.min(top,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(top){this.scrollController.setScrollLeft(top),this.doesListening||(this.scrollLeft=Math.max(Math.min(top,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class ElementScrollGeomCache extends ScrollGeomCache{constructor(el,doesListening){super(new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bc(el),doesListening)}getEventTarget(){return this.scrollController.el}computeClientRect(){return(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.b3)(this.scrollController.el)}}class WindowScrollGeomCache extends ScrollGeomCache{constructor(doesListening){super(new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bd,doesListening)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const getTime="function"==typeof performance?performance.now:Date.now;class AutoScroller{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let edge=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(edge){let now=getTime();this.handleSide(edge,(now-this.msSinceRequest)/1e3),this.requestAnimation(now)}else this.isAnimating=!1}}}start(pageX,pageY,scrollStartEl){this.isEnabled&&(this.scrollCaches=this.buildCaches(scrollStartEl),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(pageX,pageY))}handleMove(pageX,pageY){if(this.isEnabled){let pointerScreenX=pageX-window.scrollX,pointerScreenY=pageY-window.scrollY,yDelta=null===this.pointerScreenY?0:pointerScreenY-this.pointerScreenY,xDelta=null===this.pointerScreenX?0:pointerScreenX-this.pointerScreenX;yDelta<0?this.everMovedUp=!0:yDelta>0&&(this.everMovedDown=!0),xDelta<0?this.everMovedLeft=!0:xDelta>0&&(this.everMovedRight=!0),this.pointerScreenX=pointerScreenX,this.pointerScreenY=pointerScreenY,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(getTime()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let scrollCache of this.scrollCaches)scrollCache.destroy();this.scrollCaches=null}}requestAnimation(now){this.msSinceRequest=now,requestAnimationFrame(this.animate)}handleSide(edge,seconds){let{scrollCache}=edge,{edgeThreshold}=this,invDistance=edgeThreshold-edge.distance,velocity=invDistance*invDistance/(edgeThreshold*edgeThreshold)*this.maxVelocity*seconds,sign=1;switch(edge.name){case"left":sign=-1;case"right":scrollCache.setScrollLeft(scrollCache.getScrollLeft()+velocity*sign);break;case"top":sign=-1;case"bottom":scrollCache.setScrollTop(scrollCache.getScrollTop()+velocity*sign)}}computeBestEdge(left,top){let{edgeThreshold}=this,bestSide=null,scrollCaches=this.scrollCaches||[];for(let scrollCache of scrollCaches){let rect=scrollCache.clientRect,leftDist=left-rect.left,rightDist=rect.right-left,topDist=top-rect.top,bottomDist=rect.bottom-top;leftDist>=0&&rightDist>=0&&topDist>=0&&bottomDist>=0&&(topDist<=edgeThreshold&&this.everMovedUp&&scrollCache.canScrollUp()&&(!bestSide||bestSide.distance>topDist)&&(bestSide={scrollCache,name:"top",distance:topDist}),bottomDist<=edgeThreshold&&this.everMovedDown&&scrollCache.canScrollDown()&&(!bestSide||bestSide.distance>bottomDist)&&(bestSide={scrollCache,name:"bottom",distance:bottomDist}),leftDist<=edgeThreshold&&this.everMovedLeft&&scrollCache.canScrollLeft()&&(!bestSide||bestSide.distance>leftDist)&&(bestSide={scrollCache,name:"left",distance:leftDist}),rightDist<=edgeThreshold&&this.everMovedRight&&scrollCache.canScrollRight()&&(!bestSide||bestSide.distance>rightDist)&&(bestSide={scrollCache,name:"right",distance:rightDist}))}return bestSide}buildCaches(scrollStartEl){return this.queryScrollEls(scrollStartEl).map((el=>el===window?new WindowScrollGeomCache(!1):new ElementScrollGeomCache(el,!1)))}queryScrollEls(scrollStartEl){let els=[];for(let query of this.scrollQuery)"object"==typeof query?els.push(query):els.push(...Array.prototype.slice.call(scrollStartEl.getRootNode().querySelectorAll(query)));return els}}class FeaturefulElementDragging extends _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bH{constructor(containerEl,selector){super(containerEl),this.containerEl=containerEl,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=ev=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.ar)(document.body),(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.at)(document.body),ev.isTouch||ev.origEvent.preventDefault(),this.emitter.trigger("pointerdown",ev),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(ev.subjectEl,ev.pageX,ev.pageY),this.startDelay(ev),this.minDistance||this.handleDistanceSurpassed(ev)))},this.onPointerMove=ev=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",ev),!this.isDistanceSurpassed){let distanceSq,minDistance=this.minDistance,{deltaX,deltaY}=ev;distanceSq=deltaX*deltaX+deltaY*deltaY,distanceSq>=minDistance*minDistance&&this.handleDistanceSurpassed(ev)}this.isDragging&&("scroll"!==ev.origEvent.type&&(this.mirror.handleMove(ev.pageX,ev.pageY),this.autoScroller.handleMove(ev.pageX,ev.pageY)),this.emitter.trigger("dragmove",ev))}},this.onPointerUp=ev=>{this.isInteracting&&(this.isInteracting=!1,(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.as)(document.body),(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.au)(document.body),this.emitter.trigger("pointerup",ev),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(ev)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let pointer=this.pointer=new PointerDragging(containerEl);pointer.emitter.on("pointerdown",this.onPointerDown),pointer.emitter.on("pointermove",this.onPointerMove),pointer.emitter.on("pointerup",this.onPointerUp),selector&&(pointer.selector=selector),this.mirror=new ElementMirror,this.autoScroller=new AutoScroller}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(ev){"number"==typeof this.delay?this.delayTimeoutId=setTimeout((()=>{this.delayTimeoutId=null,this.handleDelayEnd(ev)}),this.delay):this.handleDelayEnd(ev)}handleDelayEnd(ev){this.isDelayEnded=!0,this.tryStartDrag(ev)}handleDistanceSurpassed(ev){this.isDistanceSurpassed=!0,this.tryStartDrag(ev)}tryStartDrag(ev){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(ev.pageX,ev.pageY,this.containerEl),this.emitter.trigger("dragstart",ev),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll()))}tryStopDrag(ev){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,ev))}stopDrag(ev){this.isDragging=!1,this.emitter.trigger("dragend",ev)}setIgnoreMove(bool){this.pointer.shouldIgnoreMove=bool}setMirrorIsVisible(bool){this.mirror.setIsVisible(bool)}setMirrorNeedsRevert(bool){this.mirrorNeedsRevert=bool}setAutoScrollEnabled(bool){this.autoScroller.isEnabled=bool}}class OffsetTracker{constructor(el){this.el=el,this.origRect=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.b6)(el),this.scrollCaches=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.b5)(el).map((scrollEl=>new ElementScrollGeomCache(scrollEl,!0)))}destroy(){for(let scrollCache of this.scrollCaches)scrollCache.destroy()}computeLeft(){let left=this.origRect.left;for(let scrollCache of this.scrollCaches)left+=scrollCache.origScrollLeft-scrollCache.getScrollLeft();return left}computeTop(){let top=this.origRect.top;for(let scrollCache of this.scrollCaches)top+=scrollCache.origScrollTop-scrollCache.getScrollTop();return top}isWithinClipping(pageX,pageY){let point={left:pageX,top:pageY};for(let scrollCache of this.scrollCaches)if(!isIgnoredClipping(scrollCache.getEventTarget())&&!(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.aF)(point,scrollCache.clientRect))return!1;return!0}}function isIgnoredClipping(node){let tagName=node.tagName;return"HTML"===tagName||"BODY"===tagName}class HitDragging{constructor(dragging,droppableStore){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=ev=>{let{dragging}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(ev),this.initialHit||!this.requireInitial?(dragging.setIgnoreMove(!1),this.emitter.trigger("pointerdown",ev)):dragging.setIgnoreMove(!0)},this.handleDragStart=ev=>{this.emitter.trigger("dragstart",ev),this.handleMove(ev,!0)},this.handleDragMove=ev=>{this.emitter.trigger("dragmove",ev),this.handleMove(ev)},this.handlePointerUp=ev=>{this.releaseHits(),this.emitter.trigger("pointerup",ev)},this.handleDragEnd=ev=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,ev),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",ev)},this.droppableStore=droppableStore,dragging.emitter.on("pointerdown",this.handlePointerDown),dragging.emitter.on("dragstart",this.handleDragStart),dragging.emitter.on("dragmove",this.handleDragMove),dragging.emitter.on("pointerup",this.handlePointerUp),dragging.emitter.on("dragend",this.handleDragEnd),this.dragging=dragging,this.emitter=new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.F}processFirstCoord(ev){let subjectRect,origPoint={left:ev.pageX,top:ev.pageY},adjustedPoint=origPoint,subjectEl=ev.subjectEl;subjectEl instanceof HTMLElement&&(subjectRect=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.b6)(subjectEl),adjustedPoint=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.aG)(adjustedPoint,subjectRect));let initialHit=this.initialHit=this.queryHitForOffset(adjustedPoint.left,adjustedPoint.top);if(initialHit){if(this.useSubjectCenter&&subjectRect){let slicedSubjectRect=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.aE)(subjectRect,initialHit.rect);slicedSubjectRect&&(adjustedPoint=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.aH)(slicedSubjectRect))}this.coordAdjust=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.aI)(adjustedPoint,origPoint)}else this.coordAdjust={left:0,top:0}}handleMove(ev,forceHandle){let hit=this.queryHitForOffset(ev.pageX+this.coordAdjust.left,ev.pageY+this.coordAdjust.top);!forceHandle&&isHitsEqual(this.movingHit,hit)||(this.movingHit=hit,this.emitter.trigger("hitupdate",hit,!1,ev))}prepareHits(){this.offsetTrackers=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.a)(this.droppableStore,(interactionSettings=>(interactionSettings.component.prepareHits(),new OffsetTracker(interactionSettings.el))))}releaseHits(){let{offsetTrackers}=this;for(let id in offsetTrackers)offsetTrackers[id].destroy();this.offsetTrackers={}}queryHitForOffset(offsetLeft,offsetTop){let{droppableStore,offsetTrackers}=this,bestHit=null;for(let id in droppableStore){let component=droppableStore[id].component,offsetTracker=offsetTrackers[id];if(offsetTracker&&offsetTracker.isWithinClipping(offsetLeft,offsetTop)){let originLeft=offsetTracker.computeLeft(),originTop=offsetTracker.computeTop(),positionLeft=offsetLeft-originLeft,positionTop=offsetTop-originTop,{origRect}=offsetTracker,width=origRect.right-origRect.left,height=origRect.bottom-origRect.top;if(positionLeft>=0&&positionLeft<width&&positionTop>=0&&positionTop<height){let hit=component.queryHit(positionLeft,positionTop,width,height);hit&&(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.b9)(hit.dateProfile.activeRange,hit.dateSpan.range)&&(this.disablePointCheck||offsetTracker.el.contains(offsetTracker.el.getRootNode().elementFromPoint(positionLeft+originLeft-window.scrollX,positionTop+originTop-window.scrollY)))&&(!bestHit||hit.layer>bestHit.layer)&&(hit.componentId=id,hit.context=component.context,hit.rect.left+=originLeft,hit.rect.right+=originLeft,hit.rect.top+=originTop,hit.rect.bottom+=originTop,bestHit=hit)}}}return bestHit}}function isHitsEqual(hit0,hit1){return!hit0&&!hit1||Boolean(hit0)===Boolean(hit1)&&(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bf)(hit0.dateSpan,hit1.dateSpan)}function buildDatePointApiWithContext(dateSpan,context){let props={};for(let transform of context.pluginHooks.datePointTransforms)Object.assign(props,transform(dateSpan,context));return Object.assign(props,function buildDatePointApi(span,dateEnv){return{date:dateEnv.toDate(span.range.start),dateStr:dateEnv.formatIso(span.range.start,{omitTime:span.allDay}),allDay:span.allDay}}(dateSpan,context.dateEnv)),props}class DateClicking extends _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.Z{constructor(settings){super(settings),this.handlePointerDown=pev=>{let{dragging}=this,downEl=pev.origEvent.target;dragging.setIgnoreMove(!this.component.isValidDateDownEl(downEl))},this.handleDragEnd=ev=>{let{component}=this,{pointer}=this.dragging;if(!pointer.wasTouchScroll){let{initialHit,finalHit}=this.hitDragging;if(initialHit&&finalHit&&isHitsEqual(initialHit,finalHit)){let{context}=component,arg=Object.assign(Object.assign({},buildDatePointApiWithContext(initialHit.dateSpan,context)),{dayEl:initialHit.dayEl,jsEvent:ev.origEvent,view:context.viewApi||context.calendarApi.view});context.emitter.trigger("dateClick",arg)}}},this.dragging=new FeaturefulElementDragging(settings.el),this.dragging.autoScroller.isEnabled=!1;let hitDragging=this.hitDragging=new HitDragging(this.dragging,(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bG)(settings));hitDragging.emitter.on("pointerdown",this.handlePointerDown),hitDragging.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class DateSelecting extends _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.Z{constructor(settings){super(settings),this.dragSelection=null,this.handlePointerDown=ev=>{let{component,dragging}=this,{options}=component.context,canSelect=options.selectable&&component.isValidDateDownEl(ev.origEvent.target);dragging.setIgnoreMove(!canSelect),dragging.delay=ev.isTouch?function getComponentTouchDelay$1(component){let{options}=component.context,delay=options.selectLongPressDelay;null==delay&&(delay=options.longPressDelay);return delay}(component):null},this.handleDragStart=ev=>{this.component.context.calendarApi.unselect(ev)},this.handleHitUpdate=(hit,isFinal)=>{let{context}=this.component,dragSelection=null,isInvalid=!1;if(hit){let initialHit=this.hitDragging.initialHit;hit.componentId===initialHit.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(initialHit,hit)||(dragSelection=function joinHitsIntoSelection(hit0,hit1,dateSelectionTransformers){let dateSpan0=hit0.dateSpan,dateSpan1=hit1.dateSpan,ms=[dateSpan0.range.start,dateSpan0.range.end,dateSpan1.range.start,dateSpan1.range.end];ms.sort(_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.av);let props={};for(let transformer of dateSelectionTransformers){let res=transformer(hit0,hit1);if(!1===res)return null;res&&Object.assign(props,res)}return props.range={start:ms[0],end:ms[3]},props.allDay=dateSpan0.allDay,props}(initialHit,hit,context.pluginHooks.dateSelectionTransformers)),dragSelection&&(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.b_)(dragSelection,hit.dateProfile,context)||(isInvalid=!0,dragSelection=null)}dragSelection?context.dispatch({type:"SELECT_DATES",selection:dragSelection}):isFinal||context.dispatch({type:"UNSELECT_DATES"}),isInvalid?(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.ax)():(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.aw)(),isFinal||(this.dragSelection=dragSelection)},this.handlePointerUp=pev=>{this.dragSelection&&((0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.cu)(this.dragSelection,pev,this.component.context),this.dragSelection=null)};let{component}=settings,{options}=component.context,dragging=this.dragging=new FeaturefulElementDragging(settings.el);dragging.touchScrollAllowed=!1,dragging.minDistance=options.selectMinDistance||0,dragging.autoScroller.isEnabled=options.dragScroll;let hitDragging=this.hitDragging=new HitDragging(this.dragging,(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bG)(settings));hitDragging.emitter.on("pointerdown",this.handlePointerDown),hitDragging.emitter.on("dragstart",this.handleDragStart),hitDragging.emitter.on("hitupdate",this.handleHitUpdate),hitDragging.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}class EventDragging extends _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.Z{constructor(settings){super(settings),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=ev=>{let origTarget=ev.origEvent.target,{component,dragging}=this,{mirror}=dragging,{options}=component.context,initialContext=component.context;this.subjectEl=ev.subjectEl;let subjectSeg=this.subjectSeg=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__._)(ev.subjectEl),eventInstanceId=(this.eventRange=subjectSeg.eventRange).instance.instanceId;this.relevantEvents=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.aV)(initialContext.getCurrentData().eventStore,eventInstanceId),dragging.minDistance=ev.isTouch?0:options.eventDragMinDistance,dragging.delay=ev.isTouch&&eventInstanceId!==component.props.eventSelection?function getComponentTouchDelay(component){let{options}=component.context,delay=options.eventLongPressDelay;null==delay&&(delay=options.longPressDelay);return delay}(component):null,options.fixedMirrorParent?mirror.parentNode=options.fixedMirrorParent:mirror.parentNode=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.$)(origTarget,".fc"),mirror.revertDuration=options.dragRevertDuration;let isValid=component.isValidSegDownEl(origTarget)&&!(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.$)(origTarget,".fc-event-resizer");dragging.setIgnoreMove(!isValid),this.isDragging=isValid&&ev.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=ev=>{let initialContext=this.component.context,eventRange=this.eventRange,eventInstanceId=eventRange.instance.instanceId;ev.isTouch?eventInstanceId!==this.component.props.eventSelection&&initialContext.dispatch({type:"SELECT_EVENT",eventInstanceId}):initialContext.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(initialContext.calendarApi.unselect(ev),initialContext.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.a0(initialContext,eventRange.def,eventRange.instance),jsEvent:ev.origEvent,view:initialContext.viewApi}))},this.handleHitUpdate=(hit,isFinal)=>{if(!this.isDragging)return;let relevantEvents=this.relevantEvents,initialHit=this.hitDragging.initialHit,initialContext=this.component.context,receivingContext=null,mutation=null,mutatedRelevantEvents=null,isInvalid=!1,interaction={affectedEvents:relevantEvents,mutatedEvents:(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.I)(),isEvent:!0};if(hit){receivingContext=hit.context;let receivingOptions=receivingContext.options;initialContext===receivingContext||receivingOptions.editable&&receivingOptions.droppable?(mutation=function computeEventMutation(hit0,hit1,eventInstanceStart,massagers){let dateSpan0=hit0.dateSpan,dateSpan1=hit1.dateSpan,date0=dateSpan0.range.start,date1=dateSpan1.range.start,standardProps={};dateSpan0.allDay!==dateSpan1.allDay&&(standardProps.allDay=dateSpan1.allDay,standardProps.hasEnd=hit1.context.options.allDayMaintainDuration,date0=dateSpan1.allDay?(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.q)(eventInstanceStart):eventInstanceStart);let delta=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.aA)(date0,date1,hit0.context.dateEnv,hit0.componentId===hit1.componentId?hit0.largeUnit:null);delta.milliseconds&&(standardProps.allDay=!1);let mutation={datesDelta:delta,standardProps};for(let massager of massagers)massager(mutation,hit0,hit1);return mutation}(initialHit,hit,this.eventRange.instance.range.start,receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers),mutation&&(mutatedRelevantEvents=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bX)(relevantEvents,receivingContext.getCurrentData().eventUiBases,mutation,receivingContext),interaction.mutatedEvents=mutatedRelevantEvents,(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bZ)(interaction,hit.dateProfile,receivingContext)||(isInvalid=!0,mutation=null,mutatedRelevantEvents=null,interaction.mutatedEvents=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.I)()))):receivingContext=null}this.displayDrag(receivingContext,interaction),isInvalid?(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.ax)():(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.aw)(),isFinal||(initialContext===receivingContext&&isHitsEqual(initialHit,hit)&&(mutation=null),this.dragging.setMirrorNeedsRevert(!mutation),this.dragging.setMirrorIsVisible(!hit||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=receivingContext,this.validMutation=mutation,this.mutatedRelevantEvents=mutatedRelevantEvents)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=ev=>{if(this.isDragging){let initialContext=this.component.context,initialView=initialContext.viewApi,{receivingContext,validMutation}=this,eventDef=this.eventRange.def,eventInstance=this.eventRange.instance,eventApi=new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.a0(initialContext,eventDef,eventInstance),relevantEvents=this.relevantEvents,mutatedRelevantEvents=this.mutatedRelevantEvents,{finalHit}=this.hitDragging;if(this.clearDrag(),initialContext.emitter.trigger("eventDragStop",{el:this.subjectEl,event:eventApi,jsEvent:ev.origEvent,view:initialView}),validMutation){if(receivingContext===initialContext){let updatedEventApi=new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.a0(initialContext,mutatedRelevantEvents.defs[eventDef.defId],eventInstance?mutatedRelevantEvents.instances[eventInstance.instanceId]:null);initialContext.dispatch({type:"MERGE_EVENTS",eventStore:mutatedRelevantEvents});let eventChangeArg={oldEvent:eventApi,event:updatedEventApi,relatedEvents:(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.w)(mutatedRelevantEvents,initialContext,eventInstance),revert(){initialContext.dispatch({type:"MERGE_EVENTS",eventStore:relevantEvents})}},transformed={};for(let transformer of initialContext.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(transformed,transformer(validMutation,initialContext));initialContext.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},eventChangeArg),transformed),{el:ev.subjectEl,delta:validMutation.datesDelta,jsEvent:ev.origEvent,view:initialView})),initialContext.emitter.trigger("eventChange",eventChangeArg)}else if(receivingContext){let eventRemoveArg={event:eventApi,relatedEvents:(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.w)(relevantEvents,initialContext,eventInstance),revert(){initialContext.dispatch({type:"MERGE_EVENTS",eventStore:relevantEvents})}};initialContext.emitter.trigger("eventLeave",Object.assign(Object.assign({},eventRemoveArg),{draggedEl:ev.subjectEl,view:initialView})),initialContext.dispatch({type:"REMOVE_EVENTS",eventStore:relevantEvents}),initialContext.emitter.trigger("eventRemove",eventRemoveArg);let addedEventDef=mutatedRelevantEvents.defs[eventDef.defId],addedEventInstance=mutatedRelevantEvents.instances[eventInstance.instanceId],addedEventApi=new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.a0(receivingContext,addedEventDef,addedEventInstance);receivingContext.dispatch({type:"MERGE_EVENTS",eventStore:mutatedRelevantEvents});let eventAddArg={event:addedEventApi,relatedEvents:(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.w)(mutatedRelevantEvents,receivingContext,addedEventInstance),revert(){receivingContext.dispatch({type:"REMOVE_EVENTS",eventStore:mutatedRelevantEvents})}};receivingContext.emitter.trigger("eventAdd",eventAddArg),ev.isTouch&&receivingContext.dispatch({type:"SELECT_EVENT",eventInstanceId:eventInstance.instanceId}),receivingContext.emitter.trigger("drop",Object.assign(Object.assign({},buildDatePointApiWithContext(finalHit.dateSpan,receivingContext)),{draggedEl:ev.subjectEl,jsEvent:ev.origEvent,view:finalHit.context.viewApi})),receivingContext.emitter.trigger("eventReceive",Object.assign(Object.assign({},eventAddArg),{draggedEl:ev.subjectEl,view:finalHit.context.viewApi}))}}else initialContext.emitter.trigger("_noEventDrop")}this.cleanup()};let{component}=this,{options}=component.context,dragging=this.dragging=new FeaturefulElementDragging(settings.el);dragging.pointer.selector=EventDragging.SELECTOR,dragging.touchScrollAllowed=!1,dragging.autoScroller.isEnabled=options.dragScroll;let hitDragging=this.hitDragging=new HitDragging(this.dragging,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.a7);hitDragging.useSubjectCenter=settings.useEventCenter,hitDragging.emitter.on("pointerdown",this.handlePointerDown),hitDragging.emitter.on("dragstart",this.handleDragStart),hitDragging.emitter.on("hitupdate",this.handleHitUpdate),hitDragging.emitter.on("pointerup",this.handlePointerUp),hitDragging.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(nextContext,state){let initialContext=this.component.context,prevContext=this.receivingContext;prevContext&&prevContext!==nextContext&&(prevContext===initialContext?prevContext.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:state.affectedEvents,mutatedEvents:(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.I)(),isEvent:!0}}):prevContext.dispatch({type:"UNSET_EVENT_DRAG"})),nextContext&&nextContext.dispatch({type:"SET_EVENT_DRAG",state})}clearDrag(){let initialCalendar=this.component.context,{receivingContext}=this;receivingContext&&receivingContext.dispatch({type:"UNSET_EVENT_DRAG"}),initialCalendar!==receivingContext&&initialCalendar.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}EventDragging.SELECTOR=".fc-event-draggable, .fc-event-resizable";class EventResizing extends _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.Z{constructor(settings){super(settings),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=ev=>{let{component}=this,segEl=this.querySegEl(ev),seg=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__._)(segEl),eventRange=this.eventRange=seg.eventRange;this.dragging.minDistance=component.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(ev.origEvent.target)||ev.isTouch&&this.component.props.eventSelection!==eventRange.instance.instanceId)},this.handleDragStart=ev=>{let{context}=this.component,eventRange=this.eventRange;this.relevantEvents=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.aV)(context.getCurrentData().eventStore,this.eventRange.instance.instanceId);let segEl=this.querySegEl(ev);this.draggingSegEl=segEl,this.draggingSeg=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__._)(segEl),context.calendarApi.unselect(),context.emitter.trigger("eventResizeStart",{el:segEl,event:new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.a0(context,eventRange.def,eventRange.instance),jsEvent:ev.origEvent,view:context.viewApi})},this.handleHitUpdate=(hit,isFinal,ev)=>{let{context}=this.component,relevantEvents=this.relevantEvents,initialHit=this.hitDragging.initialHit,eventInstance=this.eventRange.instance,mutation=null,mutatedRelevantEvents=null,isInvalid=!1,interaction={affectedEvents:relevantEvents,mutatedEvents:(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.I)(),isEvent:!0};if(hit){hit.componentId===initialHit.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(initialHit,hit)||(mutation=function computeMutation(hit0,hit1,isFromStart,instanceRange){let dateEnv=hit0.context.dateEnv,date0=hit0.dateSpan.range.start,date1=hit1.dateSpan.range.start,delta=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.aA)(date0,date1,dateEnv,hit0.largeUnit);if(isFromStart){if(dateEnv.add(instanceRange.start,delta)<instanceRange.end)return{startDelta:delta}}else if(dateEnv.add(instanceRange.end,delta)>instanceRange.start)return{endDelta:delta};return null}(initialHit,hit,ev.subjectEl.classList.contains("fc-event-resizer-start"),eventInstance.range))}mutation&&(mutatedRelevantEvents=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bX)(relevantEvents,context.getCurrentData().eventUiBases,mutation,context),interaction.mutatedEvents=mutatedRelevantEvents,(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bZ)(interaction,hit.dateProfile,context)||(isInvalid=!0,mutation=null,mutatedRelevantEvents=null,interaction.mutatedEvents=null)),mutatedRelevantEvents?context.dispatch({type:"SET_EVENT_RESIZE",state:interaction}):context.dispatch({type:"UNSET_EVENT_RESIZE"}),isInvalid?(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.ax)():(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.aw)(),isFinal||(mutation&&isHitsEqual(initialHit,hit)&&(mutation=null),this.validMutation=mutation,this.mutatedRelevantEvents=mutatedRelevantEvents)},this.handleDragEnd=ev=>{let{context}=this.component,eventDef=this.eventRange.def,eventInstance=this.eventRange.instance,eventApi=new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.a0(context,eventDef,eventInstance),relevantEvents=this.relevantEvents,mutatedRelevantEvents=this.mutatedRelevantEvents;if(context.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:eventApi,jsEvent:ev.origEvent,view:context.viewApi}),this.validMutation){let updatedEventApi=new _fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.a0(context,mutatedRelevantEvents.defs[eventDef.defId],eventInstance?mutatedRelevantEvents.instances[eventInstance.instanceId]:null);context.dispatch({type:"MERGE_EVENTS",eventStore:mutatedRelevantEvents});let eventChangeArg={oldEvent:eventApi,event:updatedEventApi,relatedEvents:(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.w)(mutatedRelevantEvents,context,eventInstance),revert(){context.dispatch({type:"MERGE_EVENTS",eventStore:relevantEvents})}};context.emitter.trigger("eventResize",Object.assign(Object.assign({},eventChangeArg),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.d)(0),endDelta:this.validMutation.endDelta||(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.d)(0),jsEvent:ev.origEvent,view:context.viewApi})),context.emitter.trigger("eventChange",eventChangeArg)}else context.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component}=settings,dragging=this.dragging=new FeaturefulElementDragging(settings.el);dragging.pointer.selector=".fc-event-resizer",dragging.touchScrollAllowed=!1,dragging.autoScroller.isEnabled=component.context.options.dragScroll;let hitDragging=this.hitDragging=new HitDragging(this.dragging,(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bG)(settings));hitDragging.emitter.on("pointerdown",this.handlePointerDown),hitDragging.emitter.on("dragstart",this.handleDragStart),hitDragging.emitter.on("hitupdate",this.handleHitUpdate),hitDragging.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(ev){return(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.$)(ev.subjectEl,".fc-event")}}const OPTION_REFINERS={fixedMirrorParent:_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.n},LISTENER_REFINERS={dateClick:_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.n,eventDragStart:_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.n,eventDragStop:_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.n,eventDrop:_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.n,eventResizeStart:_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.n,eventResizeStop:_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.n,eventResize:_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.n,drop:_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.n,eventReceive:_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.n,eventLeave:_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.n};_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bI.dataAttrPrefix="";_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.bH;var index=(0,_fullcalendar_core_index_js__WEBPACK_IMPORTED_MODULE_1__.i1)({name:"@fullcalendar/interaction",componentInteractions:[DateClicking,DateSelecting,EventDragging,EventResizing],calendarInteractions:[class UnselectAuto{constructor(context){this.context=context,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=selectInfo=>{selectInfo.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=pev=>{let unselectCancel=this.context.options.unselectCancel,downEl=(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.aR)(pev.origEvent);this.matchesCancel=!!(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.$)(downEl,unselectCancel),this.matchesEvent=!!(0,_fullcalendar_core_internal_js__WEBPACK_IMPORTED_MODULE_0__.$)(downEl,EventDragging.SELECTOR)},this.onDocumentPointerUp=pev=>{let{context}=this,{documentPointer}=this,calendarState=context.getCurrentData();if(!documentPointer.wasTouchScroll){if(calendarState.dateSelection&&!this.isRecentPointerDateSelect){let unselectAuto=context.options.unselectAuto;!unselectAuto||unselectAuto&&this.matchesCancel||context.calendarApi.unselect(pev)}calendarState.eventSelection&&!this.matchesEvent&&context.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let documentPointer=this.documentPointer=new PointerDragging(document);documentPointer.shouldIgnoreMove=!0,documentPointer.shouldWatchScroll=!1,documentPointer.emitter.on("pointerdown",this.onDocumentPointerDown),documentPointer.emitter.on("pointerup",this.onDocumentPointerUp),context.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:FeaturefulElementDragging,optionRefiners:OPTION_REFINERS,listenerRefiners:LISTENER_REFINERS})},"./node_modules/@fullcalendar/react/dist/index.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>FullCalendar});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-dom/index.js"),_fullcalendar_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@fullcalendar/core/index.js"),_fullcalendar_core_internal__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@fullcalendar/core/internal-common.js");const syncRenderingByDefault=parseInt(String(react__WEBPACK_IMPORTED_MODULE_0__.version).split(".")[0])<18;class FullCalendar extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(...arguments),this.elRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.createRef)(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame((()=>{this.doResize()})))}}render(){const customRenderingNodes=[];for(const customRendering of this.state.customRenderingMap.values())customRenderingNodes.push(react__WEBPACK_IMPORTED_MODULE_0__.createElement(CustomRenderingComponent,{key:customRendering.id,customRendering}));return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:this.elRef},customRenderingNodes)}componentDidMount(){this.isUnmounting=!1;const customRenderingStore=new _fullcalendar_core_internal__WEBPACK_IMPORTED_MODULE_2__.cy;let lastRequestTimestamp;this.handleCustomRendering=customRenderingStore.handle.bind(customRenderingStore),this.calendar=new _fullcalendar_core__WEBPACK_IMPORTED_MODULE_3__.Vv(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",(()=>{(0,react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync)((()=>{}))})),customRenderingStore.subscribe((customRenderingMap=>{const requestTimestamp=Date.now(),isMounting=!lastRequestTimestamp;(syncRenderingByDefault||isMounting||this.isUpdating||this.isUnmounting||requestTimestamp-lastRequestTimestamp<100?runNow:react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync)((()=>{this.setState({customRenderingMap},(()=>{lastRequestTimestamp=requestTimestamp,isMounting?this.doResize():this.requestResize()}))}))}))}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){void 0!==this.resizeId&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}FullCalendar.act=runNow;class CustomRenderingComponent extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent{render(){const{customRendering}=this.props,{generatorMeta}=customRendering,vnode="function"==typeof generatorMeta?generatorMeta(customRendering.renderProps):generatorMeta;return(0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(vnode,customRendering.containerEl)}}function runNow(f){f()}},"./node_modules/@fullcalendar/timegrid/index.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>index});var core=__webpack_require__("./node_modules/@fullcalendar/core/index.js"),internal_common=__webpack_require__("./node_modules/@fullcalendar/core/internal-common.js"),preact_module=__webpack_require__("./node_modules/preact/dist/preact.module.js"),internal=__webpack_require__("./node_modules/@fullcalendar/daygrid/internal.js");class AllDaySplitter extends internal_common.aY{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(dateSpan){return dateSpan.allDay?["allDay"]:["timed"]}getKeysForEventDef(eventDef){return eventDef.allDay?(0,internal_common.bP)(eventDef)?["timed","allDay"]:["allDay"]:["timed"]}}const DEFAULT_SLAT_LABEL_FORMAT=(0,internal_common.x)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function TimeColsAxisCell(props){let classNames=["fc-timegrid-slot","fc-timegrid-slot-label",props.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return(0,preact_module.n)(internal_common.V.Consumer,null,(context=>{if(!props.isLabeled)return(0,preact_module.n)("td",{className:classNames.join(" "),"data-time":props.isoTimeStr});let{dateEnv,options,viewApi}=context,labelFormat=null==options.slotLabelFormat?DEFAULT_SLAT_LABEL_FORMAT:Array.isArray(options.slotLabelFormat)?(0,internal_common.x)(options.slotLabelFormat[0]):(0,internal_common.x)(options.slotLabelFormat),renderProps={level:0,time:props.time,date:dateEnv.toDate(props.date),view:viewApi,text:dateEnv.format(props.date,labelFormat)};return(0,preact_module.n)(internal_common.C,{elTag:"td",elClasses:classNames,elAttrs:{"data-time":props.isoTimeStr},renderProps,generatorName:"slotLabelContent",customGenerator:options.slotLabelContent,defaultGenerator:renderInnerContent,classNameGenerator:options.slotLabelClassNames,didMount:options.slotLabelDidMount,willUnmount:options.slotLabelWillUnmount},(InnerContent=>(0,preact_module.n)("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},(0,preact_module.n)(InnerContent,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]}))))}))}function renderInnerContent(props){return props.text}class TimeBodyAxis extends internal_common.B{render(){return this.props.slatMetas.map((slatMeta=>(0,preact_module.n)("tr",{key:slatMeta.key},(0,preact_module.n)(TimeColsAxisCell,Object.assign({},slatMeta)))))}}const DEFAULT_WEEK_NUM_FORMAT=(0,internal_common.x)({week:"short"});class TimeColsView extends internal_common.be{constructor(){super(...arguments),this.allDaySplitter=new AllDaySplitter,this.headerElRef=(0,preact_module._3)(),this.rootElRef=(0,preact_module._3)(),this.scrollerElRef=(0,preact_module._3)(),this.state={slatCoords:null},this.handleScrollTopRequest=scrollTop=>{let scrollerEl=this.scrollerElRef.current;scrollerEl&&(scrollerEl.scrollTop=scrollTop)},this.renderHeadAxis=(rowKey,frameHeight="")=>{let{options}=this.context,{dateProfile}=this.props,range=dateProfile.renderRange,navLinkAttrs=1===(0,internal_common.bl)(range.start,range.end)?(0,internal_common.b0)(this.context,range.start,"week"):{};return options.weekNumbers&&"day"===rowKey?(0,preact_module.n)(internal_common.cq,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:range.start,defaultFormat:DEFAULT_WEEK_NUM_FORMAT},(InnerContent=>(0,preact_module.n)("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:frameHeight}},(0,preact_module.n)(InnerContent,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:navLinkAttrs})))):(0,preact_module.n)("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},(0,preact_module.n)("div",{className:"fc-timegrid-axis-frame",style:{height:frameHeight}}))},this.renderTableRowAxis=rowHeight=>{let{options,viewApi}=this.context,renderProps={text:options.allDayText,view:viewApi};return(0,preact_module.n)(internal_common.C,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps,generatorName:"allDayContent",customGenerator:options.allDayContent,defaultGenerator:renderAllDayInner,classNameGenerator:options.allDayClassNames,didMount:options.allDayDidMount,willUnmount:options.allDayWillUnmount},(InnerContent=>(0,preact_module.n)("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",null==rowHeight?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:rowHeight}},(0,preact_module.n)(InnerContent,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]}))))},this.handleSlatCoords=slatCoords=>{this.setState({slatCoords})}}renderSimpleLayout(headerRowContent,allDayContent,timeContent){let{context,props}=this,sections=[],stickyHeaderDates=(0,internal_common.cc)(context.options);return headerRowContent&&sections.push({type:"header",key:"header",isSticky:stickyHeaderDates,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:headerRowContent}}),allDayContent&&(sections.push({type:"body",key:"all-day",chunk:{content:allDayContent}}),sections.push({type:"body",key:"all-day-divider",outerContent:(0,preact_module.n)("tr",{role:"presentation",className:"fc-scrollgrid-section"},(0,preact_module.n)("td",{className:"fc-timegrid-divider "+context.theme.getClass("tableCellShaded")}))})),sections.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(context.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:timeContent}}),(0,preact_module.n)(internal_common.ct,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:context.viewSpec},(0,preact_module.n)(internal_common.b$,{liquid:!props.isHeightAuto&&!props.forPrint,collapsibleWidth:props.forPrint,cols:[{width:"shrink"}],sections}))}renderHScrollLayout(headerRowContent,allDayContent,timeContent,colCnt,dayMinWidth,slatMetas,slatCoords){let ScrollGrid=this.context.pluginHooks.scrollGridImpl;if(!ScrollGrid)throw new Error("No ScrollGrid implementation");let{context,props}=this,stickyHeaderDates=!props.forPrint&&(0,internal_common.cc)(context.options),stickyFooterScrollbar=!props.forPrint&&(0,internal_common.cb)(context.options),sections=[];headerRowContent&&sections.push({type:"header",key:"header",isSticky:stickyHeaderDates,syncRowHeights:!0,chunks:[{key:"axis",rowContent:arg=>(0,preact_module.n)("tr",{role:"presentation"},this.renderHeadAxis("day",arg.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:headerRowContent}]}),allDayContent&&(sections.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:contentArg=>(0,preact_module.n)("tr",{role:"presentation"},this.renderTableRowAxis(contentArg.rowSyncHeights[0]))},{key:"cols",content:allDayContent}]}),sections.push({key:"all-day-divider",type:"body",outerContent:(0,preact_module.n)("tr",{role:"presentation",className:"fc-scrollgrid-section"},(0,preact_module.n)("td",{colSpan:2,className:"fc-timegrid-divider "+context.theme.getClass("tableCellShaded")}))}));let isNowIndicator=context.options.nowIndicator;return sections.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(context.options.expandRows),chunks:[{key:"axis",content:arg=>(0,preact_module.n)("div",{className:"fc-timegrid-axis-chunk"},(0,preact_module.n)("table",{"aria-hidden":!0,style:{height:arg.expandRows?arg.clientHeight:""}},arg.tableColGroupNode,(0,preact_module.n)("tbody",null,(0,preact_module.n)(TimeBodyAxis,{slatMetas}))),(0,preact_module.n)("div",{className:"fc-timegrid-now-indicator-container"},(0,preact_module.n)(internal_common.ch,{unit:isNowIndicator?"minute":"day"},(nowDate=>{let nowIndicatorTop=isNowIndicator&&slatCoords&&slatCoords.safeComputeTop(nowDate);return"number"==typeof nowIndicatorTop?(0,preact_module.n)(internal_common.ck,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:nowIndicatorTop},isAxis:!0,date:nowDate}):null}))))},{key:"cols",scrollerElRef:this.scrollerElRef,content:timeContent}]}),stickyFooterScrollbar&&sections.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:internal_common.ca},{key:"cols",content:internal_common.ca}]}),(0,preact_module.n)(internal_common.ct,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:context.viewSpec},(0,preact_module.n)(ScrollGrid,{liquid:!props.isHeightAuto&&!props.forPrint,forPrint:props.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:colCnt,minWidth:dayMinWidth}]}],sections}))}getAllDayMaxEventProps(){let{dayMaxEvents,dayMaxEventRows}=this.context.options;return!0!==dayMaxEvents&&!0!==dayMaxEventRows||(dayMaxEvents=void 0,dayMaxEventRows=5),{dayMaxEvents,dayMaxEventRows}}}function renderAllDayInner(renderProps){return renderProps.text}class TimeColsSlatsCoords{constructor(positions,dateProfile,slotDuration){this.positions=positions,this.dateProfile=dateProfile,this.slotDuration=slotDuration}safeComputeTop(date){let{dateProfile}=this;if((0,internal_common.H)(dateProfile.currentRange,date)){let startOfDayDate=(0,internal_common.q)(date),timeMs=date.valueOf()-startOfDayDate.valueOf();if(timeMs>=(0,internal_common.bs)(dateProfile.slotMinTime)&&timeMs<(0,internal_common.bs)(dateProfile.slotMaxTime))return this.computeTimeTop((0,internal_common.d)(timeMs))}return null}computeDateTop(when,startOfDayDate){return startOfDayDate||(startOfDayDate=(0,internal_common.q)(when)),this.computeTimeTop((0,internal_common.d)(when.valueOf()-startOfDayDate.valueOf()))}computeTimeTop(duration){let slatIndex,slatRemainder,{positions,dateProfile}=this,len=positions.els.length,slatCoverage=(duration.milliseconds-(0,internal_common.bs)(dateProfile.slotMinTime))/(0,internal_common.bs)(this.slotDuration);return slatCoverage=Math.max(0,slatCoverage),slatCoverage=Math.min(len,slatCoverage),slatIndex=Math.floor(slatCoverage),slatIndex=Math.min(slatIndex,len-1),slatRemainder=slatCoverage-slatIndex,positions.tops[slatIndex]+positions.getHeight(slatIndex)*slatRemainder}}class TimeColsSlatsBody extends internal_common.B{render(){let{props,context}=this,{options}=context,{slatElRefs}=props;return(0,preact_module.n)("tbody",null,props.slatMetas.map(((slatMeta,i)=>{let renderProps={time:slatMeta.time,date:context.dateEnv.toDate(slatMeta.date),view:context.viewApi};return(0,preact_module.n)("tr",{key:slatMeta.key,ref:slatElRefs.createRef(slatMeta.key)},props.axis&&(0,preact_module.n)(TimeColsAxisCell,Object.assign({},slatMeta)),(0,preact_module.n)(internal_common.C,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!slatMeta.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":slatMeta.isoTimeStr},renderProps,generatorName:"slotLaneContent",customGenerator:options.slotLaneContent,classNameGenerator:options.slotLaneClassNames,didMount:options.slotLaneDidMount,willUnmount:options.slotLaneWillUnmount}))})))}}class TimeColsSlats extends internal_common.B{constructor(){super(...arguments),this.rootElRef=(0,preact_module._3)(),this.slatElRefs=new internal_common.cf}render(){let{props,context}=this;return(0,preact_module.n)("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},(0,preact_module.n)("table",{"aria-hidden":!0,className:context.theme.getClass("table"),style:{minWidth:props.tableMinWidth,width:props.clientWidth,height:props.minHeight}},props.tableColGroupNode,(0,preact_module.n)(TimeColsSlatsBody,{slatElRefs:this.slatElRefs,axis:props.axis,slatMetas:props.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context,props}=this;if(props.onCoords&&null!==props.clientWidth){this.rootElRef.current.offsetHeight&&props.onCoords(new TimeColsSlatsCoords(new internal_common.ba(this.rootElRef.current,function collectSlatEls(elMap,slatMetas){return slatMetas.map((slatMeta=>elMap[slatMeta.key]))}(this.slatElRefs.currentMap,props.slatMetas),!1,!0),this.props.dateProfile,context.options.slotDuration))}}}function splitSegsByCol(segs,colCnt){let i,segsByCol=[];for(i=0;i<colCnt;i+=1)segsByCol.push([]);if(segs)for(i=0;i<segs.length;i+=1)segsByCol[segs[i].col].push(segs[i]);return segsByCol}function splitInteractionByCol(ui,colCnt){let byRow=[];if(ui){for(let i=0;i<colCnt;i+=1)byRow[i]={affectedInstances:ui.affectedInstances,isEvent:ui.isEvent,segs:[]};for(let seg of ui.segs)byRow[seg.col].segs.push(seg)}else for(let i=0;i<colCnt;i+=1)byRow[i]=null;return byRow}class TimeColMoreLink extends internal_common.B{render(){let{props}=this;return(0,preact_module.n)(internal_common.cr,{elClasses:["fc-timegrid-more-link"],elStyle:{top:props.top,bottom:props.bottom},allDayDate:null,moreCnt:props.hiddenSegs.length,allSegs:props.hiddenSegs,hiddenSegs:props.hiddenSegs,extraDateSpan:props.extraDateSpan,dateProfile:props.dateProfile,todayRange:props.todayRange,popoverContent:()=>renderPlainFgSegs(props.hiddenSegs,props),defaultGenerator:renderMoreLinkInner,forceTimed:!0},(InnerContent=>(0,preact_module.n)(InnerContent,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]})))}}function renderMoreLinkInner(props){return props.shortText}function buildPositioning(segInputs,strictOrder,maxStackCnt){let hierarchy=new internal_common.bA;null!=strictOrder&&(hierarchy.strictOrder=strictOrder),null!=maxStackCnt&&(hierarchy.maxStackCnt=maxStackCnt);let hiddenEntries=hierarchy.addSegs(segInputs),hiddenGroups=(0,internal_common.bE)(hiddenEntries),web=function buildWeb(hierarchy){const{entriesByLevel}=hierarchy,buildNode=cacheable(((level,lateral)=>level+":"+lateral),((level,lateral)=>{let siblingRange=function findNextLevelSegs(hierarchy,subjectLevel,subjectLateral){let{levelCoords,entriesByLevel}=hierarchy,subjectEntry=entriesByLevel[subjectLevel][subjectLateral],afterSubject=levelCoords[subjectLevel]+subjectEntry.thickness,levelCnt=levelCoords.length,level=subjectLevel;for(;level<levelCnt&&levelCoords[level]<afterSubject;level+=1);for(;level<levelCnt;level+=1){let entry,entries=entriesByLevel[level],searchIndex=(0,internal_common.bD)(entries,subjectEntry.span.start,internal_common.bC),lateralStart=searchIndex[0]+searchIndex[1],lateralEnd=lateralStart;for(;(entry=entries[lateralEnd])&&entry.span.start<subjectEntry.span.end;)lateralEnd+=1;if(lateralStart<lateralEnd)return{level,lateralStart,lateralEnd}}return null}(hierarchy,level,lateral),nextLevelRes=buildNodes(siblingRange,buildNode),entry=entriesByLevel[level][lateral];return[Object.assign(Object.assign({},entry),{nextLevelNodes:nextLevelRes[0]}),entry.thickness+nextLevelRes[1]]}));return buildNodes(entriesByLevel.length?{level:0,lateralStart:0,lateralEnd:entriesByLevel[0].length}:null,buildNode)[0]}(hierarchy);return web=function stretchWeb(topLevelNodes,totalThickness){const stretchNode=cacheable(((node,startCoord,prevThickness)=>(0,internal_common.bB)(node)),((node,startCoord,prevThickness)=>{let endCoord,{nextLevelNodes,thickness}=node,allThickness=thickness+prevThickness,thicknessFraction=thickness/allThickness,newChildren=[];if(nextLevelNodes.length)for(let childNode of nextLevelNodes)if(void 0===endCoord){let res=stretchNode(childNode,startCoord,allThickness);endCoord=res[0],newChildren.push(res[1])}else{let res=stretchNode(childNode,endCoord,0);newChildren.push(res[1])}else endCoord=totalThickness;let newThickness=(endCoord-startCoord)*thicknessFraction;return[endCoord-newThickness,Object.assign(Object.assign({},node),{thickness:newThickness,nextLevelNodes:newChildren})]}));return topLevelNodes.map((node=>stretchNode(node,0,0)[1]))}(web,1),{segRects:function webToRects(topLevelNodes){let rects=[];const processNode=cacheable(((node,levelCoord,stackDepth)=>(0,internal_common.bB)(node)),((node,levelCoord,stackDepth)=>{let rect=Object.assign(Object.assign({},node),{levelCoord,stackDepth,stackForward:0});return rects.push(rect),rect.stackForward=processNodes(node.nextLevelNodes,levelCoord+node.thickness,stackDepth+1)+1}));function processNodes(nodes,levelCoord,stackDepth){let stackForward=0;for(let node of nodes)stackForward=Math.max(processNode(node,levelCoord,stackDepth),stackForward);return stackForward}return processNodes(topLevelNodes,0,0),rects}(web),hiddenGroups}}function buildNodes(siblingRange,buildNode){if(!siblingRange)return[[],0];let{level,lateralStart,lateralEnd}=siblingRange,lateral=lateralStart,pairs=[];for(;lateral<lateralEnd;)pairs.push(buildNode(level,lateral)),lateral+=1;return pairs.sort(cmpDescPressures),[pairs.map(extractNode),pairs[0][1]]}function cmpDescPressures(a,b){return b[1]-a[1]}function extractNode(a){return a[0]}function cacheable(keyFunc,workFunc){const cache={};return(...args)=>{let key=keyFunc(...args);return key in cache?cache[key]:cache[key]=workFunc(...args)}}function computeSegVCoords(segs,colDate,slatCoords=null,eventMinHeight=0){let vcoords=[];if(slatCoords)for(let i=0;i<segs.length;i+=1){let seg=segs[i],spanStart=slatCoords.computeDateTop(seg.start,colDate),spanEnd=Math.max(spanStart+(eventMinHeight||0),slatCoords.computeDateTop(seg.end,colDate));vcoords.push({start:Math.round(spanStart),end:Math.round(spanEnd)})}return vcoords}const DEFAULT_TIME_FORMAT=(0,internal_common.x)({hour:"numeric",minute:"2-digit",meridiem:!1});class TimeColEvent extends internal_common.B{render(){return(0,preact_module.n)(internal_common.cj,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:DEFAULT_TIME_FORMAT}))}}class TimeCol extends internal_common.B{constructor(){super(...arguments),this.sortEventSegs=(0,internal_common.z)(internal_common.bR)}render(){let{props,context}=this,{options}=context,isSelectMirror=options.selectMirror,mirrorSegs=props.eventDrag&&props.eventDrag.segs||props.eventResize&&props.eventResize.segs||isSelectMirror&&props.dateSelectionSegs||[],interactionAffectedInstances=props.eventDrag&&props.eventDrag.affectedInstances||props.eventResize&&props.eventResize.affectedInstances||{},sortedFgSegs=this.sortEventSegs(props.fgEventSegs,options.eventOrder);return(0,preact_module.n)(internal_common.cl,{elTag:"td",elRef:props.elRef,elClasses:["fc-timegrid-col",...props.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},props.extraDataAttrs),date:props.date,dateProfile:props.dateProfile,todayRange:props.todayRange,extraRenderProps:props.extraRenderProps},(InnerContent=>(0,preact_module.n)("div",{className:"fc-timegrid-col-frame"},(0,preact_module.n)("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(props.businessHourSegs,"non-business"),this.renderFillSegs(props.bgEventSegs,"bg-event"),this.renderFillSegs(props.dateSelectionSegs,"highlight")),(0,preact_module.n)("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(sortedFgSegs,interactionAffectedInstances,!1,!1,!1)),(0,preact_module.n)("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(mirrorSegs,{},Boolean(props.eventDrag),Boolean(props.eventResize),Boolean(isSelectMirror),"mirror")),(0,preact_module.n)("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(props.nowIndicatorSegs)),(0,internal_common.cm)(options)&&(0,preact_module.n)(InnerContent,{elTag:"div",elClasses:["fc-timegrid-col-misc"]}))))}renderFgSegs(sortedFgSegs,segIsInvisible,isDragging,isResizing,isDateSelecting,forcedKey){let{props}=this;return props.forPrint?renderPlainFgSegs(sortedFgSegs,props):this.renderPositionedFgSegs(sortedFgSegs,segIsInvisible,isDragging,isResizing,isDateSelecting,forcedKey)}renderPositionedFgSegs(segs,segIsInvisible,isDragging,isResizing,isDateSelecting,forcedKey){let{eventMaxStack,eventShortHeight,eventOrderStrict,eventMinHeight}=this.context.options,{date,slatCoords,eventSelection,todayRange,nowDate}=this.props,isMirror=isDragging||isResizing||isDateSelecting,segVCoords=computeSegVCoords(segs,date,slatCoords,eventMinHeight),{segPlacements,hiddenGroups}=function computeFgSegPlacements(segs,segVCoords,eventOrderStrict,eventMaxStack){let segInputs=[],dumbSegs=[];for(let i=0;i<segs.length;i+=1){let vcoords=segVCoords[i];vcoords?segInputs.push({index:i,thickness:1,span:vcoords}):dumbSegs.push(segs[i])}let{segRects,hiddenGroups}=buildPositioning(segInputs,eventOrderStrict,eventMaxStack),segPlacements=[];for(let segRect of segRects)segPlacements.push({seg:segs[segRect.index],rect:segRect});for(let dumbSeg of dumbSegs)segPlacements.push({seg:dumbSeg,rect:null});return{segPlacements,hiddenGroups}}(segs,segVCoords,eventOrderStrict,eventMaxStack);return(0,preact_module.n)(preact_module.FK,null,this.renderHiddenGroups(hiddenGroups,segs),segPlacements.map((segPlacement=>{let{seg,rect}=segPlacement,instanceId=seg.eventRange.instance.instanceId,isVisible=isMirror||Boolean(!segIsInvisible[instanceId]&&rect),vStyle=computeSegVStyle(rect&&rect.span),hStyle=!isMirror&&rect?this.computeSegHStyle(rect):{left:0,right:0},isInset=Boolean(rect)&&rect.stackForward>0,isShort=Boolean(rect)&&rect.span.end-rect.span.start<eventShortHeight;return(0,preact_module.n)("div",{className:"fc-timegrid-event-harness"+(isInset?" fc-timegrid-event-harness-inset":""),key:forcedKey||instanceId,style:Object.assign(Object.assign({visibility:isVisible?"":"hidden"},vStyle),hStyle)},(0,preact_module.n)(TimeColEvent,Object.assign({seg,isDragging,isResizing,isDateSelecting,isSelected:instanceId===eventSelection,isShort},(0,internal_common.bS)(seg,todayRange,nowDate))))})))}renderHiddenGroups(hiddenGroups,segs){let{extraDateSpan,dateProfile,todayRange,nowDate,eventSelection,eventDrag,eventResize}=this.props;return(0,preact_module.n)(preact_module.FK,null,hiddenGroups.map((hiddenGroup=>{let positionCss=computeSegVStyle(hiddenGroup.span),hiddenSegs=function compileSegsFromEntries(segEntries,allSegs){return segEntries.map((segEntry=>allSegs[segEntry.index]))}(hiddenGroup.entries,segs);return(0,preact_module.n)(TimeColMoreLink,{key:(0,internal_common.bw)((0,internal_common.cs)(hiddenSegs)),hiddenSegs,top:positionCss.top,bottom:positionCss.bottom,extraDateSpan,dateProfile,todayRange,nowDate,eventSelection,eventDrag,eventResize})})))}renderFillSegs(segs,fillType){let{props,context}=this,children=computeSegVCoords(segs,props.date,props.slatCoords,context.options.eventMinHeight).map(((vcoords,i)=>{let seg=segs[i];return(0,preact_module.n)("div",{key:(0,internal_common.bT)(seg.eventRange),className:"fc-timegrid-bg-harness",style:computeSegVStyle(vcoords)},"bg-event"===fillType?(0,preact_module.n)(internal_common.cp,Object.assign({seg},(0,internal_common.bS)(seg,props.todayRange,props.nowDate))):(0,internal_common.co)(fillType))}));return(0,preact_module.n)(preact_module.FK,null,children)}renderNowIndicator(segs){let{slatCoords,date}=this.props;return slatCoords?segs.map(((seg,i)=>(0,preact_module.n)(internal_common.ck,{key:i,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:slatCoords.computeDateTop(seg.start,date)},isAxis:!1,date}))):null}computeSegHStyle(segHCoords){let left,right,{isRtl,options}=this.context,shouldOverlap=options.slotEventOverlap,nearCoord=segHCoords.levelCoord,farCoord=segHCoords.levelCoord+segHCoords.thickness;shouldOverlap&&(farCoord=Math.min(1,nearCoord+2*(farCoord-nearCoord))),isRtl?(left=1-farCoord,right=nearCoord):(left=nearCoord,right=1-farCoord);let props={zIndex:segHCoords.stackDepth+1,left:100*left+"%",right:100*right+"%"};return shouldOverlap&&!segHCoords.stackForward&&(props[isRtl?"marginLeft":"marginRight"]=20),props}}function renderPlainFgSegs(sortedFgSegs,{todayRange,nowDate,eventSelection,eventDrag,eventResize}){let hiddenInstances=(eventDrag?eventDrag.affectedInstances:null)||(eventResize?eventResize.affectedInstances:null)||{};return(0,preact_module.n)(preact_module.FK,null,sortedFgSegs.map((seg=>{let instanceId=seg.eventRange.instance.instanceId;return(0,preact_module.n)("div",{key:instanceId,style:{visibility:hiddenInstances[instanceId]?"hidden":""}},(0,preact_module.n)(TimeColEvent,Object.assign({seg,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:instanceId===eventSelection,isShort:!1},(0,internal_common.bS)(seg,todayRange,nowDate))))})))}function computeSegVStyle(segVCoords){return segVCoords?{top:segVCoords.start,bottom:-segVCoords.end}:{top:"",bottom:""}}class TimeColsContent extends internal_common.B{constructor(){super(...arguments),this.splitFgEventSegs=(0,internal_common.z)(splitSegsByCol),this.splitBgEventSegs=(0,internal_common.z)(splitSegsByCol),this.splitBusinessHourSegs=(0,internal_common.z)(splitSegsByCol),this.splitNowIndicatorSegs=(0,internal_common.z)(splitSegsByCol),this.splitDateSelectionSegs=(0,internal_common.z)(splitSegsByCol),this.splitEventDrag=(0,internal_common.z)(splitInteractionByCol),this.splitEventResize=(0,internal_common.z)(splitInteractionByCol),this.rootElRef=(0,preact_module._3)(),this.cellElRefs=new internal_common.cf}render(){let{props,context}=this,nowIndicatorTop=context.options.nowIndicator&&props.slatCoords&&props.slatCoords.safeComputeTop(props.nowDate),colCnt=props.cells.length,fgEventSegsByRow=this.splitFgEventSegs(props.fgEventSegs,colCnt),bgEventSegsByRow=this.splitBgEventSegs(props.bgEventSegs,colCnt),businessHourSegsByRow=this.splitBusinessHourSegs(props.businessHourSegs,colCnt),nowIndicatorSegsByRow=this.splitNowIndicatorSegs(props.nowIndicatorSegs,colCnt),dateSelectionSegsByRow=this.splitDateSelectionSegs(props.dateSelectionSegs,colCnt),eventDragByRow=this.splitEventDrag(props.eventDrag,colCnt),eventResizeByRow=this.splitEventResize(props.eventResize,colCnt);return(0,preact_module.n)("div",{className:"fc-timegrid-cols",ref:this.rootElRef},(0,preact_module.n)("table",{role:"presentation",style:{minWidth:props.tableMinWidth,width:props.clientWidth}},props.tableColGroupNode,(0,preact_module.n)("tbody",{role:"presentation"},(0,preact_module.n)("tr",{role:"row"},props.axis&&(0,preact_module.n)("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},(0,preact_module.n)("div",{className:"fc-timegrid-col-frame"},(0,preact_module.n)("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof nowIndicatorTop&&(0,preact_module.n)(internal_common.ck,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:nowIndicatorTop},isAxis:!0,date:props.nowDate})))),props.cells.map(((cell,i)=>(0,preact_module.n)(TimeCol,{key:cell.key,elRef:this.cellElRefs.createRef(cell.key),dateProfile:props.dateProfile,date:cell.date,nowDate:props.nowDate,todayRange:props.todayRange,extraRenderProps:cell.extraRenderProps,extraDataAttrs:cell.extraDataAttrs,extraClassNames:cell.extraClassNames,extraDateSpan:cell.extraDateSpan,fgEventSegs:fgEventSegsByRow[i],bgEventSegs:bgEventSegsByRow[i],businessHourSegs:businessHourSegsByRow[i],nowIndicatorSegs:nowIndicatorSegsByRow[i],dateSelectionSegs:dateSelectionSegsByRow[i],eventDrag:eventDragByRow[i],eventResize:eventResizeByRow[i],slatCoords:props.slatCoords,eventSelection:props.eventSelection,forPrint:props.forPrint})))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props}=this;props.onColCoords&&null!==props.clientWidth&&props.onColCoords(new internal_common.ba(this.rootElRef.current,function collectCellEls(elMap,cells){return cells.map((cell=>elMap[cell.key]))}(this.cellElRefs.currentMap,props.cells),!0,!1))}}class TimeCols extends internal_common.be{constructor(){super(...arguments),this.processSlotOptions=(0,internal_common.z)(processSlotOptions),this.state={slatCoords:null},this.handleRootEl=el=>{el?this.context.registerInteractiveComponent(this,{el,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=request=>{let{onScrollTopRequest}=this.props,{slatCoords}=this.state;if(onScrollTopRequest&&slatCoords){if(request.time){let top=slatCoords.computeTimeTop(request.time);top=Math.ceil(top),top&&(top+=1),onScrollTopRequest(top)}return!0}return!1},this.handleColCoords=colCoords=>{this.colCoords=colCoords},this.handleSlatCoords=slatCoords=>{this.setState({slatCoords}),this.props.onSlatCoords&&this.props.onSlatCoords(slatCoords)}}render(){let{props,state}=this;return(0,preact_module.n)("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:props.clientWidth,minWidth:props.tableMinWidth}},(0,preact_module.n)(TimeColsSlats,{axis:props.axis,dateProfile:props.dateProfile,slatMetas:props.slatMetas,clientWidth:props.clientWidth,minHeight:props.expandRows?props.clientHeight:"",tableMinWidth:props.tableMinWidth,tableColGroupNode:props.axis?props.tableColGroupNode:null,onCoords:this.handleSlatCoords}),(0,preact_module.n)(TimeColsContent,{cells:props.cells,axis:props.axis,dateProfile:props.dateProfile,businessHourSegs:props.businessHourSegs,bgEventSegs:props.bgEventSegs,fgEventSegs:props.fgEventSegs,dateSelectionSegs:props.dateSelectionSegs,eventSelection:props.eventSelection,eventDrag:props.eventDrag,eventResize:props.eventResize,todayRange:props.todayRange,nowDate:props.nowDate,nowIndicatorSegs:props.nowIndicatorSegs,clientWidth:props.clientWidth,tableMinWidth:props.tableMinWidth,tableColGroupNode:props.tableColGroupNode,slatCoords:state.slatCoords,onColCoords:this.handleColCoords,forPrint:props.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(prevProps){this.scrollResponder.update(prevProps.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(positionLeft,positionTop){let{dateEnv,options}=this.context,{colCoords}=this,{dateProfile}=this.props,{slatCoords}=this.state,{snapDuration,snapsPerSlot}=this.processSlotOptions(this.props.slotDuration,options.snapDuration),colIndex=colCoords.leftToIndex(positionLeft),slatIndex=slatCoords.positions.topToIndex(positionTop);if(null!=colIndex&&null!=slatIndex){let cell=this.props.cells[colIndex],slatTop=slatCoords.positions.tops[slatIndex],slatHeight=slatCoords.positions.getHeight(slatIndex),partial=(positionTop-slatTop)/slatHeight,snapIndex=slatIndex*snapsPerSlot+Math.floor(partial*snapsPerSlot),dayDate=this.props.cells[colIndex].date,time=(0,internal_common.bp)(dateProfile.slotMinTime,(0,internal_common.bo)(snapDuration,snapIndex)),start=dateEnv.add(dayDate,time),end=dateEnv.add(start,snapDuration);return{dateProfile,dateSpan:Object.assign({range:{start,end},allDay:!1},cell.extraDateSpan),dayEl:colCoords.els[colIndex],rect:{left:colCoords.lefts[colIndex],right:colCoords.rights[colIndex],top:slatTop,bottom:slatTop+slatHeight},layer:0}}return null}}function processSlotOptions(slotDuration,snapDurationOverride){let snapDuration=snapDurationOverride||slotDuration,snapsPerSlot=(0,internal_common.bt)(slotDuration,snapDuration);return null===snapsPerSlot&&(snapDuration=slotDuration,snapsPerSlot=1),{snapDuration,snapsPerSlot}}class DayTimeColsSlicer extends internal_common.bW{sliceRange(range,dayRanges){let segs=[];for(let col=0;col<dayRanges.length;col+=1){let segRange=(0,internal_common.o)(range,dayRanges[col]);segRange&&segs.push({start:segRange.start,end:segRange.end,isStart:segRange.start.valueOf()===range.start.valueOf(),isEnd:segRange.end.valueOf()===range.end.valueOf(),col})}return segs}}class DayTimeCols extends internal_common.be{constructor(){super(...arguments),this.buildDayRanges=(0,internal_common.z)(buildDayRanges),this.slicer=new DayTimeColsSlicer,this.timeColsRef=(0,preact_module._3)()}render(){let{props,context}=this,{dateProfile,dayTableModel}=props,{nowIndicator,nextDayThreshold}=context.options,dayRanges=this.buildDayRanges(dayTableModel,dateProfile,context.dateEnv);return(0,preact_module.n)(internal_common.ch,{unit:nowIndicator?"minute":"day"},((nowDate,todayRange)=>(0,preact_module.n)(TimeCols,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(props,dateProfile,null,context,dayRanges),{forPrint:props.forPrint,axis:props.axis,dateProfile,slatMetas:props.slatMetas,slotDuration:props.slotDuration,cells:dayTableModel.cells[0],tableColGroupNode:props.tableColGroupNode,tableMinWidth:props.tableMinWidth,clientWidth:props.clientWidth,clientHeight:props.clientHeight,expandRows:props.expandRows,nowDate,nowIndicatorSegs:nowIndicator&&this.slicer.sliceNowDate(nowDate,dateProfile,nextDayThreshold,context,dayRanges),todayRange,onScrollTopRequest:props.onScrollTopRequest,onSlatCoords:props.onSlatCoords}))))}}function buildDayRanges(dayTableModel,dateProfile,dateEnv){let ranges=[];for(let date of dayTableModel.headerDates)ranges.push({start:dateEnv.add(date,dateProfile.slotMinTime),end:dateEnv.add(date,dateProfile.slotMaxTime)});return ranges}const STOCK_SUB_DURATIONS=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function buildSlatMetas(slotMinTime,slotMaxTime,explicitLabelInterval,slotDuration,dateEnv){let dayStart=new Date(0),slatTime=slotMinTime,slatIterator=(0,internal_common.d)(0),labelInterval=explicitLabelInterval||function computeLabelInterval(slotDuration){let i,labelInterval,slotsPerLabel;for(i=STOCK_SUB_DURATIONS.length-1;i>=0;i-=1)if(labelInterval=(0,internal_common.d)(STOCK_SUB_DURATIONS[i]),slotsPerLabel=(0,internal_common.bt)(labelInterval,slotDuration),null!==slotsPerLabel&&slotsPerLabel>1)return labelInterval;return slotDuration}(slotDuration),metas=[];for(;(0,internal_common.bs)(slatTime)<(0,internal_common.bs)(slotMaxTime);){let date=dateEnv.add(dayStart,slatTime),isLabeled=null!==(0,internal_common.bt)(slatIterator,labelInterval);metas.push({date,time:slatTime,key:date.toISOString(),isoTimeStr:(0,internal_common.bu)(date),isLabeled}),slatTime=(0,internal_common.bp)(slatTime,slotDuration),slatIterator=(0,internal_common.bp)(slatIterator,slotDuration)}return metas}function buildTimeColsModel(dateProfile,dateProfileGenerator){let daySeries=new internal_common.bO(dateProfile.renderRange,dateProfileGenerator);return new internal_common.bV(daySeries,!1)}(0,internal_common.cw)('.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}');const OPTION_REFINERS={allDaySlot:Boolean};var index=(0,core.i1)({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:OPTION_REFINERS,views:{timeGrid:{component:class DayTimeColsView extends TimeColsView{constructor(){super(...arguments),this.buildTimeColsModel=(0,internal_common.z)(buildTimeColsModel),this.buildSlatMetas=(0,internal_common.z)(buildSlatMetas)}render(){let{options,dateEnv,dateProfileGenerator}=this.context,{props}=this,{dateProfile}=props,dayTableModel=this.buildTimeColsModel(dateProfile,dateProfileGenerator),splitProps=this.allDaySplitter.splitProps(props),slatMetas=this.buildSlatMetas(dateProfile.slotMinTime,dateProfile.slotMaxTime,options.slotLabelInterval,options.slotDuration,dateEnv),{dayMinWidth}=options,hasAttachedAxis=!dayMinWidth,hasDetachedAxis=dayMinWidth,headerContent=options.dayHeaders&&(0,preact_module.n)(internal_common.bK,{dates:dayTableModel.headerDates,dateProfile,datesRepDistinctDays:!0,renderIntro:hasAttachedAxis?this.renderHeadAxis:null}),allDayContent=!1!==options.allDaySlot&&(contentArg=>(0,preact_module.n)(internal.t7,Object.assign({},splitProps.allDay,{dateProfile,dayTableModel,nextDayThreshold:options.nextDayThreshold,tableMinWidth:contentArg.tableMinWidth,colGroupNode:contentArg.tableColGroupNode,renderRowIntro:hasAttachedAxis?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:contentArg.clientWidth,clientHeight:contentArg.clientHeight,forPrint:props.forPrint},this.getAllDayMaxEventProps()))),timeGridContent=contentArg=>(0,preact_module.n)(DayTimeCols,Object.assign({},splitProps.timed,{dayTableModel,dateProfile,axis:hasAttachedAxis,slotDuration:options.slotDuration,slatMetas,forPrint:props.forPrint,tableColGroupNode:contentArg.tableColGroupNode,tableMinWidth:contentArg.tableMinWidth,clientWidth:contentArg.clientWidth,clientHeight:contentArg.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:contentArg.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return hasDetachedAxis?this.renderHScrollLayout(headerContent,allDayContent,timeGridContent,dayTableModel.colCnt,dayMinWidth,slatMetas,this.state.slatCoords):this.renderSimpleLayout(headerContent,allDayContent,timeGridContent)}},usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}})},"./node_modules/clsx/dist/clsx.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";function r(e){var t,f,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=" "),n+=f)}else for(f in e)e[f]&&(n&&(n+=" "),n+=f);return n}__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function clsx(){for(var e,t,f=0,n="",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=" "),n+=t);return n}}}]);