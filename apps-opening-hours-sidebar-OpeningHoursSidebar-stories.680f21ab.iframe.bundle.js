(globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react=globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react||[]).push([[8625],{"./src/apps/opening-hours-sidebar/OpeningHoursSidebar.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{App:()=>App,default:()=>OpeningHoursSidebar_stories});var react=__webpack_require__("./node_modules/react/index.js"),serviceUrlArgs=__webpack_require__("./src/core/storybook/serviceUrlArgs.ts"),utils_text=__webpack_require__("./src/core/utils/text.tsx"),url=__webpack_require__("./src/core/utils/url.tsx"),useDialog=__webpack_require__("./src/components/dialog/useDialog.tsx"),icon_watch_static=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-watch-static.svg"),icon_watch_static_default=__webpack_require__.n(icon_watch_static),DisclosureControllable=__webpack_require__("./src/components/Disclosures/DisclosureControllable.tsx"),ExpandMore=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/ExpandMore.svg"),ExpandMore_default=__webpack_require__.n(ExpandMore);const OpeningHoursSidebarSummary=({name})=>react.createElement(react.Fragment,null,react.createElement("h3",{className:"opening-hours-sidebar-summary__name"},name),react.createElement("img",{src:ExpandMore_default(),alt:"",className:"opening-hours-sidebar-summary__icon"})),opening_hours_sidebar_OpeningHoursSidebarSummary=OpeningHoursSidebarSummary;try{OpeningHoursSidebarSummary.displayName="OpeningHoursSidebarSummary",OpeningHoursSidebarSummary.__docgenInfo={description:"",displayName:"OpeningHoursSidebarSummary",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/opening-hours-sidebar/OpeningHoursSidebarSummary.tsx#OpeningHoursSidebarSummary"]={docgenInfo:OpeningHoursSidebarSummary.__docgenInfo,name:"OpeningHoursSidebarSummary",path:"src/apps/opening-hours-sidebar/OpeningHoursSidebarSummary.tsx#OpeningHoursSidebarSummary"})}catch(__react_docgen_typescript_loader_error){}const OpeningHoursSidebarDetails=({openingHoursData,link,name})=>{const t=(0,utils_text.F)();return react.createElement("div",{className:"opening-hours-sidebar-details__content"},react.createElement("dl",{className:"opening-hours-sidebar-details__list"},openingHoursData.map((({term,description},i)=>react.createElement("div",{key:i,className:"opening-hours-sidebar-details__item"},react.createElement("dt",{className:"opening-hours-sidebar-details__term"},term),react.createElement("dd",{className:"opening-hours-sidebar-details__description"},description))))),react.createElement("a",{href:link,className:"opening-hours-sidebar__link"},t("openingHoursSidebarLinkText",{placeholders:{"@branchName":name}})))},opening_hours_sidebar_OpeningHoursSidebarDetails=OpeningHoursSidebarDetails;try{OpeningHoursSidebarDetails.displayName="OpeningHoursSidebarDetails",OpeningHoursSidebarDetails.__docgenInfo={description:"",displayName:"OpeningHoursSidebarDetails",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},openingHoursData:{defaultValue:null,description:"",name:"openingHoursData",required:!0,type:{name:"OpeningHoursDataType[]"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/opening-hours-sidebar/OpeningHoursSidebarDetails.tsx#OpeningHoursSidebarDetails"]={docgenInfo:OpeningHoursSidebarDetails.__docgenInfo,name:"OpeningHoursSidebarDetails",path:"src/apps/opening-hours-sidebar/OpeningHoursSidebarDetails.tsx#OpeningHoursSidebarDetails"})}catch(__react_docgen_typescript_loader_error){}var dayjs_min=__webpack_require__("./node_modules/dayjs/dayjs.min.js"),dayjs_min_default=__webpack_require__.n(dayjs_min);__webpack_require__("./node_modules/dayjs/locale/da.js");dayjs_min_default().locale("da");const convertBranchesToLibraries=(branches,openingHours)=>{const sortedBranches=(branches=>branches.sort(((a,b)=>Number(b.promoted)-Number(a.promoted)||a.name.localeCompare(b.name))))(branches);return sortedBranches.map((({branch_id,name,link})=>{const branchOpeningHours=((branch_id,openingHours)=>openingHours.filter((item=>item.branch_id===Number(branch_id))))(branch_id,openingHours),sortedOpeningHours=(openingHours=>openingHours.sort(((a,b)=>a.start_time.localeCompare(b.start_time)||a.end_time.localeCompare(b.end_time))))(branchOpeningHours),openingHoursData=(openingHours=>openingHours.map((item=>({term:item.category.title,description:`${item.start_time} - ${item.end_time}`}))))(sortedOpeningHours);return{branch_id,name,openingHoursData,link}}))},OpeningHoursSidebarContent=({libraries})=>{const t=(0,utils_text.F)();return react.createElement("section",{className:"opening-hours-sidebar"},react.createElement("header",{className:"opening-hours-sidebar__header"},react.createElement("img",{src:icon_watch_static_default(),className:"opening-hours-sidebar__icon",alt:""}),react.createElement("div",{className:"opening-hours-sidebar__texts"},react.createElement("h2",{className:"opening-hours-sidebar__title"},t("openingHoursSidebarTitleText")),react.createElement("p",{className:"opening-hours-sidebar__date"},dayjs_min_default()().format("dddd D. MMMM")))),libraries.map((({branch_id,name,openingHoursData,link},i)=>react.createElement(DisclosureControllable.A,{showContent:0===i,key:branch_id,id:branch_id,detailsClassName:"opening-hours-sidebar-details",summaryClassName:"opening-hours-sidebar-summary",summary:react.createElement(opening_hours_sidebar_OpeningHoursSidebarSummary,{name})},react.createElement(opening_hours_sidebar_OpeningHoursSidebarDetails,{openingHoursData,link,name})))))},opening_hours_sidebar_OpeningHoursSidebarContent=OpeningHoursSidebarContent;try{OpeningHoursSidebarContent.displayName="OpeningHoursSidebarContent",OpeningHoursSidebarContent.__docgenInfo={description:"",displayName:"OpeningHoursSidebarContent",props:{libraries:{defaultValue:null,description:"",name:"libraries",required:!0,type:{name:"LibraryType[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/opening-hours-sidebar/OpeningHoursSidebarContent.tsx#OpeningHoursSidebarContent"]={docgenInfo:OpeningHoursSidebarContent.__docgenInfo,name:"OpeningHoursSidebarContent",path:"src/apps/opening-hours-sidebar/OpeningHoursSidebarContent.tsx#OpeningHoursSidebarContent"})}catch(__react_docgen_typescript_loader_error){}const opening_hours_sidebar_OpeningHoursSidebarButtonLarge=({openDialog})=>{const t=(0,utils_text.F)();return react.createElement("div",{className:"header__clock"},react.createElement("div",{className:"pagefold-parent--medium"},react.createElement("div",{className:"pagefold-triangle--medium"})),react.createElement("button",{type:"button",className:"header__clock-items",onClick:openDialog},react.createElement("img",{loading:"lazy",width:"58",height:"58",src:icon_watch_static_default(),className:"mb-8",alt:""}),react.createElement("span",{className:"text-small-caption"},t("openingHoursText"))))};try{OpeningHoursSidebarButtonLarge.displayName="OpeningHoursSidebarButtonLarge",OpeningHoursSidebarButtonLarge.__docgenInfo={description:"",displayName:"OpeningHoursSidebarButtonLarge",props:{openDialog:{defaultValue:null,description:"",name:"openDialog",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/opening-hours-sidebar/OpeningHoursSidebarButtonLarge.tsx#OpeningHoursSidebarButtonLarge"]={docgenInfo:OpeningHoursSidebarButtonLarge.__docgenInfo,name:"OpeningHoursSidebarButtonLarge",path:"src/apps/opening-hours-sidebar/OpeningHoursSidebarButtonLarge.tsx#OpeningHoursSidebarButtonLarge"})}catch(__react_docgen_typescript_loader_error){}const opening_hours_sidebar_OpeningHoursSidebarButtonSmall=({openDialog})=>{const t=(0,utils_text.F)();return react.createElement("button",{type:"button",className:"header__button header__button--left-border",onClick:openDialog},react.createElement("img",{className:"header__button-icon",loading:"lazy",width:"24",height:"24",src:icon_watch_static_default(),alt:"clock icon"}),react.createElement("span",{className:"header__button-text"},t("openingHoursText")))};try{OpeningHoursSidebarButtonSmall.displayName="OpeningHoursSidebarButtonSmall",OpeningHoursSidebarButtonSmall.__docgenInfo={description:"",displayName:"OpeningHoursSidebarButtonSmall",props:{openDialog:{defaultValue:null,description:"",name:"openDialog",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/opening-hours-sidebar/OpeningHoursSidebarButtonSmall.tsx#OpeningHoursSidebarButtonSmall"]={docgenInfo:OpeningHoursSidebarButtonSmall.__docgenInfo,name:"OpeningHoursSidebarButtonSmall",path:"src/apps/opening-hours-sidebar/OpeningHoursSidebarButtonSmall.tsx#OpeningHoursSidebarButtonSmall"})}catch(__react_docgen_typescript_loader_error){}var Dialog=__webpack_require__("./src/components/dialog/Dialog.tsx"),dpl_cms=__webpack_require__("./src/core/dpl-cms/dpl-cms.ts"),utils_config=__webpack_require__("./src/core/utils/config.tsx");const opening_hours_sidebar_useOpeningHoursSidebar=()=>{const branches=(0,utils_config.UK)()("openingHoursSidebarBranchesConfig",{transformer:"jsonParse"}),toDayAndDate=(date=new Date,dayjs_min_default()(date).format("YYYY-MM-DD"));var date;const{data:openingHours,error,isLoading}=(0,dpl_cms.Dp)({from_date:toDayAndDate,to_date:toDayAndDate});if(!openingHours)return{libraries:[],error,isLoading};return{libraries:convertBranchesToLibraries(branches,openingHours),error,isLoading}},OpeningHoursSidebar=({size})=>{const{dialogContent,openDialogWithContent,closeDialog,dialogRef}=(0,useDialog.A)(),{libraries}=opening_hours_sidebar_useOpeningHoursSidebar(),openDialog=()=>openDialogWithContent(react.createElement(opening_hours_sidebar_OpeningHoursSidebarContent,{libraries}));return react.createElement(react.Fragment,null,"large"===size&&react.createElement(opening_hours_sidebar_OpeningHoursSidebarButtonLarge,{openDialog}),"small"===size&&react.createElement(opening_hours_sidebar_OpeningHoursSidebarButtonSmall,{openDialog}),react.createElement(Dialog.A,{isSidebar:!0,closeDialog,ref:dialogRef},dialogContent))},opening_hours_sidebar_OpeningHoursSidebar=OpeningHoursSidebar;try{OpeningHoursSidebar.displayName="OpeningHoursSidebar",OpeningHoursSidebar.__docgenInfo={description:"",displayName:"OpeningHoursSidebar",props:{size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"small"'},{value:'"large"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/opening-hours-sidebar/OpeningHoursSidebar.tsx#OpeningHoursSidebar"]={docgenInfo:OpeningHoursSidebar.__docgenInfo,name:"OpeningHoursSidebar",path:"src/apps/opening-hours-sidebar/OpeningHoursSidebar.tsx#OpeningHoursSidebar"})}catch(__react_docgen_typescript_loader_error){}const OpeningHoursSidebar_entry=(0,utils_config.NV)((0,url.nU)((0,utils_text.i)((({size})=>react.createElement(opening_hours_sidebar_OpeningHoursSidebar,{size})))));try{OpeningHoursSidebarentry.displayName="OpeningHoursSidebarentry",OpeningHoursSidebarentry.__docgenInfo={description:"",displayName:"OpeningHoursSidebarentry",props:{openingHoursText:{defaultValue:null,description:"",name:"openingHoursText",required:!0,type:{name:"string"}},openingHoursSidebarTitleText:{defaultValue:null,description:"",name:"openingHoursSidebarTitleText",required:!0,type:{name:"string"}},openingHoursSidebarLinkText:{defaultValue:null,description:"",name:"openingHoursSidebarLinkText",required:!0,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"small"'},{value:'"large"'}]}},openingHoursSidebarBranchesConfig:{defaultValue:null,description:"",name:"openingHoursSidebarBranchesConfig",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/opening-hours-sidebar/OpeningHoursSidebar.entry.tsx#OpeningHoursSidebarentry"]={docgenInfo:OpeningHoursSidebarentry.__docgenInfo,name:"OpeningHoursSidebarentry",path:"src/apps/opening-hours-sidebar/OpeningHoursSidebar.entry.tsx#OpeningHoursSidebarentry"})}catch(__react_docgen_typescript_loader_error){}const OpeningHoursSidebar_stories={title:"Apps / Opening Hour Sidebar",component:OpeningHoursSidebar_entry,argTypes:{...serviceUrlArgs.U,openingHoursSidebarTitleText:{name:"Today's opening hours",defaultValue:"Today's opening hours",control:{type:"text"}},openingHoursText:{name:"Opening hours text",defaultValue:"Opening hours",control:{type:"text"}},openingHoursSidebarLinkText:{name:"Opening hours link text",defaultValue:"Go to @branchName",control:{type:"text"}},openingHoursSidebarBranchesConfig:{name:"Opening hours sidebar branches",defaultValue:'[{"branch_id":"10","name":"Hovedbiblioteket","link":"/hovedbiblioteket","promoted":true},{"branch_id":"12","name":"Brønshøj Bibliotek","link":"/bronshoj-bibliotek","promoted":false},{"branch_id":"18","name":"Læsefilialen","link":"/laesefilialen","promoted":false},{"branch_id":"24","name":"Det virtuelle bibliotek","link":"/det-virtuelle-bibliotek","promoted":false}]',control:{type:"text"}},size:{name:"Size",defaultValue:"small",control:{type:"select",options:["small","large"]}}},args:{...serviceUrlArgs.A,openingHoursSidebarTitleText:"Today's opening hours",openingHoursText:"Opening hours",openingHoursSidebarLinkText:"Go to @branchName",openingHoursSidebarBranchesConfig:'[{"branch_id":"10","name":"Hovedbiblioteket","link":"/hovedbiblioteket","promoted":true},{"branch_id":"12","name":"Brønshøj Bibliotek","link":"/bronshoj-bibliotek","promoted":false},{"branch_id":"18","name":"Læsefilialen","link":"/laesefilialen","promoted":false},{"branch_id":"24","name":"Det virtuelle bibliotek","link":"/det-virtuelle-bibliotek","promoted":false}]',size:"small"}},App={render:args=>react.createElement(OpeningHoursSidebar_entry,args)};App.parameters={...App.parameters,docs:{...App.parameters?.docs,source:{originalSource:"{\n  // eslint-disable-next-line react/jsx-props-no-spreading\n  render: args => <OpeningHoursSidebar {...args} />\n}",...App.parameters?.docs?.source}}}},"./src/components/Disclosures/DisclosureControllable.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const DisclosureControllable=({id,children,showContent=!1,cyData,detailsClassName,summaryClassName,summary})=>{const[isOpen,setIsOpen]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(showContent),toggleOpen=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{setIsOpen((prevIsOpen=>!prevIsOpen))}),[]),handleClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{toggleOpen()}),[toggleOpen]),handleKeyDown=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{"Enter"===e.key&&toggleOpen()}),[toggleOpen]),disclosureId=`disclosure-${id}`;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:(0,clsx__WEBPACK_IMPORTED_MODULE_1__.A)(detailsClassName)},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:(0,clsx__WEBPACK_IMPORTED_MODULE_1__.A)(summaryClassName),"data-cy":cyData,onClick:handleClick,onKeyDown:handleKeyDown,role:"button",tabIndex:0,"aria-controls":disclosureId,"aria-expanded":isOpen},summary),isOpen&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:disclosureId},children))},__WEBPACK_DEFAULT_EXPORT__=DisclosureControllable;try{DisclosureControllable.displayName="DisclosureControllable",DisclosureControllable.__docgenInfo={description:"",displayName:"DisclosureControllable",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},showContent:{defaultValue:{value:"false"},description:"",name:"showContent",required:!1,type:{name:"boolean | undefined"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void) | undefined"}},cyData:{defaultValue:null,description:"",name:"cyData",required:!1,type:{name:"string | undefined"}},detailsClassName:{defaultValue:null,description:"",name:"detailsClassName",required:!1,type:{name:"string | undefined"}},summaryClassName:{defaultValue:null,description:"",name:"summaryClassName",required:!1,type:{name:"string | undefined"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Disclosures/DisclosureControllable.tsx#DisclosureControllable"]={docgenInfo:DisclosureControllable.__docgenInfo,name:"DisclosureControllable",path:"src/components/Disclosures/DisclosureControllable.tsx#DisclosureControllable"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/dialog/Dialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>dialog_Dialog});var react=__webpack_require__("./node_modules/react/index.js"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),icon_cross=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-cross.svg"),icon_cross_default=__webpack_require__.n(icon_cross);const useEscapeKey=({closeDialog})=>{(0,react.useEffect)((()=>{const handleKeyDown=e=>{"Escape"===e.key&&closeDialog()};return document.addEventListener("keydown",handleKeyDown),()=>{document.removeEventListener("keydown",handleKeyDown)}}),[closeDialog])},dialog_useEscapeKey=useEscapeKey;try{useEscapeKey.displayName="useEscapeKey",useEscapeKey.__docgenInfo={description:"",displayName:"useEscapeKey",props:{closeDialog:{defaultValue:null,description:"",name:"closeDialog",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/dialog/useEscapeKey.tsx#useEscapeKey"]={docgenInfo:useEscapeKey.__docgenInfo,name:"useEscapeKey",path:"src/components/dialog/useEscapeKey.tsx#useEscapeKey"})}catch(__react_docgen_typescript_loader_error){}const Dialog=(0,react.forwardRef)((({children,closeDialog,isSidebar},ref)=>(dialog_useEscapeKey({closeDialog}),react.createElement("dialog",{className:(0,clsx.A)("dialog",{"dialog--sidebar":isSidebar}),ref,onClick:({currentTarget,target})=>{currentTarget===target&&closeDialog()}},react.createElement("button",{type:"button",onClick:closeDialog,className:"dialog__close-button"},react.createElement("img",{src:icon_cross_default(),alt:"","aria-label":"Close dialog"})),children)))),dialog_Dialog=Dialog;try{Dialog.displayName="Dialog",Dialog.__docgenInfo={description:"",displayName:"Dialog",props:{closeDialog:{defaultValue:null,description:"",name:"closeDialog",required:!0,type:{name:"() => void"}},isSidebar:{defaultValue:null,description:"",name:"isSidebar",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/dialog/Dialog.tsx#Dialog"]={docgenInfo:Dialog.__docgenInfo,name:"Dialog",path:"src/components/dialog/Dialog.tsx#Dialog"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/dialog/useDialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const useDialog=({onClose}={})=>{const[dialogContent,setDialogContent]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),dialogRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return{dialogContent,dialogRef,openDialogWithContent:content=>{var _dialogRef$current;setDialogContent(content),null===(_dialogRef$current=dialogRef.current)||void 0===_dialogRef$current||_dialogRef$current.showModal()},closeDialog:()=>{dialogRef.current&&(onClose&&onClose(),dialogRef.current.close())}}},__WEBPACK_DEFAULT_EXPORT__=useDialog;try{useDialog.displayName="useDialog",useDialog.__docgenInfo={description:"",displayName:"useDialog",props:{onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/dialog/useDialog.tsx#useDialog"]={docgenInfo:useDialog.__docgenInfo,name:"useDialog",path:"src/components/dialog/useDialog.tsx#useDialog"})}catch(__react_docgen_typescript_loader_error){}},"./src/core/dpl-cms/dpl-cms.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J0:()=>getDplOpeningHoursListGETQueryKey,Fg:()=>useCampaignMatchPOST,hi:()=>useDplOpeningHoursCreatePOST,v2:()=>useDplOpeningHoursDeleteDELETE,Dp:()=>useDplOpeningHoursListGET,I1:()=>useDplOpeningHoursUpdatePATCH,vS:()=>useProxyUrlGET});var es=__webpack_require__("./node_modules/react-query/es/index.js"),FetchFailedError=__webpack_require__("./src/core/fetchers/FetchFailedError.ts"),helpers=__webpack_require__("./src/core/fetchers/helpers.ts"),core_token=__webpack_require__("./src/core/token.js"),extractServiceBaseUrls=__webpack_require__("./src/core/utils/reduxMiddleware/extractServiceBaseUrls.ts"),FetcherHttpError=__webpack_require__("./src/core/fetchers/FetcherHttpError.ts");function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}class DplCmsServiceHttpError extends FetcherHttpError.A{constructor(...args){super(...args),_defineProperty(this,"name","DplCmsServiceHttpError")}}const fetcher_fetcher=async({url,method,headers,params,data})=>{const token=(0,core_token.gf)(core_token.CI)??(0,core_token.gf)(core_token._L),authHeaders=token?{Authorization:`Bearer ${token}`}:{},body=data?JSON.stringify(data):null,serviceUrl=(0,helpers.Z4)({baseUrl:(0,extractServiceBaseUrls.aW)(extractServiceBaseUrls.TJ.dplCms),url,params});try{const response=await fetch(serviceUrl,{method,headers:{...headers,...authHeaders},body});if(!response.ok)throw new DplCmsServiceHttpError(response.status,response.statusText,serviceUrl);try{return await response.json()}catch(e){if(!(e instanceof SyntaxError))throw e}}catch(error){if(error instanceof DplCmsServiceHttpError)throw error;const message=error instanceof Error?error.message:"Unknown error";throw new FetchFailedError.A(message,serviceUrl)}return null},getCampaignMatchPOSTMutationOptions=options=>{const{mutation:mutationOptions}=options??{};return{mutationFn:props=>{const{data,params}=props??{};return((campaignMatchPOSTBodyItem,params)=>fetcher_fetcher({url:"/dpl_campaign/match",method:"POST",headers:{"Content-Type":"application/json"},data:campaignMatchPOSTBodyItem,params}))(data,params)},...mutationOptions}},useCampaignMatchPOST=options=>{const mutationOptions=getCampaignMatchPOSTMutationOptions(options);return(0,es.useMutation)(mutationOptions)},getDplOpeningHoursCreatePOSTMutationOptions=options=>{const{mutation:mutationOptions}=options??{};return{mutationFn:props=>{const{data,params}=props??{};return((dplOpeningHoursCreatePOSTOpeningHoursInstanceBody,params)=>fetcher_fetcher({url:"/api/v1/opening_hours",method:"POST",headers:{"Content-Type":"application/json"},data:dplOpeningHoursCreatePOSTOpeningHoursInstanceBody,params}))(data,params)},...mutationOptions}},useDplOpeningHoursCreatePOST=options=>{const mutationOptions=getDplOpeningHoursCreatePOSTMutationOptions(options);return(0,es.useMutation)(mutationOptions)},getDplOpeningHoursListGETQueryKey=params=>["/api/v1/opening_hours",...params?[params]:[]],getDplOpeningHoursListGETQueryOptions=(params,queryOptions)=>({queryKey:(null==queryOptions?void 0:queryOptions.queryKey)??getDplOpeningHoursListGETQueryKey(params),queryFn:({signal})=>((params,signal)=>fetcher_fetcher({url:"/api/v1/opening_hours",method:"GET",params,signal}))(params,signal),...queryOptions});function useDplOpeningHoursListGET(params,queryOptions){const options=getDplOpeningHoursListGETQueryOptions(params,queryOptions),query=(0,es.useQuery)(options);return query.queryKey=options.queryKey,query}const getDplOpeningHoursDeleteDELETEMutationOptions=options=>{const{mutation:mutationOptions}=options??{};return{mutationFn:props=>{const{id,params}=props??{};return((id,params)=>fetcher_fetcher({url:`/api/v1/opening_hours/${id}`,method:"DELETE",params}))(id,params)},...mutationOptions}},useDplOpeningHoursDeleteDELETE=options=>{const mutationOptions=getDplOpeningHoursDeleteDELETEMutationOptions(options);return(0,es.useMutation)(mutationOptions)},getDplOpeningHoursUpdatePATCHMutationOptions=options=>{const{mutation:mutationOptions}=options??{};return{mutationFn:props=>{const{id,data,params}=props??{};return((id,dplOpeningHoursCreatePOSTOpeningHoursInstanceBody,params)=>fetcher_fetcher({url:`/api/v1/opening_hours/${id}`,method:"PATCH",headers:{"Content-Type":"application/json"},data:dplOpeningHoursCreatePOSTOpeningHoursInstanceBody,params}))(id,data,params)},...mutationOptions}},useDplOpeningHoursUpdatePATCH=options=>{const mutationOptions=getDplOpeningHoursUpdatePATCHMutationOptions(options);return(0,es.useMutation)(mutationOptions)};const getProxyUrlGETQueryOptions=(params,queryOptions)=>{const queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??(params=>["/dpl-url-proxy",...params?[params]:[]])(params);return{queryKey,queryFn:({signal})=>((params,signal)=>fetcher_fetcher({url:"/dpl-url-proxy",method:"GET",params,signal}))(params,signal),...queryOptions}};function useProxyUrlGET(params,queryOptions){const options=getProxyUrlGETQueryOptions(params,queryOptions),query=(0,es.useQuery)(options);return query.queryKey=options.queryKey,query}},"./src/core/storybook/serviceUrlArgs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,U:()=>argTypes});var _utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/utils/reduxMiddleware/extractServiceBaseUrls.ts"),process=__webpack_require__("./node_modules/process/browser.js");const argTypes={[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.TJ.fbs]:{description:"Base url for the FBS API",control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"https://fbs-openplatform.dbc.dk"}}},[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.TJ.publizon]:{description:"Base url for the Publizon API",control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"https://pubhub-openplatform.dbc.dk"}}},[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.TJ.dplCms]:{description:"Base url for the DPL CMS API",control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"https://dpl-cms.docker"}}},[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.TJ.cover]:{description:"Base url for the cover service",control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"https://cover.dandigbib.org"}}},[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.TJ.materialList]:{description:"Base url for the material list service",control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"https://prod.materiallist.dandigbib.org"}}},[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.TJ.fbi]:{description:"Base url for the FBI API",control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"https://temp.fbi-api.dbc.dk/next-present/graphql"}}},[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.TJ.fbiLocal]:{description:"Base url for the FBI API (local inventory)",control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"https://temp.fbi-api.dbc.dk/next/graphql"}}},[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.TJ.fbiGlobal]:{description:"Base url for the FBI API (global inventory)",control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"https://temp.fbi-api.dbc.dk/next-present/graphql"}}}},__WEBPACK_DEFAULT_EXPORT__={[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.TJ.fbs]:process.env.FBS_BASEURL??"https://fbs-openplatform.dbc.dk",[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.TJ.publizon]:process.env.PUBLIZON_BASEURL??"https://pubhub-openplatform.dbc.dk",[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.TJ.dplCms]:process.env.CMS_BASEURL??"https://dpl-cms.docker",[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.TJ.cover]:"https://cover.dandigbib.org",[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.TJ.materialList]:"https://prod.materiallist.dandigbib.org",[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.TJ.fbi]:"https://temp.fbi-api.dbc.dk/next-present/graphql",[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.TJ.fbiLocal]:"https://temp.fbi-api.dbc.dk/next/graphql",[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.TJ.fbiGlobal]:"https://temp.fbi-api.dbc.dk/next-present/graphql"}},"./src/core/utils/url.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ik:()=>useUrls,nU:()=>withUrls});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/store.ts"),_url_slice__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/url.slice.ts"),_helpers_url__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/core/utils/helpers/url.ts"),_withSuffix__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/utils/withSuffix.tsx");const useUrls=()=>{const{data}=(0,_store__WEBPACK_IMPORTED_MODULE_1__.d4)((state=>state.url)),urls=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>(0,_helpers_url__WEBPACK_IMPORTED_MODULE_4__.tP)(data)),[data]);return(name,returnFalseIfUndefined=!1)=>{if(returnFalseIfUndefined)return urls[name]||!1;if(!urls[name])throw new Error(`The url ${name} is not defined`);return urls[name]}},withUrls=Component=>(0,_withSuffix__WEBPACK_IMPORTED_MODULE_3__.A)(Component,"Url",_url_slice__WEBPACK_IMPORTED_MODULE_2__.hx);try{withUrls.displayName="withUrls",withUrls.__docgenInfo={description:"",displayName:"withUrls",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/utils/url.tsx#withUrls"]={docgenInfo:withUrls.__docgenInfo,name:"withUrls",path:"src/core/utils/url.tsx#withUrls"})}catch(__react_docgen_typescript_loader_error){}},"./node_modules/dayjs/locale/da.js":function(module,__unused_webpack_exports,__webpack_require__){module.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var d=t(e),a={name:"da",weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn._man._tirs._ons._tors._fre._lør.".split("_"),weekdaysMin:"sø._ma._ti._on._to._fr._lø.".split("_"),months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj_juni_juli_aug._sept._okt._nov._dec.".split("_"),weekStart:1,yearStart:4,ordinal:function(e){return e+"."},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"}};return d.default.locale(a,null,!0),a}(__webpack_require__("./node_modules/dayjs/dayjs.min.js"))},"./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-cross.svg":module=>{module.exports="data:image/svg+xml,%3csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath fill-rule='evenodd' clip-rule='evenodd' d='M0.832147 0.102297L0.890665 0.152814L4 3.26191L7.10933 0.152814C7.31309 -0.0509379 7.64343 -0.0509379 7.84719 0.152814C8.03241 0.338043 8.04925 0.627896 7.8977 0.832147L7.84719 0.890665L4.73809 4L7.84719 7.10933C8.05094 7.31309 8.05094 7.64343 7.84719 7.84719C7.66196 8.03241 7.3721 8.04925 7.16785 7.8977L7.10933 7.84719L4 4.73809L0.890665 7.84719C0.686913 8.05094 0.356566 8.05094 0.152814 7.84719C-0.0324151 7.66196 -0.0492539 7.3721 0.102297 7.16785L0.152814 7.10933L3.26191 4L0.152814 0.890665C-0.0509379 0.686913 -0.0509379 0.356566 0.152814 0.152814C0.338043 -0.0324151 0.627896 -0.0492539 0.832147 0.102297Z' fill='black'/%3e %3c/svg%3e"},"./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-watch-static.svg":module=>{module.exports="data:image/svg+xml,%3csvg width='58' height='58' viewBox='0 0 58 58' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M29 0C23.2644 0 17.6575 1.70082 12.8885 4.88738C8.11945 8.07394 4.40245 12.6031 2.20751 17.9022C0.0125652 23.2012 -0.561731 29.0322 0.55724 34.6576C1.67621 40.2831 4.43819 45.4504 8.49391 49.5061C12.5496 53.5618 17.7169 56.3238 23.3424 57.4428C28.9678 58.5617 34.7988 57.9874 40.0978 55.7925C45.3969 53.5976 49.9261 49.8806 53.1126 45.1115C56.2992 40.3425 58 34.7356 58 29C57.9913 21.3114 54.9332 13.9402 49.4965 8.5035C44.0598 3.06683 36.6886 0.00869229 29 0ZM29 55.4997C23.7589 55.4997 18.6354 53.9455 14.2776 51.0337C9.91971 48.1219 6.52318 43.9832 4.51748 39.141C2.51178 34.2988 1.98699 28.9706 3.00949 23.8302C4.03199 18.6897 6.55584 13.9679 10.2619 10.2619C13.9679 6.55583 18.6897 4.03197 23.8302 3.00948C28.9706 1.98698 34.2988 2.51176 39.141 4.51746C43.9832 6.52316 48.1219 9.9197 51.0337 14.2775C53.9455 18.6354 55.4997 23.7588 55.4997 29C55.4917 36.0257 52.6972 42.7613 47.7292 47.7292C42.7613 52.6971 36.0257 55.4916 29 55.4997Z' fill='black'/%3e %3cpath d='M30.2502 28.4824V17.9056C30.2502 17.574 30.1184 17.256 29.884 17.0216C29.6495 16.7871 29.3316 16.6554 29 16.6554C28.6684 16.6554 28.3505 16.7871 28.116 17.0216C27.8816 17.256 27.7499 17.574 27.7499 17.9056V29C27.7499 29.3315 27.8817 29.6494 28.1162 29.8838L36.1108 37.8785C36.3458 38.1103 36.6629 38.2398 36.9929 38.2386C37.323 38.2375 37.6392 38.1059 37.8726 37.8726C38.1059 37.6392 38.2376 37.323 38.2387 36.9929C38.2398 36.6629 38.1104 36.3458 37.8786 36.1108L30.2502 28.4824Z' fill='black'/%3e %3cpath d='M29 9.64897C29.3316 9.64895 29.6495 9.51724 29.884 9.28279C30.1184 9.04835 30.2501 8.73038 30.2502 8.39882V6.49735C30.2502 6.16579 30.1184 5.84781 29.884 5.61336C29.6495 5.37892 29.3316 5.2472 29 5.2472C28.6684 5.2472 28.3505 5.37892 28.116 5.61336C27.8816 5.84781 27.7499 6.16579 27.7499 6.49735V8.39882C27.7499 8.73038 27.8816 9.04835 28.116 9.28279C28.3505 9.51724 28.6685 9.64895 29 9.64897Z' fill='black'/%3e %3cpath d='M29 49.1788C28.6685 49.1788 28.3505 49.3105 28.116 49.5449C27.8816 49.7794 27.7499 50.0973 27.7499 50.4289V52.331C27.7499 52.6625 27.8816 52.9805 28.116 53.215C28.3505 53.4494 28.6684 53.5811 29 53.5811C29.3316 53.5811 29.6495 53.4494 29.884 53.215C30.1184 52.9805 30.2502 52.6625 30.2502 52.331V50.4289C30.2501 50.0973 30.1184 49.7794 29.884 49.5449C29.6495 49.3105 29.3316 49.1788 29 49.1788Z' fill='black'/%3e %3cpath d='M7.98496 28.1637H6.08357C5.75201 28.1637 5.43403 28.2954 5.19958 28.5299C4.96513 28.7643 4.83342 29.0823 4.83342 29.4139C4.83342 29.7454 4.96513 30.0634 5.19958 30.2978C5.43403 30.5323 5.75201 30.664 6.08357 30.664H7.98504C8.3166 30.664 8.63458 30.5323 8.86903 30.2978C9.10347 30.0634 9.23518 29.7454 9.23518 29.4139C9.23518 29.0823 9.10347 28.7643 8.86903 28.5299C8.63458 28.2954 8.31652 28.1637 7.98496 28.1637Z' fill='black'/%3e %3cpath d='M50.0151 30.664H51.9165C52.2481 30.664 52.5661 30.5323 52.8005 30.2978C53.035 30.0634 53.1667 29.7454 53.1667 29.4139C53.1667 29.0823 53.035 28.7643 52.8005 28.5299C52.5661 28.2954 52.2481 28.1637 51.9165 28.1637H50.0151C49.6835 28.1637 49.3655 28.2954 49.1311 28.5299C48.8966 28.7643 48.7649 29.0823 48.7649 29.4139C48.7649 29.7454 48.8966 30.0634 49.1311 30.2978C49.3655 30.5323 49.6835 30.664 50.0151 30.664Z' fill='black'/%3e %3c/svg%3e"},"./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/ExpandMore.svg":module=>{module.exports="data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath fill-rule='evenodd' clip-rule='evenodd' d='M5.46967 9.53033C5.17678 9.23744 5.17678 8.76256 5.46967 8.46967C5.73594 8.2034 6.1526 8.1792 6.44621 8.39705L6.53033 8.46967L12 13.939L17.4697 8.46967C17.7359 8.2034 18.1526 8.1792 18.4462 8.39705L18.5303 8.46967C18.7966 8.73594 18.8208 9.1526 18.6029 9.44621L18.5303 9.53033L12.5303 15.5303C12.2641 15.7966 11.8474 15.8208 11.5538 15.6029L11.4697 15.5303L5.46967 9.53033Z' fill='black'/%3e %3c/svg%3e"},"./node_modules/clsx/dist/clsx.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";function r(e){var t,f,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=" "),n+=f)}else for(f in e)e[f]&&(n&&(n+=" "),n+=f);return n}__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function clsx(){for(var e,t,f=0,n="",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=" "),n+=t);return n}}}]);