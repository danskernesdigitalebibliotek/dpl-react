"use strict";(globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react=globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react||[]).push([[9387],{"./src/core/fbs/fbs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{PC:()=>getAvailabilityV3,BK:()=>getGetHoldingsV3QueryKey,$4:()=>getGetLoansV2QueryKey,gm:()=>getGetPatronInformationByPatronIdV2QueryKey,vN:()=>getGetReservationsV2QueryKey,eu:()=>useAddReservationsV2,AQ:()=>useCreateV4,g1:()=>useDeleteReservations,io:()=>useGetAvailabilityV3,J2:()=>useGetFeesV2,pF:()=>useGetHoldingsV3,zw:()=>useGetLoansV2,wq:()=>useGetPatronInformationByPatronIdV2,$6:()=>useGetReservationsV2,Oc:()=>useRenewLoansV2,cK:()=>useUpdateReservations,AZ:()=>useUpdateV5});var es=__webpack_require__("./node_modules/react-query/es/index.js"),FetchFailedCriticalError=__webpack_require__("./src/core/fetchers/FetchFailedCriticalError.ts"),helpers=__webpack_require__("./src/core/fetchers/helpers.ts"),core_token=__webpack_require__("./src/core/token.js"),user=__webpack_require__("./src/core/utils/helpers/user.ts"),extractServiceBaseUrls=__webpack_require__("./src/core/utils/reduxMiddleware/extractServiceBaseUrls.ts"),FetcherCriticalHttpError=__webpack_require__("./src/core/fetchers/FetcherCriticalHttpError.ts");function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}class FbsServiceHttpError extends FetcherCriticalHttpError.A{constructor(...args){super(...args),_defineProperty(this,"name","FbsServiceHttpError")}}const fetcher_fetcher=async({url,method,headers,params,data})=>{const token=(0,user.dG)()??(0,core_token.gf)(core_token._L),baseUrl=(0,extractServiceBaseUrls.aW)(extractServiceBaseUrls.TJ.fbs),authHeaders=token?{Authorization:`Bearer ${token}`}:{},body=data?JSON.stringify(data):null,serviceUrl=(0,helpers.Z4)({baseUrl,url,params});try{const response=await fetch(serviceUrl,{method,headers:{...headers,...authHeaders},body});if(!response.ok)throw new FbsServiceHttpError(response.status,response.statusText,serviceUrl);try{return await response.json()}catch(e){if(!(e instanceof SyntaxError))throw e}}catch(error){if(error instanceof FbsServiceHttpError)throw error;const message=error instanceof Error?error.message:"Unknown error";throw new FetchFailedCriticalError.A(message,serviceUrl)}return null};const getDeleteReservationsMutationOptions=options=>{const{mutation:mutationOptions}=options??{};return{mutationFn:props=>{const{params}=props??{};return(params=>fetcher_fetcher({url:"/external/v1/agencyid/patrons/patronid/reservations",method:"DELETE",params}))(params)},...mutationOptions}},useDeleteReservations=options=>{const mutationOptions=getDeleteReservationsMutationOptions(options);return(0,es.useMutation)(mutationOptions)};const getUpdateReservationsMutationOptions=options=>{const{mutation:mutationOptions}=options??{};return{mutationFn:props=>{const{data}=props??{};return fetcher_fetcher({url:"/external/v1/agencyid/patrons/patronid/reservations",method:"PUT",headers:{"Content-Type":"application/json"},data})},...mutationOptions}},useUpdateReservations=options=>{const mutationOptions=getUpdateReservationsMutationOptions(options);return(0,es.useMutation)(mutationOptions)},getGetReservationsV2QueryKey=()=>["/external/v1/agencyid/patrons/patronid/reservations/v2"],getGetReservationsV2QueryOptions=options=>{const{query:queryOptions}=options??{};return{queryKey:(null==queryOptions?void 0:queryOptions.queryKey)??getGetReservationsV2QueryKey(),queryFn:({signal})=>(signal=>fetcher_fetcher({url:"/external/v1/agencyid/patrons/patronid/reservations/v2",method:"GET",signal}))(signal),...queryOptions}};function useGetReservationsV2(options){const queryOptions=getGetReservationsV2QueryOptions(options),query=(0,es.useQuery)(queryOptions);return query.queryKey=queryOptions.queryKey,query}const getAddReservationsV2MutationOptions=options=>{const{mutation:mutationOptions}=options??{};return{mutationFn:props=>{const{data}=props??{};return fetcher_fetcher({url:"/external/v1/agencyid/patrons/patronid/reservations/v2",method:"POST",headers:{"Content-Type":"application/json"},data})},...mutationOptions}},useAddReservationsV2=options=>{const mutationOptions=getAddReservationsV2MutationOptions(options);return(0,es.useMutation)(mutationOptions)},getAvailabilityV3=(params,signal)=>fetcher_fetcher({url:"/external/agencyid/catalog/availability/v3",method:"GET",params,signal}),getGetAvailabilityV3QueryOptions=(params,options)=>{const{query:queryOptions}=options??{},queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??(params=>["/external/agencyid/catalog/availability/v3",...params?[params]:[]])(params);return{queryKey,queryFn:({signal})=>getAvailabilityV3(params,signal),...queryOptions}};function useGetAvailabilityV3(params,options){const queryOptions=getGetAvailabilityV3QueryOptions(params,options),query=(0,es.useQuery)(queryOptions);return query.queryKey=queryOptions.queryKey,query}const getGetHoldingsV3QueryKey=params=>["/external/agencyid/catalog/holdings/v3",...params?[params]:[]],getGetHoldingsV3QueryOptions=(params,options)=>{const{query:queryOptions}=options??{};return{queryKey:(null==queryOptions?void 0:queryOptions.queryKey)??getGetHoldingsV3QueryKey(params),queryFn:({signal})=>((params,signal)=>fetcher_fetcher({url:"/external/agencyid/catalog/holdings/v3",method:"GET",params,signal}))(params,signal),...queryOptions}};function useGetHoldingsV3(params,options){const queryOptions=getGetHoldingsV3QueryOptions(params,options),query=(0,es.useQuery)(queryOptions);return query.queryKey=queryOptions.queryKey,query}const getGetFeesV2QueryOptions=(params,options)=>{const{query:queryOptions}=options??{},queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??(params=>["/external/agencyid/patron/patronid/fees/v2",...params?[params]:[]])(params);return{queryKey,queryFn:({signal})=>((params,signal)=>fetcher_fetcher({url:"/external/agencyid/patron/patronid/fees/v2",method:"GET",params,signal}))(params,signal),...queryOptions}};function useGetFeesV2(params,options){const queryOptions=getGetFeesV2QueryOptions(params,options),query=(0,es.useQuery)(queryOptions);return query.queryKey=queryOptions.queryKey,query}const getCreateV4MutationOptions=options=>{const{mutation:mutationOptions}=options??{};return{mutationFn:props=>{const{data}=props??{};return fetcher_fetcher({url:"/external/agencyid/patrons/v4",method:"POST",headers:{"Content-Type":"application/json"},data})},...mutationOptions}},useCreateV4=options=>{const mutationOptions=getCreateV4MutationOptions(options);return(0,es.useMutation)(mutationOptions)},getRenewLoansV2MutationOptions=options=>{const{mutation:mutationOptions}=options??{};return{mutationFn:props=>{const{data}=props??{};return fetcher_fetcher({url:"/external/agencyid/patrons/patronid/loans/renew/v2",method:"POST",headers:{"Content-Type":"application/json"},data})},...mutationOptions}},useRenewLoansV2=options=>{const mutationOptions=getRenewLoansV2MutationOptions(options);return(0,es.useMutation)(mutationOptions)},getGetLoansV2QueryKey=()=>["/external/agencyid/patrons/patronid/loans/v2"],getGetLoansV2QueryOptions=options=>{const{query:queryOptions}=options??{};return{queryKey:(null==queryOptions?void 0:queryOptions.queryKey)??getGetLoansV2QueryKey(),queryFn:({signal})=>(signal=>fetcher_fetcher({url:"/external/agencyid/patrons/patronid/loans/v2",method:"GET",signal}))(signal),...queryOptions}};function useGetLoansV2(options){const queryOptions=getGetLoansV2QueryOptions(options),query=(0,es.useQuery)(queryOptions);return query.queryKey=queryOptions.queryKey,query}const getGetPatronInformationByPatronIdV2QueryKey=()=>["/external/agencyid/patrons/patronid/v2"],getGetPatronInformationByPatronIdV2QueryOptions=queryOptions=>({queryKey:(null==queryOptions?void 0:queryOptions.queryKey)??getGetPatronInformationByPatronIdV2QueryKey(),queryFn:({signal})=>(signal=>fetcher_fetcher({url:"/external/agencyid/patrons/patronid/v2",method:"GET",signal}))(signal),...queryOptions});function useGetPatronInformationByPatronIdV2(queryOptions){const options=getGetPatronInformationByPatronIdV2QueryOptions(queryOptions),query=(0,es.useQuery)(options);return query.queryKey=options.queryKey,query}const getUpdateV5MutationOptions=options=>{const{mutation:mutationOptions}=options??{};return{mutationFn:props=>{const{data}=props??{};return fetcher_fetcher({url:"/external/agencyid/patrons/patronid/v5",method:"PUT",headers:{"Content-Type":"application/json"},data})},...mutationOptions}},useUpdateV5=options=>{const mutationOptions=getUpdateV5MutationOptions(options);return(0,es.useMutation)(mutationOptions)}}}]);