"use strict";(globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react=globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react||[]).push([[5155],{"./src/apps/search-result/search-result.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,default:()=>search_result_stories});var serviceUrlArgs=__webpack_require__("./src/core/storybook/serviceUrlArgs.ts"),react=__webpack_require__("./node_modules/react/index.js"),guarded_app=__webpack_require__("./src/components/guarded-app.tsx"),utils_config=__webpack_require__("./src/core/utils/config.tsx"),general=__webpack_require__("./src/core/utils/helpers/general.ts"),utils_text=__webpack_require__("./src/core/utils/text.tsx"),url=__webpack_require__("./src/core/utils/url.tsx"),useDeepCompareEffect=__webpack_require__("./node_modules/react-use/esm/useDeepCompareEffect.js");const SearchResultHeader=({hitcount,q})=>{const t=(0,utils_text.F)(),webSearchConfig=(0,utils_config.UK)()("webSearchConfig",{transformer:"jsonParse"});return react.createElement(react.Fragment,null,react.createElement("h1",{className:"content-list-page__heading","data-cy":"search-result-header","aria-live":"polite"},`${t("showingResultsForText",{placeholders:{"@query":q}})} (${hitcount})`),webSearchConfig.hasWebSearchResults&&react.createElement("h2",{className:"content-list-page__subheading"},t("webSearchLinkText")," ",react.createElement("a",{className:"link-tag text-body-medium-medium",href:webSearchConfig.webSearchUrl},webSearchConfig.webSearchText," (",webSearchConfig.webSearchTotal,")")))},search_result_header_SearchResultHeader=(0,react.memo)(SearchResultHeader);try{SearchResultHeader.displayName="SearchResultHeader",SearchResultHeader.__docgenInfo={description:"",displayName:"SearchResultHeader",props:{hitcount:{defaultValue:null,description:"",name:"hitcount",required:!0,type:{name:"number"}},q:{defaultValue:null,description:"",name:"q",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/search-bar/search-result-header/SearchResultHeader.tsx#SearchResultHeader"]={docgenInfo:SearchResultHeader.__docgenInfo,name:"SearchResultHeader",path:"src/components/search-bar/search-result-header/SearchResultHeader.tsx#SearchResultHeader"})}catch(__react_docgen_typescript_loader_error){}var use_pager=__webpack_require__("./src/components/result-pager/use-pager.tsx"),SearchResultList=__webpack_require__("./src/components/card-item-list/SearchResultList.tsx"),graphql=__webpack_require__("./src/core/dbc-gateway/generated/graphql.tsx"),mapValues=__webpack_require__("./node_modules/lodash/mapValues.js"),mapValues_default=__webpack_require__.n(mapValues),branches=__webpack_require__("./src/core/utils/branches.tsx"),invalid_switch_case=__webpack_require__("./src/core/utils/helpers/invalid-switch-case.ts");const allFacetFields=[graphql.SW.MaterialTypesGeneral,graphql.SW.Creators,graphql.SW.Subjects,graphql.SW.FictionNonfiction,graphql.SW.ChildrenOrAdults,graphql.SW.AccessTypes,graphql.SW.MainLanguages,graphql.SW.GenreAndForm,graphql.SW.MaterialTypesSpecific,graphql.SW.FictionalCharacters],createFilters=(facets,branchIdList)=>{return{...(filters=facets,Object.keys(filters).reduce(((acc,key)=>({...acc,[key]:Object.keys(filters[key])})),{})),...branchIdList?{branchId:branchIdList}:{}};var filters};function useGetFacets(query,filters){const cleanBranches=(0,branches.Ay)(),{data,isLoading}=(0,graphql.V0)({q:{all:query},facets:allFacetFields,facetLimit:10,filters:createFilters(filters,cleanBranches)},{keepPreviousData:!0,placeholderData:{search:{facets:(facets=allFacetFields,facets.map((facet=>({name:facet,values:[{key:"",term:""}]}))))}}});var facets;return{facets:(null==data?void 0:data.search.facets)||null,isLoading}}function getAllFilterPathsAsString(filterObject){const mappedFilterValues=mapValues_default()(filterObject,(filter=>Object.keys(filter))),filterNames=Object.keys(mappedFilterValues);let allFilterPathsAsString="";return filterNames.forEach((filterName=>{mappedFilterValues[filterName].forEach((filterValue=>{""!==allFilterPathsAsString&&(allFilterPathsAsString=allFilterPathsAsString.concat(";")),allFilterPathsAsString=allFilterPathsAsString.concat(`facet.${filterName}:${filterValue}`)}))})),allFilterPathsAsString}var useStatistics=__webpack_require__("./src/core/statistics/useStatistics.ts"),dpl_cms=__webpack_require__("./src/core/dpl-cms/dpl-cms.ts"),statistics=__webpack_require__("./src/core/statistics/statistics.ts"),LinkNoStyle=__webpack_require__("./src/components/atoms/links/LinkNoStyle.tsx");const CampaignBody=({campaignData})=>react.createElement("section",{className:"campaign mt-35","data-cy":"campaign-body"},campaignData.image&&campaignData.image.url&&react.createElement("img",{"data-cy":"campaign-image",className:"campaign__image "+(campaignData.text?"":"campaign__image--full-width"),src:campaignData.image.url,alt:campaignData.image.alt}),campaignData.text&&react.createElement("h4",{className:"campaign__title campaign__title--ellipsis"},campaignData.text)),campaign_CampaignBody=CampaignBody;try{CampaignBody.displayName="CampaignBody",CampaignBody.__docgenInfo={description:"",displayName:"CampaignBody",props:{campaignData:{defaultValue:null,description:"",name:"campaignData",required:!0,type:{name:"CampaignMatchPOST200Data"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/campaign/CampaignBody.tsx#CampaignBody"]={docgenInfo:CampaignBody.__docgenInfo,name:"CampaignBody",path:"src/components/campaign/CampaignBody.tsx#CampaignBody"})}catch(__react_docgen_typescript_loader_error){}const Campaign=({campaignData})=>{const{track}=(0,useStatistics.B)();if(!campaignData.title)return null;const trackClick=()=>track("click",{id:statistics.o.campaignClick.id,name:statistics.o.campaignClick.name,trackedData:campaignData.title});return campaignData.url?react.createElement(LinkNoStyle.A,{url:new URL(campaignData.url),trackClick,className:"cursor-pointer"},react.createElement(campaign_CampaignBody,{campaignData})):react.createElement(campaign_CampaignBody,{campaignData})},campaign_Campaign=Campaign;try{Campaign.displayName="Campaign",Campaign.__docgenInfo={description:"",displayName:"Campaign",props:{campaignData:{defaultValue:null,description:"",name:"campaignData",required:!0,type:{name:"CampaignMatchPOST200Data"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/campaign/Campaign.tsx#Campaign"]={docgenInfo:Campaign.__docgenInfo,name:"Campaign",path:"src/components/campaign/Campaign.tsx#Campaign"})}catch(__react_docgen_typescript_loader_error){}var useFilterHandler=__webpack_require__("./src/apps/search-result/useFilterHandler.tsx"),modal=__webpack_require__("./src/core/utils/modal.tsx"),upperFirst=__webpack_require__("./node_modules/lodash/upperFirst.js"),upperFirst_default=__webpack_require__.n(upperFirst),isEmpty=__webpack_require__("./node_modules/lodash/isEmpty.js"),isEmpty_default=__webpack_require__.n(isEmpty),Button=__webpack_require__("./src/components/Buttons/Button.tsx"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),icon_cross=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-cross.svg"),icon_cross_default=__webpack_require__.n(icon_cross);const ButtonTag=react.forwardRef((({onClick,selected,children,size,removable=!1,dataCy},ref)=>{const className=(0,clsx.A)("tag",selected&&"tag--fill",size&&`tag--${size}`,"cursor-pointer");return react.createElement("button",{ref,type:"button","aria-pressed":selected,className,onClick,"data-cy":dataCy},children,removable&&react.createElement("img",{className:"tag-icon",src:icon_cross_default(),alt:""}))})),Buttons_ButtonTag=ButtonTag;try{ButtonTag.displayName="ButtonTag",ButtonTag.__docgenInfo={description:"",displayName:"ButtonTag",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"MouseEventHandler<HTMLButtonElement>"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"small"'},{value:'"large"'}]}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean | undefined"}},removable:{defaultValue:{value:"false"},description:"",name:"removable",required:!1,type:{name:"boolean | undefined"}},dataCy:{defaultValue:null,description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Buttons/ButtonTag.tsx#ButtonTag"]={docgenInfo:ButtonTag.__docgenInfo,name:"ButtonTag",path:"src/components/Buttons/ButtonTag.tsx#ButtonTag"})}catch(__react_docgen_typescript_loader_error){}var DisclosureControllable=__webpack_require__("./src/components/Disclosures/DisclosureControllable.tsx"),DisclosureSummary=__webpack_require__("./src/components/Disclosures/DisclosureSummary.tsx");const FacetBrowserModalBody=({facets})=>{const{filters,addToFilter,removeFromFilter}=(0,useFilterHandler.A)(),t=(0,utils_text.F)(),{close}=(0,modal.X)(),{track}=(0,useStatistics.B)();return(0,useDeepCompareEffect.A)((()=>{isEmpty_default()(filters)||track("click",{id:statistics.o.searchFacets.id,name:statistics.o.searchFacets.name,trackedData:getAllFilterPathsAsString(filters)})}),[filters]),react.createElement("section",{className:"facet-browser"},react.createElement("header",{className:"facet-browser__header"},react.createElement("h2",{className:"text-header-h3"},t("filterListText"))),facets.map((facet=>{const{name,values}=facet;if(0===values.length)return null;const hasSelectedTerms=Boolean(filters[name]);return react.createElement(DisclosureControllable.A,{key:name,cyData:`facet-browser-${name}`,id:name,showContent:hasSelectedTerms,detailsClassName:"disclosure text-body-large disclosure--full-width",summary:react.createElement(DisclosureSummary.A,{title:t(`facet${upperFirst_default()(name)}Text`),className:"disclosure__headline--no-padding"})},react.createElement("ul",{className:"facet-browser__facet-group"},values.map((termItem=>{const{term}=termItem,selected=Boolean(filters[name]&&filters[name][term]);if(!termItem.term)return null;return react.createElement("li",null,react.createElement(Buttons_ButtonTag,{key:term,onClick:e=>(e.stopPropagation(),selected?removeFromFilter({facet:name,term:termItem}):addToFilter({facet:name,term:termItem})),selected,dataCy:`facet-browser-${name}-${term}`},termItem.term," ",(null==termItem?void 0:termItem.score)&&`(${termItem.score})`))}))))})),react.createElement(Button.$,{classNames:"facet-browser__results-btn",label:t("showResultsText"),buttonType:"none",disabled:!1,collapsible:!1,size:"medium",variant:"filled",onClick:()=>{close("facet-browser-modal")}}))},facet_browser_FacetBrowserModalBody=FacetBrowserModalBody;try{FacetBrowserModalBody.displayName="FacetBrowserModalBody",FacetBrowserModalBody.__docgenInfo={description:"",displayName:"FacetBrowserModalBody",props:{facets:{defaultValue:null,description:"",name:"facets",required:!0,type:{name:"FacetResult[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/facet-browser/FacetBrowserModalBody.tsx#FacetBrowserModalBody"]={docgenInfo:FacetBrowserModalBody.__docgenInfo,name:"FacetBrowserModalBody",path:"src/components/facet-browser/FacetBrowserModalBody.tsx#FacetBrowserModalBody"})}catch(__react_docgen_typescript_loader_error){}const FacetBrowserModal=({q})=>{const t=(0,utils_text.F)(),{filters}=(0,useFilterHandler.A)(),{facets,isLoading}=useGetFacets(q,filters);return react.createElement(modal.A,{classNames:"modal-right modal--no-padding",modalId:"facet-browser-modal",screenReaderModalDescriptionText:t("facetBrowserModalScreenReaderModalDescriptionText"),closeModalAriaLabelText:t("facetBrowserModalCloseModalAriaLabelText"),isSlider:!0},isLoading||!facets?null:react.createElement(facet_browser_FacetBrowserModalBody,{facets}))},facet_browser_FacetBrowserModal=FacetBrowserModal;try{FacetBrowserModal.displayName="FacetBrowserModal",FacetBrowserModal.__docgenInfo={description:"",displayName:"FacetBrowserModal",props:{q:{defaultValue:null,description:"",name:"q",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/facet-browser/FacetBrowserModal.tsx#FacetBrowserModal"]={docgenInfo:FacetBrowserModal.__docgenInfo,name:"FacetBrowserModal",path:"src/components/facet-browser/FacetBrowserModal.tsx#FacetBrowserModal"})}catch(__react_docgen_typescript_loader_error){}const facet_line_FacetLineSelected=()=>{const{filters,removeFromFilter}=(0,useFilterHandler.A)(),buttonsRef=(0,react.useRef)({}),t=(0,utils_text.F)();return(0,react.useEffect)((()=>{const lastFacet=Object.keys(filters).slice(-1)[0];if(lastFacet){var _buttonsRef$current;const lastTerm=Object.keys(filters[lastFacet]).slice(-1)[0];null===(_buttonsRef$current=buttonsRef.current[`${lastFacet}-${lastTerm}`])||void 0===_buttonsRef$current||_buttonsRef$current.focus()}}),[filters]),react.createElement("section",null,react.createElement("h2",{className:"hide-visually"},t("intelligentFiltersSelectedAccessibleHeadlineText")),react.createElement("ul",{className:"facet-line-selected-terms"},Object.entries(filters).map((([facet,value])=>react.createElement(react.Fragment,{key:facet},Object.entries(value).map((([label,term])=>react.createElement("li",{key:`${facet}-${label}`,className:"facet-line-selected-terms__item"},react.createElement(Buttons_ButtonTag,{ref:el=>{buttonsRef.current[`${facet}-${label}`]=el},selected:!0,removable:!0,onClick:()=>removeFromFilter({facet,term}),dataCy:`facet-line-selected-term-${label}`},label)))))))))};var Dropdown=__webpack_require__("./src/components/Dropdown/Dropdown.tsx");const FacetLineFilters=({facets=[]})=>{const t=(0,utils_text.F)(),{open}=(0,modal.X)(),{filters,addToFilter}=(0,useFilterHandler.A)(),facetMap=(facets=>facets.reduce(((acc,facet)=>{const newAcc={...acc};return facet.values.forEach((value=>{const combinedKey=`${facet.name}:${value.key}`;newAcc[combinedKey]=value})),newAcc}),{}))(facets),formatValuesToDropdown=(facet,values)=>values.map((value=>({label:value.term,value:value.key})));return react.createElement("section",null,react.createElement("h2",{className:"hide-visually"},t("intelligentFiltersAccessibleHeadlineText")),react.createElement("ul",{className:"facet-line mt-48"},facets.map((({name,values})=>{if(values.length>1){const translatedName=(name=>{switch(name){case graphql.SW.AccessTypes:return"facetAccessTypesText";case graphql.SW.CanAlwaysBeLoaned:return"facetCanAlwaysBeLoanedText";case graphql.SW.ChildrenOrAdults:return"facetChildrenOrAdultsText";case graphql.SW.Creators:return"facetCreatorsText";case graphql.SW.Dk5:return"facetDk5Text";case graphql.SW.FictionNonfiction:return"facetFictionNonfictionText";case graphql.SW.FictionalCharacters:return"facetFictionalCharactersText";case graphql.SW.GenreAndForm:return"facetGenreAndFormText";case graphql.SW.MainLanguages:return"facetMainLanguagesText";case graphql.SW.MaterialTypesGeneral:return"facetMaterialTypesGeneralText";case graphql.SW.MaterialTypesSpecific:return"facetMaterialTypesSpecificText";case graphql.SW.Subjects:return"facetSubjectsText";case graphql.SW.WorkTypes:return"facetWorkTypesText";case graphql.SW.Year:return"facetYearText";default:return(0,invalid_switch_case.A)(name)}})(name);return react.createElement("li",{className:"facet-line__item"},react.createElement(Dropdown.A,{cyData:`facet-line-${name}-dropdown`,placeholder:{label:t(translatedName),value:""},options:formatValuesToDropdown(0,values),ariaLabel:t(translatedName),arrowIcon:"chevron",classNames:"dropdown--grey-borders",innerClassNames:{select:"dropdown__select--inline",arrowWrapper:"dropdown__arrows--inline "},handleOnChange:e=>((e,facet)=>{const term=((facetName,termName,facetMap)=>facetMap[`${facetName}:${termName}`])(facet,e.target.value,facetMap);term&&addToFilter({facet,term})})(e,name)}))}return react.createElement(react.Fragment,null,values.map((termObj=>{var _filters$name;const{term,score}=termObj;return null!=filters&&null!==(_filters$name=filters[name])&&void 0!==_filters$name&&_filters$name[term]?null:react.createElement("li",{className:"facet-line__item"},react.createElement(Buttons_ButtonTag,{key:term,onClick:()=>addToFilter({facet:name,term:termObj}),selected:!1,dataCy:`facet-line-term-${term}`},`${term} (${score})`))})))})),react.createElement("li",{className:"facet-line__item"},react.createElement(Buttons_ButtonTag,{onClick:()=>open("facet-browser-modal"),dataCy:"facet-line-open-browser"},t("addMoreFiltersText")))))},facet_line_FacetLineFilters=(0,react.memo)(FacetLineFilters);try{FacetLineFilters.displayName="FacetLineFilters",FacetLineFilters.__docgenInfo={description:"",displayName:"FacetLineFilters",props:{facets:{defaultValue:{value:"[]"},description:"",name:"facets",required:!1,type:{name:"FacetResult[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/facet-line/FacetLineFilters.tsx#FacetLineFilters"]={docgenInfo:FacetLineFilters.__docgenInfo,name:"FacetLineFilters",path:"src/components/facet-line/FacetLineFilters.tsx#FacetLineFilters"})}catch(__react_docgen_typescript_loader_error){}const FacetLineFiltersSkeleton=()=>react.createElement(react.Fragment,null,react.createElement("div",{className:"card-list-page__skeleton-facet-line--mobile"},react.createElement("div",{className:"ssc mt-48"},react.createElement("div",{className:"ssc-head-line mb"}),react.createElement("div",{className:"ssc-head-line mb"}),react.createElement("div",{className:"ssc-head-line mb"}))),react.createElement("div",{className:"card-list-page__skeleton-facet-line--desktop"},react.createElement("div",{className:"ssc mt-48"},react.createElement("div",{className:"ssc-head-line mb"})))),facet_line_FacetLineFiltersSkeleton=FacetLineFiltersSkeleton;try{FacetLineFiltersSkeleton.displayName="FacetLineFiltersSkeleton",FacetLineFiltersSkeleton.__docgenInfo={description:"",displayName:"FacetLineFiltersSkeleton",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/facet-line/FacetLineFiltersSkeleton.tsx#FacetLineFiltersSkeleton"]={docgenInfo:FacetLineFiltersSkeleton.__docgenInfo,name:"FacetLineFiltersSkeleton",path:"src/components/facet-line/FacetLineFiltersSkeleton.tsx#FacetLineFiltersSkeleton"})}catch(__react_docgen_typescript_loader_error){}const FacetLine=({q})=>{const{filters}=(0,useFilterHandler.A)(),cleanBranches=(0,branches.Ay)(),{data,isLoading}=(0,graphql.vQ)({q:{all:q},facetsLimit:6,valuesLimit:5,filters:createFilters(filters,cleanBranches)});return react.createElement(react.Fragment,null,isLoading&&react.createElement(facet_line_FacetLineFiltersSkeleton,null),data&&react.createElement(facet_line_FacetLineFilters,{facets:data.search.intelligentFacets}),react.createElement(facet_line_FacetLineSelected,null))},facet_line_FacetLine=(0,react.memo)(FacetLine);try{FacetLine.displayName="FacetLine",FacetLine.__docgenInfo={description:"",displayName:"FacetLine",props:{q:{defaultValue:null,description:"",name:"q",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/facet-line/FacetLine.tsx#FacetLine"]={docgenInfo:FacetLine.__docgenInfo,name:"FacetLine",path:"src/components/facet-line/FacetLine.tsx#FacetLine"})}catch(__react_docgen_typescript_loader_error){}var helpers_url=__webpack_require__("./src/core/utils/helpers/url.ts"),card_list_item_skeleton=__webpack_require__("./src/components/card-item-list/card-list-item/card-list-item-skeleton.tsx");const search_result_skeleton=({q,hideFacetLine=!1})=>{const t=(0,utils_text.F)();return react.createElement(react.Fragment,null,react.createElement("h1",{className:"content-list-page__heading text-loading"},!hideFacetLine&&t("showingResultsForText",{placeholders:{"@query":q}}),hideFacetLine&&t("showingResultsForWithoutQueryText")),!hideFacetLine&&react.createElement(facet_line_FacetLineFiltersSkeleton,null),react.createElement("ul",{className:"content-list"},[...Array(5)].map((()=>react.createElement("li",{className:"content-list__item"},react.createElement(card_list_item_skeleton.A,null))))))};try{searchresultskeleton.displayName="searchresultskeleton",searchresultskeleton.__docgenInfo={description:"",displayName:"searchresultskeleton",props:{q:{defaultValue:null,description:"",name:"q",required:!0,type:{name:"string"}},dataCy:{defaultValue:null,description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}},hideFacetLine:{defaultValue:{value:"false"},description:"",name:"hideFacetLine",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/search-result/search-result-skeleton.tsx#searchresultskeleton"]={docgenInfo:searchresultskeleton.__docgenInfo,name:"searchresultskeleton",path:"src/apps/search-result/search-result-skeleton.tsx#searchresultskeleton"})}catch(__react_docgen_typescript_loader_error){}var search_result_zero_hits=__webpack_require__("./src/apps/search-result/search-result-zero-hits.tsx");const search_result_not_valid_search=({dataCy="search-result-not-valid-search"})=>{const t=(0,utils_text.F)();return react.createElement("div",{className:"content-list-page","data-cy":dataCy},react.createElement("h1",{className:"content-list-page__heading my-112","data-cy":"search-result-zero-hits"},t("invalidSearchText")),react.createElement("p",{className:"text-body-medium-regular"},t("invalidSearchDescriptionText")))};try{searchresultnotvalidsearch.displayName="searchresultnotvalidsearch",searchresultnotvalidsearch.__docgenInfo={description:"",displayName:"searchresultnotvalidsearch",props:{dataCy:{defaultValue:{value:"search-result-not-valid-search"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/search-result/search-result-not-valid-search.tsx#searchresultnotvalidsearch"]={docgenInfo:searchresultnotvalidsearch.__docgenInfo,name:"searchresultnotvalidsearch",path:"src/apps/search-result/search-result-not-valid-search.tsx#searchresultnotvalidsearch"})}catch(__react_docgen_typescript_loader_error){}const search_result=({q,pageSize})=>{const{filters,clearFilter,addFilterFromUrlParamListener}=(0,useFilterHandler.A)(),cleanBranches=(0,branches.Ay)(),[resultItems,setResultItems]=(0,react.useState)(null),[hitcount,setHitCount]=(0,react.useState)(0),[canWeTrackHitcount,setCanWeTrackHitcount]=(0,react.useState)(!1),{PagerComponent,page}=(0,use_pager.A)({hitcount,pageSize}),{mutate}=(0,dpl_cms.Fg)(),[campaignData,setCampaignData]=(0,react.useState)(null),{facets:campaignFacets}=useGetFacets(q,filters);(0,useDeepCompareEffect.A)((()=>{setResultItems([])}),[q,pageSize,filters]);const{track}=(0,useStatistics.B)();(0,react.useEffect)((()=>{track("click",{id:statistics.o.searchQuery.id,name:statistics.o.searchQuery.name,trackedData:q})}),[q]),(0,useDeepCompareEffect.A)((()=>{campaignFacets&&mutate({data:campaignFacets,params:{_format:"json"}},{onSuccess:campaign=>{setCampaignData(campaign)}})}),[campaignFacets,mutate]),(0,react.useEffect)((()=>{addFilterFromUrlParamListener(graphql.SW.MaterialTypesSpecific),addFilterFromUrlParamListener(graphql.SW.WorkTypes)}),[addFilterFromUrlParamListener]);const{data,isLoading}=(0,graphql.KG)({q:{all:q},offset:page*pageSize,limit:pageSize,filters:createFilters(filters,cleanBranches)},{enabled:q.length>=3});if((0,react.useEffect)((()=>{if(!data)return;const{search:{works:resultWorks,hitcount:resultCount}}=data;setHitCount(resultCount),setResultItems(page>0?prev=>null===prev?[...resultWorks]:[...prev,...resultWorks]:resultWorks)}),[data,page]),(0,react.useEffect)((()=>{canWeTrackHitcount?track("click",{id:statistics.o.searchResultCount.id,name:statistics.o.searchResultCount.name,trackedData:hitcount?hitcount.toString():"0"}):setCanWeTrackHitcount(!0)}),[hitcount]),(0,react.useEffect)((()=>{var _campaignData$data;null!=campaignData&&null!==(_campaignData$data=campaignData.data)&&void 0!==_campaignData$data&&_campaignData$data.title&&track("click",{id:statistics.o.campaignShown.id,name:statistics.o.campaignShown.name,trackedData:campaignData.data.title})}),[campaignData]),(0,react.useEffect)((()=>{"usePersistedFilters"!==(0,helpers_url.d6)("filters")&&clearFilter()}),[clearFilter]),!q||q.length<3)return react.createElement(search_result_not_valid_search,null);const shouldShowZeroHits=()=>!isLoading&&0===hitcount;return react.createElement("div",{className:"content-list-page"},isLoading&&react.createElement(search_result_skeleton,{q}),shouldShowZeroHits()&&react.createElement(search_result_zero_hits.A,null),!isLoading&&!shouldShowZeroHits()&&resultItems&&react.createElement(react.Fragment,null,react.createElement(search_result_header_SearchResultHeader,{hitcount,q}),react.createElement(facet_line_FacetLine,{q}),campaignData&&campaignData.data&&react.createElement(campaign_Campaign,{campaignData:campaignData.data}),react.createElement(SearchResultList.A,{resultItems,page,pageSize}),react.createElement(PagerComponent,{isLoading})),null!==resultItems&&react.createElement(facet_browser_FacetBrowserModal,{q}))};try{searchresult.displayName="searchresult",searchresult.__docgenInfo={description:"",displayName:"searchresult",props:{q:{defaultValue:null,description:"",name:"q",required:!0,type:{name:"string"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/search-result/search-result.tsx#searchresult"]={docgenInfo:searchresult.__docgenInfo,name:"searchresult",path:"src/apps/search-result/search-result.tsx#searchresult"})}catch(__react_docgen_typescript_loader_error){}const search_result_entry=(0,utils_config.NV)((0,url.nU)((0,utils_text.i)((({q,pageSizeDesktop,pageSizeMobile})=>{const{q:searchQuery}=(0,general.tI)({q}),pageSize=(0,general.Ki)({desktop:pageSizeDesktop,mobile:pageSizeMobile});return react.createElement("div",null,(searchQuery||""===searchQuery)&&react.createElement(guarded_app.A,{app:"search-result"},react.createElement(search_result,{q:searchQuery,pageSize})))}))));try{searchresultentry.displayName="searchresultentry",searchresultentry.__docgenInfo={description:"",displayName:"searchresultentry",props:{q:{defaultValue:null,description:"",name:"q",required:!1,type:{name:"string | undefined"}},pageSizeDesktop:{defaultValue:null,description:"",name:"pageSizeDesktop",required:!1,type:{name:"number | undefined"}},pageSizeMobile:{defaultValue:null,description:"",name:"pageSizeMobile",required:!1,type:{name:"number | undefined"}},materialUrl:{defaultValue:null,description:"",name:"materialUrl",required:!0,type:{name:"string"}},searchUrl:{defaultValue:null,description:"",name:"searchUrl",required:!0,type:{name:"string"}},advancedSearchUrl:{defaultValue:null,description:"",name:"advancedSearchUrl",required:!0,type:{name:"string"}},fbsBaseUrl:{defaultValue:null,description:"",name:"fbsBaseUrl",required:!0,type:{name:"string"}},loanListEreolenUrl:{defaultValue:null,description:"",name:"loanListEreolenUrl",required:!0,type:{name:"string"}},feesPageUrl:{defaultValue:null,description:"",name:"feesPageUrl",required:!0,type:{name:"string"}},publizonBaseUrl:{defaultValue:null,description:"",name:"publizonBaseUrl",required:!0,type:{name:"string"}},dplCmsBaseUrl:{defaultValue:null,description:"",name:"dplCmsBaseUrl",required:!0,type:{name:"string"}},coverBaseUrl:{defaultValue:null,description:"",name:"coverBaseUrl",required:!0,type:{name:"string"}},materialBaseUrl:{defaultValue:null,description:"",name:"materialBaseUrl",required:!0,type:{name:"string"}},fbiBaseUrl:{defaultValue:null,description:"",name:"fbiBaseUrl",required:!0,type:{name:"string"}},fbiLocalBaseUrl:{defaultValue:null,description:"",name:"fbiLocalBaseUrl",required:!0,type:{name:"string"}},fbiGlobalBaseUrl:{defaultValue:null,description:"",name:"fbiGlobalBaseUrl",required:!0,type:{name:"string"}},authUrl:{defaultValue:null,description:"",name:"authUrl",required:!0,type:{name:"string"}},ereolenHomepageUrl:{defaultValue:null,description:"",name:"ereolenHomepageUrl",required:!0,type:{name:"string"}},materialListBaseUrl:{defaultValue:null,description:"",name:"materialListBaseUrl",required:!0,type:{name:"string"}},blacklistedAvailabilityBranchesConfig:{defaultValue:null,description:"",name:"blacklistedAvailabilityBranchesConfig",required:!0,type:{name:"string"}},blacklistedPickupBranchesConfig:{defaultValue:null,description:"",name:"blacklistedPickupBranchesConfig",required:!1,type:{name:"string | undefined"}},blacklistedSearchBranchesConfig:{defaultValue:null,description:"",name:"blacklistedSearchBranchesConfig",required:!1,type:{name:"string | undefined"}},branchesConfig:{defaultValue:null,description:"",name:"branchesConfig",required:!0,type:{name:"string"}},alertErrorCloseText:{defaultValue:null,description:"",name:"alertErrorCloseText",required:!0,type:{name:"string"}},alertErrorMessageText:{defaultValue:null,description:"",name:"alertErrorMessageText",required:!0,type:{name:"string"}},multiselectAllOptionText:{defaultValue:null,description:"",name:"multiselectAllOptionText",required:!0,type:{name:"string"}},groupModalGoToMaterialAriaLabelText:{defaultValue:null,description:"",name:"groupModalGoToMaterialAriaLabelText",required:!0,type:{name:"string"}},availabilityAvailableText:{defaultValue:null,description:"",name:"availabilityAvailableText",required:!0,type:{name:"string"}},availabilityUnavailableText:{defaultValue:null,description:"",name:"availabilityUnavailableText",required:!0,type:{name:"string"}},loansNotOverdueText:{defaultValue:null,description:"",name:"loansNotOverdueText",required:!0,type:{name:"string"}},patronContactInfoBodyText:{defaultValue:null,description:"",name:"patronContactInfoBodyText",required:!0,type:{name:"string"}},pauseReservationModalBelowInputsText:{defaultValue:null,description:"",name:"pauseReservationModalBelowInputsText",required:!0,type:{name:"string"}},materialDetailsCloseModalAriaLabelText:{defaultValue:null,description:"",name:"materialDetailsCloseModalAriaLabelText",required:!0,type:{name:"string"}},findOnShelfExpandButtonExplanationText:{defaultValue:null,description:"",name:"findOnShelfExpandButtonExplanationText",required:!0,type:{name:"string"}},reservationsStillInQueueForText:{defaultValue:null,description:"",name:"reservationsStillInQueueForText",required:!0,type:{name:"string"}},materialDetailsModalAriaDescriptionText:{defaultValue:null,description:"",name:"materialDetailsModalAriaDescriptionText",required:!0,type:{name:"string"}},changePickupLocationText:{defaultValue:null,description:"",name:"changePickupLocationText",required:!0,type:{name:"string"}},changeInterestPeriodText:{defaultValue:null,description:"",name:"changeInterestPeriodText",required:!0,type:{name:"string"}},modalReservationFormPickupLabelText:{defaultValue:null,description:"",name:"modalReservationFormPickupLabelText",required:!0,type:{name:"string"}},screenReaderModalDescriptionPickupText:{defaultValue:null,description:"",name:"screenReaderModalDescriptionPickupText",required:!0,type:{name:"string"}},closeModalAriaLabelPickupText:{defaultValue:null,description:"",name:"closeModalAriaLabelPickupText",required:!0,type:{name:"string"}},modalReservationFormNoInterestAfterHeaderTitleText:{defaultValue:null,description:"",name:"modalReservationFormNoInterestAfterHeaderTitleText",required:!0,type:{name:"string"}},modalReservationFormNoInterestAfterHeaderDescriptionText:{defaultValue:null,description:"",name:"modalReservationFormNoInterestAfterHeaderDescriptionText",required:!0,type:{name:"string"}},modalReservationFormNoInterestAfterLabelText:{defaultValue:null,description:"",name:"modalReservationFormNoInterestAfterLabelText",required:!0,type:{name:"string"}},screenReaderModalDescriptionEmailText:{defaultValue:null,description:"",name:"screenReaderModalDescriptionEmailText",required:!0,type:{name:"string"}},screenReaderModalDescriptionInterestPeriodText:{defaultValue:null,description:"",name:"screenReaderModalDescriptionInterestPeriodText",required:!0,type:{name:"string"}},screenReaderModalDescriptionSmsText:{defaultValue:null,description:"",name:"screenReaderModalDescriptionSmsText",required:!0,type:{name:"string"}},closeModalAriaLabelEmailText:{defaultValue:null,description:"",name:"closeModalAriaLabelEmailText",required:!0,type:{name:"string"}},closeModalAriaLabelInterestPeriodText:{defaultValue:null,description:"",name:"closeModalAriaLabelInterestPeriodText",required:!0,type:{name:"string"}},closeModalAriaLabelSmsText:{defaultValue:null,description:"",name:"closeModalAriaLabelSmsText",required:!0,type:{name:"string"}},deleteReservationModalButtonText:{defaultValue:null,description:"",name:"deleteReservationModalButtonText",required:!0,type:{name:"string"}},pauseReservationModalAriaDescriptionText:{defaultValue:null,description:"",name:"pauseReservationModalAriaDescriptionText",required:!0,type:{name:"string"}},acceptModalAriaDescriptionText:{defaultValue:null,description:"",name:"acceptModalAriaDescriptionText",required:!0,type:{name:"string"}},addToFavoritesAriaLabelText:{defaultValue:null,description:"",name:"addToFavoritesAriaLabelText",required:!0,type:{name:"string"}},removeFromFavoritesAriaLabelText:{defaultValue:null,description:"",name:"removeFromFavoritesAriaLabelText",required:!0,type:{name:"string"}},acceptModalAriaLabelText:{defaultValue:null,description:"",name:"acceptModalAriaLabelText",required:!0,type:{name:"string"}},acceptModalHeaderText:{defaultValue:null,description:"",name:"acceptModalHeaderText",required:!0,type:{name:"string"}},acceptModalAreYouSureText:{defaultValue:null,description:"",name:"acceptModalAreYouSureText",required:!0,type:{name:"string"}},acceptModalBodyText:{defaultValue:null,description:"",name:"acceptModalBodyText",required:!0,type:{name:"string"}},acceptModalCancelButtonText:{defaultValue:null,description:"",name:"acceptModalCancelButtonText",required:!0,type:{name:"string"}},acceptModalAcceptButtonText:{defaultValue:null,description:"",name:"acceptModalAcceptButtonText",required:!0,type:{name:"string"}},isLoadingHeartText:{defaultValue:null,description:"",name:"isLoadingHeartText",required:!0,type:{name:"string"}},reservationPickUpLatestText:{defaultValue:null,description:"",name:"reservationPickUpLatestText",required:!0,type:{name:"string"}},reservationListReadyText:{defaultValue:null,description:"",name:"reservationListReadyText",required:!0,type:{name:"string"}},reservationListDigitalPickupText:{defaultValue:null,description:"",name:"reservationListDigitalPickupText",required:!0,type:{name:"string"}},pincodeSectionDescriptionText:{defaultValue:null,description:"",name:"pincodeSectionDescriptionText",required:!0,type:{name:"string"}},errorBoundaryAlertBodyButtonAriaText:{defaultValue:null,description:"",name:"errorBoundaryAlertBodyButtonAriaText",required:!0,type:{name:"string"}},buttonText:{defaultValue:null,description:"",name:"buttonText",required:!0,type:{name:"string"}},etAlText:{defaultValue:null,description:"",name:"etAlText",required:!0,type:{name:"string"}},addMoreFiltersText:{defaultValue:null,description:"",name:"addMoreFiltersText",required:!0,type:{name:"string"}},byAuthorText:{defaultValue:null,description:"",name:"byAuthorText",required:!0,type:{name:"string"}},facetAccessTypesText:{defaultValue:null,description:"",name:"facetAccessTypesText",required:!0,type:{name:"string"}},facetBrowserModalCloseModalAriaLabelText:{defaultValue:null,description:"",name:"facetBrowserModalCloseModalAriaLabelText",required:!0,type:{name:"string"}},facetBrowserModalScreenReaderModalDescriptionText:{defaultValue:null,description:"",name:"facetBrowserModalScreenReaderModalDescriptionText",required:!0,type:{name:"string"}},facetCanAlwaysBeLoanedText:{defaultValue:null,description:"",name:"facetCanAlwaysBeLoanedText",required:!0,type:{name:"string"}},facetChildrenOrAdultsText:{defaultValue:null,description:"",name:"facetChildrenOrAdultsText",required:!0,type:{name:"string"}},facetCreatorsText:{defaultValue:null,description:"",name:"facetCreatorsText",required:!0,type:{name:"string"}},facetDk5Text:{defaultValue:null,description:"",name:"facetDk5Text",required:!0,type:{name:"string"}},facetFictionalCharactersText:{defaultValue:null,description:"",name:"facetFictionalCharactersText",required:!0,type:{name:"string"}},facetFictionNonfictionText:{defaultValue:null,description:"",name:"facetFictionNonfictionText",required:!0,type:{name:"string"}},facetGenreAndFormText:{defaultValue:null,description:"",name:"facetGenreAndFormText",required:!0,type:{name:"string"}},facetMainLanguagesText:{defaultValue:null,description:"",name:"facetMainLanguagesText",required:!0,type:{name:"string"}},facetMaterialTypesText:{defaultValue:null,description:"",name:"facetMaterialTypesText",required:!0,type:{name:"string"}},facetMaterialTypesGeneralText:{defaultValue:null,description:"",name:"facetMaterialTypesGeneralText",required:!0,type:{name:"string"}},facetMaterialTypesSpecificText:{defaultValue:null,description:"",name:"facetMaterialTypesSpecificText",required:!0,type:{name:"string"}},facetSubjectsText:{defaultValue:null,description:"",name:"facetSubjectsText",required:!0,type:{name:"string"}},facetWorkTypesText:{defaultValue:null,description:"",name:"facetWorkTypesText",required:!0,type:{name:"string"}},facetYearText:{defaultValue:null,description:"",name:"facetYearText",required:!0,type:{name:"string"}},filterListText:{defaultValue:null,description:"",name:"filterListText",required:!0,type:{name:"string"}},inSeriesText:{defaultValue:null,description:"",name:"inSeriesText",required:!0,type:{name:"string"}},loadingText:{defaultValue:null,description:"",name:"loadingText",required:!0,type:{name:"string"}},numberDescriptionText:{defaultValue:null,description:"",name:"numberDescriptionText",required:!0,type:{name:"string"}},resultPagerStatusText:{defaultValue:null,description:"",name:"resultPagerStatusText",required:!0,type:{name:"string"}},showingResultsForText:{defaultValue:null,description:"",name:"showingResultsForText",required:!0,type:{name:"string"}},noSearchResultText:{defaultValue:null,description:"",name:"noSearchResultText",required:!0,type:{name:"string"}},showMoreText:{defaultValue:null,description:"",name:"showMoreText",required:!0,type:{name:"string"}},showResultsText:{defaultValue:null,description:"",name:"showResultsText",required:!0,type:{name:"string"}},invalidSearchText:{defaultValue:null,description:"",name:"invalidSearchText",required:!0,type:{name:"string"}},invalidSearchDescriptionText:{defaultValue:null,description:"",name:"invalidSearchDescriptionText",required:!0,type:{name:"string"}},intelligentFiltersAccessibleHeadlineText:{defaultValue:null,description:"",name:"intelligentFiltersAccessibleHeadlineText",required:!0,type:{name:"string"}},intelligentFiltersSelectedAccessibleHeadlineText:{defaultValue:null,description:"",name:"intelligentFiltersSelectedAccessibleHeadlineText",required:!0,type:{name:"string"}},webSearchLinkText:{defaultValue:null,description:"",name:"webSearchLinkText",required:!0,type:{name:"string"}},webSearchConfig:{defaultValue:null,description:"",name:"webSearchConfig",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/search-result/search-result.entry.tsx#searchresultentry"]={docgenInfo:searchresultentry.__docgenInfo,name:"searchresultentry",path:"src/apps/search-result/search-result.entry.tsx#searchresultentry"})}catch(__react_docgen_typescript_loader_error){}var globalTextArgs=__webpack_require__("./src/core/storybook/globalTextArgs.ts"),globalConfigArgs=__webpack_require__("./src/core/storybook/globalConfigArgs.ts");const search_result_stories={title:"Apps / Search Result",component:search_result_entry,argTypes:{...serviceUrlArgs.U,...globalTextArgs.U,...globalConfigArgs.U,q:{description:"Search string",control:{type:"text"}},pageSizeDesktop:{description:"Number of search result items on desktop",control:{type:"number"}},pageSizeMobile:{description:"Number of search result items on mobile",control:{type:"number"}},authUrl:{description:"Url where user can authenticate",control:{type:"text"}},searchUrl:{description:"Path to the search result page",control:{type:"text"}},materialUrl:{description:"Path to the material page",control:{type:"text"}},etAlText:{description:"Et al. Text",control:{type:"text"}},byAuthorText:{description:"By (author) Text",control:{type:"text"}},showMoreText:{description:"Show more Text",control:{type:"text"}},resultPagerStatusText:{description:"Result pager status text",control:{type:"text"}},numberDescriptionText:{description:"Number description",control:{type:"text"}},inSeriesText:{description:"In series",control:{type:"text"}},showingResultsForText:{description:"Showing results for",control:{type:"text"}},noSearchResultText:{description:"0-hit search result",control:{type:"text"}},blacklistedPickupBranchesConfig:{description:"Blacklisted Pickup branches",control:{type:"text"}},blacklistedAvailabilityBranchesConfig:{description:"Blacklisted Availability branches",control:{type:"text"}},blacklistedSearchBranchesConfig:{description:"Blacklisted branches",control:{type:"text"}},branchesConfig:{description:"Branches",control:{type:"text"}},facetBrowserModalScreenReaderModalDescriptionText:{description:"facet browser screen reader modal description text",control:{type:"text"}},facetBrowserModalCloseModalAriaLabelText:{description:"facet browser close modal aria label text",control:{type:"text"}},facetAccessTypesText:{description:"Access types text",control:{type:"text"}},facetCanAlwaysBeLoanedText:{description:"Can always be loaned text",control:{type:"text"}},facetChildrenOrAdultsText:{description:"Children or adults text",control:{type:"text"}},facetCreatorsText:{description:"Creators text",control:{type:"text"}},facetDk5Text:{description:"Dk5 text",control:{type:"text"}},facetFictionalCharactersText:{description:"Fictional characters text",control:{type:"text"}},facetFictionNonfictionText:{description:"Fiction or nonfiction text",control:{type:"text"}},facetGenreAndFormText:{description:"Genre and form text",control:{type:"text"}},facetMainLanguagesText:{description:"Main languages text",control:{type:"text"}},facetMaterialTypesText:{description:"Material types text",control:{type:"text"}},facetMaterialTypesGeneralText:{description:"Material types general text",control:{type:"text"}},facetMaterialTypesSpecificText:{description:"Material types specific text",control:{type:"text"}},facetSubjectsText:{description:"Subjects text",control:{type:"text"}},facetWorkTypesText:{description:"Work types text",control:{type:"text"}},facetYearText:{description:"Year text",control:{type:"text"}},showResultsText:{description:"Show results text",control:{type:"text"}},filterListText:{description:"Filter list text",control:{type:"text"}},addMoreFiltersText:{description:"Add more filters text",control:{type:"text"}},loadingText:{description:"Loading",control:{type:"text"}},invalidSearchText:{description:"Invalid search headline",control:{type:"text"}},invalidSearchDescriptionText:{description:"Invalid search description",control:{type:"text"}},intelligentFiltersAccessibleHeadlineText:{description:"Intelligent filters accessible headline",control:{type:"text"}},intelligentFiltersSelectedAccessibleHeadlineText:{description:"Intelligent filters - selected - accessible headline",control:{type:"text"}},webSearchLinkText:{description:"Web search link text",control:{type:"text"}}}},Primary={args:{...serviceUrlArgs.A,...globalTextArgs.A,...globalConfigArgs.A,q:"harry",pageSizeDesktop:50,pageSizeMobile:20,authUrl:"",searchUrl:"/search",materialUrl:"/work/:workid",etAlText:"et al.",byAuthorText:"By",showMoreText:"show more",resultPagerStatusText:"Showing @itemsShown out of @hitcount results",numberDescriptionText:"Nr.",inSeriesText:"in series",showingResultsForText:"Showing results for “@query”",noSearchResultText:"Your search has 0 results",blacklistedPickupBranchesConfig:"FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",blacklistedAvailabilityBranchesConfig:"FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",blacklistedSearchBranchesConfig:"FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",branchesConfig:'[\n   {\n      "branchId":"DK-775120",\n      "title":"Højbjerg"\n   },\n   {\n      "branchId":"DK-775122",\n      "title":"Beder-Malling"\n   },\n   {\n      "branchId":"DK-775144",\n      "title":"Gellerup"\n   },\n   {\n      "branchId":"DK-775167",\n      "title":"Lystrup"\n   },\n   {\n      "branchId":"DK-775146",\n      "title":"Harlev"\n   },\n   {\n      "branchId":"DK-775168",\n      "title":"Skødstrup"\n   },\n   {\n      "branchId":"FBS-751010",\n      "title":"Arresten"\n   },\n   {\n      "branchId":"DK-775147",\n      "title":"Hasle"\n   },\n   {\n      "branchId":"FBS-751032",\n      "title":"Må ikke benyttes"\n   },\n   {\n      "branchId":"FBS-751031",\n      "title":"Fjernlager 1"\n   },\n   {\n      "branchId":"DK-775126",\n      "title":"Solbjerg"\n   },\n   {\n      "branchId":"FBS-751030",\n      "title":"ITK"\n   },\n   {\n      "branchId":"DK-775149",\n      "title":"Sabro"\n   },\n   {\n      "branchId":"DK-775127",\n      "title":"Tranbjerg"\n   },\n   {\n      "branchId":"DK-775160",\n      "title":"Risskov"\n   },\n   {\n      "branchId":"DK-775162",\n      "title":"Hjortshøj"\n   },\n   {\n      "branchId":"DK-775140",\n      "title":"Åby"\n   },\n   {\n      "branchId":"FBS-751009",\n      "title":"Fjernlager 2"\n   },\n   {\n      "branchId":"FBS-751029",\n      "title":"Stadsarkivet"\n   },\n   {\n      "branchId":"FBS-751027",\n      "title":"Intern"\n   },\n   {\n      "branchId":"FBS-751026",\n      "title":"Fælles undervejs"\n   },\n   {\n      "branchId":"FBS-751025",\n      "title":"Fællessekretariatet"\n   },\n   {\n      "branchId":"DK-775133",\n      "title":"Bavnehøj"\n   },\n   {\n      "branchId":"FBS-751024",\n      "title":"Fjernlånte materialer"\n   },\n   {\n      "branchId":"DK-775100",\n      "title":"Hovedbiblioteket"\n   },\n   {\n      "branchId":"DK-775170",\n      "title":"Trige"\n   },\n   {\n      "branchId":"DK-775150",\n      "title":"Tilst"\n   },\n   {\n      "branchId":"DK-775130",\n      "title":"Viby"\n   },\n   {\n      "branchId":"DK-775164",\n      "title":"Egå"\n   }\n]',facetBrowserModalScreenReaderModalDescriptionText:"Modal for facet browser",facetBrowserModalCloseModalAriaLabelText:"Close facet browser modal",facetAccessTypesText:"Access types",facetCanAlwaysBeLoanedText:"Can always be loaned",facetChildrenOrAdultsText:"Children or adults",facetCreatorsText:"Creators",facetDk5Text:"Dk5",facetFictionalCharactersText:"Fictional characters",facetFictionNonfictionText:"Fiction or nonfiction",facetGenreAndFormText:"Genre and form",facetMainLanguagesText:"Main languages",facetMaterialTypesText:"Material types",facetMaterialTypesGeneralText:"Material types general",facetMaterialTypesSpecificText:"Material types specific",facetSubjectsText:"Subjects",facetWorkTypesText:"Work types",facetYearText:"Year",showResultsText:"Show results",filterListText:"Filter list",addMoreFiltersText:"+ more filters",loadingText:"Loading",invalidSearchText:"Invalid search",invalidSearchDescriptionText:"Your search is invalid. Please try again. In order to perform a valid search, you need to include at least three letters.",intelligentFiltersAccessibleHeadlineText:"Available filters",intelligentFiltersSelectedAccessibleHeadlineText:"Selected filters",webSearchLinkText:"Switch to the results for the library content.",webSearchConfig:'{\n  "webSearchUrl": "https://www.google.com",\n  "webSearchText": "Google",\n  "webSearchTotal": "1000"\n}'}};Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...serviceUrlArgs,\n    ...globalTextArgs,\n    ...globalConfigArgs,\n    q: "harry",\n    pageSizeDesktop: 50,\n    pageSizeMobile: 20,\n    authUrl: "",\n    searchUrl: "/search",\n    materialUrl: "/work/:workid",\n    etAlText: "et al.",\n    byAuthorText: "By",\n    showMoreText: "show more",\n    resultPagerStatusText: "Showing @itemsShown out of @hitcount results",\n    numberDescriptionText: "Nr.",\n    inSeriesText: "in series",\n    showingResultsForText: "Showing results for “@query”",\n    noSearchResultText: "Your search has 0 results",\n    blacklistedPickupBranchesConfig: "FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",\n    blacklistedAvailabilityBranchesConfig: "FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",\n    blacklistedSearchBranchesConfig: "FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",\n    branchesConfig: \'[\\n   {\\n      "branchId":"DK-775120",\\n      "title":"Højbjerg"\\n   },\\n   {\\n      "branchId":"DK-775122",\\n      "title":"Beder-Malling"\\n   },\\n   {\\n      "branchId":"DK-775144",\\n      "title":"Gellerup"\\n   },\\n   {\\n      "branchId":"DK-775167",\\n      "title":"Lystrup"\\n   },\\n   {\\n      "branchId":"DK-775146",\\n      "title":"Harlev"\\n   },\\n   {\\n      "branchId":"DK-775168",\\n      "title":"Skødstrup"\\n   },\\n   {\\n      "branchId":"FBS-751010",\\n      "title":"Arresten"\\n   },\\n   {\\n      "branchId":"DK-775147",\\n      "title":"Hasle"\\n   },\\n   {\\n      "branchId":"FBS-751032",\\n      "title":"Må ikke benyttes"\\n   },\\n   {\\n      "branchId":"FBS-751031",\\n      "title":"Fjernlager 1"\\n   },\\n   {\\n      "branchId":"DK-775126",\\n      "title":"Solbjerg"\\n   },\\n   {\\n      "branchId":"FBS-751030",\\n      "title":"ITK"\\n   },\\n   {\\n      "branchId":"DK-775149",\\n      "title":"Sabro"\\n   },\\n   {\\n      "branchId":"DK-775127",\\n      "title":"Tranbjerg"\\n   },\\n   {\\n      "branchId":"DK-775160",\\n      "title":"Risskov"\\n   },\\n   {\\n      "branchId":"DK-775162",\\n      "title":"Hjortshøj"\\n   },\\n   {\\n      "branchId":"DK-775140",\\n      "title":"Åby"\\n   },\\n   {\\n      "branchId":"FBS-751009",\\n      "title":"Fjernlager 2"\\n   },\\n   {\\n      "branchId":"FBS-751029",\\n      "title":"Stadsarkivet"\\n   },\\n   {\\n      "branchId":"FBS-751027",\\n      "title":"Intern"\\n   },\\n   {\\n      "branchId":"FBS-751026",\\n      "title":"Fælles undervejs"\\n   },\\n   {\\n      "branchId":"FBS-751025",\\n      "title":"Fællessekretariatet"\\n   },\\n   {\\n      "branchId":"DK-775133",\\n      "title":"Bavnehøj"\\n   },\\n   {\\n      "branchId":"FBS-751024",\\n      "title":"Fjernlånte materialer"\\n   },\\n   {\\n      "branchId":"DK-775100",\\n      "title":"Hovedbiblioteket"\\n   },\\n   {\\n      "branchId":"DK-775170",\\n      "title":"Trige"\\n   },\\n   {\\n      "branchId":"DK-775150",\\n      "title":"Tilst"\\n   },\\n   {\\n      "branchId":"DK-775130",\\n      "title":"Viby"\\n   },\\n   {\\n      "branchId":"DK-775164",\\n      "title":"Egå"\\n   }\\n]\',\n    facetBrowserModalScreenReaderModalDescriptionText: "Modal for facet browser",\n    facetBrowserModalCloseModalAriaLabelText: "Close facet browser modal",\n    facetAccessTypesText: "Access types",\n    facetCanAlwaysBeLoanedText: "Can always be loaned",\n    facetChildrenOrAdultsText: "Children or adults",\n    facetCreatorsText: "Creators",\n    facetDk5Text: "Dk5",\n    facetFictionalCharactersText: "Fictional characters",\n    facetFictionNonfictionText: "Fiction or nonfiction",\n    facetGenreAndFormText: "Genre and form",\n    facetMainLanguagesText: "Main languages",\n    facetMaterialTypesText: "Material types",\n    facetMaterialTypesGeneralText: "Material types general",\n    facetMaterialTypesSpecificText: "Material types specific",\n    facetSubjectsText: "Subjects",\n    facetWorkTypesText: "Work types",\n    facetYearText: "Year",\n    showResultsText: "Show results",\n    filterListText: "Filter list",\n    addMoreFiltersText: "+ more filters",\n    loadingText: "Loading",\n    invalidSearchText: "Invalid search",\n    invalidSearchDescriptionText: "Your search is invalid. Please try again. In order to perform a valid search, you need to include at least three letters.",\n    intelligentFiltersAccessibleHeadlineText: "Available filters",\n    intelligentFiltersSelectedAccessibleHeadlineText: "Selected filters",\n    webSearchLinkText: "Switch to the results for the library content.",\n    webSearchConfig: \'{\\n  "webSearchUrl": "https://www.google.com",\\n  "webSearchText": "Google",\\n  "webSearchTotal": "1000"\\n}\'\n  }\n}',...Primary.parameters?.docs?.source}}}},"./src/apps/search-result/search-result-zero-hits.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_utils_text__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/text.tsx");const __WEBPACK_DEFAULT_EXPORT__=({dataCy="search-result-zero-hits"})=>{const t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_1__.F)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"content-list-page","data-cy":dataCy},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h1",{className:"content-list-page__heading my-112","data-cy":"search-result-zero-hits"},t("noSearchResultText")))};try{searchresultzerohits.displayName="searchresultzerohits",searchresultzerohits.__docgenInfo={description:"",displayName:"searchresultzerohits",props:{dataCy:{defaultValue:{value:"search-result-zero-hits"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/search-result/search-result-zero-hits.tsx#searchresultzerohits"]={docgenInfo:searchresultzerohits.__docgenInfo,name:"searchresultzerohits",path:"src/apps/search-result/search-result-zero-hits.tsx#searchresultzerohits"})}catch(__react_docgen_typescript_loader_error){}},"./src/apps/search-result/useFilterHandler.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),_core_filter_slice__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/filter.slice.ts"),_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/utils/helpers/url.ts");const __WEBPACK_DEFAULT_EXPORT__=()=>{const dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.wA)(),filters=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)((state=>state.filter)),clearFilter=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_3__.MR)("filters"),dispatch((0,_core_filter_slice__WEBPACK_IMPORTED_MODULE_2__.IU)())}),[dispatch]),addToFilter=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((payload=>{"usePersistedFilters"!==(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_3__.d6)("filters")&&(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_3__.$u)({filters:"usePersistedFilters"}),dispatch((0,_core_filter_slice__WEBPACK_IMPORTED_MODULE_2__.WQ)(payload))}),[dispatch]),removeFromFilter=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((payload=>dispatch((0,_core_filter_slice__WEBPACK_IMPORTED_MODULE_2__.TF)(payload))),[dispatch]);return{filters,addToFilter,removeFromFilter,clearFilter,addFilterFromUrlParamListener:facet=>{const urlFilter=(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_3__.d6)(facet);urlFilter&&addToFilter({facet,term:{key:"key",term:urlFilter}})}}}},"./src/components/atoms/icons/arrow/arrow.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=()=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"61",height:"9",viewBox:"0 0 61 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{className:"arrow__body",d:"M60 4.5H0",stroke:"black"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{className:"arrow__head",d:"M60.3537 4.85355C60.5489 4.65829 60.5489 4.34171 60.3537 4.14645L57.1717 0.96447C56.9764 0.769208 56.6598 0.769208 56.4646 0.96447C56.2693 1.15973 56.2693 1.47631 56.4646 1.67157L59.293 4.5L56.4646 7.32843C56.2693 7.52369 56.2693 7.84027 56.4646 8.03553C56.6598 8.2308 56.9764 8.2308 57.1717 8.03553L60.3537 4.85355ZM60.0001 4H57.0001V5H60.0001V4Z",fill:"black"}))},"./src/components/card-item-list/MaterialListItem.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const MaterialListItem=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((({children,className},ref)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className,ref,tabIndex:-1},children))),__WEBPACK_DEFAULT_EXPORT__=MaterialListItem;try{MaterialListItem.displayName="MaterialListItem",MaterialListItem.__docgenInfo={description:"",displayName:"MaterialListItem",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/card-item-list/MaterialListItem.tsx#MaterialListItem"]={docgenInfo:MaterialListItem.__docgenInfo,name:"MaterialListItem",path:"src/components/card-item-list/MaterialListItem.tsx#MaterialListItem"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/card-item-list/SearchResultList.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/isEmpty.js"),lodash_isEmpty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/helpers/general.ts"),_card_list_item_card_list_item__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/card-item-list/card-list-item/card-list-item.tsx"),_card_list_item_card_list_item_skeleton__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/card-item-list/card-list-item/card-list-item-skeleton.tsx"),_MaterialListItem__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/card-item-list/MaterialListItem.tsx");const SearchResultList=({resultItems,page,pageSize})=>{const worksAreLoaded=!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_0___default()(resultItems),lastItemRef=react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{page>0&&lastItemRef.current&&lastItemRef.current.focus()}),[page,resultItems]),react__WEBPACK_IMPORTED_MODULE_1__.createElement("ul",{className:"content-list","data-cy":"search-result-list"},!worksAreLoaded&&[...Array(5)].map((()=>react__WEBPACK_IMPORTED_MODULE_1__.createElement("li",{className:"content-list__item"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_card_list_item_card_list_item_skeleton__WEBPACK_IMPORTED_MODULE_4__.A,null)))),worksAreLoaded&&resultItems.map(((item,i)=>{const isFirstNewItem=i===page*pageSize;return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_MaterialListItem__WEBPACK_IMPORTED_MODULE_5__.A,{className:"content-list__item",key:item.workId,ref:isFirstNewItem?lastItemRef:null},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_card_list_item_card_list_item__WEBPACK_IMPORTED_MODULE_3__.A,{item,coverTint:(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_2__.J$)(i),resultNumber:i+1}))})))},__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(SearchResultList);try{SearchResultList.displayName="SearchResultList",SearchResultList.__docgenInfo={description:"",displayName:"SearchResultList",props:{resultItems:{defaultValue:null,description:"",name:"resultItems",required:!0,type:{name:"Work[]"}},page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/card-item-list/SearchResultList.tsx#SearchResultList"]={docgenInfo:SearchResultList.__docgenInfo,name:"SearchResultList",path:"src/components/card-item-list/SearchResultList.tsx#SearchResultList"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/card-item-list/card-list-item/card-list-item-skeleton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const CardListItemSkeleton=()=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("article",{className:"card-list-item ssc"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ssc-square cover--size-small"}," "),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ssc-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ssc-head-line w-60 mb"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ssc-line w-60 mbs"}," "),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ssc-line w-60 mbs"}," "))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(CardListItemSkeleton);try{cardlistitemskeleton.displayName="cardlistitemskeleton",cardlistitemskeleton.__docgenInfo={description:"",displayName:"cardlistitemskeleton",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/card-item-list/card-list-item/card-list-item-skeleton.tsx#cardlistitemskeleton"]={docgenInfo:cardlistitemskeleton.__docgenInfo,name:"cardlistitemskeleton",path:"src/components/card-item-list/card-list-item/card-list-item-skeleton.tsx#cardlistitemskeleton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/card-item-list/card-list-item/card-list-item.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>card_list_item});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),react_query_es=__webpack_require__("./node_modules/react-query/es/index.js"),utils_text=__webpack_require__("./src/core/utils/text.tsx"),arrow=__webpack_require__("./src/components/atoms/icons/arrow/arrow.tsx"),availability_labels=__webpack_require__("./src/components/availability-label/availability-labels.tsx"),button_favourite=__webpack_require__("./src/components/button-favourite/button-favourite.tsx"),Link=__webpack_require__("./src/components/atoms/links/Link.tsx"),general=__webpack_require__("./src/core/utils/helpers/general.ts"),cover=__webpack_require__("./src/components/cover/cover.tsx");const card_list_item_cover=({ids,bestRepresentation,alt,url,tint,linkAriaLabelledBy})=>react.createElement(cover.Y,{animate:!0,ids,bestRepresentation,size:"small",alt:String(alt),url,tint,linkAriaLabelledBy});try{cardlistitemcover.displayName="cardlistitemcover",cardlistitemcover.__docgenInfo={description:"",displayName:"cardlistitemcover",props:{url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"URL | undefined"}},alt:{defaultValue:null,description:"",name:"alt",required:!1,type:{name:"string | undefined"}},displaySize:{defaultValue:null,description:"",name:"displaySize",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"xsmall"'},{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'},{value:'"original"'},{value:'"2xsmall"'}]}},tint:{defaultValue:null,description:"",name:"tint",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"20"'},{value:'"40"'},{value:'"80"'},{value:'"100"'},{value:'"120"'}]}},ids:{defaultValue:null,description:"",name:"ids",required:!0,type:{name:"string[]"}},bestRepresentation:{defaultValue:null,description:"",name:"bestRepresentation",required:!1,type:{name:"Manifestation | undefined"}},idType:{defaultValue:null,description:"",name:"idType",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"pid"'},{value:'"faust"'},{value:'"isbn"'},{value:'"issn"'}]}},shadow:{defaultValue:null,description:"",name:"shadow",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"small"'},{value:'"medium"'}]}},linkAriaLabelledBy:{defaultValue:null,description:"",name:"linkAriaLabelledBy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/card-item-list/card-list-item/card-list-item-cover.tsx#cardlistitemcover"]={docgenInfo:cardlistitemcover.__docgenInfo,name:"cardlistitemcover",path:"src/components/card-item-list/card-list-item/card-list-item-cover.tsx#cardlistitemcover"})}catch(__react_docgen_typescript_loader_error){}var HorizontalTermLine=__webpack_require__("./src/components/horizontal-term-line/HorizontalTermLine.tsx"),url=__webpack_require__("./src/core/utils/url.tsx"),helpers_url=__webpack_require__("./src/core/utils/helpers/url.ts"),guardedRequests_slice=__webpack_require__("./src/core/guardedRequests.slice.ts"),useStatistics=__webpack_require__("./src/core/statistics/useStatistics.ts"),statistics=__webpack_require__("./src/core/statistics/statistics.ts"),lazy_load=__webpack_require__("./src/core/utils/helpers/lazy-load.ts"),helper=__webpack_require__("./src/apps/material/helper.ts"),useFilterHandler=__webpack_require__("./src/apps/search-result/useFilterHandler.tsx"),head=__webpack_require__("./node_modules/lodash/head.js"),head_default=__webpack_require__.n(head),graphql=__webpack_require__("./src/core/dbc-gateway/generated/graphql.tsx");const SubjectNumber=({shelfmark:{shelfmark},className=""})=>react.createElement("div",{className},shelfmark),subject_number_SubjectNumber=SubjectNumber;try{SubjectNumber.displayName="SubjectNumber",SubjectNumber.__docgenInfo={description:"",displayName:"SubjectNumber",props:{className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string | undefined"}},shelfmark:{defaultValue:null,description:"",name:"shelfmark",required:!0,type:{name:"Shelfmark"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/subject-number/SubjectNumber.tsx#SubjectNumber"]={docgenInfo:SubjectNumber.__docgenInfo,name:"SubjectNumber",path:"src/components/subject-number/SubjectNumber.tsx#SubjectNumber"})}catch(__react_docgen_typescript_loader_error){}const card_list_item=({item,item:{titles:{full:fullTitle},series,creators,manifestations:{all:manifestations,bestRepresentation},workId},coverTint,resultNumber,preferredId,dataCy="card-list-item"})=>{var _firstItemInSeries$nu;const searchTitleId=(0,react.useId)(),t=(0,utils_text.F)(),u=(0,url.Ik)(),searchUrl=u("searchUrl"),materialUrl=u("materialUrl"),{filters}=(0,useFilterHandler.A)(),materialTypeFromFilters=((filters,manifestations)=>{const materialTypeFilter=head_default()(Object.keys(filters[graphql.SW.MaterialTypesSpecific]||{}).sort()),allMaterialTypes=(0,general.JB)(manifestations);return materialTypeFilter&&allMaterialTypes.includes(materialTypeFilter)?materialTypeFilter:void 0})(filters,manifestations),bookManifestation=(0,helper.oj)(manifestations),dispatch=(0,es.wA)(),queryClient=(0,react_query_es.useQueryClient)(),author=(0,general.sP)((0,general.UV)(creators),t),manifestationPids=(0,general.e$)(manifestations),firstItemInSeries=(0,helper.w2)(series).shift(),materialFullUrl=(0,helpers_url.Qj)(materialUrl,workId,materialTypeFromFilters),languageIsoCode=(0,helper.PG)(manifestations),{shelfmark}=bestRepresentation,{track}=(0,useStatistics.B)(),{itemRef,hasBeenVisible:showItem}=(0,lazy_load.H)(),handleClick=(0,react.useCallback)((()=>{track("click",{id:statistics.o.searchResultNumberClick.id,name:statistics.o.searchResultNumberClick.name,trackedData:resultNumber.toString()}).then((()=>{(0,helpers_url.SE)(materialFullUrl)}))}),[materialFullUrl]);return react.createElement("article",{ref:itemRef,"data-cy":dataCy,className:"card-list-item arrow__hover--right-small",onClick:()=>{handleClick()},onKeyUp:e=>"Enter"===e.key&&handleClick},react.createElement("div",{className:"card-list-item__cover"},showItem&&react.createElement(card_list_item_cover,{ids:manifestationPids,bestRepresentation:bookManifestation??bestRepresentation,url:materialFullUrl,tint:coverTint,linkAriaLabelledBy:searchTitleId})),react.createElement("div",{className:"card-list-item__text"},react.createElement("div",{className:"card-list-item__meta"},showItem&&react.createElement(button_favourite.A,{title:fullTitle[0],id:preferredId||workId,addToListRequest:id=>{dispatch((0,guardedRequests_slice.A5)({type:"addFavorite",args:{id,queryClient},app:"search-result"}))}}),firstItemInSeries&&react.createElement(HorizontalTermLine.A,{title:`${t("numberDescriptionText")} ${null===(_firstItemInSeries$nu=firstItemInSeries.numberInSeries)||void 0===_firstItemInSeries$nu?void 0:_firstItemInSeries$nu.number}`,subTitle:t("inSeriesText"),linkList:[{url:(0,helpers_url.zy)(searchUrl,firstItemInSeries.title),term:firstItemInSeries.title}]})),!(0,general.G)(bestRepresentation)&&shelfmark&&react.createElement(subject_number_SubjectNumber,{className:"text-tags color-secondary-gray mt-8",shelfmark}),react.createElement("h2",{className:"card-list-item__title text-header-h4 mb-4","data-cy":"card-list-item-title",lang:languageIsoCode,id:searchTitleId},react.createElement(Link.A,{href:materialFullUrl,stopPropagation:!0},fullTitle)),author&&item&&react.createElement("p",{className:"text-small-caption","data-cy":"card-list-item-author"},`${t("byAuthorText")} ${author}`,(0,general.C2)(item)?` (${(0,general.C2)(item)})`:"")),react.createElement("div",{className:"card-list-item__availability","data-cy":"card-list-item-availability"},showItem&&react.createElement(availability_labels.F,{cursorPointer:!0,workId,manifestations})),react.createElement(arrow.A,null))};try{cardlistitem.displayName="cardlistitem",cardlistitem.__docgenInfo={description:"",displayName:"cardlistitem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Work"}},coverTint:{defaultValue:null,description:"",name:"coverTint",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"20"'},{value:'"40"'},{value:'"80"'},{value:'"100"'},{value:'"120"'}]}},resultNumber:{defaultValue:null,description:"",name:"resultNumber",required:!0,type:{name:"number"}},preferredId:{defaultValue:null,description:"",name:"preferredId",required:!1,type:{name:"`work-of:${number}-${string}:${string}` | undefined"}},dataCy:{defaultValue:{value:"card-list-item"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/card-item-list/card-list-item/card-list-item.tsx#cardlistitem"]={docgenInfo:cardlistitem.__docgenInfo,name:"cardlistitem",path:"src/components/card-item-list/card-list-item/card-list-item.tsx#cardlistitem"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/result-pager/use-pager.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>use_pager});var react=__webpack_require__("./node_modules/react/index.js"),utils_text=__webpack_require__("./src/core/utils/text.tsx");function ResultPager({setPageHandler,itemsShown,hitcount,isLoading,classNames}){const t=(0,utils_text.F)();return react.createElement("div",{className:`result-pager ${classNames}`},react.createElement("p",{className:"text-small-caption result-pager__title"},t("resultPagerStatusText",{placeholders:{"@itemsShown":itemsShown,"@hitcount":hitcount}})),itemsShown!==hitcount&&react.createElement("button",{disabled:isLoading,type:"button",className:"btn-primary btn-outline btn-medium arrow__hover--right-small uppercase",onClick:setPageHandler},t(isLoading?"loadingText":"showMoreText")))}const result_pager=ResultPager;try{ResultPager.displayName="ResultPager",ResultPager.__docgenInfo={description:"",displayName:"ResultPager",props:{setPageHandler:{defaultValue:null,description:"",name:"setPageHandler",required:!0,type:{name:"() => void"}},itemsShown:{defaultValue:null,description:"",name:"itemsShown",required:!0,type:{name:"number"}},hitcount:{defaultValue:null,description:"",name:"hitcount",required:!0,type:{name:"number"}},classNames:{defaultValue:null,description:"",name:"classNames",required:!0,type:{name:"string"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/result-pager/result-pager.tsx#ResultPager"]={docgenInfo:ResultPager.__docgenInfo,name:"ResultPager",path:"src/components/result-pager/result-pager.tsx#ResultPager"})}catch(__react_docgen_typescript_loader_error){}const use_pager=({hitcount,pageSize,overrideItemsShown})=>{const[itemsShown,setItemsShown]=(0,react.useState)(pageSize>=hitcount?hitcount:pageSize),[page,setPage]=(0,react.useState)(0),[firstInNewPage,setFirstInNewPage]=(0,react.useState)(null);(0,react.useEffect)((()=>{setItemsShown(pageSize>hitcount?hitcount:pageSize)}),[hitcount,pageSize]);const pagehandler=()=>{const currentPage=page+1,itemsOnPage=(currentPage+1)*pageSize,onLastPage=itemsOnPage>hitcount;setFirstInNewPage(itemsOnPage-pageSize),setItemsShown(onLastPage?hitcount:itemsOnPage),setPage(currentPage)};return{itemsShown,PagerComponent:({isLoading,classNames=""})=>hitcount?react.createElement(result_pager,{itemsShown:overrideItemsShown?overrideItemsShown():itemsShown,hitcount,classNames,setPageHandler:pagehandler,isLoading}):null,page,firstInNewPage}};try{usepager.displayName="usepager",usepager.__docgenInfo={description:"",displayName:"usepager",props:{hitcount:{defaultValue:null,description:"",name:"hitcount",required:!0,type:{name:"number"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}},overrideItemsShown:{defaultValue:null,description:"",name:"overrideItemsShown",required:!1,type:{name:"(() => number) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/result-pager/use-pager.tsx#usepager"]={docgenInfo:usepager.__docgenInfo,name:"usepager",path:"src/components/result-pager/use-pager.tsx#usepager"})}catch(__react_docgen_typescript_loader_error){}}}]);