# When using the 'localSuggest' query, results are limited to the agency associated with your access token.
# The branchId parameter can be used to further limit suggestions to a specific branch within that agency. The value of branchId is a string that must be the id of one of the branches.
# https://fbi-api.dbc.dk/documentation#26867-h2-local-suggestions-Local-Suggestions
query suggestionsFromQueryString($q: String!, $branchId: String) {
  localSuggest(q: $q, branchId: $branchId) {
    result {
      type
      term
      work {
        workId
        titles {
          main
        }
        creators {
          display
        }
        manifestations {
          all {
            pid
          }
          bestRepresentation {
            pid
            ...WithLanguages
            materialTypes {
              materialTypeSpecific {
                display
              }
            }
          }
          mostRelevant {
            pid
            ...WithLanguages
            materialTypes {
              materialTypeSpecific {
                display
              }
            }
          }
        }
      }
    }
  }
}
