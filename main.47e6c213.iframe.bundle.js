(globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react=globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react||[]).push([[179],{"./.storybook/preview.js-generated-config-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{decorators:()=>decorators});var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),dev_fonts=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./.storybook/dev-fonts.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(dev_fonts.Z,options);dev_fonts.Z&&dev_fonts.Z.locals&&dev_fonts.Z.locals;var components=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./src/components/components.scss"),components_options={};components_options.styleTagTransform=styleTagTransform_default(),components_options.setAttributes=setAttributesWithoutAttributes_default(),components_options.insert=insertBySelector_default().bind(null,"head"),components_options.domAPI=styleDomAPI_default(),components_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(components.Z,components_options);components.Z&&components.Z.locals&&components.Z.locals;__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/css/base.css");var token=__webpack_require__("./src/core/token.js"),react=__webpack_require__("./node_modules/react/index.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),react_error_boundary_umd=__webpack_require__("./node_modules/react-error-boundary/dist/react-error-boundary.umd.js"),alert_alert=__webpack_require__("./src/components/alert/alert.jsx"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),es=__webpack_require__("./node_modules/react-redux/es/index.js"),integration_react=__webpack_require__("./node_modules/redux-persist/es/integration/react.js"),react_query_es=__webpack_require__("./node_modules/react-query/es/index.js"),store=__webpack_require__("./src/core/store.ts");const queryClient=new react_query_es.QueryClient({defaultOptions:{queries:{staleTime:3e4}}}),Store=_ref=>{let{children}=_ref;return react.createElement(es.zt,{store:store.h},react.createElement(react_query_es.QueryClientProvider,{client:queryClient},react.createElement(integration_react.r,{persistor:store.Dj},children)))};Store.propTypes={children:prop_types_default().node.isRequired};const components_store=Store;function mount(context){if(!context)return;context.querySelectorAll("[data-dpl-app]").forEach((function mountApp(container){var _container$dataset,_window$dplReact,_window$dplReact$apps;const appName=null==container||null===(_container$dataset=container.dataset)||void 0===_container$dataset?void 0:_container$dataset.dplApp,app=null===(_window$dplReact=window.dplReact)||void 0===_window$dplReact||null===(_window$dplReact$apps=_window$dplReact.apps)||void 0===_window$dplReact$apps?void 0:_window$dplReact$apps[appName];app&&!container.innerHTML&&(0,react_dom.render)((0,react.createElement)(components_store,{},(0,react.createElement)((0,react_error_boundary_umd.withErrorBoundary)(app,{FallbackComponent:alert_alert.Z,onError(error,info){console.error(error,info)}}),{...container.dataset})),container)}))}function unmount(context){if(!context)return;context.querySelectorAll("[data-dpl-app]").forEach((function unMountApp(container){container.innerHTML=""}))}function mount_reset(){return store.Dj.purge()}!function init(){const initial={apps:{},setToken:token.o4,mount,unmount,reset:mount_reset};window.dplReact={...window.dplReact||{},...initial}}();__webpack_require__("./src/core/user.slice.js");var process=__webpack_require__("./node_modules/process/browser.js");const getSessionStorage=type=>window.sessionStorage.getItem(type),userToken=process.env.STORYBOOK_USER_TOKEN??getSessionStorage(token.b4),libraryToken=process.env.STORYBOOK_LIBRARY_TOKEN??getSessionStorage(token.t8);userToken&&(0,token.o4)(token.b4,userToken),libraryToken&&(0,token.o4)(token.t8,libraryToken),!libraryToken&&userToken&&(0,token.o4)(token.t8,userToken);const decorators=[Story=>react.createElement(components_store,null,react.createElement(Story,null))];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return(0,ClientApi.uc)(value);case"argTypes":return(0,ClientApi.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./src/apps/adgangsplatformen/auth.dev.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SignIn:()=>SignIn,default:()=>auth_dev});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),unfetch_module=__webpack_require__("./node_modules/unfetch/dist/unfetch.module.js"),core_token=__webpack_require__("./src/core/token.js"),user_slice=__webpack_require__("./src/core/user.slice.js");const ORIGIN=window.location.origin,PATHNAME=window.location.pathname.replace("/iframe.html","/"),REDIRECT_URL=`${ORIGIN}${PATHNAME}?path=/story/sb-utilities-adgangsplatformen--sign-in`;const auth=function Auth(){const dispatch=(0,es.I0)(),status=(0,es.v9)((s=>s.user.status)),handleCleanUp=(0,react.useCallback)((()=>{window.sessionStorage.removeItem(core_token.b4),dispatch((0,user_slice.ig)())}),[dispatch]);return react.useEffect((()=>{const code=new URLSearchParams(window.location.search).get("code");code&&(0,unfetch_module.Z)("https://login.bib.dk/oauth/token",{method:"POST",headers:{},body:new URLSearchParams({grant_type:"authorization_code",code,client_id:"",client_secret:"secret",redirect_uri:REDIRECT_URL})}).then((res=>res.json())).then((res=>{if(null==res||!res.access_token)throw res;window.sessionStorage.setItem(core_token.b4,res.access_token),(0,core_token.o4)(core_token.b4,res.access_token),(0,core_token.o4)(core_token.t8,res.access_token),dispatch((0,user_slice.Ot)())})).catch((err=>{console.error(err),handleCleanUp()}))}),[dispatch,handleCleanUp]),react.createElement("div",{style:{width:"300px"}},react.createElement("h2",null,"Adgangsplatformen"),react.createElement("h5",null,"Status:","authenticated"===status?react.createElement("span",{style:{color:"green"}}," Signed in"):react.createElement("span",{style:{color:"red"}}," Signed out")),react.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gridColumnGap:10}},react.createElement("button",{type:"button",onClick:()=>{window.parent.location.href=`https://login.bib.dk/oauth/authorize?response_type=code&client_id=&redirect_uri=${REDIRECT_URL}`},style:{width:"100%"}},"Sign in"),react.createElement("button",{type:"button",onClick:()=>{handleCleanUp();const token=(0,core_token.LP)(core_token.b4);window.parent.location.href=`https://login.bib.dk/logout/?access_token=${token}`},style:{width:"100%"}},"Sign out")))},auth_dev={title:"SB Utilities / Adgangsplatformen"},SignIn=(args=>react.createElement(auth,args)).bind({})},"./src/apps/adgangsplatformen/library-token.dev.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{LibraryTokenApp:()=>LibraryTokenApp,default:()=>library_token_dev});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-query/es/index.js"),token=__webpack_require__("./src/core/token.js");const library_token=()=>{const[inputValue,setInputValue]=(0,react.useState)(""),[shouldShowSuccessMessage,setShowSuccessMessage]=(0,react.useState)(!1),queryClient=(0,es.useQueryClient)(),setInputValueHandler=(0,react.useCallback)((event=>{const{target:{value:token}}=event;setInputValue(token)}),[setInputValue]),setLibraryTokenHandler=(0,react.useCallback)((()=>{window.sessionStorage.setItem(token.t8,inputValue),(0,token.o4)(token.t8,inputValue),setShowSuccessMessage(!0),queryClient.clear()}),[queryClient,inputValue]);return react.createElement("div",{className:"p-8"},react.createElement("p",null,"Insert Library token:"),react.createElement("input",{className:"mt-8 mr-8",value:inputValue,onChange:setInputValueHandler,size:41}),react.createElement("button",{type:"submit",onClick:setLibraryTokenHandler},"Save"),react.createElement("p",{className:"text-small-caption mt-8"},"In order to test apps for anonymous users,",react.createElement("br",null),"you can insert a library token in this field."),shouldShowSuccessMessage&&react.createElement("p",{className:"text-small-caption mt-8"},"The token was saved"))};try{librarytoken.displayName="librarytoken",librarytoken.__docgenInfo={description:"This component is only to be used in Storybook context.\nLike the auth component it offers a way to set the needed context\nin order for the apps to be able to operate properly.\n\nThis component offers a way to set the current library token.",displayName:"librarytoken",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/adgangsplatformen/library-token.tsx#librarytoken"]={docgenInfo:librarytoken.__docgenInfo,name:"librarytoken",path:"src/apps/adgangsplatformen/library-token.tsx#librarytoken"})}catch(__react_docgen_typescript_loader_error){}const library_token_dev={title:"SB Utilities / Set Library Token",component:library_token},LibraryTokenApp=()=>react.createElement(library_token,null)},"./src/apps/adgangsplatformen/user-token.dev.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{UserTokenApp:()=>UserTokenApp,default:()=>user_token_dev});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-query/es/index.js"),token=__webpack_require__("./src/core/token.js");const user_token=()=>{const[inputValue,setInputValue]=(0,react.useState)(""),[shouldShowSuccessMessage,setShowSuccessMessage]=(0,react.useState)(!1),queryClient=(0,es.useQueryClient)(),setInputValueHandler=(0,react.useCallback)((event=>{const{target:{value:token}}=event;setInputValue(token)}),[setInputValue]),setUserTokenHandler=(0,react.useCallback)((()=>{window.sessionStorage.setItem(token.b4,inputValue),(0,token.o4)(token.b4,inputValue),setShowSuccessMessage(!0),queryClient.clear()}),[queryClient,inputValue]);return react.createElement("div",{className:"p-8"},react.createElement("p",null,"Insert User token:"),react.createElement("input",{className:"mt-8 mr-8",value:inputValue,onChange:setInputValueHandler,size:41}),react.createElement("button",{type:"submit",onClick:setUserTokenHandler},"Save"),react.createElement("p",{className:"text-small-caption mt-8"},"In order to test apps for logged in users,",react.createElement("br",null),"you can insert a user token in this field."),shouldShowSuccessMessage&&react.createElement("p",{className:"text-small-caption mt-8"},"The token was saved"))};try{usertoken.displayName="usertoken",usertoken.__docgenInfo={description:"This component is only to be used in Storybook context.\nLike the auth component it offers a way to set the needed context\nin order for the apps to be able to operate properly.\n\nThis component offers a way to set the current user token.",displayName:"usertoken",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/adgangsplatformen/user-token.tsx#usertoken"]={docgenInfo:usertoken.__docgenInfo,name:"usertoken",path:"src/apps/adgangsplatformen/user-token.tsx#usertoken"})}catch(__react_docgen_typescript_loader_error){}const user_token_dev={title:"SB Utilities / Set User Token",component:user_token},UserTokenApp=()=>react.createElement(user_token,null)},"./src/apps/demo-modal/demo-modal.dev.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{App:()=>App,default:()=>demo_modal_dev});var react=__webpack_require__("./node_modules/react/index.js"),esm=__webpack_require__("./node_modules/@storybook/addon-queryparams/dist/esm/index.js"),utils_text=__webpack_require__("./src/core/utils/text.tsx"),modal=__webpack_require__("./src/core/utils/modal.tsx");const demo_modal=(0,utils_text.z)((()=>{const{open}=(0,modal.f)(),t=(0,utils_text.X)(),modalIdOne="demo-modal-one",modalIdTwo="demo-modal-two",onClick=modalId=>()=>{open(modalId)};return react.createElement(react.Fragment,null,react.createElement(modal.Z,{modalId:modalIdTwo,screenReaderModalDescriptionText:t("screenReaderModalDescriptionText"),closeModalAriaLabelText:t("ariaLabelModalTwoText")},react.createElement("h1",{id:`${modalIdTwo}-header`},modalIdTwo)),react.createElement(modal.Z,{modalId:modalIdOne,screenReaderModalDescriptionText:t("screenReaderModalDescriptionText"),closeModalAriaLabelText:t("ariaLabelModalOneText")},react.createElement("h1",{id:`${modalIdOne}-header`},modalIdOne),react.createElement("button",{type:"button",id:`${modalIdTwo}-button`,onClick:onClick(modalIdTwo)},"Show Modal 2")),react.createElement("button",{type:"button",id:`${modalIdOne}-button`,onClick:onClick(modalIdOne)},"Show Modal 1"))}));try{demomodal.displayName="demomodal",demomodal.__docgenInfo={description:"",displayName:"demomodal",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/demo-modal/demo-modal.tsx#demomodal"]={docgenInfo:demomodal.__docgenInfo,name:"demomodal",path:"src/apps/demo-modal/demo-modal.tsx#demomodal"})}catch(__react_docgen_typescript_loader_error){}const demo_modal_entry=(0,utils_text.z)((props=>react.createElement(demo_modal,null)));try{demomodalentry.displayName="demomodalentry",demomodalentry.__docgenInfo={description:"",displayName:"demomodalentry",props:{ariaLabelModalOneText:{defaultValue:null,description:"",name:"ariaLabelModalOneText",required:!0,type:{name:"string"}},ariaLabelModalTwoText:{defaultValue:null,description:"",name:"ariaLabelModalTwoText",required:!0,type:{name:"string"}},screenReaderModalDescriptionText:{defaultValue:null,description:"",name:"screenReaderModalDescriptionText",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/demo-modal/demo-modal.entry.tsx#demomodalentry"]={docgenInfo:demomodalentry.__docgenInfo,name:"demomodalentry",path:"src/apps/demo-modal/demo-modal.entry.tsx#demomodalentry"})}catch(__react_docgen_typescript_loader_error){}const demo_modal_dev={title:"Apps / Demo modal",component:demo_modal_entry,decorators:[esm.j],parameters:{query:{modal:"demo-modal-one"}},argTypes:{ariaLabelModalOneText:{defaultValue:"Luk dialog et"},ariaLabelModalTwoText:{defaultValue:"Luk dialog to"},screenReaderModalDescriptionText:{defaultValue:"Denne modal dækker sidens indhold, og er en demo"}}},App=props=>react.createElement(demo_modal_entry,props)},"./src/apps/hello-world/hello-world.dev.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{App:()=>App,default:()=>hello_world_dev});var react=__webpack_require__("./node_modules/react/index.js"),utils_text=__webpack_require__("./src/core/utils/text.tsx"),hello=__webpack_require__("./src/components/hello/hello.tsx");const hello_world=()=>{const t=(0,utils_text.X)();return react.createElement("article",null,react.createElement("h2",null,t("titleText")),react.createElement("p",null,t("introductionText")),react.createElement("p",null,react.createElement(hello.q,{shouldBeEmphasized:!0})))};try{helloworld.displayName="helloworld",helloworld.__docgenInfo={description:"",displayName:"helloworld",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/hello-world/hello-world.tsx#helloworld"]={docgenInfo:helloworld.__docgenInfo,name:"helloworld",path:"src/apps/hello-world/hello-world.tsx#helloworld"})}catch(__react_docgen_typescript_loader_error){}const hello_world_entry=(0,utils_text.z)((()=>react.createElement(hello_world,null)));try{helloworldentry.displayName="helloworldentry",helloworldentry.__docgenInfo={description:"",displayName:"helloworldentry",props:{titleText:{defaultValue:null,description:"",name:"titleText",required:!0,type:{name:"string"}},introductionText:{defaultValue:null,description:"",name:"introductionText",required:!0,type:{name:"string"}},whatText:{defaultValue:null,description:"",name:"whatText",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/hello-world/hello-world.entry.tsx#helloworldentry"]={docgenInfo:helloworldentry.__docgenInfo,name:"helloworldentry",path:"src/apps/hello-world/hello-world.entry.tsx#helloworldentry"})}catch(__react_docgen_typescript_loader_error){}const hello_world_dev={title:"Apps / Hello World",component:hello_world_entry,argTypes:{titleText:{defaultValue:"Greetings",control:{type:"text"}},introductionText:{defaultValue:"We warmly welcome everybody by saying:",control:{type:"text"}},whatText:{defaultValue:"world",control:{type:"text"}}}},App=args=>react.createElement(hello_world_entry,args)},"./src/apps/loan-list/list/loan-list.dev.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{LoanListDetailsModal:()=>LoanListDetailsModal,LoanListDueDateModal:()=>LoanListDueDateModal,LoanListEntry:()=>loan_list_dev_LoanListEntry,LoanListRenewLoansModal:()=>LoanListRenewLoansModal,default:()=>loan_list_dev});var esm=__webpack_require__("./node_modules/@storybook/addon-queryparams/dist/esm/index.js"),react=__webpack_require__("./node_modules/react/index.js"),serviceUrlArgs=__webpack_require__("./src/core/storybook/serviceUrlArgs.ts"),general=__webpack_require__("./src/core/utils/helpers/general.ts"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),fbs=__webpack_require__("./src/core/fbs/fbs.ts"),url=__webpack_require__("./src/core/utils/helpers/url.ts"),utils_text=__webpack_require__("./src/core/utils/text.tsx"),modal=__webpack_require__("./src/core/utils/modal.tsx"),empty_list=__webpack_require__("./src/components/empty-list/empty-list.tsx"),helpers=__webpack_require__("./src/apps/loan-list/utils/helpers.ts"),status_thresholds=__webpack_require__("./src/core/configuration/status-thresholds.json"),status_circle_icon=__webpack_require__("./src/apps/loan-list/materials/utils/status-circle-icon.tsx");const status_circle=_ref=>{let{loanDate,dueDate}=_ref;const t=(0,utils_text.X)(),daysBetweenTodayAndDue=(0,general.q7)(dueDate),percent=100-daysBetweenTodayAndDue/(0,general.Sz)(dueDate,loanDate)*100,colors=(0,general.EC)();let color=colors.default;daysBetweenTodayAndDue<status_thresholds.danger?color=colors.danger:daysBetweenTodayAndDue<=status_thresholds.warning&&(color=colors.warning);const daysUntilDuedate=daysBetweenTodayAndDue>0?daysBetweenTodayAndDue:0;return react.createElement(status_circle_icon.Z,{ariaLabel:t("loanListStatusCircleAriaLabelText",{count:daysUntilDuedate,placeholders:{"@count":daysUntilDuedate}}),percent,color},react.createElement("span",{className:"counter__value"},daysBetweenTodayAndDue>0?daysBetweenTodayAndDue:0," "),react.createElement("span",{className:"counter__label"},t(1===daysBetweenTodayAndDue?"loanListMaterialDayText":"loanListMaterialDaysText")))};try{statuscircle.displayName="statuscircle",statuscircle.__docgenInfo={description:"",displayName:"statuscircle",props:{dueDate:{defaultValue:null,description:"",name:"dueDate",required:!0,type:{name:"string"}},loanDate:{defaultValue:null,description:"",name:"loanDate",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/materials/utils/status-circle.tsx#statuscircle"]={docgenInfo:statuscircle.__docgenInfo,name:"statuscircle",path:"src/apps/loan-list/materials/utils/status-circle.tsx#statuscircle"})}catch(__react_docgen_typescript_loader_error){}const status_badge=_ref=>{let{dueDate,warningText,dangerText,neutralText}=_ref;if(!dueDate)return null;const daysBetweenTodayAndDue=(0,general.q7)(dueDate);return daysBetweenTodayAndDue<status_thresholds.danger&&dangerText?react.createElement("div",{className:"status-label status-label--danger"},dangerText):daysBetweenTodayAndDue<=status_thresholds.warning&&warningText?react.createElement("div",{className:"status-label status-label--warning"},warningText):neutralText?react.createElement("div",{className:"status-label status-label--neutral"},neutralText):null};try{statusbadge.displayName="statusbadge",statusbadge.__docgenInfo={description:"",displayName:"statusbadge",props:{dueDate:{defaultValue:null,description:"",name:"dueDate",required:!1,type:{name:"string | null | undefined"}},warningText:{defaultValue:null,description:"",name:"warningText",required:!1,type:{name:"string | undefined"}},dangerText:{defaultValue:null,description:"",name:"dangerText",required:!1,type:{name:"string | undefined"}},neutralText:{defaultValue:null,description:"",name:"neutralText",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/materials/utils/status-badge.tsx#statusbadge"]={docgenInfo:statusbadge.__docgenInfo,name:"statusbadge",path:"src/apps/loan-list/materials/utils/status-badge.tsx#statusbadge"})}catch(__react_docgen_typescript_loader_error){}const material_status=_ref=>{let{loan,children}=_ref;const t=(0,utils_text.X)(),{dueDate,loanDate}=loan;return dueDate&&loanDate?react.createElement("div",{className:"list-reservation__status"},react.createElement("div",{className:"list-reservation__counter"},react.createElement(status_circle,{loanDate,dueDate})),react.createElement("div",null,react.createElement("div",{className:"list-reservation__deadline"},react.createElement(status_badge,{dueDate,dangerText:t("loanListStatusBadgeDangerText"),warningText:t("loanListStatusBadgeWarningText")}),react.createElement("p",{className:"text-small-caption",id:"due-date"},(0,helpers.u8)(loan)?t("loanListToBeDeliveredDigitalMaterialText",{placeholders:{"@date":(0,helpers.p6)(dueDate)}}):t("loanListToBeDeliveredText",{placeholders:{"@date":(0,helpers.p6)(dueDate)}})),children))):react.createElement("div",null)};try{materialstatus.displayName="materialstatus",materialstatus.__docgenInfo={description:"",displayName:"materialstatus",props:{loan:{defaultValue:null,description:"",name:"loan",required:!0,type:{name:"LoanType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/materials/stackable-material/material-status.tsx#materialstatus"]={docgenInfo:materialstatus.__docgenInfo,name:"materialstatus",path:"src/apps/loan-list/materials/stackable-material/material-status.tsx#materialstatus"})}catch(__react_docgen_typescript_loader_error){}var atoms_link=__webpack_require__("./src/components/atoms/link.tsx"),utils_url=__webpack_require__("./src/core/utils/url.tsx");const material_overdue_link=_ref=>{let{dueDate,showOn}=_ref;const{materialOverdueUrl}=(0,utils_url.J_)(),t=(0,utils_text.X)();return!dueDate||dueDate&&!(0,general.cf)(dueDate)?null:react.createElement(atoms_link.r,{href:materialOverdueUrl,className:`list-reservation__note list-reservation__note--${showOn} color-signal-alert`},t("loanListMaterialLateFeeText"))};try{materialoverduelink.displayName="materialoverduelink",materialoverduelink.__docgenInfo={description:"",displayName:"materialoverduelink",props:{dueDate:{defaultValue:null,description:"",name:"dueDate",required:!0,type:{name:"string | null | undefined"}},showOn:{defaultValue:null,description:"",name:"showOn",required:!0,type:{name:"enum",value:[{value:'"mobile"'},{value:'"desktop"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/materials/stackable-material/material-overdue-link.tsx#materialoverduelink"]={docgenInfo:materialoverduelink.__docgenInfo,name:"materialoverduelink",path:"src/apps/loan-list/materials/stackable-material/material-overdue-link.tsx#materialoverduelink"})}catch(__react_docgen_typescript_loader_error){}const additional_materials_button=_ref=>{let{additionalMaterials,openDueDateModal,showOn}=_ref;const t=(0,utils_text.X)(),openDueDateModalCallBack=(0,react.useCallback)((e=>{e.stopPropagation(),openDueDateModal()}),[openDueDateModal]);return additionalMaterials<1?react.createElement("div",null):react.createElement("button",{type:"button",onClick:e=>openDueDateModalCallBack(e),"aria-describedby":"materials-modal-text",className:`list-reservation__note list-reservation__note--${showOn}`},t("loanListAdditionalMaterialsText",{count:additionalMaterials,placeholders:{"@count":additionalMaterials}}))};try{additionalmaterialsbutton.displayName="additionalmaterialsbutton",additionalmaterialsbutton.__docgenInfo={description:"",displayName:"additionalmaterialsbutton",props:{additionalMaterials:{defaultValue:null,description:"",name:"additionalMaterials",required:!0,type:{name:"number"}},openDueDateModal:{defaultValue:null,description:"",name:"openDueDateModal",required:!0,type:{name:"() => void"}},showOn:{defaultValue:null,description:"",name:"showOn",required:!0,type:{name:"enum",value:[{value:'"mobile"'},{value:'"desktop"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/materials/stackable-material/additional-materials-button.tsx#additionalmaterialsbutton"]={docgenInfo:additionalmaterialsbutton.__docgenInfo,name:"additionalmaterialsbutton",path:"src/apps/loan-list/materials/stackable-material/additional-materials-button.tsx#additionalmaterialsbutton"})}catch(__react_docgen_typescript_loader_error){}var material_info=__webpack_require__("./src/apps/loan-list/materials/stackable-material/material-info.tsx"),material_fetch_hoc=__webpack_require__("./src/apps/loan-list/materials/utils/material-fetch-hoc.tsx"),digital_material_fetch_hoc=__webpack_require__("./src/apps/loan-list/materials/utils/digital-material-fetch-hoc.tsx");const stackable_material=(0,digital_material_fetch_hoc.Z)((0,material_fetch_hoc.Z)((_ref=>{let{amountOfMaterialsWithDueDate,material,loan,openDueDateModal,openLoanDetailsModal}=_ref;const[additionalMaterials]=(0,react.useState)(amountOfMaterialsWithDueDate?amountOfMaterialsWithDueDate-1:0),{dueDate,faust,identifier,periodical}=loan;function stopPropagationFunction(e){e.stopPropagation()}(0,react.useEffect)((()=>{var _document$querySelect;return null===(_document$querySelect=document.querySelector(".list-reservation a"))||void 0===_document$querySelect||_document$querySelect.addEventListener("click",stopPropagationFunction,!0),()=>{var _document$querySelect2;null===(_document$querySelect2=document.querySelector(".list-reservation a"))||void 0===_document$querySelect2||_document$querySelect2.removeEventListener("click",stopPropagationFunction,!0)}}),[]);const openLoanDetailsModalHandler=(0,react.useCallback)((e=>{stopPropagationFunction(e),faust&&openLoanDetailsModal(faust),identifier&&openLoanDetailsModal(identifier)}),[faust,identifier,openLoanDetailsModal]);return react.createElement("button",{type:"button",onClick:e=>openLoanDetailsModalHandler(e),className:"list-reservation my-32 "+(additionalMaterials>0?"list-reservation--stacked":"")},material&&react.createElement(material_info.Z,{periodical,material,isbnForCover:identifier||""},react.createElement(additional_materials_button,{showOn:"desktop",openDueDateModal:()=>openDueDateModal&&dueDate&&openDueDateModal(dueDate),additionalMaterials}),react.createElement(material_overdue_link,{showOn:"desktop",dueDate})),react.createElement(material_status,{loan},react.createElement(additional_materials_button,{showOn:"mobile",openDueDateModal:()=>openDueDateModal&&dueDate&&openDueDateModal(dueDate),additionalMaterials}),react.createElement(material_overdue_link,{showOn:"mobile",dueDate})))})));try{stackablematerial.displayName="stackablematerial",stackablematerial.__docgenInfo={description:"",displayName:"stackablematerial",props:{loan:{defaultValue:null,description:"",name:"loan",required:!0,type:{name:"LoanType"}},amountOfMaterialsWithDueDate:{defaultValue:null,description:"",name:"amountOfMaterialsWithDueDate",required:!1,type:{name:"number | undefined"}},openLoanDetailsModal:{defaultValue:null,description:"",name:"openLoanDetailsModal",required:!0,type:{name:"(modalId: string) => void"}},openDueDateModal:{defaultValue:null,description:"",name:"openDueDateModal",required:!1,type:{name:"((dueDate: string) => void) | undefined"}},digitalMaterial:{defaultValue:null,description:"",name:"digitalMaterial",required:!1,type:{name:"Product | null | undefined"}},faust:{defaultValue:null,description:"",name:"faust",required:!1,type:{name:"`${number}` | null | undefined"}},identifier:{defaultValue:null,description:"",name:"identifier",required:!1,type:{name:"string | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/materials/stackable-material/stackable-material.tsx#stackablematerial"]={docgenInfo:stackablematerial.__docgenInfo,name:"stackablematerial",path:"src/apps/loan-list/materials/stackable-material/stackable-material.tsx#stackablematerial"})}catch(__react_docgen_typescript_loader_error){}const loan_list_items=_ref=>{let{loans,view,dueDates,openDueDateModal,openLoanDetailsModal}=_ref;const t=(0,utils_text.X)();return react.createElement("div",{className:"list-reservation-container my-32"},react.createElement("div",{className:"list-reservation__hidden-explanation",id:"materials-modal-text"},t("loanListDueDateModalAriaLabelText")),"stack"===view&&dueDates&&dueDates.map((uniqueDueDate=>{const loansUniqueDueDate=(0,helpers.Kp)(uniqueDueDate,loans),loan=loansUniqueDueDate[0]||{};return react.createElement("div",null,loan&&react.createElement(stackable_material,{openDueDateModal,openLoanDetailsModal,loan,identifier:loan.identifier,faust:loan.faust,key:loan.faust||loan.identifier,amountOfMaterialsWithDueDate:loansUniqueDueDate.length}))})),"list"===view&&loans.map((loan=>react.createElement(stackable_material,{openLoanDetailsModal,identifier:loan.identifier,faust:loan.faust,key:loan.faust||loan.identifier,loan}))))};try{loanlistitems.displayName="loanlistitems",loanlistitems.__docgenInfo={description:"",displayName:"loanlistitems",props:{loans:{defaultValue:null,description:"",name:"loans",required:!0,type:{name:"LoanType[]"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"list"'},{value:'"stack"'}]}},dueDates:{defaultValue:null,description:"",name:"dueDates",required:!1,type:{name:"string[] | undefined"}},openLoanDetailsModal:{defaultValue:null,description:"",name:"openLoanDetailsModal",required:!0,type:{name:"(modalId: string) => void"}},openDueDateModal:{defaultValue:null,description:"",name:"openDueDateModal",required:!0,type:{name:"(dueDate: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/list/loan-list-items.tsx#loanlistitems"]={docgenInfo:loanlistitems.__docgenInfo,name:"loanlistitems",path:"src/apps/loan-list/list/loan-list-items.tsx#loanlistitems"})}catch(__react_docgen_typescript_loader_error){}var use_pager=__webpack_require__("./src/components/result-pager/use-pager.tsx");const list_list=_ref=>{let{loans,dueDates,view,emptyListLabel,pageSize,openLoanDetailsModal,openDueDateModal,children}=_ref;const[displayedLoans,setDisplayedLoans]=(0,react.useState)([]),{itemsShown,PagerComponent}=(0,use_pager.Z)(loans.length,pageSize,"list"===view?void 0:()=>displayedLoans.length);return(0,react.useEffect)((()=>{if("list"===view)setDisplayedLoans((0,general.qZ)(loans,itemsShown));else{const stackedLoans=(0,helpers.t4)(view,loans,itemsShown,dueDates);setDisplayedLoans([...stackedLoans])}}),[dueDates,loans,itemsShown,view]),react.createElement(react.Fragment,null,children,loans.length>0&&react.createElement(react.Fragment,null,react.createElement(loan_list_items,{openLoanDetailsModal,openDueDateModal,dueDates,loans:displayedLoans,view}),PagerComponent),0===loans.length&&react.createElement(empty_list.Z,{emptyListText:emptyListLabel}))};try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{loans:{defaultValue:null,description:"",name:"loans",required:!0,type:{name:"LoanType[]"}},dueDates:{defaultValue:null,description:"",name:"dueDates",required:!1,type:{name:"string[] | undefined"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"list"'},{value:'"stack"'}]}},emptyListLabel:{defaultValue:null,description:"",name:"emptyListLabel",required:!0,type:{name:"string"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}},openLoanDetailsModal:{defaultValue:null,description:"",name:"openLoanDetailsModal",required:!0,type:{name:"(modalId: string) => void"}},openDueDateModal:{defaultValue:null,description:"",name:"openDueDateModal",required:!0,type:{name:"(dueDate: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/list/list.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/apps/loan-list/list/list.tsx#list"})}catch(__react_docgen_typescript_loader_error){}var publizon=__webpack_require__("./src/core/publizon/publizon.ts"),list_mapper=__webpack_require__("./src/core/utils/helpers/list-mapper.ts");const icon_list=()=>react.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},react.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 17.25C21.4142 17.25 21.75 17.5858 21.75 18C21.75 18.3797 21.4678 18.6935 21.1018 18.7432L21 18.75H3C2.58579 18.75 2.25 18.4142 2.25 18C2.25 17.6203 2.53215 17.3065 2.89823 17.2568L3 17.25H21ZM21 11.25C21.4142 11.25 21.75 11.5858 21.75 12C21.75 12.3797 21.4678 12.6935 21.1018 12.7432L21 12.75H3C2.58579 12.75 2.25 12.4142 2.25 12C2.25 11.6203 2.53215 11.3065 2.89823 11.2568L3 11.25H21ZM21 5.25C21.4142 5.25 21.75 5.58579 21.75 6C21.75 6.3797 21.4678 6.69349 21.1018 6.74315L21 6.75H3C2.58579 6.75 2.25 6.41421 2.25 6C2.25 5.6203 2.53215 5.30651 2.89823 5.25685L3 5.25H21Z"})),icon_stack=()=>react.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},react.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.1291 2.78217C11.6687 2.47235 12.3323 2.47235 12.8719 2.78217L19.5721 6.62914C20.4103 7.11038 20.6996 8.17997 20.2184 9.01814C20.064 9.28701 19.841 9.51004 19.5721 9.66442L18.861 10.0718L19.5721 10.481C20.4103 10.9622 20.6996 12.0318 20.2184 12.87C20.0949 13.0851 19.9274 13.2708 19.7277 13.4156L19.5721 13.5163L18.861 13.9238L19.5721 14.3328C20.4103 14.8141 20.6996 15.8837 20.2184 16.7218C20.0949 16.9369 19.9274 17.1227 19.7277 17.2674L19.5721 17.3681L12.8719 21.2151C12.3772 21.4991 11.7785 21.5228 11.2665 21.2861L11.1291 21.2151L4.42892 17.3681C3.59075 16.8869 3.3014 15.8173 3.78264 14.9791C3.90614 14.764 4.07358 14.5783 4.27328 14.4335L4.42892 14.3328L5.13899 13.9238L4.42892 13.5163C3.59075 13.035 3.3014 11.9654 3.78264 11.1273C3.90614 10.9122 4.07358 10.7264 4.27328 10.5817L4.42892 10.481L5.13899 10.0718L4.42892 9.66442C3.63732 9.20991 3.33525 8.23061 3.70953 7.41711L3.78264 7.27541C3.93702 7.00654 4.16005 6.78351 4.42892 6.62914L11.1291 2.78217ZM17.354 14.7888L12.8719 17.3632C12.3772 17.6472 11.7785 17.6709 11.2665 17.4342L11.1291 17.3632L6.64599 14.7888L5.1758 15.6337C5.13739 15.6557 5.10553 15.6876 5.08348 15.726C5.02455 15.8286 5.0465 15.9556 5.12938 16.033L5.1758 16.0673L11.876 19.9143C11.9338 19.9475 12.0016 19.9557 12.0644 19.9392L12.125 19.9143L18.8252 16.0673C18.8636 16.0452 18.8955 16.0134 18.9175 15.975C18.9765 15.8723 18.9545 15.7454 18.8716 15.6679L18.8252 15.6337L17.354 14.7888ZM17.354 10.9368L12.8719 13.5114C12.3323 13.8212 11.6687 13.8212 11.1291 13.5114L6.64599 10.9368L5.1758 11.7818C5.13739 11.8039 5.10553 11.8357 5.08348 11.8741C5.02455 11.9768 5.0465 12.1037 5.12938 12.1812L5.1758 12.2154L11.876 16.0624C11.9338 16.0956 12.0016 16.1039 12.0644 16.0873L12.125 16.0624L18.8252 12.2154C18.8636 12.1934 18.8955 12.1615 18.9175 12.1231C18.9765 12.0205 18.9545 11.8936 18.8716 11.8161L18.8252 11.7818L17.354 10.9368ZM12.125 4.083C12.0479 4.03874 11.9531 4.03874 11.876 4.083L5.1758 7.92997C5.13739 7.95202 5.10553 7.98389 5.08348 8.0223C5.01473 8.14203 5.05607 8.29483 5.1758 8.36358L11.876 12.2106C11.9531 12.2548 12.0479 12.2548 12.125 12.2106L18.8252 8.36358C18.8636 8.34153 18.8955 8.30967 18.9175 8.27126C18.9863 8.15152 18.945 7.99872 18.8252 7.92997L12.125 4.083Z"})),ToggleListViewButtons=_ref=>{let{setView,view,disableRenewLoansButton}=_ref;const t=(0,utils_text.X)(),{open}=(0,modal.f)(),{allLoansId}=(0,general.GM)(),setViewHandler=(0,react.useCallback)((inputView=>{setView(inputView)}),[setView]),openRenewLoansModal=(0,react.useCallback)((()=>{open(allLoansId)}),[allLoansId,open]);return react.createElement("div",{className:"dpl-list-buttons__buttons"},react.createElement("div",{id:"renew-multiple-modal",className:"dpl-list-buttons__screen-reader-description"},t("loanListRenewMultipleButtonExplanationText")),react.createElement("div",{className:"dpl-list-buttons__buttons__button"},react.createElement("button",{onClick:()=>setViewHandler("list"),className:"dpl-icon-button "+("list"===view?"dpl-icon-button--selected":""),id:"test-list",type:"button","aria-label":t("loanListAriaLabelListButtonText")},react.createElement(icon_list,null))),react.createElement("div",{className:"dpl-list-buttons__buttons__button"},react.createElement("button",{className:"dpl-icon-button "+("stack"===view?"dpl-icon-button--selected":""),"data-cy":"stack",onClick:()=>setViewHandler("stack"),type:"button","aria-label":t("loanListAriaLabelStackButtonText")},react.createElement(icon_stack,null)),react.createElement("div",{className:"dpl-list-buttons__buttons__button dpl-list-buttons__buttons__button--hide-on-mobile"},react.createElement("button",{type:"button",onClick:()=>{openRenewLoansModal()},disabled:disableRenewLoansButton,className:"btn-primary btn-filled btn-small arrow__hover--right-small "+(disableRenewLoansButton?"btn-outline":""),id:"test-renew-button","aria-describedby":"renew-multiple-modal"},t("loanListRenewMultipleButtonText")))))},list_ToggleListViewButtons=ToggleListViewButtons;try{ToggleListViewButtons.displayName="ToggleListViewButtons",ToggleListViewButtons.__docgenInfo={description:"",displayName:"ToggleListViewButtons",props:{setView:{defaultValue:null,description:"",name:"setView",required:!0,type:{name:"(view: ListView) => void"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"list"'},{value:'"stack"'}]}},disableRenewLoansButton:{defaultValue:null,description:"",name:"disableRenewLoansButton",required:!0,type:{name:"boolean"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}},loans:{defaultValue:null,description:"",name:"loans",required:!0,type:{name:"LoanType[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/list/ToggleListViewButtons.tsx#ToggleListViewButtons"]={docgenInfo:ToggleListViewButtons.__docgenInfo,name:"ToggleListViewButtons",path:"src/apps/loan-list/list/ToggleListViewButtons.tsx#ToggleListViewButtons"})}catch(__react_docgen_typescript_loader_error){}const ListHeader=_ref=>{let{header,amount,children}=_ref;return react.createElement("div",{className:"dpl-list-buttons"},react.createElement("h2",{className:"dpl-list-buttons__header"},header,react.createElement("div",{className:"dpl-list-buttons__power"},amount)),react.createElement("div",{className:"dpl-list-buttons__buttons"},children))},list_ListHeader=ListHeader;try{ListHeader.displayName="ListHeader",ListHeader.__docgenInfo={description:"",displayName:"ListHeader",props:{header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string"}},amount:{defaultValue:null,description:"",name:"amount",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/list/ListHeader.tsx#ListHeader"]={docgenInfo:ListHeader.__docgenInfo,name:"ListHeader",path:"src/apps/loan-list/list/ListHeader.tsx#ListHeader"})}catch(__react_docgen_typescript_loader_error){}var useIntersection=__webpack_require__("./node_modules/react-use/esm/useIntersection.js"),react_query_es=__webpack_require__("./node_modules/react-query/es/index.js"),Button=__webpack_require__("./src/components/Buttons/Button.tsx"),Checkbox=__webpack_require__("./src/components/checkbox/Checkbox.tsx"),modal_ids=__webpack_require__("./src/core/configuration/modal-ids.json");const StatusMessage=_ref=>{let{loan}=_ref;const t=(0,utils_text.X)(),{loanType,renewalStatusList}=loan;return react.createElement(react.Fragment,null,renewalStatusList&&renewalStatusList.map((text=>react.createElement("span",{className:"text-small-caption"},(0,helpers.li)(text,t)))),"interLibraryLoan"===loanType&&react.createElement("span",{className:"text-small-caption"},t("groupModalRenewLoanDeniedInterLibraryLoanText")))},selectable_material_StatusMessage=StatusMessage;try{StatusMessage.displayName="StatusMessage",StatusMessage.__docgenInfo={description:"",displayName:"StatusMessage",props:{loan:{defaultValue:null,description:"",name:"loan",required:!0,type:{name:"LoanType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/materials/selectable-material/StatusMessage.tsx#StatusMessage"]={docgenInfo:StatusMessage.__docgenInfo,name:"StatusMessage",path:"src/apps/loan-list/materials/selectable-material/StatusMessage.tsx#StatusMessage"})}catch(__react_docgen_typescript_loader_error){}const selectable_material=(0,digital_material_fetch_hoc.Z)((0,material_fetch_hoc.Z)((_ref=>{let{loan,material,disabled,onChecked,materialsToRenew,openLoanDetailsModal}=_ref;const t=(0,utils_text.X)(),{dueDate,faust,identifier,loanId}=loan,{authors,materialType,year,title}=material||{},openLoanDetailsModalHandler=(0,react.useCallback)((()=>{faust&&openLoanDetailsModal(faust),identifier&&openLoanDetailsModal(identifier)}),[faust,identifier,openLoanDetailsModal]);return react.createElement("li",null,react.createElement("div",{className:"list-materials "+(disabled?"list-materials--disabled":"")},react.createElement("div",{className:"mr-32"},faust&&onChecked&&loanId&&react.createElement(Checkbox.Z,{onChecked:()=>onChecked(loanId),id:faust,selected:Boolean((null==materialsToRenew?void 0:materialsToRenew.indexOf(loanId))>-1),disabled,label:t("groupModalHiddenLabelCheckboxOnMaterialText"),hideLabel:!0}),(0,helpers.u8)(loan)&&identifier&&react.createElement(Checkbox.Z,{selected:!1,id:identifier,disabled:!0,label:t("groupModalHiddenLabelCheckboxOnMaterialText"),hideLabel:!0})),react.createElement("div",{className:"list-materials__content"},react.createElement("div",{className:"list-materials__content-status"},react.createElement("div",{className:"status-label status-label--outline "},materialType)),react.createElement("p",{className:"text-header-h5 mt-8"},title),react.createElement("p",{className:"text-small-caption"},authors,year&&react.createElement(react.Fragment,null," (",year,")"))),react.createElement("div",{className:"list-materials__status"},react.createElement(selectable_material_StatusMessage,{loan}),react.createElement("div",null,dueDate&&react.createElement(status_badge,{dueDate,neutralText:t("groupModalDueDateMaterialText",{placeholders:{"@date":(0,helpers.p6)(dueDate)}})}),react.createElement("button",{type:"button",className:"list-reservation__note",onClick:openLoanDetailsModalHandler},t("groupModalGoToMaterialText"))))))})));try{selectablematerial.displayName="selectablematerial",selectablematerial.__docgenInfo={description:"",displayName:"selectablematerial",props:{loan:{defaultValue:null,description:"",name:"loan",required:!0,type:{name:"LoanType"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean | undefined"}},materialsToRenew:{defaultValue:null,description:"",name:"materialsToRenew",required:!0,type:{name:"number[]"}},onChecked:{defaultValue:null,description:"",name:"onChecked",required:!1,type:{name:"((loanId: number) => void) | undefined"}},openLoanDetailsModal:{defaultValue:null,description:"",name:"openLoanDetailsModal",required:!0,type:{name:"(modalId: string) => void"}},digitalMaterial:{defaultValue:null,description:"",name:"digitalMaterial",required:!1,type:{name:"Product | null | undefined"}},faust:{defaultValue:null,description:"",name:"faust",required:!1,type:{name:"`${number}` | null | undefined"}},identifier:{defaultValue:null,description:"",name:"identifier",required:!1,type:{name:"string | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/materials/selectable-material/selectable-material.tsx#selectablematerial"]={docgenInfo:selectablematerial.__docgenInfo,name:"selectablematerial",path:"src/apps/loan-list/materials/selectable-material/selectable-material.tsx#selectablematerial"})}catch(__react_docgen_typescript_loader_error){}const renew_loans_modal_content=_ref=>{let{loansModal,pageSize,openLoanDetailsModal}=_ref;const{mutate}=(0,fbs.Gb)(),t=(0,utils_text.X)(),queryClient=(0,react_query_es.useQueryClient)(),{close}=(0,modal.f)(),renewableMaterials=(0,general.R3)(loansModal),{itemsShown,PagerComponent}=(0,use_pager.Z)(loansModal.length,pageSize),intersectionRef=react.useRef(null),{isIntersecting:isVisible}=(0,useIntersection.Z)(intersectionRef,{threshold:0})||{isIntersecting:!1},[materialsToRenew,setMaterialsToRenew]=(0,react.useState)([]),[displayedLoans,setDisplayedLoans]=(0,react.useState)([]),renewSelected=(0,react.useCallback)((()=>{mutate({data:materialsToRenew},{onSuccess:result=>{result&&(queryClient.invalidateQueries((0,fbs._0)()),close(modal_ids.allLoansId))},onError:()=>{}})}),[close,materialsToRenew,mutate,queryClient]);(0,react.useEffect)((()=>{setMaterialsToRenew((0,general.JY)(loansModal))}),[loansModal]),(0,react.useEffect)((()=>{setDisplayedLoans([...loansModal].splice(0,itemsShown))}),[itemsShown,loansModal]);const selectAll=()=>{materialsToRenew.length>0?setMaterialsToRenew([]):setMaterialsToRenew((0,general.JY)(loansModal))},onChecked=loanId=>{const materialsToRenewCopy=[...materialsToRenew],indexOfItemToRemove=materialsToRenew.indexOf(loanId);indexOfItemToRemove>-1?materialsToRenewCopy.splice(indexOfItemToRemove,1):materialsToRenewCopy.push(loanId),setMaterialsToRenew(materialsToRenewCopy)};return react.createElement(react.Fragment,null,react.createElement("div",{className:"modal-loan__buttons",ref:intersectionRef},react.createElement(Checkbox.Z,{selected:0!==renewableMaterials&&materialsToRenew.length===renewableMaterials,disabled:0===renewableMaterials,id:"checkbox-select-all",onChecked:()=>selectAll(),label:t("groupModalCheckboxText")}),react.createElement(Button.z,{label:t("groupModalButtonText",{count:renewableMaterials,placeholders:{"@count":renewableMaterials}}),buttonType:"none",id:"renew-several",variant:"filled",disabled:0===renewableMaterials,collapsible:!1,onClick:renewSelected,size:"small"})),react.createElement("div",{className:"modal-loan__list"},react.createElement("ul",{className:"modal-loan__list-materials "+(isVisible?"":"modal-loan__list-materials--bottom-buttons-visible")},displayedLoans.map((loanType=>react.createElement(selectable_material,{openLoanDetailsModal,faust:loanType.faust,identifier:loanType.identifier,key:loanType.faust,materialsToRenew,onChecked,disabled:!loanType.isRenewable,loan:loanType}))),PagerComponent),!isVisible&&react.createElement("div",{className:"modal-loan__buttons modal-loan__buttons--bottom"},react.createElement(Checkbox.Z,{selected:0!==renewableMaterials&&materialsToRenew.length===renewableMaterials,disabled:0===renewableMaterials,id:"checkbox-select-all",onChecked:()=>selectAll(),label:t("groupModalCheckboxText")}),react.createElement(Button.z,{label:t("groupModalButtonText",{count:renewableMaterials,placeholders:{"@count":renewableMaterials}}),buttonType:"none",variant:"filled",disabled:0===renewableMaterials,collapsible:!1,onClick:renewSelected,size:"small"}))))};try{renewloansmodalcontent.displayName="renewloansmodalcontent",renewloansmodalcontent.__docgenInfo={description:"",displayName:"renewloansmodalcontent",props:{loansModal:{defaultValue:null,description:"",name:"loansModal",required:!0,type:{name:"LoanType[]"}},openLoanDetailsModal:{defaultValue:null,description:"",name:"openLoanDetailsModal",required:!0,type:{name:"(modalId: string) => void"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/modal/renew-loans-modal-content.tsx#renewloansmodalcontent"]={docgenInfo:renewloansmodalcontent.__docgenInfo,name:"renewloansmodalcontent",path:"src/apps/loan-list/modal/renew-loans-modal-content.tsx#renewloansmodalcontent"})}catch(__react_docgen_typescript_loader_error){}const renew_loans_modal=_ref=>{let{loansModal,pageSize,openLoanDetailsModal}=_ref;const t=(0,utils_text.X)();return react.createElement(modal.Z,{modalId:modal_ids.allLoansId,classNames:"modal-loan",closeModalAriaLabelText:t("groupModalCloseModalAriaLabelText"),screenReaderModalDescriptionText:t("groupModalAriaDescriptionText")},react.createElement("div",{className:"modal-loan__container"},loansModal&&react.createElement(react.Fragment,null,react.createElement("div",{className:"modal-loan__header"},react.createElement("div",null,react.createElement("h1",{className:"modal-loan__title text-header-h2"},t("groupModalHeaderText")))),react.createElement(renew_loans_modal_content,{pageSize,loansModal,openLoanDetailsModal}))))};try{renewloansmodal.displayName="renewloansmodal",renewloansmodal.__docgenInfo={description:"",displayName:"renewloansmodal",props:{loansModal:{defaultValue:null,description:"",name:"loansModal",required:!0,type:{name:"LoanType[] | null"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}},openLoanDetailsModal:{defaultValue:null,description:"",name:"openLoanDetailsModal",required:!0,type:{name:"(modalId: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/modal/renew-loans-modal.tsx#renewloansmodal"]={docgenInfo:renewloansmodal.__docgenInfo,name:"renewloansmodal",path:"src/apps/loan-list/modal/renew-loans-modal.tsx#renewloansmodal"})}catch(__react_docgen_typescript_loader_error){}var Reservations=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Reservations.svg"),Reservations_default=__webpack_require__.n(Reservations),Loans=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Loans.svg"),Loans_default=__webpack_require__.n(Loans),Ebook=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Ebook.svg"),Ebook_default=__webpack_require__.n(Ebook),icon_btn_external_link=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/buttons/icon-btn-external-link.svg"),icon_btn_external_link_default=__webpack_require__.n(icon_btn_external_link),icon_warning=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-warning.svg"),icon_warning_default=__webpack_require__.n(icon_warning);const warning_bar=_ref=>{let{linkText,overdueText}=_ref;const{feesPageUrl}=(0,utils_url.J_)();return react.createElement("div",{className:"warning-bar bg-global-secondary"},react.createElement("div",{className:"warning-bar__left"},react.createElement("img",{className:"warning-bar__icon",src:icon_warning_default(),alt:""}),react.createElement("div",null,react.createElement("p",{className:"text-body-medium-regular color-primary-black"},overdueText,react.createElement(atoms_link.r,{href:feesPageUrl,className:"link-tag color-secondary-gray ml-8"},linkText)))))};try{warningbar.displayName="warningbar",warningbar.__docgenInfo={description:"",displayName:"warningbar",props:{linkText:{defaultValue:null,description:"",name:"linkText",required:!0,type:{name:"string"}},overdueText:{defaultValue:null,description:"",name:"overdueText",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/materials/utils/warning-bar.tsx#warningbar"]={docgenInfo:warningbar.__docgenInfo,name:"warningbar",path:"src/apps/loan-list/materials/utils/warning-bar.tsx#warningbar"})}catch(__react_docgen_typescript_loader_error){}var list_details=__webpack_require__("./src/components/list-details/list-details.tsx"),modal_details_header=__webpack_require__("./src/components/modal-details-header/modal-details-header.tsx");const renew_button=_ref=>{let{loanId,faust,renewable}=_ref;const t=(0,utils_text.X)(),queryClient=(0,react_query_es.useQueryClient)(),{close}=(0,modal.f)(),{mutate}=(0,fbs.Gb)(),renew=(0,react.useCallback)((renewId=>{mutate({data:[renewId]},{onSuccess:result=>{result&&(queryClient.invalidateQueries((0,fbs._0)()),close(faust))},onError:()=>{close(faust)}})}),[close,faust,mutate,queryClient]);return react.createElement("div",{className:"modal-details__buttons"},react.createElement("button",{type:"button",disabled:!renewable,onClick:()=>renew(loanId),className:"btn-primary btn-filled btn-small arrow__hover--right-small "+(renewable?"":"btn-outline")},t("materialDetailsRenewLoanButtonText")))};try{renewbutton.displayName="renewbutton",renewbutton.__docgenInfo={description:"",displayName:"renewbutton",props:{loanId:{defaultValue:null,description:"",name:"loanId",required:!0,type:{name:"number"}},renewable:{defaultValue:null,description:"",name:"renewable",required:!0,type:{name:"boolean"}},faust:{defaultValue:null,description:"",name:"faust",required:!0,type:{name:"`${number}`"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/modal/renew-button.tsx#renewbutton"]={docgenInfo:renewbutton.__docgenInfo,name:"renewbutton",path:"src/apps/loan-list/modal/renew-button.tsx#renewbutton"})}catch(__react_docgen_typescript_loader_error){}const material_details=(0,digital_material_fetch_hoc.Z)((0,material_fetch_hoc.Z)((_ref=>{let{loan,material}=_ref;const t=(0,utils_text.X)();if(!loan)return null;const{dueDate,faust,loanId,identifier,isRenewable,materialItemNumber,loanDate,periodical}=loan,{authors,materialType,year,title,pid,description,series}=material||{};return react.createElement("div",{className:"modal-details__container"},react.createElement(modal_details_header.Z,{year,authors,title,periodical,series,pid,description,materialType,isbnForCover:identifier||""},dueDate&&react.createElement(status_badge,{dueDate,dangerText:t("materialDetailsOverdueText")})),!(0,helpers.u8)(loan)&&faust&&loanId&&react.createElement(renew_button,{faust,loanId,renewable:isRenewable}),(0,helpers.u8)(loan)&&react.createElement("div",{className:"modal-details__buttons"},react.createElement(atoms_link.r,{href:new URL("https://ereolen.dk/user/me/"),className:"btn-primary btn-filled btn-small arrow__hover--right-small"},t("materialDetailsGoToEreolenText"),react.createElement("img",{src:icon_btn_external_link_default(),className:"btn-icon invert",alt:""}))),dueDate&&(0,general.cf)(dueDate)&&react.createElement("div",{className:"modal-details__warning"},react.createElement(warning_bar,{linkText:t("materialDetailsLinkToPageWithFeesText"),overdueText:t("materialDetailsWarningLoanOverdueText")})),react.createElement("div",{className:"modal-details__list"},dueDate&&!(0,helpers.u8)(loan)&&react.createElement(list_details.Z,{icon:Loans_default(),labels:(0,helpers.p6)(dueDate),title:t("materialDetailsPhysicalDueDateLabelText")}),dueDate&&(0,helpers.u8)(loan)&&react.createElement(list_details.Z,{icon:Loans_default(),labels:(0,helpers.p6)(dueDate),title:t("materialDetailsDigitalDueDateLabelText")}),loanDate&&react.createElement(list_details.Z,{icon:Reservations_default(),labels:(0,helpers.p6)(loanDate),title:t("materialDetailsLoanDateLabelText")}),materialItemNumber&&react.createElement(list_details.Z,{icon:Ebook_default(),labels:materialItemNumber,title:t("materialDetailsMaterialNumberLabelText")})))})));try{materialdetails.displayName="materialdetails",materialdetails.__docgenInfo={description:"",displayName:"materialdetails",props:{loan:{defaultValue:null,description:"",name:"loan",required:!0,type:{name:"LoanType | null"}},digitalMaterial:{defaultValue:null,description:"",name:"digitalMaterial",required:!1,type:{name:"Product | null | undefined"}},faust:{defaultValue:null,description:"",name:"faust",required:!1,type:{name:"`${number}` | null | undefined"}},identifier:{defaultValue:null,description:"",name:"identifier",required:!1,type:{name:"string | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/modal/material-details.tsx#materialdetails"]={docgenInfo:materialdetails.__docgenInfo,name:"materialdetails",path:"src/apps/loan-list/modal/material-details.tsx#materialdetails"})}catch(__react_docgen_typescript_loader_error){}var material_details_modal=__webpack_require__("./src/apps/loan-list/modal/material-details-modal.tsx");var dayjs_min=__webpack_require__("./node_modules/dayjs/dayjs.min.js"),dayjs_min_default=__webpack_require__.n(dayjs_min);const due_date_loans_modal=_ref=>{let{dueDate,loansModal,openLoanDetailsModal,pageSize}=_ref;const t=(0,utils_text.X)(),aMonthAgo=dayjs_min_default()().subtract(1,"month").format("YYYY-MM-DD"),{dueDateModal}=(0,general.GM)();return react.createElement(modal.Z,{modalId:`${dueDateModal}${dueDate}`,classNames:"modal-loan",closeModalAriaLabelText:t("groupModalDueDateRenewLoanCloseModalAriaLabelText"),screenReaderModalDescriptionText:t("groupModalDueDateAriaDescriptionText")},react.createElement("div",{className:"modal-loan__container"},loansModal&&dueDate&&react.createElement(react.Fragment,null,react.createElement("div",{className:"modal-loan__header"},react.createElement("div",{className:"mr-32"},react.createElement(status_circle,{loanDate:aMonthAgo,dueDate})),react.createElement("div",null,react.createElement("h1",{className:"modal-loan__title text-header-h2"},t("groupModalDueDateHeaderText",{placeholders:{"@date":(0,helpers.p6)(dueDate)}})),react.createElement("div",{className:"text-body-large"},t("groupModalReturnLibraryText")))),(0,general.cf)(dueDate)&&react.createElement("div",{className:"modal-details__warning"},react.createElement(warning_bar,{linkText:t("groupModalDueDateLinkToPageWithFeesText"),overdueText:t("groupModalDueDateWarningLoanOverdueText")})),react.createElement(renew_loans_modal_content,{openLoanDetailsModal,pageSize,loansModal}))))};try{duedateloansmodal.displayName="duedateloansmodal",duedateloansmodal.__docgenInfo={description:"",displayName:"duedateloansmodal",props:{dueDate:{defaultValue:null,description:"",name:"dueDate",required:!1,type:{name:"string | null | undefined"}},loansModal:{defaultValue:null,description:"",name:"loansModal",required:!1,type:{name:"LoanType[] | undefined"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}},openLoanDetailsModal:{defaultValue:null,description:"",name:"openLoanDetailsModal",required:!0,type:{name:"(modalId: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/modal/due-date-loans-modal.tsx#duedateloansmodal"]={docgenInfo:duedateloansmodal.__docgenInfo,name:"duedateloansmodal",path:"src/apps/loan-list/modal/due-date-loans-modal.tsx#duedateloansmodal"})}catch(__react_docgen_typescript_loader_error){}const loan_list=_ref=>{let{pageSize}=_ref;const{modalIds}=(0,es.v9)((s=>s.modal)),{open}=(0,modal.f)(),{loanDetails,allLoansId,dueDateModal}=(0,general.GM)(),t=(0,utils_text.X)(),[view,setView]=(0,react.useState)("list"),[modalLoan,setModalLoan]=(0,react.useState)(null),[dueDate,setDueDate]=(0,react.useState)(null),[modalDetailsId,setModalDetailsId]=(0,react.useState)(null),[physicalLoans,setPhysicalLoans]=(0,react.useState)(null),[digitalLoans,setDigitalLoans]=(0,react.useState)(null),[physicalLoansDueDates,setPhysicalLoansDueDates]=(0,react.useState)([]),{isSuccess,data}=(0,fbs.n1)(),{data:publizonData}=(0,publizon.T8)();(0,react.useEffect)((()=>{var _loanForModal;let loanForModal=null;physicalLoans&&modalDetailsId&&(loanForModal=(0,helpers.TE)(physicalLoans,"faust",modalDetailsId)),0===(null===(_loanForModal=loanForModal)||void 0===_loanForModal?void 0:_loanForModal.length)&&digitalLoans&&modalDetailsId&&(loanForModal=(0,helpers.TE)(digitalLoans,"identifier",modalDetailsId)),loanForModal&&loanForModal.length>0&&setModalLoan(loanForModal[0])}),[digitalLoans,modalDetailsId,physicalLoans]),(0,react.useEffect)((()=>{if(isSuccess&&data){const mapToLoanType=(0,list_mapper.u3)(data);setPhysicalLoansDueDates((0,general.I8)(mapToLoanType));const sortedByLoanDate=(0,general.sC)(mapToLoanType);setPhysicalLoans(sortedByLoanDate)}else setPhysicalLoans([])}),[isSuccess,data]),(0,react.useEffect)((()=>{if(null!=publizonData&&publizonData.loans){const mapToLoanType=(0,list_mapper.Rr)(publizonData.loans),sortedByLoanDate=(0,general.sC)(mapToLoanType);setDigitalLoans(sortedByLoanDate)}else setDigitalLoans([])}),[publizonData]);const openLoanDetailsModal=(0,react.useCallback)((modalId=>{setModalDetailsId(modalId),open(`${loanDetails}${modalId}`)}),[loanDetails,open]),openDueDateModal=(0,react.useCallback)((dueDateInput=>{setDueDate(dueDateInput),open(`${dueDateModal}${dueDateInput}`)}),[dueDateModal,open]);(0,react.useEffect)((()=>{const modalUrlParam=(0,url.wo)("modal");if(modalUrlParam&&modalUrlParam.includes(loanDetails)){const loanDetailsModalId=(queryParam=>{const{loanDetails}=(0,general.GM)()||{loanDetails:""},regexIdentifier=new RegExp(`${loanDetails}(\\d{13})|(\\d{8})`,"g"),modalId=queryParam.match(regexIdentifier);if(modalId){const[returnId]=modalId;return returnId}return""})(modalUrlParam);loanDetailsModalId&&setModalDetailsId(loanDetailsModalId)}if(modalUrlParam===allLoansId&&open(allLoansId),modalUrlParam&&(queryParam=>{const{dueDateModal}=(0,general.GM)(),regex=new RegExp(`${dueDateModal}\\d{4}-\\d{2}-\\d{2}`,"g"),dateFound=queryParam.match(regex);return dateFound?dateFound[0]:null})(modalUrlParam)){const dateFromQueryParam=(queryParam=>{const dateFound=queryParam.match(/\d{4}-\d{2}-\d{2}/g);return dateFound?dateFound[0]:null})(modalUrlParam);dateFromQueryParam&&openDueDateModal(dateFromQueryParam)}}),[allLoansId,loanDetails,open,openDueDateModal]);const listContainsLoans=Array.isArray(physicalLoans)&&physicalLoans.length>0||Array.isArray(digitalLoans)&&digitalLoans.length>0;return react.createElement(react.Fragment,null,react.createElement("div",{style:modalIds.length>0?{display:"none"}:{},className:"loan-list-page"},react.createElement("h1",{className:"text-header-h1 my-32"},t("loanListTitleText")),listContainsLoans&&react.createElement(react.Fragment,null,physicalLoans&&react.createElement(list_list,{pageSize,emptyListLabel:t("loanListPhysicalLoansEmptyListText"),loans:physicalLoans,dueDates:physicalLoansDueDates,view,openLoanDetailsModal,openDueDateModal},react.createElement(list_ListHeader,{header:t("loanListPhysicalLoansTitleText"),amount:physicalLoans.length},react.createElement(list_ToggleListViewButtons,{disableRenewLoansButton:0===(0,general.R3)(physicalLoans),view,setView,loans:physicalLoans,pageSize}))),digitalLoans&&react.createElement(list_list,{pageSize,emptyListLabel:t("loanListDigitalLoansEmptyListText"),loans:digitalLoans,view:"list",openLoanDetailsModal,openDueDateModal},react.createElement(list_ListHeader,{header:t("loanListDigitalLoansTitleText"),amount:digitalLoans.length}))),(0,helpers.Re)(physicalLoans)&&(0,helpers.Re)(digitalLoans)&&react.createElement(empty_list.Z,{emptyListText:t("loanListDigitalPhysicalLoansEmptyListText")})),react.createElement(renew_loans_modal,{openLoanDetailsModal,pageSize,loansModal:physicalLoans}),react.createElement(material_details_modal.Z,{modalId:`${loanDetails}${modalDetailsId}`},react.createElement(material_details,{faust:null==modalLoan?void 0:modalLoan.faust,identifier:null==modalLoan?void 0:modalLoan.identifier,loan:modalLoan})),dueDate&&physicalLoans&&react.createElement(due_date_loans_modal,{pageSize,openLoanDetailsModal,dueDate,loansModal:(0,helpers.Kp)(dueDate,physicalLoans)}))};try{loanlist.displayName="loanlist",loanlist.__docgenInfo={description:"",displayName:"loanlist",props:{pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/list/loan-list.tsx#loanlist"]={docgenInfo:loanlist.__docgenInfo,name:"loanlist",path:"src/apps/loan-list/list/loan-list.tsx#loanlist"})}catch(__react_docgen_typescript_loader_error){}const loan_list_entry=(0,utils_url.XL)((0,utils_text.z)((_ref=>{let{pageSizeDesktop,pageSizeMobile}=_ref;const pageSize=(0,general.Rh)({desktop:pageSizeDesktop,mobile:pageSizeMobile},"pageSizeLoanList");return react.createElement(loan_list,{pageSize})})));try{loanlistentry.displayName="loanlistentry",loanlistentry.__docgenInfo={description:"",displayName:"loanlistentry",props:{pageSizeDesktop:{defaultValue:null,description:"",name:"pageSizeDesktop",required:!1,type:{name:"number | undefined"}},pageSizeMobile:{defaultValue:null,description:"",name:"pageSizeMobile",required:!1,type:{name:"number | undefined"}},groupModalDueDateLinkToPageWithFeesText:{defaultValue:null,description:"",name:"groupModalDueDateLinkToPageWithFeesText",required:!0,type:{name:"string"}},groupModalDueDateRenewLoanCloseModalAriaLabelText:{defaultValue:null,description:"",name:"groupModalDueDateRenewLoanCloseModalAriaLabelText",required:!0,type:{name:"string"}},groupModalDueDateAriaDescriptionText:{defaultValue:null,description:"",name:"groupModalDueDateAriaDescriptionText",required:!0,type:{name:"string"}},groupModalDueDateHeaderText:{defaultValue:null,description:"",name:"groupModalDueDateHeaderText",required:!0,type:{name:"string"}},groupModalDueDateWarningLoanOverdueText:{defaultValue:null,description:"",name:"groupModalDueDateWarningLoanOverdueText",required:!0,type:{name:"string"}},loanListAriaLabelListButtonText:{defaultValue:null,description:"",name:"loanListAriaLabelListButtonText",required:!0,type:{name:"string"}},loanListAriaLabelStackButtonText:{defaultValue:null,description:"",name:"loanListAriaLabelStackButtonText",required:!0,type:{name:"string"}},groupModalRenewLoanDeniedInterLibraryLoanText:{defaultValue:null,description:"",name:"groupModalRenewLoanDeniedInterLibraryLoanText",required:!0,type:{name:"string"}},groupModalRenewLoanDeniedMaxRenewalsReachedText:{defaultValue:null,description:"",name:"groupModalRenewLoanDeniedMaxRenewalsReachedText",required:!0,type:{name:"string"}},groupModalRenewLoanDeniedReservedText:{defaultValue:null,description:"",name:"groupModalRenewLoanDeniedReservedText",required:!0,type:{name:"string"}},loanListDigitalLoansEmptyListText:{defaultValue:null,description:"",name:"loanListDigitalLoansEmptyListText",required:!0,type:{name:"string"}},loanListDigitalLoansTitleText:{defaultValue:null,description:"",name:"loanListDigitalLoansTitleText",required:!0,type:{name:"string"}},loanListDigitalPhysicalLoansEmptyListText:{defaultValue:null,description:"",name:"loanListDigitalPhysicalLoansEmptyListText",required:!0,type:{name:"string"}},loanListDueDateModalAriaLabelText:{defaultValue:null,description:"",name:"loanListDueDateModalAriaLabelText",required:!0,type:{name:"string"}},loanListDueDateModalAriaDescribeMobileText:{defaultValue:null,description:"",name:"loanListDueDateModalAriaDescribeMobileText",required:!0,type:{name:"string"}},groupModalHiddenLabelCheckboxOnMaterialText:{defaultValue:null,description:"",name:"groupModalHiddenLabelCheckboxOnMaterialText",required:!0,type:{name:"string"}},loanListLateFeeDesktopText:{defaultValue:null,description:"",name:"loanListLateFeeDesktopText",required:!0,type:{name:"string"}},loanListLateFeeMobileText:{defaultValue:null,description:"",name:"loanListLateFeeMobileText",required:!0,type:{name:"string"}},loanListMaterialDaysText:{defaultValue:null,description:"",name:"loanListMaterialDaysText",required:!0,type:{name:"string"}},loanListAdditionalMaterialsText:{defaultValue:null,description:"",name:"loanListAdditionalMaterialsText",required:!0,type:{name:"string"}},loanListPhysicalLoansEmptyListText:{defaultValue:null,description:"",name:"loanListPhysicalLoansEmptyListText",required:!0,type:{name:"string"}},loanListPhysicalLoansTitleText:{defaultValue:null,description:"",name:"loanListPhysicalLoansTitleText",required:!0,type:{name:"string"}},loanListRenewMultipleButtonExplanationText:{defaultValue:null,description:"",name:"loanListRenewMultipleButtonExplanationText",required:!0,type:{name:"string"}},loanListRenewMultipleButtonText:{defaultValue:null,description:"",name:"loanListRenewMultipleButtonText",required:!0,type:{name:"string"}},loanListStatusBadgeDangerText:{defaultValue:null,description:"",name:"loanListStatusBadgeDangerText",required:!0,type:{name:"string"}},loanListStatusBadgeWarningText:{defaultValue:null,description:"",name:"loanListStatusBadgeWarningText",required:!0,type:{name:"string"}},loanListStatusCircleAriaLabelText:{defaultValue:null,description:"",name:"loanListStatusCircleAriaLabelText",required:!0,type:{name:"string"}},loanListTitleText:{defaultValue:null,description:"",name:"loanListTitleText",required:!0,type:{name:"string"}},loanListToBeDeliveredDigitalMaterialText:{defaultValue:null,description:"",name:"loanListToBeDeliveredDigitalMaterialText",required:!0,type:{name:"string"}},groupModalDueDateMaterialText:{defaultValue:null,description:"",name:"groupModalDueDateMaterialText",required:!0,type:{name:"string"}},loanListToBeDeliveredText:{defaultValue:null,description:"",name:"loanListToBeDeliveredText",required:!0,type:{name:"string"}},materialAndAuthorText:{defaultValue:null,description:"",name:"materialAndAuthorText",required:!0,type:{name:"string"}},materialByAuthorText:{defaultValue:null,description:"",name:"materialByAuthorText",required:!0,type:{name:"string"}},materialDetailsCloseModalAriaLabelText:{defaultValue:null,description:"",name:"materialDetailsCloseModalAriaLabelText",required:!0,type:{name:"string"}},materialDetailsPhysicalDueDateLabelText:{defaultValue:null,description:"",name:"materialDetailsPhysicalDueDateLabelText",required:!0,type:{name:"string"}},materialDetailsLinkToPageWithFeesText:{defaultValue:null,description:"",name:"materialDetailsLinkToPageWithFeesText",required:!0,type:{name:"string"}},materialDetailsLoanDateLabelText:{defaultValue:null,description:"",name:"materialDetailsLoanDateLabelText",required:!0,type:{name:"string"}},materialDetailsMaterialNumberLabelText:{defaultValue:null,description:"",name:"materialDetailsMaterialNumberLabelText",required:!0,type:{name:"string"}},materialDetailsModalAriaDescriptionText:{defaultValue:null,description:"",name:"materialDetailsModalAriaDescriptionText",required:!0,type:{name:"string"}},materialDetailsOverdueText:{defaultValue:null,description:"",name:"materialDetailsOverdueText",required:!0,type:{name:"string"}},materialDetailsRenewLoanButtonText:{defaultValue:null,description:"",name:"materialDetailsRenewLoanButtonText",required:!0,type:{name:"string"}},materialDetailsWarningLoanOverdueText:{defaultValue:null,description:"",name:"materialDetailsWarningLoanOverdueText",required:!0,type:{name:"string"}},publizonAudioBookText:{defaultValue:null,description:"",name:"publizonAudioBookText",required:!0,type:{name:"string"}},publizonEbookText:{defaultValue:null,description:"",name:"publizonEbookText",required:!0,type:{name:"string"}},publizonPodcastText:{defaultValue:null,description:"",name:"publizonPodcastText",required:!0,type:{name:"string"}},groupModalAriaDescriptionText:{defaultValue:null,description:"",name:"groupModalAriaDescriptionText",required:!0,type:{name:"string"}},groupModalButtonText:{defaultValue:null,description:"",name:"groupModalButtonText",required:!0,type:{name:"string"}},groupModalCheckboxText:{defaultValue:null,description:"",name:"groupModalCheckboxText",required:!0,type:{name:"string"}},groupModalCloseModalAriaLabelText:{defaultValue:null,description:"",name:"groupModalCloseModalAriaLabelText",required:!0,type:{name:"string"}},groupModalHeaderText:{defaultValue:null,description:"",name:"groupModalHeaderText",required:!0,type:{name:"string"}},resultPagerStatusText:{defaultValue:null,description:"",name:"resultPagerStatusText",required:!0,type:{name:"string"}},showMoreText:{defaultValue:null,description:"",name:"showMoreText",required:!0,type:{name:"string"}},groupModalReturnLibraryText:{defaultValue:null,description:"",name:"groupModalReturnLibraryText",required:!0,type:{name:"string"}},materialDetailsGoToEreolenText:{defaultValue:null,description:"",name:"materialDetailsGoToEreolenText",required:!0,type:{name:"string"}},fbsBaseUrlConfig:{defaultValue:null,description:"",name:"fbsBaseUrlConfig",required:!0,type:{name:"string"}},materialOverdueUrl:{defaultValue:null,description:"",name:"materialOverdueUrl",required:!0,type:{name:"string"}},publizonBaseUrlConfig:{defaultValue:null,description:"",name:"publizonBaseUrlConfig",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/list/loan-list.entry.tsx#loanlistentry"]={docgenInfo:loanlistentry.__docgenInfo,name:"loanlistentry",path:"src/apps/loan-list/list/loan-list.entry.tsx#loanlistentry"})}catch(__react_docgen_typescript_loader_error){}const loan_list_dev={title:"Apps / Loan list",component:loan_list_entry,argTypes:{...serviceUrlArgs.Z,feesPageUrl:{defaultValue:"https://unsplash.com/photos/wd6YQy0PJt8",control:{type:"text"}},materialOverdueUrl:{defaultValue:"https://unsplash.com/photos/wd6YQy0PJt8",control:{type:"text"}},pageSizeDesktop:{defaultValue:10,control:{type:"number"}},pageSizeMobile:{defaultValue:5,control:{type:"number"}},groupModalDueDateLinkToPageWithFeesText:{control:{type:"text"},defaultValue:"Read more about fees"},groupModalDueDateRenewLoanCloseModalAriaLabelText:{control:{type:"text"},defaultValue:"Close renew loans modal"},groupModalDueDateAriaDescriptionText:{control:{type:"text"},defaultValue:"This modal groups loans after due date and makes it possible to renew said loans"},groupModalCheckboxText:{control:{type:"text"},defaultValue:"Choose all renewable"},groupModalDueDateHeaderText:{control:{type:"text"},defaultValue:"Due date @date"},groupModalDueDateWarningLoanOverdueText:{control:{type:"text"},defaultValue:"The due date of return is exceeded, therefore you will be charged a fee, when the item is returned"},loanListAriaLabelListButtonText:{control:{type:"text"},defaultValue:"This button shows all loans in the list"},loanListAriaLabelStackButtonText:{control:{type:"text"},defaultValue:"This button filters the list, so only one the materials that have the same due date is shown"},groupModalRenewLoanDeniedInterLibraryLoanText:{control:{type:"text"},defaultValue:"The item has been lent to you by another library and renewal is therefore conditional of the acceptance by that library"},groupModalRenewLoanDeniedMaxRenewalsReachedText:{control:{type:"text"},defaultValue:"The item cannot be renewed further "},groupModalRenewLoanDeniedReservedText:{control:{type:"text"},defaultValue:"The item is reserved by another patron"},loanListDigitalLoansEmptyListText:{control:{type:"text"},defaultValue:"You have no digital loans at the moment"},loanListDigitalLoansTitleText:{control:{type:"text"},defaultValue:"Digital loans"},loanListDigitalPhysicalLoansEmptyListText:{control:{type:"text"},defaultValue:"You have 0 loans at the moment"},loanListDueDateModalAriaLabelText:{control:{type:"text"},defaultValue:"This button opens a modal that covers the entire page and contains loans with the same due date as the loan currently in focus"},groupModalHiddenLabelCheckboxOnMaterialText:{control:{type:"text"},defaultValue:"Select material for renewal"},loanListMaterialLateFeeText:{control:{type:"text"},defaultValue:"You will be charged a fee, when the item is returned"},loanListMaterialDaysText:{control:{type:"text"},defaultValue:"days"},loanListMaterialDayText:{control:{type:"text"},defaultValue:"day"},loanListAdditionalMaterialsText:{control:{type:"text"},defaultValue:'{"type":"plural","text":["+ 1 other material","+ @count other materials"]}'},loanListPhysicalLoansEmptyListText:{control:{type:"text"},defaultValue:"You have no physical loans at the moment"},loanListPhysicalLoansTitleText:{control:{type:"text"},defaultValue:"Physical loans"},loanListRenewMultipleButtonExplanationText:{control:{type:"text"},defaultValue:"This button opens a modal that covers the entire page and contains loans with different due dates, if some of the loans in the modal are renewable you can renew them"},loanListRenewMultipleButtonText:{control:{type:"text"},defaultValue:"Renew several"},loanListStatusBadgeDangerText:{control:{type:"text"},defaultValue:"Expired"},loanListStatusBadgeWarningText:{control:{type:"text"},defaultValue:"Expiring soon"},loanListStatusCircleAriaLabelText:{control:{type:"text"},defaultValue:'{"type":"plural","text":["This material is due in one day","This material is due in @count days"]}'},loanListTitleText:{control:{type:"text"},defaultValue:"Your loans"},loanListToBeDeliveredDigitalMaterialText:{control:{type:"text"},defaultValue:"Due date @date"},groupModalDueDateMaterialText:{control:{type:"text"},defaultValue:"Afleveres @date"},loanListToBeDeliveredText:{control:{type:"text"},defaultValue:"Due date @date"},materialAndAuthorText:{control:{type:"text"},defaultValue:"and"},materialByAuthorText:{control:{type:"text"},defaultValue:"By"},materialDetailsCloseModalAriaLabelText:{control:{type:"text"},defaultValue:"Close material details modal"},materialDetailsPhysicalDueDateLabelText:{control:{type:"text"},defaultValue:"Afleveres"},materialDetailsDigitalDueDateLabelText:{control:{type:"text"},defaultValue:"Expires"},materialDetailsLinkToPageWithFeesText:{control:{type:"text"},defaultValue:"Read more about fees"},materialDetailsLoanDateLabelText:{control:{type:"text"},defaultValue:"Loan date"},materialDetailsMaterialNumberLabelText:{control:{type:"text"},defaultValue:"Material Item Number"},materialDetailsModalAriaDescriptionText:{control:{type:"text"},defaultValue:"This modal shows material details, and makes it possible to renew a material, of that material is renewable"},materialDetailsOverdueText:{control:{type:"text"},defaultValue:"Expired"},materialDetailsRenewLoanButtonText:{control:{type:"text"},defaultValue:"Renew your loans"},materialDetailsWarningLoanOverdueText:{control:{type:"text"},defaultValue:"The due date of return is exceeded, therefore you will be charged a fee, when the item is returned"},publizonAudioBookText:{control:{type:"text"},defaultValue:"Audiobook"},publizonEbookText:{control:{type:"text"},defaultValue:"E-book"},publizonPodcastText:{control:{type:"text"},defaultValue:"Podcast"},groupModalAriaDescriptionText:{control:{type:"text"},defaultValue:"This modal makes it possible to renew materials"},groupModalButtonText:{control:{type:"text"},defaultValue:"Renewable (@count)"},groupModalCloseModalAriaLabelText:{control:{type:"text"},defaultValue:"Close modal with grouped loans"},groupModalHeaderText:{control:{type:"text"},defaultValue:"Renew several"},resultPagerStatusText:{defaultValue:"Showing @itemsShown out of @hitcount loans",control:{type:"text"}},showMoreText:{defaultValue:"show more",control:{type:"text"}},groupModalGoToMaterialText:{defaultValue:"Go to material details",control:{type:"text"}},groupModalReturnLibraryText:{defaultValue:"Can be returned to all branches of Samsøs libraries",control:{type:"text"}},materialDetailsGoToEreolenText:{defaultValue:"Go to eReolen",control:{type:"text"}}},decorators:[esm.j]},Template=props=>react.createElement(loan_list_entry,props),loan_list_dev_LoanListEntry=Template.bind({});loan_list_dev_LoanListEntry.args={};const{dueDateModal,loanDetails,allLoansId}=(0,general.GM)(),LoanListDetailsModal=Template.bind({});LoanListDetailsModal.parameters={query:{modal:`${loanDetails}28847238`}};const LoanListDueDateModal=Template.bind({});LoanListDueDateModal.parameters={query:{modal:`${dueDateModal}2022-12-15`}};const LoanListRenewLoansModal=Template.bind({});LoanListRenewLoansModal.parameters={query:{modal:allLoansId}}},"./src/apps/loan-list/materials/stackable-material/material-info.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_components_cover_cover__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/cover/cover.tsx");const __WEBPACK_DEFAULT_EXPORT__=_ref=>{let{material,isbnForCover,periodical,children}=_ref;const{authors,materialType,year,title,description,pid,series}=material||{},coverId=pid||isbnForCover;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"list-reservation__material"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_cover_cover__WEBPACK_IMPORTED_MODULE_1__.Y,{id:coverId,idType:pid?"pid":"isbn",size:"small",animate:!1,description:description||""})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"list-reservation__information"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"status-label status-label--outline"},materialType)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"list-reservation__about"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",{className:"text-header-h4"},title),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"text-small-caption color-secondary-gray"},authors&&authors," ",year&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,"(",year,")")),periodical&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"text-small-caption color-secondary-gray"},periodical),series&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"text-small-caption color-secondary-gray"},series)),children))};try{materialinfo.displayName="materialinfo",materialinfo.__docgenInfo={description:"",displayName:"materialinfo",props:{material:{defaultValue:null,description:"",name:"material",required:!0,type:{name:"Nullable<Partial<BasicDetails>>"}},isbnForCover:{defaultValue:null,description:"",name:"isbnForCover",required:!0,type:{name:"string"}},periodical:{defaultValue:null,description:"",name:"periodical",required:!1,type:{name:"string | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/materials/stackable-material/material-info.tsx#materialinfo"]={docgenInfo:materialinfo.__docgenInfo,name:"materialinfo",path:"src/apps/loan-list/materials/stackable-material/material-info.tsx#materialinfo"})}catch(__react_docgen_typescript_loader_error){}},"./src/apps/loan-list/materials/utils/digital-material-fetch-hoc.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_publizon_publizon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/publizon/publizon.ts"),_core_utils_helpers_list_mapper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/helpers/list-mapper.ts");function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const __WEBPACK_DEFAULT_EXPORT__=Component=>_ref=>{let{faust,identifier,...props}=_ref;if(faust)return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,_extends({},props,{faust}));if(identifier){const[digitalMaterial,setDigitalMaterial]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),{data:productsData,isSuccess:isSuccessDigital}=(0,_core_publizon_publizon__WEBPACK_IMPORTED_MODULE_1__.tq)(identifier);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{productsData&&isSuccessDigital&&productsData.product&&setDigitalMaterial((0,_core_utils_helpers_list_mapper__WEBPACK_IMPORTED_MODULE_2__.U9)(productsData.product))}),[productsData,isSuccessDigital]),digitalMaterial?react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,_extends({},props,{identifier,material:digitalMaterial})):null}return null};try{digitalmaterialfetchhoc.displayName="digitalmaterialfetchhoc",digitalmaterialfetchhoc.__docgenInfo={description:"",displayName:"digitalmaterialfetchhoc",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/materials/utils/digital-material-fetch-hoc.tsx#digitalmaterialfetchhoc"]={docgenInfo:digitalmaterialfetchhoc.__docgenInfo,name:"digitalmaterialfetchhoc",path:"src/apps/loan-list/materials/utils/digital-material-fetch-hoc.tsx#digitalmaterialfetchhoc"})}catch(__react_docgen_typescript_loader_error){}},"./src/apps/loan-list/materials/utils/material-fetch-hoc.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/dbc-gateway/generated/graphql.tsx"),_core_utils_helpers_list_mapper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/helpers/list-mapper.ts");function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const __WEBPACK_DEFAULT_EXPORT__=Component=>_ref=>{let{identifier,faust,...props}=_ref;if(identifier)return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,_extends({},props,{identifier}));if(faust){const[material,setMaterial]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),{isSuccess:isSuccessManifestation,data}=(0,_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.BN)({faust});return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{data&&isSuccessManifestation&&data.manifestation&&setMaterial((0,_core_utils_helpers_list_mapper__WEBPACK_IMPORTED_MODULE_2__.L6)(data))}),[isSuccessManifestation,data]),material?react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,_extends({},props,{material,faust})):null}return null};try{materialfetchhoc.displayName="materialfetchhoc",materialfetchhoc.__docgenInfo={description:"",displayName:"materialfetchhoc",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/materials/utils/material-fetch-hoc.tsx#materialfetchhoc"]={docgenInfo:materialfetchhoc.__docgenInfo,name:"materialfetchhoc",path:"src/apps/loan-list/materials/utils/material-fetch-hoc.tsx#materialfetchhoc"})}catch(__react_docgen_typescript_loader_error){}},"./src/apps/loan-list/materials/utils/status-circle-icon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/helpers/general.ts");const __WEBPACK_DEFAULT_EXPORT__=_ref=>{let{color,ariaLabel,percent,children}=_ref;const{default:defaultColor}=(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_1__.EC)(),usedColor=color||defaultColor;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"aria-label":ariaLabel},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"counter","aria-hidden":!0,style:{background:`radial-gradient( closest-side, var(--parent-bg-color) calc(100% - 3px), transparent calc(100% - 2px), transparent 0 100% ), conic-gradient(${usedColor} ${percent}%, #DBDBDB 0)`}},children))};try{statuscircleicon.displayName="statuscircleicon",statuscircleicon.__docgenInfo={description:"",displayName:"statuscircleicon",props:{color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string | undefined"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!0,type:{name:"string"}},percent:{defaultValue:null,description:"",name:"percent",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/materials/utils/status-circle-icon.tsx#statuscircleicon"]={docgenInfo:statuscircleicon.__docgenInfo,name:"statuscircleicon",path:"src/apps/loan-list/materials/utils/status-circle-icon.tsx#statuscircleicon"})}catch(__react_docgen_typescript_loader_error){}},"./src/apps/loan-list/modal/material-details-modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_utils_modal__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/modal.tsx"),_core_utils_text__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/text.tsx");const __WEBPACK_DEFAULT_EXPORT__=_ref=>{let{modalId,children}=_ref;const t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_2__.X)();return modalId?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_core_utils_modal__WEBPACK_IMPORTED_MODULE_1__.Z,{modalId,classNames:"modal-details",closeModalAriaLabelText:t("materialDetailsCloseModalAriaLabelText"),screenReaderModalDescriptionText:t("materialDetailsModalAriaDescriptionText")},children):null};try{materialdetailsmodal.displayName="materialdetailsmodal",materialdetailsmodal.__docgenInfo={description:"",displayName:"materialdetailsmodal",props:{modalId:{defaultValue:null,description:"",name:"modalId",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/modal/material-details-modal.tsx#materialdetailsmodal"]={docgenInfo:materialdetailsmodal.__docgenInfo,name:"materialdetailsmodal",path:"src/apps/loan-list/modal/material-details-modal.tsx#materialdetailsmodal"})}catch(__react_docgen_typescript_loader_error){}},"./src/apps/loan-list/utils/helpers.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Kp:()=>removeLoansWithDuplicateDueDate,Re:()=>loansAreEmpty,TE:()=>getFromListByKey,li:()=>getStatusText,p6:()=>formatDate,t4:()=>getStackedItems,u8:()=>isDigital});var dayjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/dayjs/dayjs.min.js"),dayjs__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_0__);const removeLoansWithDuplicateDueDate=(date,list)=>list.filter((_ref=>{let{dueDate}=_ref;return dueDate===date})),formatDate=date=>dayjs__WEBPACK_IMPORTED_MODULE_0___default()(date).format("DD-MM-YYYY"),loansAreEmpty=list=>Array.isArray(list)&&0===list.length,getFromListByKey=(list,key,value)=>list.filter((loan=>loan[key]===value)),getStatusText=(status,t)=>{switch(status){case"deniedMaxRenewalsReached":return t("groupModalRenewLoanDeniedMaxRenewalsReachedText");case"deniedOtherReason":return t("groupModalRenewLoanDeniedReservedText");default:return""}},isDigital=loan=>Boolean(loan.identifier),getStackedItems=(view,list,itemsShown,dueDates)=>{let returnLoans=[];if("stack"===view&&dueDates){let dueDatesCopy=[...dueDates,null];dueDatesCopy=dueDatesCopy.slice(0,itemsShown),dueDatesCopy.forEach((uniqueDueDate=>{returnLoans=returnLoans.concat(list.filter((_ref5=>{let{dueDate}=_ref5;return dueDate===uniqueDueDate})))}))}return returnLoans}},"./src/apps/material/helper.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{DE:()=>getManifestationFromType,QO:()=>getInfomediaId,Sg:()=>getWorkDescriptionListData,WJ:()=>isAnyManifestationAvailableOnBranch,cC:()=>getManifestationType,hT:()=>getWorkManifestation,r0:()=>totalAvailableMaterials,rM:()=>totalBranchesHaveMaterial,t$:()=>totalMaterials,zw:()=>filterManifestationsByType});var _core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/utils/helpers/general.ts");const getManifestationType=manifestation=>{var _manifestation$materi,_manifestation$materi2;return null==manifestation||null===(_manifestation$materi=manifestation.materialTypes)||void 0===_manifestation$materi||null===(_manifestation$materi2=_manifestation$materi[0])||void 0===_manifestation$materi2?void 0:_manifestation$materi2.specific},getWorkManifestation=work=>work.manifestations.latest,filterManifestationsByType=(type,manifestations)=>manifestations.filter((item=>getManifestationType(item)===type)),getManifestationFromType=(type,_ref)=>{let{manifestations:{all:manifestations}}=_ref;const allManifestations=(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_0__.T6)(manifestations);return filterManifestationsByType(type,allManifestations).shift()},getWorkDescriptionListData=_ref2=>{var _manifestation$materi3,_manifestation$materi4,_fallBackManifestatio,_fallBackManifestatio2,_manifestation$genreA,_fallBackManifestatio3,_manifestation$identi,_manifestation$identi2,_fallBackManifestatio4,_fallBackManifestatio5,_manifestation$editio,_fallBackManifestatio6,_manifestation$physic,_manifestation$physic2,_fallBackManifestatio7,_fallBackManifestatio8,_manifestation$hostPu,_fallBackManifestatio9,_manifestation$audien,_fallBackManifestatio10;let{manifestation,work,t}=_ref2;const{titles,mainLanguages,creators,workYear}=work,allLanguages=mainLanguages.map((language=>language.display)).join(", "),fallBackManifestation=getWorkManifestation(work),creatorsText=(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_0__.b7)((0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_0__.TG)((0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_0__.Bi)(creators,["Person"])),t);return[{label:t("typeText"),value:(null==manifestation||null===(_manifestation$materi3=manifestation.materialTypes)||void 0===_manifestation$materi3||null===(_manifestation$materi4=_manifestation$materi3[0])||void 0===_manifestation$materi4||_manifestation$materi4.specific,(null==fallBackManifestation||null===(_fallBackManifestatio=fallBackManifestation.materialTypes)||void 0===_fallBackManifestatio||null===(_fallBackManifestatio2=_fallBackManifestatio[0])||void 0===_fallBackManifestatio2?void 0:_fallBackManifestatio2.specific)&&""),type:"standard"},{label:t("languageText"),value:allLanguages,type:"standard"},{label:t("genreAndFormText"),value:((null==manifestation||null===(_manifestation$genreA=manifestation.genreAndForm)||void 0===_manifestation$genreA?void 0:_manifestation$genreA[0])??"")||((null==fallBackManifestation||null===(_fallBackManifestatio3=fallBackManifestation.genreAndForm)||void 0===_fallBackManifestatio3?void 0:_fallBackManifestatio3[0])??""),type:"standard"},{label:t("contributorsText"),value:creatorsText,type:"link"},{label:t("originalTitleText"),value:titles&&workYear?`${null==titles?void 0:titles.original} ${workYear}`:"",type:"standard"},{label:t("isbnText"),value:((null==manifestation||null===(_manifestation$identi=manifestation.identifiers)||void 0===_manifestation$identi||null===(_manifestation$identi2=_manifestation$identi[0])||void 0===_manifestation$identi2?void 0:_manifestation$identi2.value)??"")||((null==fallBackManifestation||null===(_fallBackManifestatio4=fallBackManifestation.identifiers)||void 0===_fallBackManifestatio4||null===(_fallBackManifestatio5=_fallBackManifestatio4[0])||void 0===_fallBackManifestatio5?void 0:_fallBackManifestatio5.value)??""),type:"standard"},{label:t("editionText"),value:((null==manifestation||null===(_manifestation$editio=manifestation.edition)||void 0===_manifestation$editio?void 0:_manifestation$editio.summary)??"")||((null==fallBackManifestation||null===(_fallBackManifestatio6=fallBackManifestation.edition)||void 0===_fallBackManifestatio6?void 0:_fallBackManifestatio6.summary)??""),type:"standard"},{label:t("scopeText"),value:String((null==manifestation||null===(_manifestation$physic=manifestation.physicalDescriptions)||void 0===_manifestation$physic||null===(_manifestation$physic2=_manifestation$physic[0])||void 0===_manifestation$physic2?void 0:_manifestation$physic2.numberOfPages)??"")||String((null==fallBackManifestation||null===(_fallBackManifestatio7=fallBackManifestation.physicalDescriptions)||void 0===_fallBackManifestatio7||null===(_fallBackManifestatio8=_fallBackManifestatio7[0])||void 0===_fallBackManifestatio8?void 0:_fallBackManifestatio8.numberOfPages)??""),type:"standard"},{label:t("publisherText"),value:((null==manifestation||null===(_manifestation$hostPu=manifestation.hostPublication)||void 0===_manifestation$hostPu?void 0:_manifestation$hostPu.publisher)??"")||((null==fallBackManifestation||null===(_fallBackManifestatio9=fallBackManifestation.hostPublication)||void 0===_fallBackManifestatio9?void 0:_fallBackManifestatio9.publisher)??""),type:"standard"},{label:t("audienceText"),value:((null==manifestation||null===(_manifestation$audien=manifestation.audience)||void 0===_manifestation$audien?void 0:_manifestation$audien.generalAudience[0])??"")||((null==fallBackManifestation||null===(_fallBackManifestatio10=fallBackManifestation.audience)||void 0===_fallBackManifestatio10?void 0:_fallBackManifestatio10.generalAudience[0])??""),type:"standard"}]},totalMaterials=holdings=>holdings.reduce(((acc,curr)=>acc+curr.materials.length),0),totalAvailableMaterials=materials=>materials.reduce(((acc,curr)=>curr.available?acc+1:acc),0),isAnyManifestationAvailableOnBranch=libraryBranches=>libraryBranches.some((libraryBranch=>libraryBranch.holding.materials.some((material=>material.available)))),totalBranchesHaveMaterial=manifestationHoldings=>manifestationHoldings.filter((branchManifestationHoldings=>isAnyManifestationAvailableOnBranch(branchManifestationHoldings))).length,getInfomediaId=manifestation=>((null==manifestation?void 0:manifestation.access)||[]).reduce(((acc,curr)=>{const{__typename:type}=curr;return"InfomediaService"===type?curr.id:acc}),null)},"./src/apps/material/material.dev.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Digital:()=>Digital,HarryPotter:()=>HarryPotter,Infomedia:()=>Infomedia,Periodical:()=>Periodical,TurenGårTilRom:()=>TurenGårTilRom,default:()=>material_dev});var react=__webpack_require__("./node_modules/react/index.js"),serviceUrlArgs=__webpack_require__("./src/core/storybook/serviceUrlArgs.ts"),guarded_app=__webpack_require__("./src/components/guarded-app.tsx"),utils_config=__webpack_require__("./src/core/utils/config.tsx"),utils_text=__webpack_require__("./src/core/utils/text.tsx"),url=__webpack_require__("./src/core/utils/url.tsx"),Various=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Various.svg"),Various_default=__webpack_require__.n(Various),Create=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Create.svg"),Create_default=__webpack_require__.n(Create),Receipt=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Receipt.svg"),Receipt_default=__webpack_require__.n(Receipt),useDeepCompareEffect=__webpack_require__("./node_modules/react-use/esm/useDeepCompareEffect.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),guardedRequests_slice=__webpack_require__("./src/core/guardedRequests.slice.ts"),general=__webpack_require__("./src/core/utils/helpers/general.ts"),availability_labels=__webpack_require__("./src/components/availability-label/availability-labels.tsx"),button_favourite=__webpack_require__("./src/components/button-favourite/button-favourite.tsx"),cover=__webpack_require__("./src/components/cover/cover.tsx"),publizon=__webpack_require__("./src/core/publizon/publizon.ts");const MaterialAvailabilityTextParagraph=_ref=>{let{children}=_ref;return react.createElement("p",{className:"mt-16 text-small-caption"},children)},generic_MaterialAvailabilityTextParagraph=MaterialAvailabilityTextParagraph;try{MaterialAvailabilityTextParagraph.displayName="MaterialAvailabilityTextParagraph",MaterialAvailabilityTextParagraph.__docgenInfo={description:"",displayName:"MaterialAvailabilityTextParagraph",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/MaterialAvailabilityText/generic/MaterialAvailabilityTextParagraph.tsx#MaterialAvailabilityTextParagraph"]={docgenInfo:MaterialAvailabilityTextParagraph.__docgenInfo,name:"MaterialAvailabilityTextParagraph",path:"src/components/material/MaterialAvailabilityText/generic/MaterialAvailabilityTextParagraph.tsx#MaterialAvailabilityTextParagraph"})}catch(__react_docgen_typescript_loader_error){}const MaterialAvailabilityTextOnline=_ref=>{var _productsData$product;let{isbn}=_ref;const t=(0,utils_text.X)(),{data:productsData,isLoading:productsIsLoading,isError:productsIsError}=(0,publizon.tq)(isbn);if(productsIsLoading||productsIsError||!productsData)return null;let availabilityText=t("onlineLimitMonthInfoText",{placeholders:{"@count":"X","@limit":"Y"}});return null!==(_productsData$product=productsData.product)&&void 0!==_productsData$product&&_productsData$product.costFree&&(availabilityText=t("materialIsIncludedText")),react.createElement(generic_MaterialAvailabilityTextParagraph,null,availabilityText)},online_MaterialAvailabilityTextOnline=MaterialAvailabilityTextOnline;try{MaterialAvailabilityTextOnline.displayName="MaterialAvailabilityTextOnline",MaterialAvailabilityTextOnline.__docgenInfo={description:"",displayName:"MaterialAvailabilityTextOnline",props:{isbn:{defaultValue:null,description:"",name:"isbn",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/MaterialAvailabilityText/online/MaterialAvailabilityTextOnline.tsx#MaterialAvailabilityTextOnline"]={docgenInfo:MaterialAvailabilityTextOnline.__docgenInfo,name:"MaterialAvailabilityTextOnline",path:"src/components/material/MaterialAvailabilityText/online/MaterialAvailabilityTextOnline.tsx#MaterialAvailabilityTextOnline"})}catch(__react_docgen_typescript_loader_error){}var helper=__webpack_require__("./src/apps/material/helper.ts"),fbs=__webpack_require__("./src/core/fbs/fbs.ts");const StockAndReservationInfo=_ref=>{let{stockCount,reservationCount}=_ref;const t=(0,utils_text.X)(),materialsInStockInfoText=t("materialsInStockInfoText",{count:stockCount,placeholders:{"@count":stockCount}}),materialReservationInfoText=t("materialReservationInfoText",{count:reservationCount,placeholders:{"@count":reservationCount}});return react.createElement(react.Fragment,null,materialsInStockInfoText&&`${materialsInStockInfoText}.`," ",materialReservationInfoText&&materialReservationInfoText)},material_StockAndReservationInfo=StockAndReservationInfo;try{StockAndReservationInfo.displayName="StockAndReservationInfo",StockAndReservationInfo.__docgenInfo={description:"",displayName:"StockAndReservationInfo",props:{stockCount:{defaultValue:null,description:"",name:"stockCount",required:!0,type:{name:"number"}},reservationCount:{defaultValue:null,description:"",name:"reservationCount",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/StockAndReservationInfo.tsx#StockAndReservationInfo"]={docgenInfo:StockAndReservationInfo.__docgenInfo,name:"StockAndReservationInfo",path:"src/components/material/StockAndReservationInfo.tsx#StockAndReservationInfo"})}catch(__react_docgen_typescript_loader_error){}const MaterialAvailabilityTextPhysical=_ref=>{let{pid}=_ref;const faustId=(0,general.rp)(pid),{data,isLoading,isError}=(0,fbs.T8)({recordid:[faustId]});if(isLoading||isError||!data)return null;const{reservations,holdings}=data[0];return react.createElement(generic_MaterialAvailabilityTextParagraph,null,react.createElement(material_StockAndReservationInfo,{stockCount:(0,helper.t$)(holdings),reservationCount:reservations}))},physical_MaterialAvailabilityTextPhysical=MaterialAvailabilityTextPhysical;try{MaterialAvailabilityTextPhysical.displayName="MaterialAvailabilityTextPhysical",MaterialAvailabilityTextPhysical.__docgenInfo={description:"",displayName:"MaterialAvailabilityTextPhysical",props:{pid:{defaultValue:null,description:"",name:"pid",required:!0,type:{name:"`${number}-${string}:${number}`"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/MaterialAvailabilityText/physical/MaterialAvailabilityTextPhysical.tsx#MaterialAvailabilityTextPhysical"]={docgenInfo:MaterialAvailabilityTextPhysical.__docgenInfo,name:"MaterialAvailabilityTextPhysical",path:"src/components/material/MaterialAvailabilityText/physical/MaterialAvailabilityTextPhysical.tsx#MaterialAvailabilityTextPhysical"})}catch(__react_docgen_typescript_loader_error){}const MaterialAvailabilityText=_ref=>{let{manifestation,manifestation:{pid,identifiers}}=_ref;return react.createElement(react.Fragment,null,manifestation.accessTypes.map((item=>"PHYSICAL"===item.code?react.createElement(physical_MaterialAvailabilityTextPhysical,{pid}):"ONLINE"===item.code&&identifiers.length>0?react.createElement(online_MaterialAvailabilityTextOnline,{isbn:identifiers[0].value}):null)))},MaterialAvailabilityText_MaterialAvailabilityText=MaterialAvailabilityText;try{MaterialAvailabilityText.displayName="MaterialAvailabilityText",MaterialAvailabilityText.__docgenInfo={description:"",displayName:"MaterialAvailabilityText",props:{manifestation:{defaultValue:null,description:"",name:"manifestation",required:!0,type:{name:"Manifestation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/MaterialAvailabilityText/MaterialAvailabilityText.tsx#MaterialAvailabilityText"]={docgenInfo:MaterialAvailabilityText.__docgenInfo,name:"MaterialAvailabilityText",path:"src/components/material/MaterialAvailabilityText/MaterialAvailabilityText.tsx#MaterialAvailabilityText"})}catch(__react_docgen_typescript_loader_error){}var helpers_url=__webpack_require__("./src/core/utils/helpers/url.ts"),link_no_style=__webpack_require__("./src/components/atoms/link-no-style.tsx");const MaterialHeaderText=_ref=>{let{title,author}=_ref;const t=(0,utils_text.X)(),{searchUrl}=(0,url.J_)();return react.createElement(react.Fragment,null,react.createElement("h1",{className:"text-header-h1 mb-16"},title),react.createElement("p",{"data-cy":"material-header-author-text",className:"text-body-large"},react.createElement("span",null,t("materialHeaderAuthorByText")," "),react.createElement(link_no_style.n,{url:(0,helpers_url.Nt)(searchUrl,author),className:"arrow__link"},author)))},material_MaterialHeaderText=MaterialHeaderText;try{MaterialHeaderText.displayName="MaterialHeaderText",MaterialHeaderText.__docgenInfo={description:"",displayName:"MaterialHeaderText",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},author:{defaultValue:null,description:"",name:"author",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/MaterialHeaderText.tsx#MaterialHeaderText"]={docgenInfo:MaterialHeaderText.__docgenInfo,name:"MaterialHeaderText",path:"src/components/material/MaterialHeaderText.tsx#MaterialHeaderText"})}catch(__react_docgen_typescript_loader_error){}var graphql=__webpack_require__("./src/core/dbc-gateway/generated/graphql.tsx");const hasCorrectAccess=(desiredAccess,manifest)=>manifest.access.some((_ref=>{let{__typename}=_ref;return __typename===desiredAccess})),hasCorrectAccessType=(desiredAccessType,manifest)=>manifest.accessTypes.some((type=>type.code===desiredAccessType)),hasCorrectMaterialType=(desiredMaterialType,manifestation)=>manifestation.materialTypes.some((type=>type.specific.toLowerCase()===desiredMaterialType.toLowerCase()));var statistics=__webpack_require__("./src/core/statistics/statistics.ts"),useStatistics=__webpack_require__("./src/core/statistics/useStatistics.ts"),modal=__webpack_require__("./src/core/utils/modal.tsx"),Button=__webpack_require__("./src/components/Buttons/Button.tsx");const createDigitalModalId=digitalArticleIssn=>`digital-modal-${digitalArticleIssn}`,MaterialButtonOnlineDigitalArticle=_ref=>{let{digitalArticleIssn,size,dataCy="material-button-online-digital-article"}=_ref;const{open}=(0,modal.f)(),t=(0,utils_text.X)();return react.createElement(Button.z,{label:t("orderDigitalCopy"),buttonType:"none",variant:"filled",disabled:!1,collapsible:!1,size:size||"large",onClick:()=>{open(createDigitalModalId(digitalArticleIssn))},dataCy})},online_MaterialButtonOnlineDigitalArticle=MaterialButtonOnlineDigitalArticle;try{MaterialButtonOnlineDigitalArticle.displayName="MaterialButtonOnlineDigitalArticle",MaterialButtonOnlineDigitalArticle.__docgenInfo={description:"",displayName:"MaterialButtonOnlineDigitalArticle",props:{digitalArticleIssn:{defaultValue:null,description:"",name:"digitalArticleIssn",required:!0,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"xsmall"'},{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'}]}},dataCy:{defaultValue:{value:"material-button-online-digital-article"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/material-buttons/online/MaterialButtonOnlineDigitalArticle.tsx#MaterialButtonOnlineDigitalArticle"]={docgenInfo:MaterialButtonOnlineDigitalArticle.__docgenInfo,name:"MaterialButtonOnlineDigitalArticle",path:"src/components/material/material-buttons/online/MaterialButtonOnlineDigitalArticle.tsx#MaterialButtonOnlineDigitalArticle"})}catch(__react_docgen_typescript_loader_error){}var dpl_cms=__webpack_require__("./src/core/dpl-cms/dpl-cms.ts");const MaterialButtonOnlineExternal=_ref=>{let{loginRequired,externalUrl="",origin,size,trackOnlineView,manifestation,dataCy="material-button-online-external"}=_ref;const[translatedUrl,setTranslatedUrl]=(0,react.useState)(new URL(externalUrl)),[urlWasTranslated,setUrlWasTranslated]=(0,react.useState)(null),t=(0,utils_text.X)(),{data,error}=(0,dpl_cms.Yh)({url:externalUrl},{enabled:null===urlWasTranslated&&loginRequired&&externalUrl.length>0});(0,react.useEffect)((()=>{var _data$data;urlWasTranslated||!error&&null!=data&&null!==(_data$data=data.data)&&void 0!==_data$data&&_data$data.url&&(setTranslatedUrl(new URL(data.data.url)),setUrlWasTranslated(!0))}),[data,error,translatedUrl,urlWasTranslated]);return react.createElement(link_no_style.n,{url:translatedUrl,dataCy},react.createElement(Button.z,{label:((sourceName,materialTypes)=>{const onlineMaterialType=((sourceName,materialTypes)=>sourceName.includes("ereol")?"ebook":sourceName.includes("filmstriben")?"emovie":materialTypes.find((element=>element.includes("lydbog")))?"audiobook":"unknown")(sourceName,materialTypes);switch(onlineMaterialType){case"ebook":return t("goToText",{placeholders:{"@source":"ereolen"}});case"emovie":return t("goToText",{placeholders:{"@source":"filmstriben"}});case"audiobook":return t("listenOnlineText");default:return t("seeOnlineText")}})(origin,manifestation.materialTypes.map((materialType=>materialType.specific))),buttonType:"external-link",variant:"filled",disabled:!1,collapsible:!1,size:size||"large",iconClassNames:"invert",onClick:trackOnlineView}))},online_MaterialButtonOnlineExternal=MaterialButtonOnlineExternal;try{MaterialButtonOnlineExternal.displayName="MaterialButtonOnlineExternal",MaterialButtonOnlineExternal.__docgenInfo={description:"",displayName:"MaterialButtonOnlineExternal",props:{loginRequired:{defaultValue:null,description:"",name:"loginRequired",required:!0,type:{name:"boolean"}},externalUrl:{defaultValue:{value:""},description:"",name:"externalUrl",required:!1,type:{name:"string"}},origin:{defaultValue:null,description:"",name:"origin",required:!0,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"xsmall"'},{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'}]}},trackOnlineView:{defaultValue:null,description:"",name:"trackOnlineView",required:!0,type:{name:"() => void"}},manifestation:{defaultValue:null,description:"",name:"manifestation",required:!0,type:{name:"Manifestation"}},dataCy:{defaultValue:{value:"material-button-online-external"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/material-buttons/online/MaterialButtonOnlineExternal.tsx#MaterialButtonOnlineExternal"]={docgenInfo:MaterialButtonOnlineExternal.__docgenInfo,name:"MaterialButtonOnlineExternal",path:"src/components/material/material-buttons/online/MaterialButtonOnlineExternal.tsx#MaterialButtonOnlineExternal"})}catch(__react_docgen_typescript_loader_error){}var modal_slice=__webpack_require__("./src/core/modal.slice.ts"),token=__webpack_require__("./src/core/token.js"),user=__webpack_require__("./src/core/utils/helpers/user.ts"),infomedia_logo=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/logo/infomedia-logo.svg"),infomedia_logo_default=__webpack_require__.n(infomedia_logo);const InfomediaModalBody=_ref=>{let{headline,text}=_ref;return react.createElement("article",null,react.createElement("img",{className:"infomedia-logo",src:infomedia_logo_default(),alt:""}),react.createElement("h2",null,headline),react.createElement("div",{dangerouslySetInnerHTML:{__html:text}}))},infomedia_InfomediaModalBody=InfomediaModalBody;try{InfomediaModalBody.displayName="InfomediaModalBody",InfomediaModalBody.__docgenInfo={description:"",displayName:"InfomediaModalBody",props:{headline:{defaultValue:null,description:"",name:"headline",required:!0,type:{name:"string"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/infomedia/InfomediaModalBody.tsx#InfomediaModalBody"]={docgenInfo:InfomediaModalBody.__docgenInfo,name:"InfomediaModalBody",path:"src/components/material/infomedia/InfomediaModalBody.tsx#InfomediaModalBody"})}catch(__react_docgen_typescript_loader_error){}const infomediaModalId=pid=>`infomedia-modal-${pid}`,InfomediaModal=_ref=>{var _data$infomedia,_data$infomedia$artic,_data$infomedia2,_data$infomedia2$arti;let{mainManifestation:{pid},infoMediaId}=_ref;const t=(0,utils_text.X)(),{data,error}=(0,graphql.Dv)({id:infoMediaId});if(!data||error)return null;const headline=null==data||null===(_data$infomedia=data.infomedia)||void 0===_data$infomedia||null===(_data$infomedia$artic=_data$infomedia.article)||void 0===_data$infomedia$artic?void 0:_data$infomedia$artic.headLine,text=null==data||null===(_data$infomedia2=data.infomedia)||void 0===_data$infomedia2||null===(_data$infomedia2$arti=_data$infomedia2.article)||void 0===_data$infomedia2$arti?void 0:_data$infomedia2$arti.text;return react.createElement(modal.Z,{modalId:infomediaModalId(pid),screenReaderModalDescriptionText:t("infomediaModalScreenReaderModalDescriptionText"),closeModalAriaLabelText:t("infomediaModalCloseModalAriaLabelText")},headline&&text&&react.createElement(infomedia_InfomediaModalBody,{headline,text}))},infomedia_InfomediaModal=InfomediaModal;try{infomediaModalId.displayName="infomediaModalId",infomediaModalId.__docgenInfo={description:"",displayName:"infomediaModalId",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/infomedia/InfomediaModal.tsx#infomediaModalId"]={docgenInfo:infomediaModalId.__docgenInfo,name:"infomediaModalId",path:"src/components/material/infomedia/InfomediaModal.tsx#infomediaModalId"})}catch(__react_docgen_typescript_loader_error){}try{InfomediaModal.displayName="InfomediaModal",InfomediaModal.__docgenInfo={description:"",displayName:"InfomediaModal",props:{mainManifestation:{defaultValue:null,description:"",name:"mainManifestation",required:!0,type:{name:"Manifestation"}},infoMediaId:{defaultValue:null,description:"",name:"infoMediaId",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/infomedia/InfomediaModal.tsx#InfomediaModal"]={docgenInfo:InfomediaModal.__docgenInfo,name:"InfomediaModal",path:"src/components/material/infomedia/InfomediaModal.tsx#InfomediaModal"})}catch(__react_docgen_typescript_loader_error){}const MaterialButtonOnlineInfomediaArticle=_ref=>{let{size,manifestation:{pid},trackOnlineView,dataCy="material-button-online-infomedia-article"}=_ref;const t=(0,utils_text.X)(),dispatch=(0,es.I0)(),{authUrl}=(0,url.J_)();return react.createElement(Button.z,{label:t("readArticleText"),buttonType:"none",variant:"filled",disabled:!1,collapsible:!1,size:size||"large",onClick:()=>{const userToken=(0,token.LP)(token.b4);if(!(0,user.I)()&&userToken)trackOnlineView(),dispatch((0,modal_slice.h7)({modalId:infomediaModalId(pid)}));else{const returnUrl=(0,helpers_url.oW)(new URL((0,helpers_url.vW)()),{modal:infomediaModalId(pid)});(0,helpers_url.hN)({authUrl,returnUrl,trackingFunction:trackOnlineView})}},dataCy})},online_MaterialButtonOnlineInfomediaArticle=MaterialButtonOnlineInfomediaArticle;try{MaterialButtonOnlineInfomediaArticle.displayName="MaterialButtonOnlineInfomediaArticle",MaterialButtonOnlineInfomediaArticle.__docgenInfo={description:"",displayName:"MaterialButtonOnlineInfomediaArticle",props:{size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"xsmall"'},{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'}]}},manifestation:{defaultValue:null,description:"",name:"manifestation",required:!0,type:{name:"Manifestation"}},trackOnlineView:{defaultValue:null,description:"",name:"trackOnlineView",required:!0,type:{name:"() => Promise<unknown>"}},dataCy:{defaultValue:{value:"material-button-online-infomedia-article"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/material-buttons/online/MaterialButtonOnlineInfomediaArticle.tsx#MaterialButtonOnlineInfomediaArticle"]={docgenInfo:MaterialButtonOnlineInfomediaArticle.__docgenInfo,name:"MaterialButtonOnlineInfomediaArticle",path:"src/components/material/material-buttons/online/MaterialButtonOnlineInfomediaArticle.tsx#MaterialButtonOnlineInfomediaArticle"})}catch(__react_docgen_typescript_loader_error){}const MaterialButtonsOnline=_ref=>{let{manifestation,manifestation:{access:[accessElement],access:[{__typename:accessType}]},size,workId,dataCy="material-buttons-online"}=_ref;const{track}=(0,useStatistics.T)(),trackOnlineView=()=>track("click",{id:statistics.h.onlineReservation.id,name:statistics.h.onlineReservation.name,trackedData:workId});if(["Ereol","AccessUrl"].includes(accessType)){const{origin,url:externalUrl,loginRequired}=accessElement;return react.createElement(online_MaterialButtonOnlineExternal,{loginRequired,externalUrl,origin,size,trackOnlineView,manifestation,dataCy:`${dataCy}-external`})}if("DigitalArticleService"===accessType&&hasCorrectMaterialType("tidsskriftsartikel",manifestation)){const{issn:digitalArticleIssn}=accessElement;return react.createElement(online_MaterialButtonOnlineDigitalArticle,{digitalArticleIssn,size,dataCy:`${dataCy}-digital-article`})}return"InfomediaService"===accessType?react.createElement(online_MaterialButtonOnlineInfomediaArticle,{size,manifestation,trackOnlineView,dataCy:`${dataCy}-infomedia-article`}):null},online_MaterialButtonsOnline=MaterialButtonsOnline;try{MaterialButtonsOnline.displayName="MaterialButtonsOnline",MaterialButtonsOnline.__docgenInfo={description:"",displayName:"MaterialButtonsOnline",props:{manifestation:{defaultValue:null,description:"",name:"manifestation",required:!0,type:{name:"Manifestation"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"xsmall"'},{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'}]}},workId:{defaultValue:null,description:"",name:"workId",required:!0,type:{name:"`work-of:${number}-${string}:${number}`"}},dataCy:{defaultValue:{value:"material-buttons-online"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/material-buttons/online/MaterialButtonsOnline.tsx#MaterialButtonsOnline"]={docgenInfo:MaterialButtonsOnline.__docgenInfo,name:"MaterialButtonsOnline",path:"src/components/material/material-buttons/online/MaterialButtonsOnline.tsx#MaterialButtonsOnline"})}catch(__react_docgen_typescript_loader_error){}var MaterialButtonsFindOnShelf=__webpack_require__("./src/components/material/material-buttons/physical/MaterialButtonsFindOnShelf.tsx");const MaterialButtonCantReserve=_ref=>{let{size}=_ref;const t=(0,utils_text.X)();return react.createElement(Button.z,{label:t("cantReserveText"),buttonType:"none",variant:"filled",disabled:!0,collapsible:!1,size:size||"large"})},generic_MaterialButtonCantReserve=MaterialButtonCantReserve;try{MaterialButtonCantReserve.displayName="MaterialButtonCantReserve",MaterialButtonCantReserve.__docgenInfo={description:"",displayName:"MaterialButtonCantReserve",props:{size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"xsmall"'},{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/material-buttons/generic/MaterialButtonCantReserve.tsx#MaterialButtonCantReserve"]={docgenInfo:MaterialButtonCantReserve.__docgenInfo,name:"MaterialButtonCantReserve",path:"src/components/material/material-buttons/generic/MaterialButtonCantReserve.tsx#MaterialButtonCantReserve"})}catch(__react_docgen_typescript_loader_error){}const MaterialButtonLoading=_ref=>{let{size}=_ref;const t=(0,utils_text.X)();return react.createElement(Button.z,{label:t("loadingText"),buttonType:"none",variant:"filled",disabled:!0,collapsible:!1,size:size||"large"})},generic_MaterialButtonLoading=MaterialButtonLoading;try{MaterialButtonLoading.displayName="MaterialButtonLoading",MaterialButtonLoading.__docgenInfo={description:"",displayName:"MaterialButtonLoading",props:{size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"xsmall"'},{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/material-buttons/generic/MaterialButtonLoading.tsx#MaterialButtonLoading"]={docgenInfo:MaterialButtonLoading.__docgenInfo,name:"MaterialButtonLoading",path:"src/components/material/material-buttons/generic/MaterialButtonLoading.tsx#MaterialButtonLoading"})}catch(__react_docgen_typescript_loader_error){}const MaterialButtonUserBlocked=_ref=>{let{size}=_ref;const t=(0,utils_text.X)();return react.createElement(Button.z,{label:t("reserveText"),buttonType:"none",variant:"filled",disabled:!0,collapsible:!1,size:size||"large"})};try{MaterialButtonUserBlocked.displayName="MaterialButtonUserBlocked",MaterialButtonUserBlocked.__docgenInfo={description:"",displayName:"MaterialButtonUserBlocked",props:{size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"xsmall"'},{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/material-buttons/generic/MaterialButtonUserBlocked.tsx#MaterialButtonUserBlocked"]={docgenInfo:MaterialButtonUserBlocked.__docgenInfo,name:"MaterialButtonUserBlocked",path:"src/components/material/material-buttons/generic/MaterialButtonUserBlocked.tsx#MaterialButtonUserBlocked"})}catch(__react_docgen_typescript_loader_error){}var react_query_es=__webpack_require__("./node_modules/react-query/es/index.js");const ReservationFormListItem=_ref=>{let{icon,title,text,changeHandler}=_ref;const t=(0,utils_text.X)();return react.createElement("div",{className:"reservation-modal-list-item"},react.createElement("img",{src:icon,alt:""}),react.createElement("div",{"data-cy":"reservation-modal-list-item-text",className:"reservation-modal-list-item-text"},react.createElement("h3",{className:"text-header-h5"},title),react.createElement("p",{className:"text-small-caption"},(null==text?void 0:text.length)>0?text:t("missingDataText"))),changeHandler&&react.createElement("button",{onClick:changeHandler,type:"button",className:"link-tag text-small-caption cursor-pointer"},t("shiftText")))},reservation_ReservationFormListItem=ReservationFormListItem;try{ReservationFormListItem.displayName="ReservationFormListItem",ReservationFormListItem.__docgenInfo={description:"",displayName:"ReservationFormListItem",props:{icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},changeHandler:{defaultValue:null,description:"",name:"changeHandler",required:!1,type:{name:"(() => void) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reservation/ReservationFormListItem.tsx#ReservationFormListItem"]={docgenInfo:ReservationFormListItem.__docgenInfo,name:"ReservationFormListItem",path:"src/components/reservation/ReservationFormListItem.tsx#ReservationFormListItem"})}catch(__react_docgen_typescript_loader_error){}var Location=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Location.svg"),Location_default=__webpack_require__.n(Location),Subtitles=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Subtitles.svg"),Subtitles_default=__webpack_require__.n(Subtitles),Message=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Message.svg"),Message_default=__webpack_require__.n(Message),LoanHistory=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/LoanHistory.svg"),LoanHistory_default=__webpack_require__.n(LoanHistory),TextInput=__webpack_require__("./src/components/atoms/input/TextInput.tsx");const modalReservationFormId=type=>`modal-reservation-form-${type}`,ReservationForm=_ref=>{let{title,description,children,onSubmit,buttonLabel,disabledButton,cyData="reservation-form"}=_ref;const t=(0,utils_text.X)();return react.createElement("section",{className:"reservation-modal reservation-form"},react.createElement("div",{className:"reservation-form__content"},react.createElement("div",{className:"reservation-form__header"},react.createElement("h3",{className:"text-header-h3 mb-35","data-cy":`${cyData}-title`},title),description.map((paragraph=>react.createElement("p",{className:"text-body-large","data-cy":`${cyData}-description`},paragraph)))),react.createElement("form",null,children&&react.createElement("div",{className:"reservation-form__body mt-35"},children),react.createElement("div",{className:"reservation-form__footer mt-48"},react.createElement(Button.z,{label:buttonLabel||t("saveButtonText"),buttonType:"none",disabled:disabledButton??!1,collapsible:!1,size:"xlarge",variant:"filled",onClick:onSubmit,dataCy:`${cyData}-button`})))))},forms_ReservationForm=ReservationForm;try{ReservationForm.displayName="ReservationForm",ReservationForm.__docgenInfo={description:"",displayName:"ReservationForm",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string[]"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"() => void"}},buttonLabel:{defaultValue:null,description:"",name:"buttonLabel",required:!1,type:{name:"string | undefined"}},disabledButton:{defaultValue:null,description:"",name:"disabledButton",required:!1,type:{name:"boolean | undefined"}},cyData:{defaultValue:{value:"reservation-form"},description:"",name:"cyData",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reservation/forms/ReservationForm.tsx#ReservationForm"]={docgenInfo:ReservationForm.__docgenInfo,name:"ReservationForm",path:"src/components/reservation/forms/ReservationForm.tsx#ReservationForm"})}catch(__react_docgen_typescript_loader_error){}const ModalReservationFormText=_ref=>{let{type,defaultText,header,inputField,patron}=_ref;const{close}=(0,modal.f)(),queryClient=(0,react_query_es.useQueryClient)(),t=(0,utils_text.X)(),[text,setText]=(0,react.useState)((0,general._M)(defaultText)),{mutate}=(0,fbs.tX)(),{modalId,screenReaderModalDescriptionText,closeModalAriaLabelText}=((type,t)=>({modalId:modalReservationFormId(type),screenReaderModalDescriptionText:t(`screenReaderModalDescription${type.toUpperCase()}Text`),closeModalAriaLabelText:t(`closeModalAriaLabel${type.toUpperCase()}Text`)}))(type,t);return react.createElement(modal.Z,{modalId,screenReaderModalDescriptionText,closeModalAriaLabelText},react.createElement(forms_ReservationForm,{title:header.title,description:header.description,onSubmit:()=>{(_ref2=>{let{type,changedText,savedText,patron,mutate}=_ref2;return new Promise(((resolve,reject)=>{const textDiffers=changedText!==savedText,updatedPatronData=(_ref=>{let{type,value,patron:{preferredPickupBranch,preferredLanguage,receiveSms,receivePostalMail,receiveEmail,emailAddress,phoneNumber}}=_ref;const defaultData={preferredPickupBranch,preferredLanguage,receiveSms,receivePostalMail,receiveEmail,emailAddress,phoneNumber};switch(type){case"email":return{...defaultData,emailAddress:value,receiveEmail:!0};case"sms":return{...defaultData,phoneNumber:value,receiveSms:!0};default:return null}})({type,value:changedText,patron});updatedPatronData?textDiffers?mutate({data:{patron:updatedPatronData}},{onSuccess:response=>{response?resolve(response):reject(new Error("We did not get a response from the server"))},onError:e=>{reject(e)}}):resolve(""):reject(new Error("Cannot construct updated patron data"))}))})({type,changedText:text,savedText:defaultText,patron,mutate}).then((response=>{response&&queryClient.setQueryData((0,fbs.Tk)(),response)})).catch((e=>{throw setText((0,general._M)(defaultText)),e})).finally((()=>{close(modalReservationFormId(type))}))}},react.createElement(TextInput.Z,{description:inputField.description,id:type,label:inputField.label,type:"text",onChange:input=>{setText(input)},value:text})))},forms_ModalReservationFormText=ModalReservationFormText;try{ModalReservationFormText.displayName="ModalReservationFormText",ModalReservationFormText.__docgenInfo={description:"",displayName:"ModalReservationFormText",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"email"'},{value:'"sms"'},{value:'"pickup"'},{value:'"interestPeriod"'}]}},defaultText:{defaultValue:null,description:"",name:"defaultText",required:!1,type:{name:"string | undefined"}},header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"{ title: string; description: string[]; }"}},inputField:{defaultValue:null,description:"",name:"inputField",required:!0,type:{name:"{ description: string; label: string; }"}},patron:{defaultValue:null,description:"",name:"patron",required:!0,type:{name:"PatronV5"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reservation/forms/ModalReservationFormText.tsx#ModalReservationFormText"]={docgenInfo:ModalReservationFormText.__docgenInfo,name:"ModalReservationFormText",path:"src/components/reservation/forms/ModalReservationFormText.tsx#ModalReservationFormText"})}catch(__react_docgen_typescript_loader_error){}const EmailModal=_ref=>{let{patron,patron:{emailAddress}}=_ref;const t=(0,utils_text.X)();return react.createElement(forms_ModalReservationFormText,{type:"email",defaultText:emailAddress,header:{title:t("modalReservationFormEmailHeaderTitleText"),description:[t("modalReservationFormEmailHeaderDescriptionText")]},inputField:{label:t("modalReservationFormEmailInputFieldLabelText"),description:t("modalReservationFormEmailInputFieldDescriptionText")},patron})},forms_EmailModal=EmailModal;try{EmailModal.displayName="EmailModal",EmailModal.__docgenInfo={description:"",displayName:"EmailModal",props:{patron:{defaultValue:null,description:"",name:"patron",required:!0,type:{name:"PatronV5"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reservation/forms/EmailModal.tsx#EmailModal"]={docgenInfo:EmailModal.__docgenInfo,name:"EmailModal",path:"src/components/reservation/forms/EmailModal.tsx#EmailModal"})}catch(__react_docgen_typescript_loader_error){}const SmsModal=_ref=>{let{patron,patron:{phoneNumber}}=_ref;const t=(0,utils_text.X)();return react.createElement(forms_ModalReservationFormText,{type:"sms",defaultText:phoneNumber,header:{title:t("modalReservationFormSmsHeaderTitleText"),description:[t("modalReservationFormSmsHeaderDescriptionText")]},inputField:{label:t("modalReservationFormSmsInputFieldLabelText"),description:t("modalReservationFormSmsInputFieldDescriptionText")},patron})},forms_SmsModal=SmsModal;try{SmsModal.displayName="SmsModal",SmsModal.__docgenInfo={description:"",displayName:"SmsModal",props:{patron:{defaultValue:null,description:"",name:"patron",required:!0,type:{name:"PatronV5"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reservation/forms/SmsModal.tsx#SmsModal"]={docgenInfo:SmsModal.__docgenInfo,name:"SmsModal",path:"src/components/reservation/forms/SmsModal.tsx#SmsModal"})}catch(__react_docgen_typescript_loader_error){}var reservation_helper=__webpack_require__("./src/components/reservation/helper.ts"),Dropdown=__webpack_require__("./src/components/Dropdown/Dropdown.tsx");const ModalReservationFormSelect=_ref=>{let{type,header,items,defaultSelectedItem,selectHandler}=_ref;const{close}=(0,modal.f)(),t=(0,utils_text.X)(),[selectedItem,setSelectedItem]=(0,react.useState)(defaultSelectedItem),{modalId,screenReaderModalDescriptionText,closeModalAriaLabelText}=((type,t)=>({modalId:modalReservationFormId(type),screenReaderModalDescriptionText:t(`screenReaderModalDescription${type.toUpperCase()}Text`),closeModalAriaLabelText:t(`closeModalAriaLabel${type.toUpperCase()}Text`)}))(type,t);return react.createElement(modal.Z,{modalId,screenReaderModalDescriptionText,closeModalAriaLabelText},react.createElement(forms_ReservationForm,{title:header.title,description:header.description,onSubmit:()=>{selectHandler(selectedItem),close(modalReservationFormId(type))}},react.createElement(Dropdown.Z,{options:items.map((_ref2=>{let{label,value}=_ref2;return{label,value}})),ariaLabel:"",arrowIcon:"chevron",handleOnChange:event=>{const{value}=event.target;setSelectedItem(value)},defaultValue:selectedItem,placeholder:{label:t("chooseOneText"),disabled:!0,value:""}})))},forms_ModalReservationFormSelect=ModalReservationFormSelect;try{ModalReservationFormSelect.displayName="ModalReservationFormSelect",ModalReservationFormSelect.__docgenInfo={description:"",displayName:"ModalReservationFormSelect",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"email"'},{value:'"sms"'},{value:'"pickup"'},{value:'"interestPeriod"'}]}},header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"{ title: string; description: string[]; }"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"{ label: string; value: string; }[]"}},defaultSelectedItem:{defaultValue:null,description:"",name:"defaultSelectedItem",required:!0,type:{name:"string"}},selectHandler:{defaultValue:null,description:"",name:"selectHandler",required:!0,type:{name:"(value: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reservation/forms/ModalReservationFormSelect.tsx#ModalReservationFormSelect"]={docgenInfo:ModalReservationFormSelect.__docgenInfo,name:"ModalReservationFormSelect",path:"src/components/reservation/forms/ModalReservationFormSelect.tsx#ModalReservationFormSelect"})}catch(__react_docgen_typescript_loader_error){}const PickupModal=_ref=>{let{branches,defaultBranch,selectBranchHandler}=_ref;const t=(0,utils_text.X)(),formatBranches=branches.map((branch=>({value:branch.branchId,label:branch.title})));return react.createElement(forms_ModalReservationFormSelect,{type:"pickup",header:{title:t("modalReservationFormPickupHeaderTitleText"),description:[t("modalReservationFormPickupHeaderDescriptionText")]},items:formatBranches,defaultSelectedItem:defaultBranch,selectHandler:selectBranchHandler})},forms_PickupModal=PickupModal;try{PickupModal.displayName="PickupModal",PickupModal.__docgenInfo={description:"",displayName:"PickupModal",props:{branches:{defaultValue:null,description:"",name:"branches",required:!0,type:{name:"AgencyBranch[]"}},defaultBranch:{defaultValue:null,description:"",name:"defaultBranch",required:!0,type:{name:"string"}},selectBranchHandler:{defaultValue:null,description:"",name:"selectBranchHandler",required:!0,type:{name:"(value: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reservation/forms/PickupModal.tsx#PickupModal"]={docgenInfo:PickupModal.__docgenInfo,name:"PickupModal",path:"src/components/reservation/forms/PickupModal.tsx#PickupModal"})}catch(__react_docgen_typescript_loader_error){}const NoInterestAfterModal=_ref=>{let{selectedInterest,setSelectedInterest}=_ref;const t=(0,utils_text.X)(),formatInterestPeriods=Object.entries((0,reservation_helper.rO)(t)).map((_ref2=>{let[key,value]=_ref2;return{value:key,label:value}}));return react.createElement(forms_ModalReservationFormSelect,{type:"interestPeriod",header:{title:t("modalReservationFormNoInterestAfterHeaderTitleText"),description:[t("modalReservationFormNoInterestAfterHeaderDescriptionText")]},items:formatInterestPeriods,defaultSelectedItem:String(selectedInterest),selectHandler:value=>setSelectedInterest(Number(value))})},forms_NoInterestAfterModal=NoInterestAfterModal;try{NoInterestAfterModal.displayName="NoInterestAfterModal",NoInterestAfterModal.__docgenInfo={description:"",displayName:"NoInterestAfterModal",props:{selectedInterest:{defaultValue:null,description:"",name:"selectedInterest",required:!0,type:{name:"number"}},setSelectedInterest:{defaultValue:null,description:"",name:"setSelectedInterest",required:!0,type:{name:"(value: number) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reservation/forms/NoInterestAfterModal.tsx#NoInterestAfterModal"]={docgenInfo:NoInterestAfterModal.__docgenInfo,name:"NoInterestAfterModal",path:"src/components/reservation/forms/NoInterestAfterModal.tsx#NoInterestAfterModal"})}catch(__react_docgen_typescript_loader_error){}const UserListItems=_ref=>{let{patron,patron:{defaultInterestPeriod,preferredPickupBranch,phoneNumber,emailAddress},branches,selectedBranch,selectBranchHandler,selectedInterest,setSelectedInterest}=_ref;const t=(0,utils_text.X)(),config=(0,utils_config.ZR)(),blacklistBranches=config("blacklistedPickupBranchesConfig",{transformer:"stringToArray"}),whitelistBranches=(0,reservation_helper.rM)(branches,blacklistBranches),{open}=(0,modal.f)(),openModal=type=>()=>{open(modalReservationFormId(type))},interestPeriod=selectedInterest?(0,reservation_helper.OR)(selectedInterest,t):(0,reservation_helper.OR)(defaultInterestPeriod,t),pickupBranch=selectedBranch?(0,reservation_helper.Sp)(selectedBranch,branches):(0,reservation_helper.Sp)(preferredPickupBranch,branches);return react.createElement(react.Fragment,null,defaultInterestPeriod&&react.createElement(react.Fragment,null,react.createElement(reservation_ReservationFormListItem,{icon:LoanHistory_default(),title:t("haveNoInterestAfterText"),text:interestPeriod,changeHandler:openModal("interestPeriod")}),react.createElement(forms_NoInterestAfterModal,{selectedInterest:selectedInterest??defaultInterestPeriod,setSelectedInterest})),preferredPickupBranch&&whitelistBranches&&react.createElement(react.Fragment,null,react.createElement(reservation_ReservationFormListItem,{icon:Location_default(),title:t("pickupLocationText"),text:pickupBranch,changeHandler:openModal("pickup")}),react.createElement(forms_PickupModal,{branches:whitelistBranches,defaultBranch:selectedBranch??preferredPickupBranch,selectBranchHandler})),react.createElement(react.Fragment,null,(0,reservation_helper.P4)(config("smsNotificationsForReservationsEnabledConfig"))&&react.createElement(react.Fragment,null,react.createElement(reservation_ReservationFormListItem,{icon:Subtitles_default(),title:t("receiveSmsWhenMaterialReadyText"),text:(0,general._M)(phoneNumber),changeHandler:openModal("sms")}),react.createElement(forms_SmsModal,{patron})),react.createElement(reservation_ReservationFormListItem,{icon:Message_default(),title:t("receiveEmailWhenMaterialReadyText"),text:(0,general._M)(emailAddress),changeHandler:openModal("email")}),react.createElement(forms_EmailModal,{patron})))},reservation_UserListItems=UserListItems;try{UserListItems.displayName="UserListItems",UserListItems.__docgenInfo={description:"",displayName:"UserListItems",props:{patron:{defaultValue:null,description:"",name:"patron",required:!0,type:{name:"PatronV5"}},branches:{defaultValue:null,description:"",name:"branches",required:!0,type:{name:"AgencyBranch[]"}},selectedBranch:{defaultValue:null,description:"",name:"selectedBranch",required:!0,type:{name:"string | null"}},selectBranchHandler:{defaultValue:null,description:"",name:"selectBranchHandler",required:!0,type:{name:"(value: string) => void"}},selectedInterest:{defaultValue:null,description:"",name:"selectedInterest",required:!0,type:{name:"number | null"}},setSelectedInterest:{defaultValue:null,description:"",name:"setSelectedInterest",required:!0,type:{name:"(value: number) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reservation/UserListItems.tsx#UserListItems"]={docgenInfo:UserListItems.__docgenInfo,name:"UserListItems",path:"src/components/reservation/UserListItems.tsx#UserListItems"})}catch(__react_docgen_typescript_loader_error){}const ReservationSucces=_ref=>{let{modalId,title,preferredPickupBranch,numberInQueue}=_ref;const dispatch=(0,es.I0)(),t=(0,utils_text.X)();return react.createElement("section",{className:"reservation-modal reservation-modal--confirm"},react.createElement("h2",{"data-cy":"reservation-success-title-text",className:"text-header-h3 pb-48"},t("reservationSuccesTitleText")),react.createElement("p",{"data-cy":"reservation-success-is-reserved-for-you-text",className:"text-body-medium-regular pb-24"},title," ",t("reservationSuccesIsReservedForYouText")),numberInQueue&&react.createElement("p",{"data-cy":"number-in-queue-text",className:"text-body-medium-regular pb-24"},t("numberInQueueText",{placeholders:{"@number":numberInQueue}})),react.createElement("p",{"data-cy":"reservation-success-preferred-pickup-branch-text",className:"text-body-medium-regular pb-48"},t("reservationSuccessPreferredPickupBranchText",{placeholders:{"@branch":preferredPickupBranch}}),"."),react.createElement(Button.z,{dataCy:"reservation-success-close-button",classNames:"reservation-modal__confirm-button",label:t("okButtonText"),buttonType:"none",disabled:!1,collapsible:!1,size:"small",variant:"filled",onClick:()=>{dispatch((0,modal_slice.Mr)({modalId}))}}))},reservation_ReservationSucces=ReservationSucces;try{ReservationSucces.displayName="ReservationSucces",ReservationSucces.__docgenInfo={description:"",displayName:"ReservationSucces",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},preferredPickupBranch:{defaultValue:null,description:"",name:"preferredPickupBranch",required:!0,type:{name:"string"}},modalId:{defaultValue:null,description:"",name:"modalId",required:!0,type:{name:"string"}},numberInQueue:{defaultValue:null,description:"",name:"numberInQueue",required:!1,type:{name:"number | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reservation/ReservationSucces.tsx#ReservationSucces"]={docgenInfo:ReservationSucces.__docgenInfo,name:"ReservationSucces",path:"src/components/reservation/ReservationSucces.tsx#ReservationSucces"})}catch(__react_docgen_typescript_loader_error){}const ReservationError=_ref=>{let{reservationResult,setReservationResponse}=_ref;const t=(0,utils_text.X)(),handleErrorText={already_reserved:{title:t("alreadyReservedText"),description:"",buttonText:t("closeText")},default:{title:t("reservationErrorsTitleText"),description:t("reservationErrorsDescriptionText"),buttonText:t("tryAginButtonText")}},reservationErrorInfo=handleErrorText[reservationResult]||handleErrorText.default;return react.createElement("section",{className:"reservation-modal reservation-modal--confirm"},react.createElement("h2",{className:"text-header-h3 pb-48"},reservationErrorInfo.title),reservationErrorInfo.description&&react.createElement("p",{className:"text-body-medium-regular pb-48"},reservationErrorInfo.description),react.createElement(Button.z,{classNames:"reservation-modal__confirm-button",label:reservationErrorInfo.buttonText,buttonType:"none",disabled:!1,collapsible:!1,size:"small",variant:"filled",onClick:()=>setReservationResponse(null)}))},reservation_ReservationError=ReservationError;try{ReservationError.displayName="ReservationError",ReservationError.__docgenInfo={description:"",displayName:"ReservationError",props:{reservationResult:{defaultValue:null,description:"",name:"reservationResult",required:!0,type:{name:"string"}},setReservationResponse:{defaultValue:null,description:"",name:"setReservationResponse",required:!0,type:{name:"(reservationResponse: ReservationResponseV2 | null) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reservation/ReservationError.tsx#ReservationError"]={docgenInfo:ReservationError.__docgenInfo,name:"ReservationError",path:"src/components/reservation/ReservationError.tsx#ReservationError"})}catch(__react_docgen_typescript_loader_error){}const UseReservableManifestations=_ref=>{let{manifestations,type}=_ref;const faustIds=manifestations.map((_ref2=>{let{pid}=_ref2;return(0,general.rp)(pid)})),[reservableManifestations,setReservableManifestations]=(0,react.useState)(null),[unReservableManifestations,setUnReservableManifestations]=(0,react.useState)(null);return(0,react.useEffect)((()=>{if(!manifestations.length||reservableManifestations||unReservableManifestations)return;(async m=>{const data=await(0,fbs.AG)({recordid:faustIds});if(!data)return{reservable:[],unReservable:[]};const filterableManifestations=type?(0,helper.zw)(type,m):m;return{reservable:filterableManifestations.filter((manifestation=>data.some((item=>item.reservable&&item.recordId===(0,general.rp)(manifestation.pid))))),unReservable:filterableManifestations.filter((manifestation=>data.some((item=>!item.reservable&&item.recordId===(0,general.rp)(manifestation.pid)))))}})(manifestations).then((_ref3=>{let{reservable,unReservable}=_ref3;setReservableManifestations(reservable),setUnReservableManifestations(unReservable)}))}),[manifestations,faustIds,type,reservableManifestations,unReservableManifestations]),{reservableManifestations,unReservableManifestations}},utils_UseReservableManifestations=UseReservableManifestations;try{UseReservableManifestations.displayName="UseReservableManifestations",UseReservableManifestations.__docgenInfo={description:"",displayName:"UseReservableManifestations",props:{manifestations:{defaultValue:null,description:"",name:"manifestations",required:!0,type:{name:"Manifestation[]"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/utils/UseReservableManifestations.tsx#UseReservableManifestations"]={docgenInfo:UseReservableManifestations.__docgenInfo,name:"UseReservableManifestations",path:"src/core/utils/UseReservableManifestations.tsx#UseReservableManifestations"})}catch(__react_docgen_typescript_loader_error){}const reservation_useAlternativeAvailableManifestation=(work,currentManifestationPid)=>{const[isOtherManifestationPreferred,setIsOtherManifestationPreferred]=(0,react.useState)(!1),[otherManifestationPreferred,setOtherManifestationPreferred]=(0,react.useState)(null),faustIds=work.manifestations.all.map((manifestation=>(0,general.rp)(manifestation.pid))),{data:availabilityData}=(0,fbs.DP)({recordid:faustIds});return(0,react.useEffect)((()=>{if(availabilityData){const leastReservedData=availabilityData.filter((manifestation=>manifestation.reservable)).sort(((a,b)=>a.reservations-b.reservations)).shift();if(!leastReservedData)return;const leastReservedManifestation=work.manifestations.all.find((manifestation=>(0,general.rp)(manifestation.pid)===leastReservedData.recordId));if(!leastReservedManifestation)return;leastReservedManifestation.pid!==currentManifestationPid&&(setIsOtherManifestationPreferred(!0),setOtherManifestationPreferred({...leastReservedManifestation,...leastReservedData}))}}),[availabilityData,currentManifestationPid,work]),{isOtherManifestationPreferred,otherManifestationPreferred}};var clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),icon_info=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-info.svg"),icon_info_default=__webpack_require__.n(icon_info);const PromoBarIcon=_ref=>{let{type}=_ref;return"info"===type?react.createElement("img",{src:icon_info_default(),alt:""}):null};try{PromoBarIcon.displayName="PromoBarIcon",PromoBarIcon.__docgenInfo={description:"",displayName:"PromoBarIcon",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:'"info"'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/promo-bar/PromoBarIcon.tsx#PromoBarIcon"]={docgenInfo:PromoBarIcon.__docgenInfo,name:"PromoBarIcon",path:"src/components/promo-bar/PromoBarIcon.tsx#PromoBarIcon"})}catch(__react_docgen_typescript_loader_error){}const PromoBar=_ref=>{let{text,classNames,type,sticky,theme}=_ref;return react.createElement("section",{className:(0,clsx_m.Z)("promo-bar",classNames,{"promo-bar--sticky":sticky,"promo-bar--dark":"dark"===theme})},type&&react.createElement(PromoBarIcon,{type}),react.createElement("p",{className:"text-small-caption"},text))},promo_bar_PromoBar=PromoBar;try{PromoBar.displayName="PromoBar",PromoBar.__docgenInfo={description:"",displayName:"PromoBar",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},classNames:{defaultValue:null,description:"",name:"classNames",required:!1,type:{name:"string | undefined"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"info"'}]}},sticky:{defaultValue:null,description:"",name:"sticky",required:!1,type:{name:"boolean | undefined"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"dark"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/promo-bar/PromoBar.tsx#PromoBar"]={docgenInfo:PromoBar.__docgenInfo,name:"PromoBar",path:"src/components/promo-bar/PromoBar.tsx#PromoBar"})}catch(__react_docgen_typescript_loader_error){}const reservationModalId=faustId=>`reservation-modal-${faustId}`,ReservationModalBody=_ref=>{var _reservationResponse$,_reservationResponse$2;let{mainManifestation,mainManifestation:{pid,materialTypes,titles:{main:mainTitle},edition},parallelManifestations,selectedPeriodical,workId,work}=_ref;const t=(0,utils_text.X)(),branches=(0,utils_config.ZR)()("branchesConfig",{transformer:"jsonParse"}),mainManifestationType=(0,helper.cC)(mainManifestation),{reservableManifestations}=utils_UseReservableManifestations({manifestations:parallelManifestations&&parallelManifestations.length>0?parallelManifestations:[mainManifestation],type:mainManifestationType}),queryClient=(0,react_query_es.useQueryClient)(),[reservationResponse,setReservationResponse]=(0,react.useState)(null),[selectedBranch,setSelectedBranch]=(0,react.useState)(null),[selectedInterest,setSelectedInterest]=(0,react.useState)(null),faustId=(0,general.rp)(pid),{mutate}=(0,fbs.kd)(),userResponse=(0,fbs.wK)(),holdingsResponse=(0,fbs.T8)({recordid:[faustId]}),{track}=(0,useStatistics.T)(),{otherManifestationPreferred}=reservation_useAlternativeAvailableManifestation(work,mainManifestation.pid);if(!userResponse.data||!holdingsResponse.data)return null;const{data:userData}=userResponse,{data:holdingsData}=holdingsResponse,{reservations,holdings}=holdingsData[0],{patron}=userData,authorLine=(0,reservation_helper.qT)(mainManifestation,t),expiryDate=selectedInterest?(0,reservation_helper.M1)(selectedInterest):null,reservationSuccess=(null==reservationResponse?void 0:reservationResponse.success)||!1,reservationResult=null==reservationResponse||null===(_reservationResponse$=reservationResponse.reservationResults[0])||void 0===_reservationResponse$?void 0:_reservationResponse$.result,reservationDetails=null==reservationResponse||null===(_reservationResponse$2=reservationResponse.reservationResults[0])||void 0===_reservationResponse$2?void 0:_reservationResponse$2.reservationDetails;return react.createElement(modal.Z,{modalId:reservationModalId(faustId),screenReaderModalDescriptionText:t("reservationModalScreenReaderModalDescriptionText"),closeModalAriaLabelText:t("reservationModalCloseModalAriaLabelText")},!reservationResult&&react.createElement("section",{className:"reservation-modal"},react.createElement("header",{className:"reservation-modal-header"},react.createElement(cover.Y,{id:pid,size:"medium",animate:!0}),react.createElement("div",{className:"reservation-modal-description"},react.createElement("div",{className:"reservation-modal-tag"},materialTypes[0].specific),react.createElement("h2",{className:"text-header-h2 mt-22 mb-8"},mainTitle," ",selectedPeriodical&&selectedPeriodical.displayText),authorLine&&react.createElement("p",{className:"text-body-medium-regular"},authorLine))),react.createElement("div",null,react.createElement("div",{className:"reservation-modal-submit"},react.createElement(generic_MaterialAvailabilityTextParagraph,null,react.createElement(material_StockAndReservationInfo,{stockCount:(0,helper.t$)(holdings),reservationCount:reservations})),react.createElement(Button.z,{dataCy:"reservation-modal-submit-button",label:t("approveReservationText"),buttonType:"none",variant:"filled",disabled:!1,collapsible:!1,size:"small",onClick:()=>{reservableManifestations&&mutate({data:(0,reservation_helper.fK)({manifestations:reservableManifestations,selectedBranch,expiryDate,periodical:selectedPeriodical})},{onSuccess:res=>{track("click",{id:statistics.h.reservation.id,name:statistics.h.reservation.name,trackedData:workId}),setReservationResponse(res),queryClient.invalidateQueries((0,fbs.OL)())}})}})),react.createElement("div",{className:"reservation-modal-list"},react.createElement(reservation_ReservationFormListItem,{icon:Various_default(),title:t("editionText"),text:(null==selectedPeriodical?void 0:selectedPeriodical.displayText)||(null==edition?void 0:edition.summary)||""}),!(0,general.bV)(work)&&otherManifestationPreferred&&react.createElement(promo_bar_PromoBar,{classNames:"px-35",sticky:!0,type:"info",text:t("materialIsAvailableInAnotherEditionText",{count:otherManifestationPreferred.reservations,placeholders:{"@title":otherManifestationPreferred.titles.main[0],"@authorAndYear":(0,reservation_helper.qT)(otherManifestationPreferred,t)??"","@reservations":otherManifestationPreferred.reservations}})}),patron&&react.createElement(reservation_UserListItems,{patron,branches,selectedBranch,selectBranchHandler:setSelectedBranch,selectedInterest,setSelectedInterest})))),reservationSuccess&&reservationDetails&&react.createElement(reservation_ReservationSucces,{modalId:reservationModalId(faustId),title:mainTitle[0],preferredPickupBranch:(0,reservation_helper.Sp)(reservationDetails.pickupBranch,branches),numberInQueue:reservationDetails.numberInQueue}),!reservationSuccess&&reservationResult&&react.createElement(reservation_ReservationError,{reservationResult,setReservationResponse}))},reservation_ReservationModalBody=ReservationModalBody;try{reservationModalId.displayName="reservationModalId",reservationModalId.__docgenInfo={description:"",displayName:"reservationModalId",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reservation/ReservationModalBody.tsx#reservationModalId"]={docgenInfo:reservationModalId.__docgenInfo,name:"reservationModalId",path:"src/components/reservation/ReservationModalBody.tsx#reservationModalId"})}catch(__react_docgen_typescript_loader_error){}try{ReservationModalBody.displayName="ReservationModalBody",ReservationModalBody.__docgenInfo={description:"",displayName:"ReservationModalBody",props:{mainManifestation:{defaultValue:null,description:"",name:"mainManifestation",required:!0,type:{name:"Manifestation"}},parallelManifestations:{defaultValue:null,description:"",name:"parallelManifestations",required:!1,type:{name:"Manifestation[] | undefined"}},selectedPeriodical:{defaultValue:null,description:"",name:"selectedPeriodical",required:!0,type:{name:"PeriodicalEdition | null"}},workId:{defaultValue:null,description:"",name:"workId",required:!0,type:{name:"`work-of:${number}-${string}:${number}`"}},work:{defaultValue:null,description:"",name:"work",required:!0,type:{name:"Work"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reservation/ReservationModalBody.tsx#ReservationModalBody"]={docgenInfo:ReservationModalBody.__docgenInfo,name:"ReservationModalBody",path:"src/components/reservation/ReservationModalBody.tsx#ReservationModalBody"})}catch(__react_docgen_typescript_loader_error){}const MaterialButtonPhysical=_ref=>{let{manifestationMaterialType,faustId,size,dataCy="material-button-physical"}=_ref;const t=(0,utils_text.X)(),dispatch=(0,es.I0)();return react.createElement(Button.z,{dataCy,label:"small"===size?t("reserveText"):`${t("reserveText")} ${manifestationMaterialType}`,buttonType:"none",variant:"filled",disabled:!1,collapsible:!1,size:size||"large",onClick:()=>{dispatch((0,modal_slice.h7)({modalId:reservationModalId(faustId)}))}})},physical_MaterialButtonPhysical=MaterialButtonPhysical;try{MaterialButtonPhysical.displayName="MaterialButtonPhysical",MaterialButtonPhysical.__docgenInfo={description:"",displayName:"MaterialButtonPhysical",props:{manifestationMaterialType:{defaultValue:null,description:"",name:"manifestationMaterialType",required:!0,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"xsmall"'},{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'}]}},faustId:{defaultValue:null,description:"",name:"faustId",required:!0,type:{name:"`${number}`"}},dataCy:{defaultValue:{value:"material-button-physical"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/material-buttons/physical/MaterialButtonPhysical.tsx#MaterialButtonPhysical"]={docgenInfo:MaterialButtonPhysical.__docgenInfo,name:"MaterialButtonPhysical",path:"src/components/material/material-buttons/physical/MaterialButtonPhysical.tsx#MaterialButtonPhysical"})}catch(__react_docgen_typescript_loader_error){}const MaterialButtonsPhysical=_ref=>{let{manifestation:{pid,materialTypes},size,dataCy="material-buttons-physical"}=_ref;const faustId=(0,general.rp)(pid),{data,isLoading}=(0,fbs.DP)({recordid:[faustId]});if(isLoading)return react.createElement(generic_MaterialButtonLoading,{size});if(!data)return null;if(!data[0].reservable)return react.createElement(generic_MaterialButtonCantReserve,{size});const manifestationMaterialType=materialTypes[0].specific;return react.createElement(physical_MaterialButtonPhysical,{dataCy,manifestationMaterialType,faustId,size})},physical_MaterialButtonsPhysical=MaterialButtonsPhysical;try{MaterialButtonsPhysical.displayName="MaterialButtonsPhysical",MaterialButtonsPhysical.__docgenInfo={description:"",displayName:"MaterialButtonsPhysical",props:{manifestation:{defaultValue:null,description:"",name:"manifestation",required:!0,type:{name:"Manifestation"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"xsmall"'},{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'}]}},dataCy:{defaultValue:{value:"material-buttons-physical"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/material-buttons/physical/MaterialButtonsPhysical.tsx#MaterialButtonsPhysical"]={docgenInfo:MaterialButtonsPhysical.__docgenInfo,name:"MaterialButtonsPhysical",path:"src/components/material/material-buttons/physical/MaterialButtonsPhysical.tsx#MaterialButtonsPhysical"})}catch(__react_docgen_typescript_loader_error){}const MaterialButtons=_ref=>{let{manifestation,manifestation:{pid},size,workId,dataCy="material-buttons"}=_ref;const faustId=(0,general.rp)(pid);return react.createElement(react.Fragment,null,hasCorrectAccessType(graphql.U5.Physical,manifestation)&&!(manifestation=>hasCorrectMaterialType("tidsskriftsartikel",manifestation)||hasCorrectMaterialType("avisartikel",manifestation))(manifestation)&&react.createElement(react.Fragment,null,react.createElement(physical_MaterialButtonsPhysical,{manifestation,size,dataCy:`${dataCy}-physical`}),react.createElement(MaterialButtonsFindOnShelf.Z,{size,faustIds:[faustId],dataCy:`${dataCy}-find-on-shelf`})),(hasCorrectAccessType(graphql.U5.Online,manifestation)||hasCorrectAccess("DigitalArticleService",manifestation))&&react.createElement(online_MaterialButtonsOnline,{manifestation,size,workId,dataCy:`${dataCy}-online`}))},material_buttons_MaterialButtons=MaterialButtons;try{MaterialButtons.displayName="MaterialButtons",MaterialButtons.__docgenInfo={description:"",displayName:"MaterialButtons",props:{manifestation:{defaultValue:null,description:"",name:"manifestation",required:!0,type:{name:"Manifestation"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"xsmall"'},{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'}]}},workId:{defaultValue:null,description:"",name:"workId",required:!0,type:{name:"`work-of:${number}-${string}:${number}`"}},dataCy:{defaultValue:{value:"material-buttons"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/material-buttons/MaterialButtons.tsx#MaterialButtons"]={docgenInfo:MaterialButtons.__docgenInfo,name:"MaterialButtons",path:"src/components/material/material-buttons/MaterialButtons.tsx#MaterialButtons"})}catch(__react_docgen_typescript_loader_error){}var isEmpty=__webpack_require__("./node_modules/lodash/isEmpty.js"),isEmpty_default=__webpack_require__.n(isEmpty),periodical_helper=__webpack_require__("./src/components/material/periodical/helper.ts");const MaterialPeriodicalSelect=_ref=>{let{groupList,selectedPeriodical,selectPeriodicalHandler}=_ref;const t=(0,utils_text.X)(),lastYear=Object.keys(groupList).sort().pop()||"",[year,setYear]=(0,react.useState)(lastYear),periodicalEditions=(0,periodical_helper.ik)(groupList);(0,react.useEffect)((()=>{if(selectedPeriodical)return;const firstEdition=(0,periodical_helper.P5)(year,periodicalEditions),firstFullPeriodicalEdition=groupList[year].find((edition=>edition.volumeNumber===firstEdition));firstFullPeriodicalEdition&&selectPeriodicalHandler(firstFullPeriodicalEdition)}),[selectPeriodicalHandler,selectedPeriodical,year,periodicalEditions,groupList]);return react.createElement("div",{className:"text-small-caption material-periodical"},react.createElement("div",{className:"material-periodical-select"},react.createElement("label",{htmlFor:"year"},t("periodicalSelectYearText")),react.createElement("div",{className:"material-periodical-select__border-container"},react.createElement("select",{id:"year",defaultValue:year,onChange:event=>{(0,periodical_helper.sW)(event.target.value,setYear,selectPeriodicalHandler,periodicalEditions,groupList)}},Object.keys(periodicalEditions).sort().map((item=>react.createElement("option",{key:item,value:item},item)))))),year&&react.createElement("div",{className:"material-periodical-select"},react.createElement("label",{htmlFor:"editions"},t("periodicalSelectEditionText")),react.createElement("div",{className:"material-periodical-select__border-container"},react.createElement("select",{id:"editions",value:null==selectedPeriodical?void 0:selectedPeriodical.volumeNumber,onChange:event=>{(0,periodical_helper.ul)(groupList,year,event.target.value,selectPeriodicalHandler)}},periodicalEditions[year].map((item=>react.createElement("option",{key:item,value:item},item)))))))},periodical_MaterialPeriodicalSelect=MaterialPeriodicalSelect;try{MaterialPeriodicalSelect.displayName="MaterialPeriodicalSelect",MaterialPeriodicalSelect.__docgenInfo={description:"",displayName:"MaterialPeriodicalSelect",props:{groupList:{defaultValue:null,description:"",name:"groupList",required:!0,type:{name:"GroupList"}},selectedPeriodical:{defaultValue:null,description:"",name:"selectedPeriodical",required:!0,type:{name:"PeriodicalEdition | null"}},selectPeriodicalHandler:{defaultValue:null,description:"",name:"selectPeriodicalHandler",required:!0,type:{name:"(selectedPeriodical: PeriodicalEdition) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/periodical/MaterialPeriodicalSelect.tsx#MaterialPeriodicalSelect"]={docgenInfo:MaterialPeriodicalSelect.__docgenInfo,name:"MaterialPeriodicalSelect",path:"src/components/material/periodical/MaterialPeriodicalSelect.tsx#MaterialPeriodicalSelect"})}catch(__react_docgen_typescript_loader_error){}const MaterialPeriodical=_ref=>{let{faustId,selectedPeriodical,selectPeriodicalHandler}=_ref;const blacklistBranches=(0,utils_config.ZR)()("blacklistedPickupBranchesConfig",{transformer:"stringToArray"}),{data,isLoading,isError}=(0,fbs.T8)({recordid:[String(faustId)],...blacklistBranches?{exclude:blacklistBranches}:{}});if(isLoading||isError||!data)return null;const materialsPeriodical=data[0].holdings.map((holding=>holding.materials.flat().map((material=>({...material.periodical,itemNumber:material.itemNumber}))))).flat(),groupByVolumeYear=(0,general.CU)(materialsPeriodical,"volumeYear");return groupByVolumeYear&&selectPeriodicalHandler&&!isEmpty_default()(groupByVolumeYear)?react.createElement(periodical_MaterialPeriodicalSelect,{groupList:groupByVolumeYear,selectedPeriodical,selectPeriodicalHandler}):null},periodical_MaterialPeriodical=MaterialPeriodical;try{MaterialPeriodical.displayName="MaterialPeriodical",MaterialPeriodical.__docgenInfo={description:"",displayName:"MaterialPeriodical",props:{faustId:{defaultValue:null,description:"",name:"faustId",required:!0,type:{name:"`${number}`"}},selectedPeriodical:{defaultValue:null,description:"",name:"selectedPeriodical",required:!0,type:{name:"PeriodicalEdition | null"}},selectPeriodicalHandler:{defaultValue:null,description:"",name:"selectPeriodicalHandler",required:!0,type:{name:"(selectedPeriodical: PeriodicalEdition) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/periodical/MaterialPeriodical.tsx#MaterialPeriodical"]={docgenInfo:MaterialPeriodical.__docgenInfo,name:"MaterialPeriodical",path:"src/components/material/periodical/MaterialPeriodical.tsx#MaterialPeriodical"})}catch(__react_docgen_typescript_loader_error){}const MaterialHeader=_ref=>{let{work:{titles:{full:fullTitle},creators,manifestations:{all:manifestations},mainLanguages,workId:wid},manifestation:{pid},manifestation,selectManifestationHandler,selectedPeriodical,selectPeriodicalHandler}=_ref;const t=(0,utils_text.X)(),dispatch=(0,es.I0)(),creatorsText=(0,general.b7)((0,general.TG)((0,general.Bi)(creators,["Person"])),t),isPeriodical=manifestation.materialTypes.some((materialType=>"tidsskrift"===materialType.specific)),author=creatorsText||t("creatorsAreMissingText"),containsDanish=mainLanguages.some((language=>null==language?void 0:language.isoCode.toLowerCase().includes("dan"))),allLanguages=mainLanguages.map((language=>language.display)).join(", "),title=containsDanish?fullTitle:`${fullTitle} (${allLanguages})`,coverPid=pid||(0,general.qQ)(manifestations),{track}=(0,useStatistics.T)(),manifestationMaterialTypes=manifestation.materialTypes.map((item=>item.specific));return(0,useDeepCompareEffect.Z)((()=>{track("click",{id:statistics.h.materialType.id,name:statistics.h.materialType.name,trackedData:manifestationMaterialTypes.join(", ")}),track("click",{id:statistics.h.materialSource.id,name:statistics.h.materialSource.name,trackedData:manifestation.source.join(", ")})}),[manifestationMaterialTypes]),react.createElement("header",{className:"material-header"},react.createElement("div",{className:"material-header__cover"},react.createElement(cover.Y,{id:coverPid,size:"xlarge",animate:!0})),react.createElement("div",{className:"material-header__content"},react.createElement(button_favourite.Z,{id:wid,addToListRequest:id=>{dispatch((0,guardedRequests_slice.Bs)({type:"addFavorite",args:{id},app:"material"}))}}),react.createElement(material_MaterialHeaderText,{title:String(title),author}),react.createElement("div",{className:"material-header__availability-label"},react.createElement(availability_labels.k,{cursorPointer:!0,workId:wid,manifestations,selectedManifestation:manifestation,selectManifestationHandler})),isPeriodical&&react.createElement(periodical_MaterialPeriodical,{faustId:(0,general.rp)(pid),selectedPeriodical,selectPeriodicalHandler}),manifestation&&react.createElement(react.Fragment,null,react.createElement("div",{className:"material-header__button"},react.createElement(material_buttons_MaterialButtons,{manifestation,workId:wid,dataCy:"material-header-buttons"})),react.createElement(MaterialAvailabilityText_MaterialAvailabilityText,{manifestation}))))},material_MaterialHeader=MaterialHeader;try{MaterialHeader.displayName="MaterialHeader",MaterialHeader.__docgenInfo={description:"",displayName:"MaterialHeader",props:{wid:{defaultValue:null,description:"",name:"wid",required:!0,type:{name:"`work-of:${number}-${string}:${number}`"}},work:{defaultValue:null,description:"",name:"work",required:!0,type:{name:"Work"}},manifestation:{defaultValue:null,description:"",name:"manifestation",required:!0,type:{name:"Manifestation"}},selectManifestationHandler:{defaultValue:null,description:"",name:"selectManifestationHandler",required:!0,type:{name:"(manifestation: Manifestation) => void"}},selectedPeriodical:{defaultValue:null,description:"",name:"selectedPeriodical",required:!0,type:{name:"PeriodicalEdition | null"}},selectPeriodicalHandler:{defaultValue:null,description:"",name:"selectPeriodicalHandler",required:!0,type:{name:"(selectedPeriodical: PeriodicalEdition) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/MaterialHeader.tsx#MaterialHeader"]={docgenInfo:MaterialHeader.__docgenInfo,name:"MaterialHeader",path:"src/components/material/MaterialHeader.tsx#MaterialHeader"})}catch(__react_docgen_typescript_loader_error){}var HorizontalTermLine=__webpack_require__("./src/components/horizontal-term-line/HorizontalTermLine.tsx");const MaterialDescription=_ref=>{let{work}=_ref;const t=(0,utils_text.X)(),{searchUrl,materialUrl}=(0,url.J_)(),inSeries=work.series,seriesMembersList=work.seriesMembers.map((item=>({url:(0,helpers_url.WO)(materialUrl,item.workId),term:item.titles.main[0]}))),subjectsList=work.subjects.all.map((item=>({url:(0,helpers_url.Nt)(searchUrl,item.display),term:item.display}))),{fictionNonfiction}=work;return react.createElement("section",{className:"material-description"},react.createElement("h2",{className:"text-header-h4 pb-24"},t("descriptionHeadlineText")),work.abstract&&react.createElement("p",{className:"text-body-large material-description__content"},work.abstract[0]),react.createElement("div",{className:"material-description__links mt-32"},inSeries&&inSeries.map(((seriesItem,i)=>{var _seriesItem$numberInS;return react.createElement(HorizontalTermLine.Z,{title:`${t("numberDescriptionText")} ${null===(_seriesItem$numberInS=seriesItem.numberInSeries)||void 0===_seriesItem$numberInS?void 0:_seriesItem$numberInS.number}`,subTitle:t("inSeriesText"),linkList:[{url:(0,helpers_url.Nt)(searchUrl,seriesItem.title),term:seriesItem.title}],dataCy:`material-description-series-${i}`})})),seriesMembersList&&react.createElement(HorizontalTermLine.Z,{title:t("inSameSeriesText"),linkList:seriesMembersList,dataCy:"material-description-series-members"}),subjectsList&&react.createElement(HorizontalTermLine.Z,{title:t("identifierText"),linkList:subjectsList,dataCy:"material-description-identifier"}),fictionNonfiction&&react.createElement(HorizontalTermLine.Z,{title:t("fictionNonfictionText"),linkList:[{url:(0,helpers_url.Nt)(searchUrl,fictionNonfiction.display),term:fictionNonfiction.display}],dataCy:"material-description-fiction-nonfiction"})))},material_MaterialDescription=MaterialDescription;try{MaterialDescription.displayName="MaterialDescription",MaterialDescription.__docgenInfo={description:"",displayName:"MaterialDescription",props:{pid:{defaultValue:null,description:"",name:"pid",required:!0,type:{name:"`${number}-${string}:${number}`"}},work:{defaultValue:null,description:"",name:"work",required:!0,type:{name:"WorkMediumFragment"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/MaterialDescription.tsx#MaterialDescription"]={docgenInfo:MaterialDescription.__docgenInfo,name:"MaterialDescription",path:"src/components/material/MaterialDescription.tsx#MaterialDescription"})}catch(__react_docgen_typescript_loader_error){}var disclosure=__webpack_require__("./src/components/Disclosures/disclosure.tsx"),dayjs_min=__webpack_require__("./node_modules/dayjs/dayjs.min.js"),dayjs_min_default=__webpack_require__.n(dayjs_min),customParseFormat=__webpack_require__("./node_modules/dayjs/plugin/customParseFormat.js"),customParseFormat_default=__webpack_require__.n(customParseFormat);const usDateStringToDateObj=date=>(dayjs_min_default().extend(customParseFormat_default()),dayjs_min_default()(date,"YYYY-MM-DD").toDate()),ReviewMetadata=_ref=>{let{author,date,url}=_ref;const metaDataText=(returnAuthor,returnDate)=>`${returnAuthor||""}${returnAuthor&&returnDate?", ":""}${returnDate?dayjs_min_default()(returnDate).format("DD.MM.YYYY"):""}`;return url?react.createElement(link_no_style.n,{url,className:"link-tag text-small-caption mb-8"},metaDataText(author,date)):react.createElement("div",{className:"review__meta mb-8"},metaDataText(author,date))},material_ReviewMetadata=ReviewMetadata;try{usDateStringToDateObj.displayName="usDateStringToDateObj",usDateStringToDateObj.__docgenInfo={description:"",displayName:"usDateStringToDateObj",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/ReviewMetadata.tsx#usDateStringToDateObj"]={docgenInfo:usDateStringToDateObj.__docgenInfo,name:"usDateStringToDateObj",path:"src/components/material/ReviewMetadata.tsx#usDateStringToDateObj"})}catch(__react_docgen_typescript_loader_error){}try{ReviewMetadata.displayName="ReviewMetadata",ReviewMetadata.__docgenInfo={description:"",displayName:"ReviewMetadata",props:{author:{defaultValue:null,description:"",name:"author",required:!1,type:{name:"string | null | undefined"}},date:{defaultValue:null,description:"",name:"date",required:!1,type:{name:"Date | null | undefined"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"URL | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/ReviewMetadata.tsx#ReviewMetadata"]={docgenInfo:ReviewMetadata.__docgenInfo,name:"ReviewMetadata",path:"src/components/material/ReviewMetadata.tsx#ReviewMetadata"})}catch(__react_docgen_typescript_loader_error){}var icon_heart_filled=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-heart-filled.svg"),icon_heart_filled_default=__webpack_require__.n(icon_heart_filled),icon_heart_grey=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-heart-grey.svg"),icon_heart_grey_default=__webpack_require__.n(icon_heart_grey);const ReviewHearts=_ref=>{let{amountOfHearts}=_ref;const t=(0,utils_text.X)(),heartArray=amountOfHearts.split("/"),filledHeartsArray=Array.from({length:Number(heartArray[0])},((_,i)=>i+1)),emptyHeartsArray=Array.from({length:Number(heartArray[1])-Number(heartArray[0])},((_,i)=>i+1)),ariaLabel=t("ratingIsText",{placeholders:{"@heartCount":filledHeartsArray.length,"@numberOfHeartsPossible":heartArray[1]}});return react.createElement("div",{className:"mb-4",role:"figure","aria-label":ariaLabel},filledHeartsArray.map((()=>react.createElement("img",{src:icon_heart_filled_default(),className:"review__heart",alt:""}))),emptyHeartsArray.map((()=>react.createElement("img",{src:icon_heart_grey_default(),className:"review__heart",alt:""}))))},material_ReviewHearts=ReviewHearts;try{ReviewHearts.displayName="ReviewHearts",ReviewHearts.__docgenInfo={description:"",displayName:"ReviewHearts",props:{amountOfHearts:{defaultValue:null,description:"",name:"amountOfHearts",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/ReviewHearts.tsx#ReviewHearts"]={docgenInfo:ReviewHearts.__docgenInfo,name:"ReviewHearts",path:"src/components/material/ReviewHearts.tsx#ReviewHearts"})}catch(__react_docgen_typescript_loader_error){}const ReviewExternal=_ref=>{let{review:{date:reviewDate,author,rating,urls}}=_ref;const date=reviewDate?usDateStringToDateObj(reviewDate):null;return react.createElement("li",{className:"review text-small-caption"},(author||reviewDate)&&react.createElement(material_ReviewMetadata,{author,date}),rating&&react.createElement(material_ReviewHearts,{amountOfHearts:rating}),urls&&urls.map((_ref2=>{let{url,origin}=_ref2;return react.createElement("a",{href:url,className:"link-tag text-small-caption mb-8"},origin)})))},material_ReviewExternal=ReviewExternal;try{ReviewExternal.displayName="ReviewExternal",ReviewExternal.__docgenInfo={description:"",displayName:"ReviewExternal",props:{review:{defaultValue:null,description:"",name:"review",required:!0,type:{name:"ExternalReview"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/ReviewExternal.tsx#ReviewExternal"]={docgenInfo:ReviewExternal.__docgenInfo,name:"ReviewExternal",path:"src/components/material/ReviewExternal.tsx#ReviewExternal"})}catch(__react_docgen_typescript_loader_error){}const useScrollToLocation=dependency=>{const[scrolledAlready,setScrolledAlready]=(0,react.useState)(!1),urlAnchor=window.location.hash;(0,react.useEffect)((()=>{if(urlAnchor&&!scrolledAlready){const anchorId=urlAnchor.replace("#",""),element=document.getElementById(anchorId);element&&(element.scrollIntoView({behavior:"smooth"}),setScrolledAlready(!0))}}),[urlAnchor,dependency,scrolledAlready])};try{useScrollToLocation.displayName="useScrollToLocation",useScrollToLocation.__docgenInfo={description:"",displayName:"useScrollToLocation",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/utils/UseScrollToLocation.tsx#useScrollToLocation"]={docgenInfo:useScrollToLocation.__docgenInfo,name:"useScrollToLocation",path:"src/core/utils/UseScrollToLocation.tsx#useScrollToLocation"})}catch(__react_docgen_typescript_loader_error){}const ReviewInfomedia=_ref=>{var _infomedia$article,_infomedia$article2,_infomedia$article3;let{review}=_ref;const{id}=review,{data,error}=(0,graphql.Dv)({id}),t=(0,utils_text.X)(),{authUrl}=(0,url.J_)();if(useScrollToLocation(data),error)return null;if(!data)return null;const{infomedia}=data,date=review.date?usDateStringToDateObj(review.date):null;return infomedia.error?react.createElement("li",{className:"review text-small-caption"},(review.author||review.date)&&react.createElement(material_ReviewMetadata,{author:review.author,date}),review.rating&&react.createElement(material_ReviewHearts,{amountOfHearts:review.rating}),react.createElement("div",{className:"review__headline mb-8"},"BORROWER_NOT_LOGGED_IN"===infomedia.error?react.createElement(Button.z,{label:t("loginToSeeReviewText"),buttonType:"none",disabled:!1,collapsible:!1,size:"xsmall",variant:"outline",onClick:()=>{(reviewId=>{const returnUrl=(0,helpers_url.oW)(new URL((0,helpers_url.vW)()),{disclosure:"disclosure-reviews"});returnUrl.hash=reviewId,(0,helpers_url.hN)({authUrl,returnUrl})})(review.id)}}):t("cantViewReviewText"))):react.createElement("li",{className:"review text-small-caption",id:review.id},(review.author||review.date)&&react.createElement(material_ReviewMetadata,{author:review.author,date}),review.rating&&react.createElement(material_ReviewHearts,{amountOfHearts:review.rating}),(null===(_infomedia$article=infomedia.article)||void 0===_infomedia$article?void 0:_infomedia$article.headLine)&&react.createElement("div",{className:"review__headline mb-8"},infomedia.article.headLine),(null===(_infomedia$article2=infomedia.article)||void 0===_infomedia$article2?void 0:_infomedia$article2.text)&&react.createElement("p",{className:"review__body mb-8",dangerouslySetInnerHTML:{__html:null===(_infomedia$article3=infomedia.article)||void 0===_infomedia$article3?void 0:_infomedia$article3.text}}),review.origin&&(0,helpers_url.pM)(review.origin)&&react.createElement(material_ReviewMetadata,{author:review.author,date,url:new URL(review.origin)}))},material_ReviewInfomedia=ReviewInfomedia;try{ReviewInfomedia.displayName="ReviewInfomedia",ReviewInfomedia.__docgenInfo={description:"",displayName:"ReviewInfomedia",props:{review:{defaultValue:null,description:"",name:"review",required:!0,type:{name:"InfomediaReview"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/ReviewInfomedia.tsx#ReviewInfomedia"]={docgenInfo:ReviewInfomedia.__docgenInfo,name:"ReviewInfomedia",path:"src/components/material/ReviewInfomedia.tsx#ReviewInfomedia"})}catch(__react_docgen_typescript_loader_error){}const ReviewLibrarian=_ref=>{let{review}=_ref;const date=review.date?usDateStringToDateObj(review.date):null;return react.createElement("li",{className:"review text-small-caption"},(review.author||review.date)&&react.createElement(material_ReviewMetadata,{author:review.author,date}),review.sections&&review.sections.map((section=>react.createElement(react.Fragment,null,section.heading&&react.createElement("div",{className:"review__headline mb-8"},section.heading),section.text&&react.createElement("div",{className:"review__body mb-8"},section.text)))))},material_ReviewLibrarian=ReviewLibrarian;try{ReviewLibrarian.displayName="ReviewLibrarian",ReviewLibrarian.__docgenInfo={description:"",displayName:"ReviewLibrarian",props:{review:{defaultValue:null,description:"",name:"review",required:!0,type:{name:"LibrariansReview"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/ReviewLibrarian.tsx#ReviewLibrarian"]={docgenInfo:ReviewLibrarian.__docgenInfo,name:"ReviewLibrarian",path:"src/components/material/ReviewLibrarian.tsx#ReviewLibrarian"})}catch(__react_docgen_typescript_loader_error){}const MaterialReviews=_ref=>{let{listOfReviews}=_ref;return react.createElement("ul",{className:"reviews"},listOfReviews.map((review=>"ExternalReview"===review.__typename?react.createElement(material_ReviewExternal,{review}):"InfomediaReview"===review.__typename?react.createElement(material_ReviewInfomedia,{review}):react.createElement(material_ReviewLibrarian,{review}))))};try{MaterialReviews.displayName="MaterialReviews",MaterialReviews.__docgenInfo={description:"",displayName:"MaterialReviews",props:{listOfReviews:{defaultValue:null,description:"",name:"listOfReviews",required:!0,type:{name:"(LibrariansReview | ExternalReview | InfomediaReview)[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/MaterialReviews.tsx#MaterialReviews"]={docgenInfo:MaterialReviews.__docgenInfo,name:"MaterialReviews",path:"src/components/material/MaterialReviews.tsx#MaterialReviews"})}catch(__react_docgen_typescript_loader_error){}var ExpandMore=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/ExpandMore.svg"),ExpandMore_default=__webpack_require__.n(ExpandMore),availability_label=__webpack_require__("./src/components/availability-label/availability-label.tsx");const description_list=_ref=>{let{data,classNames}=_ref;return react.createElement("dl",{className:`list-description ${classNames??""}`},data.map((item=>{const{label,value}=item;return react.createElement("div",null,react.createElement("dt",null,label),react.createElement("dd",null,value))})))};try{descriptionlist.displayName="descriptionlist",descriptionlist.__docgenInfo={description:"",displayName:"descriptionlist",props:{classNames:{defaultValue:null,description:"",name:"classNames",required:!1,type:{name:"string | undefined"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ label: string; value: ReactNode; }[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/description-list/description-list.tsx#descriptionlist"]={docgenInfo:descriptionlist.__docgenInfo,name:"descriptionlist",path:"src/components/description-list/description-list.tsx#descriptionlist"})}catch(__react_docgen_typescript_loader_error){}const MaterialDetailsList=_ref=>{let{data,className}=_ref;const listData=data.filter((item=>item.value)).map((item=>{const{label,value,type}=item;return{label,value:"link"===type?react.createElement("span",{className:"link-tag pr-4"},value):react.createElement("span",null,value)}}));return react.createElement(description_list,{data:listData,classNames:className})},material_MaterialDetailsList=MaterialDetailsList;try{MaterialDetailsList.displayName="MaterialDetailsList",MaterialDetailsList.__docgenInfo={description:"",displayName:"MaterialDetailsList",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ListData"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/MaterialDetailsList.tsx#MaterialDetailsList"]={docgenInfo:MaterialDetailsList.__docgenInfo,name:"MaterialDetailsList",path:"src/components/material/MaterialDetailsList.tsx#MaterialDetailsList"})}catch(__react_docgen_typescript_loader_error){}const MaterialMainfestationItem=_ref=>{var _languages$main,_materialTypes$,_titles$original,_identifiers$,_physicalDescriptions,_materialTypes$2,_edition$publicationY;let{manifestation:{materialTypes,pid,titles,creators,hostPublication,languages,identifiers,contributors,edition,audience,physicalDescriptions,genreAndForm},manifestation,workId}=_ref;const t=(0,utils_text.X)(),[isOpen,setIsOpen]=(0,react.useState)(!1),faustId=(0,general.rp)(pid),creatorsText=(0,general.b7)((0,general.TG)((0,general.Bi)(creators,["Person"])),t),allContributors=String(contributors.map((contributor=>contributor.display))),allLanguages=String(null==languages||null===(_languages$main=languages.main)||void 0===_languages$main?void 0:_languages$main.map((language=>language.display)).join(", ")),listDescriptionData=[{label:t("typeText"),value:(null==materialTypes||null===(_materialTypes$=materialTypes[0])||void 0===_materialTypes$?void 0:_materialTypes$.specific)??"",type:"standard"},{label:t("languageText"),value:allLanguages??"",type:"standard"},{label:t("genreAndFormText"),value:(null==genreAndForm?void 0:genreAndForm[0])??"",type:"standard"},{label:t("contributorsText"),value:allContributors??"",type:"link"},{label:t("originalTitleText"),value:(null==titles||null===(_titles$original=titles.original)||void 0===_titles$original?void 0:_titles$original[0])??"",type:"standard"},{label:t("isbnText"),value:(null==identifiers||null===(_identifiers$=identifiers[0])||void 0===_identifiers$?void 0:_identifiers$.value)??"",type:"standard"},{label:t("editionText"),value:(null==edition?void 0:edition.summary)??"",type:"standard"},{label:t("scopeText"),value:String((null==physicalDescriptions||null===(_physicalDescriptions=physicalDescriptions[0])||void 0===_physicalDescriptions?void 0:_physicalDescriptions.numberOfPages)??""),type:"standard"},{label:t("publisherText"),value:(null==hostPublication?void 0:hostPublication.publisher)??"",type:"standard"},{label:t("audienceText"),value:(null==audience?void 0:audience.generalAudience[0])??"",type:"standard"}];return react.createElement("div",{className:"material-manifestation-item"},react.createElement("div",{className:"material-manifestation-item__availability"},react.createElement(availability_label.K,{manifestText:null===(_materialTypes$2=materialTypes[0])||void 0===_materialTypes$2?void 0:_materialTypes$2.specific,url:new URL("/",(0,helpers_url.vW)()),faustIds:[faustId]})),react.createElement("div",{className:"material-manifestation-item__cover"},react.createElement(cover.Y,{id:pid,size:"small",animate:!1})),react.createElement("div",{className:"material-manifestation-item__text"},react.createElement("h2",{className:"material-manifestation-item__title text-header-h4"},null==titles?void 0:titles.main[0]),react.createElement("p",{className:"text-small-caption"},t("materialHeaderAuthorByText")," ",creatorsText,(null==edition||null===(_edition$publicationY=edition.publicationYear)||void 0===_edition$publicationY?void 0:_edition$publicationY.display)&&` (${edition.publicationYear.display})`),react.createElement("div",{className:"material-manifestation-item__details "+(isOpen?"expanded":""),onClick:()=>{setIsOpen(!isOpen)},onKeyPress:()=>{setIsOpen(!isOpen)},role:"button",tabIndex:0},react.createElement("p",{className:"link-tag text-small-caption"},t("detailsOfTheMaterialText")),react.createElement("img",{src:ExpandMore_default(),alt:""})),isOpen&&react.createElement(material_MaterialDetailsList,{className:"mt-24",data:listDescriptionData})),react.createElement("div",{className:"material-manifestation-item__buttons"},react.createElement(material_buttons_MaterialButtons,{manifestation,size:"small",workId})))},material_MaterialMainfestationItem=MaterialMainfestationItem;try{MaterialMainfestationItem.displayName="MaterialMainfestationItem",MaterialMainfestationItem.__docgenInfo={description:"",displayName:"MaterialMainfestationItem",props:{manifestation:{defaultValue:null,description:"",name:"manifestation",required:!0,type:{name:"Manifestation"}},workId:{defaultValue:null,description:"",name:"workId",required:!0,type:{name:"`work-of:${number}-${string}:${number}`"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/MaterialMainfestationItem.tsx#MaterialMainfestationItem"]={docgenInfo:MaterialMainfestationItem.__docgenInfo,name:"MaterialMainfestationItem",path:"src/components/material/MaterialMainfestationItem.tsx#MaterialMainfestationItem"})}catch(__react_docgen_typescript_loader_error){}var FindOnShelfModal=__webpack_require__("./src/components/find-on-shelf/FindOnShelfModal.tsx");const ReservationModal_reservationModalId=faustId=>`reservation-modal-${faustId}`,ReservationModal=_ref=>{let{mainManifestation,mainManifestation:{pid},parallelManifestations,selectedPeriodical=null,workId,work}=_ref;const t=(0,utils_text.X)();return react.createElement(modal.Z,{modalId:ReservationModal_reservationModalId((0,general.rp)(pid)),screenReaderModalDescriptionText:t("reservationModalScreenReaderModalDescriptionText"),closeModalAriaLabelText:t("reservationModalCloseModalAriaLabelText")},react.createElement(reservation_ReservationModalBody,{mainManifestation,parallelManifestations,selectedPeriodical,workId,work}))},reservation_ReservationModal=ReservationModal;try{ReservationModal_reservationModalId.displayName="reservationModalId",ReservationModal_reservationModalId.__docgenInfo={description:"",displayName:"reservationModalId",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reservation/ReservationModal.tsx#reservationModalId"]={docgenInfo:ReservationModal_reservationModalId.__docgenInfo,name:"reservationModalId",path:"src/components/reservation/ReservationModal.tsx#reservationModalId"})}catch(__react_docgen_typescript_loader_error){}try{ReservationModal.displayName="ReservationModal",ReservationModal.__docgenInfo={description:"",displayName:"ReservationModal",props:{mainManifestation:{defaultValue:null,description:"",name:"mainManifestation",required:!0,type:{name:"Manifestation"}},parallelManifestations:{defaultValue:null,description:"",name:"parallelManifestations",required:!1,type:{name:"Manifestation[] | undefined"}},selectedPeriodical:{defaultValue:{value:"null"},description:"",name:"selectedPeriodical",required:!1,type:{name:"PeriodicalEdition | null | undefined"}},workId:{defaultValue:null,description:"",name:"workId",required:!0,type:{name:"`work-of:${number}-${string}:${number}`"}},work:{defaultValue:null,description:"",name:"work",required:!0,type:{name:"Work"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reservation/ReservationModal.tsx#ReservationModal"]={docgenInfo:ReservationModal.__docgenInfo,name:"ReservationModal",path:"src/components/reservation/ReservationModal.tsx#ReservationModal"})}catch(__react_docgen_typescript_loader_error){}var DisclosureControllable=__webpack_require__("./src/components/Disclosures/DisclosureControllable.tsx");const DigitalModalBody=_ref=>{let{userEmail,handleSubmit,isLoading}=_ref;const t=(0,utils_text.X)(),[email,setEmail]=(0,react.useState)(userEmail);return react.createElement(forms_ReservationForm,{cyData:"order-digital",title:t("orderDigitalCopyTitleText"),description:[t("orderDigitalCopyDescriptionText")],onSubmit:()=>{handleSubmit(email)},buttonLabel:t(isLoading?"orderDigitalCopyButtonLoadingText":"orderDigitalCopyButtonText"),disabledButton:isLoading},react.createElement(TextInput.Z,{type:"email",label:t("orderDigitalCopyEmailLabelText"),id:"email-order-digital-copy",value:email,onChange:setEmail}))},digital_modal_DigitalModalBody=DigitalModalBody;try{DigitalModalBody.displayName="DigitalModalBody",DigitalModalBody.__docgenInfo={description:"",displayName:"DigitalModalBody",props:{userEmail:{defaultValue:null,description:"",name:"userEmail",required:!0,type:{name:"string"}},handleSubmit:{defaultValue:null,description:"",name:"handleSubmit",required:!0,type:{name:"(email: string) => void"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/digital-modal/DigitalModalBody.tsx#DigitalModalBody"]={docgenInfo:DigitalModalBody.__docgenInfo,name:"DigitalModalBody",path:"src/components/material/digital-modal/DigitalModalBody.tsx#DigitalModalBody"})}catch(__react_docgen_typescript_loader_error){}const DigitalModalFeedback=_ref=>{let{modalId,isError}=_ref;const t=(0,utils_text.X)(),{close}=(0,modal.f)();return react.createElement(forms_ReservationForm,{cyData:"order-digital-feedback",title:t(isError?"orderDigitalCopyErrorTitleText":"orderDigitalCopySuccessTitleText"),description:isError?[t("orderDigitalCopyErrorDescriptionText")]:[t("orderDigitalCopySuccessDescriptionText")],onSubmit:()=>close(modalId),buttonLabel:t(isError?"orderDigitalCopyErrorButtonText":"orderDigitalCopySuccessButtonText")})},digital_modal_DigitalModalFeedback=DigitalModalFeedback;try{DigitalModalFeedback.displayName="DigitalModalFeedback",DigitalModalFeedback.__docgenInfo={description:"",displayName:"DigitalModalFeedback",props:{modalId:{defaultValue:null,description:"",name:"modalId",required:!0,type:{name:"string"}},isError:{defaultValue:null,description:"",name:"isError",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/digital-modal/DigitalModalFeedback.tsx#DigitalModalFeedback"]={docgenInfo:DigitalModalFeedback.__docgenInfo,name:"DigitalModalFeedback",path:"src/components/material/digital-modal/DigitalModalFeedback.tsx#DigitalModalFeedback"})}catch(__react_docgen_typescript_loader_error){}const DigitalModal=_ref=>{let{digitalArticleIssn,pid,workId}=_ref;const modalId=createDigitalModalId(digitalArticleIssn),t=(0,utils_text.X)(),[userEmail,setUserEmail]=(0,react.useState)(null),{track}=(0,useStatistics.T)(),{mutate:articleOrder,isLoading:articleOrderLoading,isSuccess:articleOrderSuccess,isError:articleOrderError}=(0,dpl_cms.nV)(),{data:patronData}=(0,fbs.wK)();return(0,react.useEffect)((()=>{var _patronData$patron;patronData&&(null!==(_patronData$patron=patronData.patron)&&void 0!==_patronData$patron&&_patronData$patron.emailAddress?setUserEmail(patronData.patron.emailAddress):setUserEmail(""))}),[patronData]),react.createElement(modal.Z,{modalId,screenReaderModalDescriptionText:t("orderDigitalCopyModalScreenReaderModalDescriptionText"),closeModalAriaLabelText:t("orderDigitalCopyModalCloseModalAriaLabelText")},(articleOrderSuccess||articleOrderError)&&react.createElement(digital_modal_DigitalModalFeedback,{modalId,isError:articleOrderError}),!articleOrderSuccess&&!articleOrderError&&null!==userEmail&&react.createElement(digital_modal_DigitalModalBody,{userEmail,handleSubmit:email=>{articleOrder({data:{pid,email}},{onSuccess:()=>{track("click",{id:statistics.h.reservation.id,name:statistics.h.reservation.name,trackedData:workId})}})},isLoading:articleOrderLoading}))},digital_modal_DigitalModal=DigitalModal;try{DigitalModal.displayName="DigitalModal",DigitalModal.__docgenInfo={description:"",displayName:"DigitalModal",props:{digitalArticleIssn:{defaultValue:null,description:"",name:"digitalArticleIssn",required:!0,type:{name:"string"}},pid:{defaultValue:null,description:"",name:"pid",required:!0,type:{name:"`${number}-${string}:${number}`"}},workId:{defaultValue:null,description:"",name:"workId",required:!0,type:{name:"`work-of:${number}-${string}:${number}`"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/digital-modal/DigitalModal.tsx#DigitalModal"]={docgenInfo:DigitalModal.__docgenInfo,name:"DigitalModal",path:"src/components/material/digital-modal/DigitalModal.tsx#DigitalModal"})}catch(__react_docgen_typescript_loader_error){}const material_material=_ref=>{let{wid}=_ref;const t=(0,utils_text.X)(),[currentManifestation,setCurrentManifestation]=(0,react.useState)(null),[selectedPeriodical,setSelectedPeriodical]=(0,react.useState)(null),{data,isLoading}=(0,graphql.og)({wid}),{track}=(0,useStatistics.T)();if((0,useDeepCompareEffect.Z)((()=>{var _data$work,_data$work2,_data$work3,_data$work4,_data$work4$manifesta,_data$work5;null!=data&&null!==(_data$work=data.work)&&void 0!==_data$work&&_data$work.genreAndForm&&track("click",{id:statistics.h.materialGenre.id,name:statistics.h.materialGenre.name,trackedData:data.work.genreAndForm.join(", ")}),null!=data&&null!==(_data$work2=data.work)&&void 0!==_data$work2&&_data$work2.mainLanguages&&track("click",{id:statistics.h.materialLanguage.id,name:statistics.h.materialLanguage.name,trackedData:data.work.mainLanguages.map((language=>language.display)).join(", ")}),null!=data&&null!==(_data$work3=data.work)&&void 0!==_data$work3&&_data$work3.dk5MainEntry&&track("click",{id:statistics.h.materialTopicNumber.id,name:statistics.h.materialTopicNumber.name,trackedData:data.work.dk5MainEntry.display}),null!=data&&null!==(_data$work4=data.work)&&void 0!==_data$work4&&null!==(_data$work4$manifesta=_data$work4.manifestations.latest.audience)&&void 0!==_data$work4$manifesta&&_data$work4$manifesta.generalAudience&&track("click",{id:statistics.h.materialTopicNumber.id,name:statistics.h.materialTopicNumber.name,trackedData:data.work.manifestations.latest.audience.generalAudience.join(", ")}),null!=data&&null!==(_data$work5=data.work)&&void 0!==_data$work5&&_data$work5.fictionNonfiction&&track("click",{id:statistics.h.materialFictionNonFiction.id,name:statistics.h.materialFictionNonFiction.name,trackedData:data.work.fictionNonfiction.display})}),[data]),(0,react.useEffect)((()=>{if(null==data||!data.work)return;const{work}=data,type=(0,helpers_url.wo)("type");if(!type){const workManifestation=(0,helper.hT)(work);return setCurrentManifestation(workManifestation),void(0,helpers_url.ul)({type:(0,helper.cC)(workManifestation)})}const manifestationFromType=(0,helper.DE)(type,work);manifestationFromType&&setCurrentManifestation(manifestationFromType)}),[data]),isLoading)return react.createElement("div",null,"Loading...");if(null==data||!data.work||!currentManifestation)return react.createElement("div",null,"No work data");const{work,work:{manifestations:{all:manifestations},reviews}}=data,pid=(0,general.qQ)(manifestations),listDescriptionData=(0,helper.Sg)({manifestation:currentManifestation,work,t}),parallelManifestations=(0,general.bV)(work)?manifestations:[],infomediaId=(0,helper.QO)(currentManifestation),shouldOpenReviewDisclosure=!!(0,helpers_url.wo)("disclosure");return react.createElement("section",{className:"material-page"},react.createElement(material_MaterialHeader,{wid,work,manifestation:currentManifestation,selectManifestationHandler:setCurrentManifestation,selectedPeriodical,selectPeriodicalHandler:setSelectedPeriodical}),react.createElement(material_MaterialDescription,{pid,work}),react.createElement(disclosure.Z,{mainIconPath:Various_default(),title:`${t("editionsText")} (${manifestations.length})`,disclosureIconExpandAltText:"",dataCy:"material-editions-disclosure"},manifestations.map((manifestation=>react.createElement(react.Fragment,null,react.createElement(material_MaterialMainfestationItem,{key:manifestation.pid,manifestation,workId:wid}),react.createElement(FindOnShelfModal.Z,{manifestations:[manifestation],workTitles:manifestation.titles.main,authors:manifestation.creators,key:`find-on-shelf-modal-${manifestation.pid}`,selectedPeriodical,setSelectedPeriodical}),react.createElement(reservation_ReservationModal,{mainManifestation:manifestation,parallelManifestations,workId:wid,work}))))),react.createElement(disclosure.Z,{mainIconPath:Receipt_default(),title:t("detailsText"),disclosureIconExpandAltText:"",dataCy:"material-details-disclosure"},react.createElement(material_MaterialDetailsList,{className:"pl-80 pb-48",data:listDescriptionData})),reviews&&reviews.length>=1&&react.createElement(DisclosureControllable.Z,{id:"reviews",title:t("reviewsText"),mainIconPath:Create_default(),showContent:shouldOpenReviewDisclosure,cyData:"material-reviews-disclosure"},react.createElement(MaterialReviews,{listOfReviews:reviews})),currentManifestation&&react.createElement(react.Fragment,null,react.createElement(FindOnShelfModal.Z,{manifestations:[currentManifestation],workTitles:work.titles.full,authors:work.creators,selectedPeriodical,setSelectedPeriodical}),react.createElement(reservation_ReservationModal,{mainManifestation:currentManifestation,parallelManifestations,selectedPeriodical,workId:wid,work}),infomediaId&&react.createElement(infomedia_InfomediaModal,{mainManifestation:currentManifestation,infoMediaId:infomediaId}),hasCorrectAccess("DigitalArticleService",currentManifestation)&&react.createElement(digital_modal_DigitalModal,{digitalArticleIssn:(manifestation=currentManifestation,manifestation.access.find((_ref=>{let{__typename}=_ref;return"DigitalArticleService"===__typename})).issn),pid:currentManifestation.pid,workId:wid})));var manifestation};try{material.displayName="material",material.__docgenInfo={description:"",displayName:"material",props:{wid:{defaultValue:null,description:"",name:"wid",required:!0,type:{name:"`work-of:${number}-${string}:${number}`"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/material/material.tsx#material"]={docgenInfo:material.__docgenInfo,name:"material",path:"src/apps/material/material.tsx#material"})}catch(__react_docgen_typescript_loader_error){}const material_entry=(0,utils_config.Rh)((0,url.XL)((0,utils_text.z)((_ref=>{let{wid}=_ref;return react.createElement(guarded_app.Z,{app:"material"},react.createElement(material_material,{wid}))}))));try{materialentry.displayName="materialentry",materialentry.__docgenInfo={description:"",displayName:"materialentry",props:{wid:{defaultValue:null,description:"",name:"wid",required:!0,type:{name:"`work-of:${number}-${string}:${number}`"}},dplCmsBaseUrl:{defaultValue:null,description:"",name:"dplCmsBaseUrl",required:!0,type:{name:"string"}},materialUrl:{defaultValue:null,description:"",name:"materialUrl",required:!0,type:{name:"string"}},searchUrl:{defaultValue:null,description:"",name:"searchUrl",required:!0,type:{name:"string"}},authUrl:{defaultValue:null,description:"",name:"authUrl",required:!0,type:{name:"string"}},alreadyReservedText:{defaultValue:null,description:"",name:"alreadyReservedText",required:!0,type:{name:"string"}},approveReservationText:{defaultValue:null,description:"",name:"approveReservationText",required:!0,type:{name:"string"}},audienceText:{defaultValue:null,description:"",name:"audienceText",required:!0,type:{name:"string"}},cantReserveText:{defaultValue:null,description:"",name:"cantReserveText",required:!0,type:{name:"string"}},cantViewReviewText:{defaultValue:null,description:"",name:"cantViewReviewText",required:!0,type:{name:"string"}},chooseOneText:{defaultValue:null,description:"",name:"chooseOneText",required:!0,type:{name:"string"}},closeText:{defaultValue:null,description:"",name:"closeText",required:!0,type:{name:"string"}},contributorsText:{defaultValue:null,description:"",name:"contributorsText",required:!0,type:{name:"string"}},creatorsAreMissingText:{defaultValue:null,description:"",name:"creatorsAreMissingText",required:!0,type:{name:"string"}},daysText:{defaultValue:null,description:"",name:"daysText",required:!0,type:{name:"string"}},descriptionHeadlineText:{defaultValue:null,description:"",name:"descriptionHeadlineText",required:!0,type:{name:"string"}},detailsOfTheMaterialText:{defaultValue:null,description:"",name:"detailsOfTheMaterialText",required:!0,type:{name:"string"}},detailsText:{defaultValue:null,description:"",name:"detailsText",required:!0,type:{name:"string"}},editionsText:{defaultValue:null,description:"",name:"editionsText",required:!0,type:{name:"string"}},editionText:{defaultValue:null,description:"",name:"editionText",required:!0,type:{name:"string"}},etAlText:{defaultValue:null,description:"",name:"etAlText",required:!0,type:{name:"string"}},fictionNonfictionText:{defaultValue:null,description:"",name:"fictionNonfictionText",required:!0,type:{name:"string"}},findOnBookshelfText:{defaultValue:null,description:"",name:"findOnBookshelfText",required:!0,type:{name:"string"}},findOnShelfExpandButtonExplanationText:{defaultValue:null,description:"",name:"findOnShelfExpandButtonExplanationText",required:!0,type:{name:"string"}},findOnShelfModalCloseModalAriaLabelText:{defaultValue:null,description:"",name:"findOnShelfModalCloseModalAriaLabelText",required:!0,type:{name:"string"}},findOnShelfModalListFindOnShelfText:{defaultValue:null,description:"",name:"findOnShelfModalListFindOnShelfText",required:!0,type:{name:"string"}},findOnShelfModalListItemCountText:{defaultValue:null,description:"",name:"findOnShelfModalListItemCountText",required:!0,type:{name:"string"}},findOnShelfModalListMaterialText:{defaultValue:null,description:"",name:"findOnShelfModalListMaterialText",required:!0,type:{name:"string"}},findOnShelfModalNoLocationSpecifiedText:{defaultValue:null,description:"",name:"findOnShelfModalNoLocationSpecifiedText",required:!0,type:{name:"string"}},findOnShelfModalPeriodicalEditionDropdownText:{defaultValue:null,description:"",name:"findOnShelfModalPeriodicalEditionDropdownText",required:!0,type:{name:"string"}},findOnShelfModalPeriodicalYearDropdownText:{defaultValue:null,description:"",name:"findOnShelfModalPeriodicalYearDropdownText",required:!0,type:{name:"string"}},findOnShelfModalScreenReaderModalDescriptionText:{defaultValue:null,description:"",name:"findOnShelfModalScreenReaderModalDescriptionText",required:!0,type:{name:"string"}},genreAndFormText:{defaultValue:null,description:"",name:"genreAndFormText",required:!0,type:{name:"string"}},getOnlineText:{defaultValue:null,description:"",name:"getOnlineText",required:!0,type:{name:"string"}},goToText:{defaultValue:null,description:"",name:"goToText",required:!0,type:{name:"string"}},haveNoInterestAfterText:{defaultValue:null,description:"",name:"haveNoInterestAfterText",required:!0,type:{name:"string"}},identifierText:{defaultValue:null,description:"",name:"identifierText",required:!0,type:{name:"string"}},infomediaModalCloseModalAriaLabelText:{defaultValue:null,description:"",name:"infomediaModalCloseModalAriaLabelText",required:!0,type:{name:"string"}},infomediaModalScreenReaderModalDescriptionText:{defaultValue:null,description:"",name:"infomediaModalScreenReaderModalDescriptionText",required:!0,type:{name:"string"}},inSameSeriesText:{defaultValue:null,description:"",name:"inSameSeriesText",required:!0,type:{name:"string"}},inSeriesText:{defaultValue:null,description:"",name:"inSeriesText",required:!0,type:{name:"string"}},isbnText:{defaultValue:null,description:"",name:"isbnText",required:!0,type:{name:"string"}},languageText:{defaultValue:null,description:"",name:"languageText",required:!0,type:{name:"string"}},librariesHaveTheMaterialText:{defaultValue:null,description:"",name:"librariesHaveTheMaterialText",required:!0,type:{name:"string"}},loadingText:{defaultValue:null,description:"",name:"loadingText",required:!0,type:{name:"string"}},loginToSeeReviewText:{defaultValue:null,description:"",name:"loginToSeeReviewText",required:!0,type:{name:"string"}},materialHeaderAllEditionsText:{defaultValue:null,description:"",name:"materialHeaderAllEditionsText",required:!0,type:{name:"string"}},materialHeaderAuthorByText:{defaultValue:null,description:"",name:"materialHeaderAuthorByText",required:!0,type:{name:"string"}},materialIsIncludedText:{defaultValue:null,description:"",name:"materialIsIncludedText",required:!0,type:{name:"string"}},materialIsLoanedOutText:{defaultValue:null,description:"",name:"materialIsLoanedOutText",required:!0,type:{name:"string"}},materialReservationInfoText:{defaultValue:null,description:"",name:"materialReservationInfoText",required:!0,type:{name:"string"}},missingDataText:{defaultValue:null,description:"",name:"missingDataText",required:!0,type:{name:"string"}},materialsInStockInfoText:{defaultValue:null,description:"",name:"materialsInStockInfoText",required:!0,type:{name:"string"}},modalReservationFormEmailHeaderDescriptionText:{defaultValue:null,description:"",name:"modalReservationFormEmailHeaderDescriptionText",required:!0,type:{name:"string"}},modalReservationFormEmailHeaderTitleText:{defaultValue:null,description:"",name:"modalReservationFormEmailHeaderTitleText",required:!0,type:{name:"string"}},modalReservationFormEmailInputFieldDescriptionText:{defaultValue:null,description:"",name:"modalReservationFormEmailInputFieldDescriptionText",required:!0,type:{name:"string"}},modalReservationFormEmailInputFieldLabelText:{defaultValue:null,description:"",name:"modalReservationFormEmailInputFieldLabelText",required:!0,type:{name:"string"}},modalReservationFormNoInterestAfterHeaderDescriptionText:{defaultValue:null,description:"",name:"modalReservationFormNoInterestAfterHeaderDescriptionText",required:!0,type:{name:"string"}},modalReservationFormNoInterestAfterHeaderTitleText:{defaultValue:null,description:"",name:"modalReservationFormNoInterestAfterHeaderTitleText",required:!0,type:{name:"string"}},modalReservationFormPickupHeaderDescriptionText:{defaultValue:null,description:"",name:"modalReservationFormPickupHeaderDescriptionText",required:!0,type:{name:"string"}},modalReservationFormPickupHeaderTitleText:{defaultValue:null,description:"",name:"modalReservationFormPickupHeaderTitleText",required:!0,type:{name:"string"}},modalReservationFormSmsHeaderDescriptionText:{defaultValue:null,description:"",name:"modalReservationFormSmsHeaderDescriptionText",required:!0,type:{name:"string"}},modalReservationFormSmsHeaderTitleText:{defaultValue:null,description:"",name:"modalReservationFormSmsHeaderTitleText",required:!0,type:{name:"string"}},modalReservationFormSmsInputFieldDescriptionText:{defaultValue:null,description:"",name:"modalReservationFormSmsInputFieldDescriptionText",required:!0,type:{name:"string"}},modalReservationFormSmsInputFieldLabelText:{defaultValue:null,description:"",name:"modalReservationFormSmsInputFieldLabelText",required:!0,type:{name:"string"}},numberDescriptionText:{defaultValue:null,description:"",name:"numberDescriptionText",required:!0,type:{name:"string"}},numberInQueueText:{defaultValue:null,description:"",name:"numberInQueueText",required:!0,type:{name:"string"}},okButtonText:{defaultValue:null,description:"",name:"okButtonText",required:!0,type:{name:"string"}},oneMonthText:{defaultValue:null,description:"",name:"oneMonthText",required:!0,type:{name:"string"}},oneYearText:{defaultValue:null,description:"",name:"oneYearText",required:!0,type:{name:"string"}},onlineLimitMonthInfoText:{defaultValue:null,description:"",name:"onlineLimitMonthInfoText",required:!0,type:{name:"string"}},originalTitleText:{defaultValue:null,description:"",name:"originalTitleText",required:!0,type:{name:"string"}},outOfText:{defaultValue:null,description:"",name:"outOfText",required:!0,type:{name:"string"}},periodicalSelectEditionText:{defaultValue:null,description:"",name:"periodicalSelectEditionText",required:!0,type:{name:"string"}},periodicalSelectYearText:{defaultValue:null,description:"",name:"periodicalSelectYearText",required:!0,type:{name:"string"}},pickupLocationText:{defaultValue:null,description:"",name:"pickupLocationText",required:!0,type:{name:"string"}},publisherText:{defaultValue:null,description:"",name:"publisherText",required:!0,type:{name:"string"}},queueText:{defaultValue:null,description:"",name:"queueText",required:!0,type:{name:"string"}},ratingIsText:{defaultValue:null,description:"",name:"ratingIsText",required:!0,type:{name:"string"}},readArticleText:{defaultValue:null,description:"",name:"readArticleText",required:!0,type:{name:"string"}},receiveEmailWhenMaterialReadyText:{defaultValue:null,description:"",name:"receiveEmailWhenMaterialReadyText",required:!0,type:{name:"string"}},receiveSmsWhenMaterialReadyText:{defaultValue:null,description:"",name:"receiveSmsWhenMaterialReadyText",required:!0,type:{name:"string"}},reservationErrorsDescriptionText:{defaultValue:null,description:"",name:"reservationErrorsDescriptionText",required:!0,type:{name:"string"}},reservationErrorsTitleText:{defaultValue:null,description:"",name:"reservationErrorsTitleText",required:!0,type:{name:"string"}},reservationModalCloseModalAriaLabelText:{defaultValue:null,description:"",name:"reservationModalCloseModalAriaLabelText",required:!0,type:{name:"string"}},reservationModalScreenReaderModalDescriptionText:{defaultValue:null,description:"",name:"reservationModalScreenReaderModalDescriptionText",required:!0,type:{name:"string"}},reservationSuccesIsReservedForYouText:{defaultValue:null,description:"",name:"reservationSuccesIsReservedForYouText",required:!0,type:{name:"string"}},reservationSuccessPreferredPickupBranchText:{defaultValue:null,description:"",name:"reservationSuccessPreferredPickupBranchText",required:!0,type:{name:"string"}},reservationSuccesTitleText:{defaultValue:null,description:"",name:"reservationSuccesTitleText",required:!0,type:{name:"string"}},reserveBookText:{defaultValue:null,description:"",name:"reserveBookText",required:!0,type:{name:"string"}},reserveText:{defaultValue:null,description:"",name:"reserveText",required:!0,type:{name:"string"}},reviewsText:{defaultValue:null,description:"",name:"reviewsText",required:!0,type:{name:"string"}},scopeText:{defaultValue:null,description:"",name:"scopeText",required:!0,type:{name:"string"}},seeOnlineText:{defaultValue:null,description:"",name:"seeOnlineText",required:!0,type:{name:"string"}},listenOnlineText:{defaultValue:null,description:"",name:"listenOnlineText",required:!0,type:{name:"string"}},shiftText:{defaultValue:null,description:"",name:"shiftText",required:!0,type:{name:"string"}},sixMonthsText:{defaultValue:null,description:"",name:"sixMonthsText",required:!0,type:{name:"string"}},threeMonthsText:{defaultValue:null,description:"",name:"threeMonthsText",required:!0,type:{name:"string"}},tryAginButtonText:{defaultValue:null,description:"",name:"tryAginButtonText",required:!0,type:{name:"string"}},twoMonthsText:{defaultValue:null,description:"",name:"twoMonthsText",required:!0,type:{name:"string"}},typeText:{defaultValue:null,description:"",name:"typeText",required:!0,type:{name:"string"}},materialIsAvailableInAnotherEditionText:{defaultValue:null,description:"",name:"materialIsAvailableInAnotherEditionText",required:!0,type:{name:"string"}},saveButtonText:{defaultValue:null,description:"",name:"saveButtonText",required:!0,type:{name:"string"}},orderDigitalCopyModalScreenReaderModalDescriptionText:{defaultValue:null,description:"",name:"orderDigitalCopyModalScreenReaderModalDescriptionText",required:!0,type:{name:"string"}},orderDigitalCopyModalCloseModalAriaLabelText:{defaultValue:null,description:"",name:"orderDigitalCopyModalCloseModalAriaLabelText",required:!0,type:{name:"string"}},orderDigitalCopyTitleText:{defaultValue:null,description:"",name:"orderDigitalCopyTitleText",required:!0,type:{name:"string"}},orderDigitalCopyDescriptionText:{defaultValue:null,description:"",name:"orderDigitalCopyDescriptionText",required:!0,type:{name:"string"}},orderDigitalCopyButtonText:{defaultValue:null,description:"",name:"orderDigitalCopyButtonText",required:!0,type:{name:"string"}},orderDigitalCopyButtonLoadingText:{defaultValue:null,description:"",name:"orderDigitalCopyButtonLoadingText",required:!0,type:{name:"string"}},orderDigitalCopySuccessTitleText:{defaultValue:null,description:"",name:"orderDigitalCopySuccessTitleText",required:!0,type:{name:"string"}},orderDigitalCopySuccessDescriptionText:{defaultValue:null,description:"",name:"orderDigitalCopySuccessDescriptionText",required:!0,type:{name:"string"}},orderDigitalCopySuccessButtonText:{defaultValue:null,description:"",name:"orderDigitalCopySuccessButtonText",required:!0,type:{name:"string"}},orderDigitalCopyErrorTitleText:{defaultValue:null,description:"",name:"orderDigitalCopyErrorTitleText",required:!0,type:{name:"string"}},orderDigitalCopyErrorDescriptionText:{defaultValue:null,description:"",name:"orderDigitalCopyErrorDescriptionText",required:!0,type:{name:"string"}},orderDigitalCopyErrorButtonText:{defaultValue:null,description:"",name:"orderDigitalCopyErrorButtonText",required:!0,type:{name:"string"}},orderDigitalCopyEmailLabelText:{defaultValue:null,description:"",name:"orderDigitalCopyEmailLabelText",required:!0,type:{name:"string"}},smsNotificationsForReservationsEnabledConfig:{defaultValue:null,description:"",name:"smsNotificationsForReservationsEnabledConfig",required:!0,type:{name:"boolean"}},blacklistedPickupBranchesConfig:{defaultValue:null,description:"",name:"blacklistedPickupBranchesConfig",required:!1,type:{name:"string | undefined"}},blacklistedAvailabilityBranchesConfig:{defaultValue:null,description:"",name:"blacklistedAvailabilityBranchesConfig",required:!1,type:{name:"string | undefined"}},branchesConfig:{defaultValue:null,description:"",name:"branchesConfig",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/material/material.entry.tsx#materialentry"]={docgenInfo:materialentry.__docgenInfo,name:"materialentry",path:"src/apps/material/material.entry.tsx#materialentry"})}catch(__react_docgen_typescript_loader_error){}const material_dev={title:"Apps / Material",component:material_entry,argTypes:{...serviceUrlArgs.Z,searchUrl:{name:"Path to the search result page",defaultValue:"/search",control:{type:"text"}},materialUrl:{name:"Path to the material page",defaultValue:"/work/:workid",control:{type:"text"}},wid:{name:"Work ID",defaultValue:"work-of:870970-basis:52557240",control:{type:"text"}},smsNotificationsForReservationsEnabledConfig:{name:"SMS notifications for reservations is enabled",defaultValue:"1",control:{type:"text"}},blacklistedPickupBranchesConfig:{name:"Blacklisted Pickup branches",defaultValue:"FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",control:{type:"text"}},blacklistedAvailabilityBranchesConfig:{name:"Blacklisted Availability branches",defaultValue:"FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",control:{type:"text"}},branchesConfig:{name:"Branches",defaultValue:'[\n   {\n      "branchId":"DK-775120",\n      "title":"Højbjerg"\n   },\n   {\n      "branchId":"DK-775122",\n      "title":"Beder-Malling"\n   },\n   {\n      "branchId":"DK-775144",\n      "title":"Gellerup"\n   },\n   {\n      "branchId":"DK-775167",\n      "title":"Lystrup"\n   },\n   {\n      "branchId":"DK-775146",\n      "title":"Harlev"\n   },\n   {\n      "branchId":"DK-775168",\n      "title":"Skødstrup"\n   },\n   {\n      "branchId":"FBS-751010",\n      "title":"Arresten"\n   },\n   {\n      "branchId":"DK-775147",\n      "title":"Hasle"\n   },\n   {\n      "branchId":"FBS-751032",\n      "title":"Må ikke benyttes"\n   },\n   {\n      "branchId":"FBS-751031",\n      "title":"Fjernlager 1"\n   },\n   {\n      "branchId":"DK-775126",\n      "title":"Solbjerg"\n   },\n   {\n      "branchId":"FBS-751030",\n      "title":"ITK"\n   },\n   {\n      "branchId":"DK-775149",\n      "title":"Sabro"\n   },\n   {\n      "branchId":"DK-775127",\n      "title":"Tranbjerg"\n   },\n   {\n      "branchId":"DK-775160",\n      "title":"Risskov"\n   },\n   {\n      "branchId":"DK-775162",\n      "title":"Hjortshøj"\n   },\n   {\n      "branchId":"DK-775140",\n      "title":"Åby"\n   },\n   {\n      "branchId":"FBS-751009",\n      "title":"Fjernlager 2"\n   },\n   {\n      "branchId":"FBS-751029",\n      "title":"Stadsarkivet"\n   },\n   {\n      "branchId":"FBS-751027",\n      "title":"Intern"\n   },\n   {\n      "branchId":"FBS-751026",\n      "title":"Fælles undervejs"\n   },\n   {\n      "branchId":"FBS-751025",\n      "title":"Fællessekretariatet"\n   },\n   {\n      "branchId":"DK-775133",\n      "title":"Bavnehøj"\n   },\n   {\n      "branchId":"FBS-751024",\n      "title":"Fjernlånte materialer"\n   },\n   {\n      "branchId":"DK-775100",\n      "title":"Hovedbiblioteket"\n   },\n   {\n      "branchId":"DK-775170",\n      "title":"Trige"\n   },\n   {\n      "branchId":"DK-775150",\n      "title":"Tilst"\n   },\n   {\n      "branchId":"DK-775130",\n      "title":"Viby"\n   },\n   {\n      "branchId":"DK-775164",\n      "title":"Egå"\n   }\n]',control:{type:"text"}},materialHeaderAllEditionsText:{name:"Text for the fiction edition text",defaultValue:"All editions",control:{type:"text"}},materialHeaderAuthorByText:{name:"By (author)",defaultValue:"By",control:{type:"text"}},periodicalSelectYearText:{name:"Year",defaultValue:"Year",control:{type:"text"}},periodicalSelectEditionText:{name:"Edition/Week",defaultValue:"Edition",control:{type:"text"}},reserveBookText:{name:"Reserve",defaultValue:"Reserve book",control:{type:"text"}},reserveText:{name:"Reserve",defaultValue:"Reserve",control:{type:"text"}},findOnBookshelfText:{name:"Find on bookshelf",defaultValue:"Find on shelf",control:{type:"text"}},descriptionHeadlineText:{name:"Description headline",defaultValue:"Description",control:{type:"text"}},identifierText:{name:"Identifier/topic text",defaultValue:"Tags",control:{type:"text"}},inSameSeriesText:{name:"In same series as",defaultValue:"In the same series",control:{type:"text"}},numberDescriptionText:{name:"Number",defaultValue:"Nr.",control:{type:"text"}},inSeriesText:{name:"In series",defaultValue:"in series",control:{type:"text"}},loginToSeeReviewText:{name:"Login to see Review",defaultValue:"Login to see the review.",control:{type:"text"}},cantViewReviewText:{name:"Cannot view Review",defaultValue:"Cannot view the review.",control:{type:"text"}},ratingIsText:{name:"Rating is",defaultValue:"Rating of this item is @heartCount out of @numberOfHeartsPossible hearts",control:{type:"text"}},outOfText:{name:"X 'out of' Y",defaultValue:"out of",control:{type:"text"}},detailsOfTheMaterialText:{name:"Details of the material",defaultValue:"Details about the material",control:{type:"text"}},editionsText:{name:"Editions",defaultValue:"Editions",control:{type:"text"}},fictionNonfictionText:{name:"Fiction Nonfiction",defaultValue:"Fictional",control:{type:"text"}},detailsText:{name:"Details",defaultValue:"Details",control:{type:"text"}},reviewsText:{name:"Reviews",defaultValue:"Reviews",control:{type:"text"}},typeText:{name:"Type",defaultValue:"Type",control:{type:"text"}},languageText:{name:"Language",defaultValue:"Language",control:{type:"text"}},contributorsText:{name:"Contributors",defaultValue:"Contributors",control:{type:"text"}},originalTitleText:{name:"Original title",defaultValue:"Original title",control:{type:"text"}},isbnText:{name:"ISBN",defaultValue:"ISBN",control:{type:"text"}},editionText:{name:"Edition",defaultValue:"Edition",control:{type:"text"}},scopeText:{name:"Scope",defaultValue:"Scope",control:{type:"text"}},publisherText:{name:"Publisher",defaultValue:"Publisher",control:{type:"text"}},audienceText:{name:"Audience",defaultValue:"Audience",control:{type:"text"}},genreAndFormText:{name:"Genre and form",defaultValue:"Genre",control:{type:"text"}},creatorsAreMissingText:{name:"Creators are missing",defaultValue:"Creators are missing",control:{type:"text"}},readArticleText:{name:"Read article",defaultValue:"Read article",control:{type:"text"}},loadingText:{name:"Loading",defaultValue:"Loading",control:{type:"text"}},getOnlineText:{name:"Get online",defaultValue:"Get online",control:{type:"text"}},seeOnlineText:{name:"See online",defaultValue:"See online",control:{type:"text"}},listenOnlineText:{name:"Listen online",defaultValue:"Listen online",control:{type:"text"}},cantReserveText:{name:"Can't be reserved",defaultValue:"Can't be reserved",control:{type:"text"}},goToText:{name:"Go to",defaultValue:"Go to @source",control:{type:"text"}},materialIsLoanedOutText:{name:"Material is loaned out",defaultValue:"Material is loaned out",control:{type:"text"}},findOnShelfExpandButtonExplanationText:{name:"Find on shelf expand button explanation text",defaultValue:"This button opens a modal",control:{type:"text"}},materialIsIncludedText:{name:"Material is included",defaultValue:"This material doesn't count towards your loan quota",control:{type:"text"}},materialsInStockInfoText:{name:"Materials in stock info text",defaultValue:'{"type":"plural","text":["We have 1 copy of the material in stock","We have @count copies of the material in stock"]}',control:{type:"text"}},materialReservationInfoText:{name:"Material Reservation info text",defaultValue:'{"type":"plural","text":["1 copy has been reserved","@count copies have been reserved"]}',control:{type:"text"}},onlineLimitMonthInfoText:{name:"Online limit info text",defaultValue:"You have borrowed @count out of @limit possible e-books this month",control:{type:"text"}},approveReservationText:{name:"Approve reservation",defaultValue:"Approve reservation",control:{type:"text"}},shiftText:{name:"Change",defaultValue:"Change",control:{type:"text"}},pickupLocationText:{name:"Pick up at",defaultValue:"Pick up at",control:{type:"text"}},receiveSmsWhenMaterialReadyText:{name:"You will receive an SMS when the material is ready",defaultValue:"You will receive an SMS when the material is ready",control:{type:"text"}},receiveEmailWhenMaterialReadyText:{name:"Receive mail when the material is ready",defaultValue:"You will receive an email when the material is ready",control:{type:"text"}},haveNoInterestAfterText:{name:"Have no interest after",defaultValue:"Have no interest after",control:{type:"text"}},oneMonthText:{name:"One month",defaultValue:"1 month",control:{type:"text"}},twoMonthsText:{name:"Two months",defaultValue:"2 months",control:{type:"text"}},threeMonthsText:{name:"Three months",defaultValue:"3 months",control:{type:"text"}},sixMonthsText:{name:"Six months",defaultValue:"6 months",control:{type:"text"}},oneYearText:{name:"Twelve months",defaultValue:"12 months",control:{type:"text"}},daysText:{name:"Days",defaultValue:"Days",control:{type:"text"}},reservationSuccesTitleText:{name:"Reservation Success title",defaultValue:"Material is available and reserved for you!",control:{type:"text"}},reservationSuccesIsReservedForYouText:{name:"Reservation Success Title",defaultValue:"is reserved for you",control:{type:"text"}},reservationSuccessPreferredPickupBranchText:{name:"Reservation Preferred pickup branch",defaultValue:"Material is available and you will get a message when it is ready for pickup - pickup at @branch",control:{type:"text"}},reservationErrorsTitleText:{name:"Reservation Error title",defaultValue:"Failed to reserve the material",control:{type:"text"}},reservationErrorsDescriptionText:{name:"Reservation Error description",defaultValue:"We're sorry. Unfortunately, there has been an error. Try again, please.",control:{type:"text"}},tryAginButtonText:{name:"Try again button text",defaultValue:"Try again",control:{type:"text"}},okButtonText:{name:"Ok button text",defaultValue:"Ok",control:{type:"text"}},missingDataText:{name:"Missing data text",defaultValue:"Missing data",control:{type:"text"}},reservationModalScreenReaderModalDescriptionText:{name:"Reservation modal screen reader description",defaultValue:"Modal for reservation",control:{type:"text"}},reservationModalCloseModalAriaLabelText:{name:"Close Reservation modal",defaultValue:"Close reservation modal",control:{type:"text"}},librariesHaveTheMaterialText:{name:"Libraries have the material",defaultValue:"libraries have material",control:{type:"text"}},findOnShelfModalScreenReaderModalDescriptionText:{name:"Reservation modal screen reader description",defaultValue:"Modal for reservation",control:{type:"text"}},findOnShelfModalCloseModalAriaLabelText:{name:"Close findOnShelf modal",defaultValue:"Close reservation modal",control:{type:"text"}},findOnShelfModalListMaterialText:{name:"Material",defaultValue:"Material",control:{type:"text"}},findOnShelfModalListFindOnShelfText:{name:"Find it on shelf",defaultValue:"Find it on shelf",control:{type:"text"}},findOnShelfModalListItemCountText:{name:"Home",defaultValue:"home",control:{type:"text"}},findOnShelfModalNoLocationSpecifiedText:{name:"No location for find on shelf specified",defaultValue:"-",control:{type:"text"}},findOnShelfModalPeriodicalYearDropdownText:{name:"Find on shelf modal periodical dropdown - choose year",defaultValue:"Choose periodical year",control:{type:"text"}},findOnShelfModalPeriodicalEditionDropdownText:{name:"Find on shelf modal periodical dropdown - choose edition/volume",defaultValue:"Choose periodical edition",control:{type:"text"}},numberInQueueText:{name:"Number in queue text",defaultValue:"You are number @number in the queue",control:{type:"text"}},alreadyReservedText:{name:"Already reserved text",defaultValue:"You already reserved this material",control:{type:"text"}},closeText:{name:"Close text",defaultValue:"Close",control:{type:"text"}},modalReservationFormEmailHeaderTitleText:{name:"Modal reservation form email header title",defaultValue:"Change email",control:{type:"text"}},modalReservationFormEmailHeaderDescriptionText:{name:"Modal reservation form email header description",defaultValue:"If you wish to receive notification emails you can add or change your email address here.",control:{type:"text"}},modalReservationFormEmailInputFieldLabelText:{name:"Modal reservation form email input field label",defaultValue:"Email",control:{type:"text"}},modalReservationFormEmailInputFieldDescriptionText:{name:"Modal reservation form email input field description",defaultValue:"Add email",control:{type:"text"}},modalReservationFormSmsHeaderTitleText:{name:"Modal reservation form sms header title",defaultValue:"Change phone number",control:{type:"text"}},modalReservationFormSmsHeaderDescriptionText:{name:"Modal reservation form sms header description",defaultValue:"If you wish to receive notification sms you can add or change your phone number here.",control:{type:"text"}},modalReservationFormSmsInputFieldLabelText:{name:"Modal reservation form sms input field label",defaultValue:"Phone number",control:{type:"text"}},modalReservationFormSmsInputFieldDescriptionText:{name:"Modal reservation form sms input field description",defaultValue:"Phone number",control:{type:"text"}},etAlText:{name:"Et al. Text",defaultValue:"et al.",control:{type:"text"}},modalReservationFormPickupHeaderTitleText:{name:"Modal reservation form pickup header title",defaultValue:"Change pick-up location",control:{type:"text"}},modalReservationFormPickupHeaderDescriptionText:{name:"Modal reservation form pickup header description",defaultValue:"If you wish to change the pick-up location for your reservation, you can do it here.",control:{type:"text"}},chooseOneText:{name:"Choose one text",defaultValue:"Choose one",control:{type:"text"}},modalReservationFormNoInterestAfterHeaderTitleText:{name:"Modal reservation form no interest after header title",defaultValue:"Change date of interest",control:{type:"text"}},modalReservationFormNoInterestAfterHeaderDescriptionText:{name:"Modal reservation form no interest after header description",defaultValue:"If you wish to change the amount of time after which you're no longer interested in the material, you can do it here.",control:{type:"text"}},infomediaModalScreenReaderModalDescriptionText:{name:"Infomedia modal screen reader description",defaultValue:"Modal for infomedia",control:{type:"text"}},infomediaModalCloseModalAriaLabelText:{name:"Close infomedia modal",defaultValue:"Close infomedia modal",control:{type:"text"}},saveButtonText:{name:"Save button text",defaultValue:"Save",control:{type:"text"}},orderDigitalCopyModalScreenReaderModalDescriptionText:{name:"Order digital copy modal screen reader description",defaultValue:"Modal for Order digital copy",control:{type:"text"}},orderDigitalCopyModalCloseModalAriaLabelText:{name:"Close order digital copy modal",defaultValue:"Close Order digital copy modal",control:{type:"text"}},orderDigitalCopyTitleText:{name:"Order digital copy title text",defaultValue:"Order digital copy",control:{type:"text"}},orderDigitalCopyDescriptionText:{name:"Order digital copy description text",defaultValue:"You can order a digital copy of this material. The digital copy will be sent to your email address.",control:{type:"text"}},orderDigitalCopyButtonText:{name:"Order digital copy button text",defaultValue:"Order digital copy",control:{type:"text"}},orderDigitalCopyButtonLoadingText:{name:"Order digital copy button loading text",defaultValue:"Ordering digital copy",control:{type:"text"}},orderDigitalCopySuccessTitleText:{name:"Order digital copy success title text",defaultValue:"Digital copy ordered",control:{type:"text"}},orderDigitalCopySuccessDescriptionText:{name:"Order digital copy success description text",defaultValue:"The digital copy has been ordered. You will receive an email when the digital copy is ready.",control:{type:"text"}},orderDigitalCopySuccessButtonText:{name:"Order digital copy success button text",defaultValue:"Close",control:{type:"text"}},orderDigitalCopyErrorTitleText:{name:"Order digital copy error title text",defaultValue:"Error ordering digital copy",control:{type:"text"}},orderDigitalCopyErrorDescriptionText:{name:"Order digital copy error description text",defaultValue:"An error occurred while ordering the digital copy. Please try again later.",control:{type:"text"}},orderDigitalCopyErrorButtonText:{name:"Order digital copy error button text",defaultValue:"Close",control:{type:"text"}},orderDigitalCopyEmailLabelText:{name:"Order digital copy error email text",defaultValue:"Email",control:{type:"text"}},authUrl:{name:"Url where user can authenticate",defaultValue:"",control:{type:"text"}},materialIsAvailableInAnotherEditionText:{name:"Skip queue material is available in another edition",defaultValue:'{"type":"plural","text":["Skip the queue - The material is available in another edition - @title @authorAndYear - reservations: @reservation","Skip the queue - The material is available in another edition - @title @authorAndYear - reservations: @reservations"]}',control:{type:"text"}}}},Template=args=>react.createElement(material_entry,args),Default=Template.bind({});Default.args={};const Periodical=Template.bind({});Periodical.args={wid:"work-of:870970-basis:06373674"};const Infomedia=Template.bind({});Infomedia.args={wid:"work-of:870971-avis:35731733"};const HarryPotter=Template.bind({});HarryPotter.args={wid:"work-of:870970-basis:22629344"};const TurenGårTilRom=Template.bind({});TurenGårTilRom.args={wid:"work-of:870970-basis:61991484"};const Digital=Template.bind({});Digital.args={wid:"work-of:870971-tsart:34310815"}},"./src/apps/menu/menu.dev.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MenuEntry:()=>menu_dev_MenuEntry,default:()=>menu_dev});var react=__webpack_require__("./node_modules/react/index.js"),serviceUrlArgs=__webpack_require__("./src/core/storybook/serviceUrlArgs.ts"),icon_profile=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-profile.svg"),icon_profile_default=__webpack_require__.n(icon_profile),CloseLarge=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/CloseLarge.svg"),CloseLarge_default=__webpack_require__.n(CloseLarge),atoms_link=__webpack_require__("./src/components/atoms/link.tsx");const menu_navigation_list=_ref=>{let{menuNavigationData,loansCount,reservationCount,feeCount}=_ref;const dataMap={1:loansCount,2:reservationCount,4:feeCount};return react.createElement(react.Fragment,null,menuNavigationData.map((_ref2=>{let{name,link,dataId}=_ref2;return react.createElement("div",{className:"link-filters__tag-wrapper"},react.createElement("a",{href:link,className:"link-tag link-tag link-filters__tag"},name),dataMap[dataId]&&react.createElement("span",{className:"link-filters__counter"},dataMap[dataId]))})))};try{menunavigationlist.displayName="menunavigationlist",menunavigationlist.__docgenInfo={description:"",displayName:"menunavigationlist",props:{menuNavigationData:{defaultValue:null,description:"",name:"menuNavigationData",required:!0,type:{name:"MenuNavigationData[]"}},loansCount:{defaultValue:null,description:"",name:"loansCount",required:!0,type:{name:"number"}},reservationCount:{defaultValue:null,description:"",name:"reservationCount",required:!0,type:{name:"number"}},feeCount:{defaultValue:null,description:"",name:"feeCount",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/menu/menu-navigation-list/menu-navigation-list.tsx#menunavigationlist"]={docgenInfo:menunavigationlist.__docgenInfo,name:"menunavigationlist",path:"src/apps/menu/menu-navigation-list/menu-navigation-list.tsx#menunavigationlist"})}catch(__react_docgen_typescript_loader_error){}var arrow=__webpack_require__("./src/components/atoms/icons/arrow/arrow.tsx");const menu_notification=_ref=>{let{notificationNumber,notificationText,notificationColor,notificationLink}=_ref;return react.createElement("div",{className:"modal-profile__notification-item"},react.createElement(atoms_link.r,{href:new URL(notificationLink),className:"list-dashboard shadow-medium-hover arrow__hover--right-small"},react.createElement("div",{className:`number number--${notificationColor}`},notificationNumber),react.createElement("span",{className:"list-dashboard__title text-header-h4"},notificationText),react.createElement("div",{className:"list-dashboard__dot"}),react.createElement(arrow.Z,null)))};try{menunotification.displayName="menunotification",menunotification.__docgenInfo={description:"",displayName:"menunotification",props:{notificationNumber:{defaultValue:null,description:"",name:"notificationNumber",required:!0,type:{name:"number"}},notificationText:{defaultValue:null,description:"",name:"notificationText",required:!0,type:{name:"string"}},notificationColor:{defaultValue:null,description:"",name:"notificationColor",required:!0,type:{name:"string"}},notificationLink:{defaultValue:null,description:"",name:"notificationLink",required:!0,type:{name:"URL"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/menu/menu-notification/menu-notification.tsx#menunotification"]={docgenInfo:menunotification.__docgenInfo,name:"menunotification",path:"src/apps/menu/menu-notification/menu-notification.tsx#menunotification"})}catch(__react_docgen_typescript_loader_error){}var utils_config=__webpack_require__("./src/core/utils/config.tsx"),utils_text=__webpack_require__("./src/core/utils/text.tsx");const arrow_white=()=>react.createElement("svg",{width:"61",height:"9",viewBox:"0 0 61 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.createElement("path",{className:"arrow__body",d:"M60 4.5H0",stroke:"white"}),react.createElement("path",{className:"arrow__head",d:"M60.3537 4.85355C60.5489 4.65829 60.5489 4.34171 60.3537 4.14645L57.1717 0.96447C56.9764 0.769208 56.6598 0.769208 56.4646 0.96447C56.2693 1.15973 56.2693 1.47631 56.4646 1.67157L59.293 4.5L56.4646 7.32843C56.2693 7.52369 56.2693 7.84027 56.4646 8.03553C56.6598 8.2308 56.9764 8.2308 57.1717 8.03553L60.3537 4.85355ZM60.0001 4H57.0001V5H60.0001V4Z",fill:"white"}));var fbs=__webpack_require__("./src/core/fbs/fbs.ts"),publizon=__webpack_require__("./src/core/publizon/publizon.ts"),list_mapper=__webpack_require__("./src/core/utils/helpers/list-mapper.ts"),general=__webpack_require__("./src/core/utils/helpers/general.ts"),url=__webpack_require__("./src/core/utils/url.tsx");const menu_menu=()=>{var _userData$patron;const t=(0,utils_text.X)(),config=(0,utils_config.ZR)(),{data:patronData}=(0,fbs.wK)(),{data:patronReservations}=(0,fbs.U)(),{data:publizonData}=(0,publizon.T8)(),{data:fbsData}=(0,fbs.n1)(),{data:fbsFees}=(0,fbs.CI)(),[userData,setUserData]=(0,react.useState)(),[loans,setLoans]=(0,react.useState)([]),[loansCount,setLoansCount]=(0,react.useState)(0),[reservationCount,setReservationCount]=(0,react.useState)(0),[feeCount,setFeeCount]=(0,react.useState)(0),[loansOverdue,setLoansOverdue]=(0,react.useState)(0),[loansSoonOverdue,setLoansSoonOverdue]=(0,react.useState)(0),[reservationsReadyForPickup,setReservationsReadyForPickup]=(0,react.useState)(0),{menuViewYourProfileTextUrl,menuNotificationLoansExpiredUrl,menuNotificationLoansExpiringSoonUrl,menuNotificationReadyForPickupUrl,menuLogOutUrl}=(0,url.J_)(),menuNavigationData=config("menuNavigationDataConfig",{transformer:"jsonParse"});return(0,react.useEffect)((()=>{setUserData(patronData)}),[patronData]),(0,react.useEffect)((()=>{if(null!=publizonData&&publizonData.loans&&fbsData){const digitalLoans=(0,list_mapper.Rr)(publizonData.loans),physicalLoans=(0,list_mapper.u3)(fbsData);setLoans([...digitalLoans,...physicalLoans])}}),[publizonData,fbsData]),(0,react.useEffect)((()=>{setLoansOverdue((0,general.n7)(loans).length)}),[loans]),(0,react.useEffect)((()=>{setLoansSoonOverdue((0,general.jQ)(loans).length)}),[loans]),(0,react.useEffect)((()=>{patronReservations&&(setReservationsReadyForPickup((0,general.S1)((0,list_mapper.Qb)(patronReservations)).length),setReservationCount(patronReservations.length))}),[patronReservations]),(0,react.useEffect)((()=>{setLoansCount(loans.length)}),[loans]),(0,react.useEffect)((()=>{fbsFees&&setFeeCount(fbsFees.length)}),[fbsFees]),react.createElement("div",{className:"modal-backdrop"},react.createElement("div",{className:"modal modal-show modal-profile modal-right"},react.createElement("div",{className:"modal__screen-reader-description",id:"describemodal"}),react.createElement("button",{type:"button","aria-describedby":"describemodal",className:"btn-ui modal-btn-close","aria-label":"close modal"},react.createElement("img",{src:CloseLarge_default(),alt:"close modal button"})),react.createElement("div",{className:"modal-header"},react.createElement("div",{className:"modal-header__avatar"},react.createElement("div",{className:"avatar bg-global-secondary"},react.createElement("img",{src:icon_profile_default(),alt:""}))),react.createElement("div",{className:"modal-header__name text-header-h4","data-cy":"menu-patron-name"},null==userData||null===(_userData$patron=userData.patron)||void 0===_userData$patron?void 0:_userData$patron.name),react.createElement(atoms_link.r,{href:menuViewYourProfileTextUrl,className:"link-tag modal-header__link color-secondary-gray"},t("menuViewYourProfileText"))),react.createElement("div",{className:"modal-profile__notifications"},0!==loansOverdue&&react.createElement(menu_notification,{notificationNumber:loansOverdue,notificationText:t("menuNotificationLoansExpiredText"),notificationColor:"danger",notificationLink:menuNotificationLoansExpiredUrl}),0!==loansSoonOverdue&&react.createElement(menu_notification,{notificationNumber:loansSoonOverdue,notificationText:t("menuNotificationLoansExpiringSoonText"),notificationColor:"warning",notificationLink:menuNotificationLoansExpiringSoonUrl}),0!==reservationsReadyForPickup&&react.createElement(menu_notification,{notificationNumber:reservationsReadyForPickup,notificationText:t("menuNotificationReadyForPickupText"),notificationColor:"info",notificationLink:menuNotificationReadyForPickupUrl})),react.createElement("div",{className:"modal-profile__container"},react.createElement("div",{className:"modal-profile__links"},react.createElement("div",{className:"link-filters"},react.createElement(menu_navigation_list,{menuNavigationData,loansCount,reservationCount,feeCount}))),react.createElement("div",{className:"modal-profile__btn-logout"},react.createElement(atoms_link.r,{href:menuLogOutUrl},react.createElement("button",{type:"button",className:"btn-primary btn-filled btn-medium arrow__hover--right-small undefined"},t("menuLogOutText"),react.createElement("div",{className:"ml-16"},react.createElement(arrow_white,null))))))))};try{menu.displayName="menu",menu.__docgenInfo={description:"",displayName:"menu",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/menu/menu.tsx#menu"]={docgenInfo:menu.__docgenInfo,name:"menu",path:"src/apps/menu/menu.tsx#menu"})}catch(__react_docgen_typescript_loader_error){}const menu_entry=(0,url.XL)((0,utils_config.Rh)((0,utils_text.z)((()=>react.createElement(menu_menu,null)))));try{menuentry.displayName="menuentry",menuentry.__docgenInfo={description:"",displayName:"menuentry",props:{menuViewYourProfileText:{defaultValue:null,description:"",name:"menuViewYourProfileText",required:!0,type:{name:"string"}},menuViewYourProfileTextUrl:{defaultValue:null,description:"",name:"menuViewYourProfileTextUrl",required:!0,type:{name:"string"}},menuNavigationDataConfig:{defaultValue:null,description:"",name:"menuNavigationDataConfig",required:!0,type:{name:"string"}},menuNotificationLoansExpiredText:{defaultValue:null,description:"",name:"menuNotificationLoansExpiredText",required:!0,type:{name:"string"}},menuNotificationLoansExpiredUrl:{defaultValue:null,description:"",name:"menuNotificationLoansExpiredUrl",required:!0,type:{name:"string"}},menuNotificationLoansExpiringSoonText:{defaultValue:null,description:"",name:"menuNotificationLoansExpiringSoonText",required:!0,type:{name:"string"}},menuNotificationLoansExpiringSoonUrl:{defaultValue:null,description:"",name:"menuNotificationLoansExpiringSoonUrl",required:!0,type:{name:"string"}},menuNotificationReadyForPickupText:{defaultValue:null,description:"",name:"menuNotificationReadyForPickupText",required:!0,type:{name:"string"}},menuNotificationReadyForPickupUrl:{defaultValue:null,description:"",name:"menuNotificationReadyForPickupUrl",required:!0,type:{name:"string"}},menuLogOutText:{defaultValue:null,description:"",name:"menuLogOutText",required:!0,type:{name:"string"}},menuLogOutUrl:{defaultValue:null,description:"",name:"menuLogOutUrl",required:!0,type:{name:"string"}},fbsBaseUrl:{defaultValue:null,description:"",name:"fbsBaseUrl",required:!0,type:{name:"string"}},publizonBaseUrl:{defaultValue:null,description:"",name:"publizonBaseUrl",required:!0,type:{name:"string"}},dplCmsBaseUrl:{defaultValue:null,description:"",name:"dplCmsBaseUrl",required:!0,type:{name:"string"}},coverBaseUrl:{defaultValue:null,description:"",name:"coverBaseUrl",required:!0,type:{name:"string"}},materialBaseUrl:{defaultValue:null,description:"",name:"materialBaseUrl",required:!0,type:{name:"string"}},fbiBaseUrl:{defaultValue:null,description:"",name:"fbiBaseUrl",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/menu/menu.entry.tsx#menuentry"]={docgenInfo:menuentry.__docgenInfo,name:"menuentry",path:"src/apps/menu/menu.entry.tsx#menuentry"})}catch(__react_docgen_typescript_loader_error){}const menu_dev={title:"Apps / Menu",component:menu_entry,argTypes:{...serviceUrlArgs.Z,menuViewYourProfileText:{defaultValue:"My Account",control:{type:"text"}},menuViewYourProfileTextUrl:{defaultValue:"/YourProfile",control:{type:"text"}},menuNavigationDataConfig:{defaultValue:'[{"name": "Loans","link": "","dataId": "1"},{"name": "Reservations","link": "","dataId": "2"},{"name": "My list","link": "","dataId": "3"},{"name": "Fees & Replacement costs","link": "","dataId": "4"},{"name": "My account","link": "","dataId": "5"}]',control:{type:"text"}},menuNotificationLoansExpiredText:{defaultValue:"loans expired",control:{type:"text"}},menuNotificationLoansExpiredUrl:{defaultValue:"/LoansExpired",control:{type:"text"}},menuNotificationLoansExpiringSoonText:{defaultValue:"loans expiring soon",control:{type:"text"}},menuNotificationLoansExpiringSoonUrl:{defaultValue:"/LoansExpiringSoon",control:{type:"text"}},menuNotificationReadyForPickupText:{defaultValue:"reservations ready for pickup",control:{type:"text"}},menuNotificationReadyForPickupUrl:{defaultValue:"/ReservationsReadyForPickup",control:{type:"text"}},menuLogOutText:{defaultValue:"Log Out",control:{type:"text"}},menuLogOutUrl:{defaultValue:"/Logout",control:{type:"text"}}}},menu_dev_MenuEntry=(props=>react.createElement(menu_entry,props)).bind({});menu_dev_MenuEntry.args={}},"./src/apps/patron-page/PatronPage.dev.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PatronPageEntry:()=>PatronPage_dev_PatronPageEntry,default:()=>PatronPage_dev});var react=__webpack_require__("./node_modules/react/index.js"),utils_config=__webpack_require__("./src/core/utils/config.tsx"),utils_text=__webpack_require__("./src/core/utils/text.tsx"),url=__webpack_require__("./src/core/utils/url.tsx"),set=__webpack_require__("./node_modules/lodash/set.js"),set_default=__webpack_require__.n(set),es=__webpack_require__("./node_modules/react-query/es/index.js"),fbs=__webpack_require__("./src/core/fbs/fbs.ts"),atoms_link=__webpack_require__("./src/components/atoms/link.tsx");const BasicDetailsSection=_ref=>{let{patron}=_ref;const t=(0,utils_text.X)(),{address:{coName,street,postalCode,city,country}={coName:"",street:"",postalCode:"",city:"",country:""},name}=patron||{};return react.createElement("section",null,react.createElement("h2",{className:"text-body-small-regular mt-32 mb-16"},t("patronPageBasicDetailsHeaderText")),react.createElement("div",{className:"dpl-patron-info"},react.createElement("div",{className:"dpl-patron-info__label"},t("patronPageBasicDetailsNameLabelText")),react.createElement("div",{className:"dpl-patron-info__text"},name),react.createElement("div",{className:"dpl-patron-info__label"},t("patronPageBasicDetailsAddressLabelText")),react.createElement("div",{className:"dpl-patron-info__text"},react.createElement("div",null,coName),react.createElement("div",null,street),react.createElement("div",null,postalCode),react.createElement("div",null,city),react.createElement("div",null,country))))},sections_BasicDetailsSection=BasicDetailsSection;try{BasicDetailsSection.displayName="BasicDetailsSection",BasicDetailsSection.__docgenInfo={description:"",displayName:"BasicDetailsSection",props:{patron:{defaultValue:null,description:"",name:"patron",required:!0,type:{name:"PatronV5"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/patron-page/sections/BasicDetailsSection.tsx#BasicDetailsSection"]={docgenInfo:BasicDetailsSection.__docgenInfo,name:"BasicDetailsSection",path:"src/apps/patron-page/sections/BasicDetailsSection.tsx#BasicDetailsSection"})}catch(__react_docgen_typescript_loader_error){}var TextInput=__webpack_require__("./src/components/atoms/input/TextInput.tsx"),Checkbox=__webpack_require__("./src/components/checkbox/Checkbox.tsx");const ContactInfoSection=_ref=>{let{patron,changePatron}=_ref;const t=(0,utils_text.X)();return react.createElement("section",{"data-cy":"patron-page-contact-info"},react.createElement("h2",{className:"text-body-small-regular mt-32 mb-16"},t("patronPageContactInfoHeaderText")),t("patronPageContactInfoBodyText")&&react.createElement("p",{className:"text-body-small-regular mb-32"},t("patronPageContactInfoBodyText")),react.createElement(TextInput.Z,{className:"dpl-input input__desktop",id:"phone-input",type:"number",onChange:newPhoneNumber=>changePatron(newPhoneNumber,"phoneNumber"),value:null==patron?void 0:patron.phoneNumber,label:t("patronPageContactPhoneLabelText")}),react.createElement(Checkbox.Z,{className:"mt-32 mb-16",onChecked:newReceiveSms=>changePatron(newReceiveSms,"receiveSms"),id:"phone-messages",selected:null==patron?void 0:patron.receiveSms,disabled:!1,label:t("patronPageContactPhoneCheckboxText")}),react.createElement(TextInput.Z,{className:"dpl-input input__desktop",id:"email-address-input",type:"email",onChange:newEmail=>changePatron(newEmail,"emailAddress"),value:null==patron?void 0:patron.emailAddress,label:t("patronPageContactEmailLabelText")}),react.createElement(Checkbox.Z,{className:"mt-32 mb-16",onChecked:newReceiveEmail=>changePatron(newReceiveEmail,"receiveEmail"),id:"email-messages",selected:null==patron?void 0:patron.receiveEmail,disabled:!1,label:t("patronPageContactEmailCheckboxText")}))},sections_ContactInfoSection=ContactInfoSection;try{ContactInfoSection.displayName="ContactInfoSection",ContactInfoSection.__docgenInfo={description:"",displayName:"ContactInfoSection",props:{patron:{defaultValue:null,description:"",name:"patron",required:!0,type:{name:"PatronV5"}},changePatron:{defaultValue:null,description:"",name:"changePatron",required:!0,type:{name:"ChangePatronProps"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/patron-page/sections/ContactInfoSection.tsx#ContactInfoSection"]={docgenInfo:ContactInfoSection.__docgenInfo,name:"ContactInfoSection",path:"src/apps/patron-page/sections/ContactInfoSection.tsx#ContactInfoSection"})}catch(__react_docgen_typescript_loader_error){}var ExpandMore=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/ExpandMore.svg"),ExpandMore_default=__webpack_require__.n(ExpandMore),helper=__webpack_require__("./src/components/reservation/helper.ts");const BranchesDropdown=_ref=>{let{selected,onChange,classNames}=_ref;const t=(0,utils_text.X)(),config=(0,utils_config.ZR)(),branches=config("branchesConfig",{transformer:"jsonParse"}),blacklistBranches=config("blacklistedPickupBranchesConfig",{transformer:"stringToArray"});let pickupModalBranches=branches;return Array.isArray(blacklistBranches)&&(pickupModalBranches=(0,helper.rM)(branches,blacklistBranches)),react.createElement(react.Fragment,null,react.createElement("p",{className:"text-body-medium mt-32 mb-8"},t("pickupBranchesDropdownLabelText")),react.createElement("div",{className:`dropdown mb-32 ${classNames||""}`},pickupModalBranches&&react.createElement(react.Fragment,null,react.createElement("select",{onChange:_ref2=>{let{target}=_ref2;return onChange(target.value)},className:"dropdown__select"},""===selected&&react.createElement("option",{className:"dropdown__option",selected:""===selected,disabled:!0},t("pickupBranchesDropdownNothingSelectedText")),pickupModalBranches.map((_ref3=>{let{branchId,title}=_ref3;return react.createElement("option",{selected:selected===branchId,className:"dropdown__option",value:branchId},title)}))),react.createElement("div",{className:"dropdown__arrows"},react.createElement("img",{className:"dropdown__arrow",src:ExpandMore_default(),alt:""})))))},util_BranchesDropdown=BranchesDropdown;try{BranchesDropdown.displayName="BranchesDropdown",BranchesDropdown.__docgenInfo={description:"",displayName:"BranchesDropdown",props:{selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"string"}},classNames:{defaultValue:null,description:"",name:"classNames",required:!1,type:{name:"string | undefined"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/patron-page/util/BranchesDropdown.tsx#BranchesDropdown"]={docgenInfo:BranchesDropdown.__docgenInfo,name:"BranchesDropdown",path:"src/apps/patron-page/util/BranchesDropdown.tsx#BranchesDropdown"})}catch(__react_docgen_typescript_loader_error){}var date_inputs=__webpack_require__("./src/components/date-inputs/date-inputs.tsx");const ReservationDetailsSection=_ref=>{var _patron$onHold,_patron$onHold2;let{patron,changePatron}=_ref;const t=(0,utils_text.X)(),[reservationPauseSectionVisible,setReservationPauseSectionVisible]=(0,react.useState)(!1);return(0,react.useEffect)((()=>{patron.onHold&&setReservationPauseSectionVisible(!0)}),[patron.onHold]),react.createElement("section",{"data-cy":"pickup-reservations-section"},react.createElement("h2",{className:"text-body-small-regular mt-32 mb-16"},t("patronPageChangePickupHeaderText")),t("patronPageChangePickupBodyText")&&react.createElement("p",{className:"text-body-small-regular"},t("patronPageChangePickupBodyText")),react.createElement(util_BranchesDropdown,{classNames:"dropdow dropdown__desktop",selected:(null==patron?void 0:patron.preferredPickupBranch)||"",onChange:newPreferredPickupBranch=>changePatron(newPreferredPickupBranch,"preferredPickupBranch")}),react.createElement("h3",{className:"text-body-small-regular mt-32 mb-16"},t("patronPagePauseReservationsHeaderText")),react.createElement("p",{className:"text-body-small-regular"},t("patronPagePauseReservationsBodyText")),react.createElement(Checkbox.Z,{className:"mt-32 mb-16",id:"show-reservation-pause-section",onChecked:()=>setReservationPauseSectionVisible(!reservationPauseSectionVisible),ariaLabel:t("patronPageOpenPauseReservationsSectionAriaText"),selected:reservationPauseSectionVisible,label:t("patronPageOpenPauseReservationsSectionText")}),reservationPauseSectionVisible&&react.createElement(date_inputs.Z,{setStartDate:newStartDate=>changePatron(newStartDate,"onHold.from"),setEndDate:newEndDate=>changePatron(newEndDate,"onHold.to"),startDate:(null==patron||null===(_patron$onHold=patron.onHold)||void 0===_patron$onHold?void 0:_patron$onHold.from)||"",endDate:(null==patron||null===(_patron$onHold2=patron.onHold)||void 0===_patron$onHold2?void 0:_patron$onHold2.to)||""}))},sections_ReservationDetailsSection=ReservationDetailsSection;try{ReservationDetailsSection.displayName="ReservationDetailsSection",ReservationDetailsSection.__docgenInfo={description:"",displayName:"ReservationDetailsSection",props:{patron:{defaultValue:null,description:"",name:"patron",required:!0,type:{name:"PatronV5"}},changePatron:{defaultValue:null,description:"",name:"changePatron",required:!0,type:{name:"ChangePatronProps"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/patron-page/sections/ReservationDetailsSection.tsx#ReservationDetailsSection"]={docgenInfo:ReservationDetailsSection.__docgenInfo,name:"ReservationDetailsSection",path:"src/apps/patron-page/sections/ReservationDetailsSection.tsx#ReservationDetailsSection"})}catch(__react_docgen_typescript_loader_error){}const PincodeSection=_ref=>{let{changePincode}=_ref;const t=(0,utils_text.X)(),config=(0,utils_config.ZR)(),pincodeLength=parseInt(config("pincodeLengthConfig"),10)||4,[pincodeValidation,setPincodeValidation]=(0,react.useState)(),[pincode,setPincode]=(0,react.useState)(""),[confirmPincode,setConfirmPincode]=(0,react.useState)("");return(0,react.useEffect)((()=>{if(changePincode(null),setPincodeValidation(""),pincode&&confirmPincode){if(pincode.length!==pincodeLength)return void setPincodeValidation(t("patronPagePincodeTooShortValidationText",{placeholders:{"@pincodeLength":pincodeLength}}));if(pincode!==confirmPincode)return void setPincodeValidation(t("patronPagePincodesNotTheSameText"));changePincode(confirmPincode)}}),[changePincode,confirmPincode,pincode,pincodeLength,t]),react.createElement("section",{"data-cy":"pincode-section"},react.createElement("h2",{className:"text-body-small-regular mt-32 mb-16"},t("patronPageChangePincodeHeaderText")),react.createElement("p",{className:"text-body-small-regular"},t("patronPageChangePincodeBodyText")),react.createElement("div",{className:"dpl-pincode-container"},react.createElement(TextInput.Z,{className:"dpl-input input__desktop",id:"pincode-input",type:"password",pattern:"[0-9]*",inputmode:"numeric",onChange:newPin=>setPincode(newPin),value:pincode,label:t("patronPagePincodeLabelText"),validation:pincodeValidation}),react.createElement(TextInput.Z,{className:"dpl-input input__desktop",id:"pincode-confirm-input",pattern:"[0-9]*",inputmode:"numeric",type:"password",onChange:newPin=>setConfirmPincode(newPin),value:confirmPincode,label:t("patronPageConfirmPincodeLabelText")})))},sections_PincodeSection=PincodeSection;try{PincodeSection.displayName="PincodeSection",PincodeSection.__docgenInfo={description:"",displayName:"PincodeSection",props:{changePincode:{defaultValue:null,description:"",name:"changePincode",required:!0,type:{name:"(newPin: string | null) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/patron-page/sections/PincodeSection.tsx#PincodeSection"]={docgenInfo:PincodeSection.__docgenInfo,name:"PincodeSection",path:"src/apps/patron-page/sections/PincodeSection.tsx#PincodeSection"})}catch(__react_docgen_typescript_loader_error){}var publizon=__webpack_require__("./src/core/publizon/publizon.ts");const StatusSection=()=>{const t=(0,utils_text.X)(),{alwaysLoanableEreolenLink}=(0,url.J_)(),{data:libraryProfileFetched}=(0,publizon.ul)(),{isSuccess,data}=(0,publizon.T8)(),[libraryProfile,setLibraryProfile]=(0,react.useState)(null),[patronData,setPatronData]=(0,react.useState)(null);(0,react.useEffect)((()=>{isSuccess&&data&&data.userData&&setPatronData(data.userData)}),[isSuccess,data]),(0,react.useEffect)((()=>{libraryProfileFetched&&setLibraryProfile(libraryProfileFetched)}),[libraryProfileFetched]);const{maxConcurrentAudioLoansPerBorrower,maxConcurrentEbookLoansPerBorrower,maxConcurrentAudioReservationsPerBorrower,maxConcurrentEbookReservationsPerBorrower}=libraryProfile||{};let patronEbookLoans=0;null!=patronData&&patronData.ebookLoansRemaining&&(patronEbookLoans=Math.abs(null==patronData?void 0:patronData.ebookLoansRemaining)||0);let patronAudioBookLoans=0;null!=patronData&&patronData.audiobookLoansRemaining&&(patronAudioBookLoans=Math.abs(null==patronData?void 0:patronData.audiobookLoansRemaining)||0);let eBookLoanPerent=100;maxConcurrentEbookLoansPerBorrower&&(eBookLoanPerent=patronEbookLoans/maxConcurrentEbookLoansPerBorrower*100);let audioBookLoanPercent=100;return maxConcurrentAudioLoansPerBorrower&&(audioBookLoanPercent=patronAudioBookLoans/maxConcurrentAudioLoansPerBorrower*100),react.createElement("section",{className:"dpl-status-loans"},libraryProfile&&react.createElement(react.Fragment,null,react.createElement("h2",{className:"text-body-small-regular mt-32 mb-16"},t("patronPageStatusSectionHeaderText")),react.createElement("div",{className:"text-body-small-regular"},t("patronPageStatusSectionBodyText")," ",react.createElement(atoms_link.r,{href:alwaysLoanableEreolenLink},t("patronPageStatusSectionLinkText"))),maxConcurrentEbookReservationsPerBorrower&&maxConcurrentAudioReservationsPerBorrower&&react.createElement("div",{className:"text-body-small-regular"},t("patronPageStatusSectionReservationsText",{placeholders:{"@countEbooks":maxConcurrentEbookReservationsPerBorrower,"@countAudiobooks":maxConcurrentAudioReservationsPerBorrower}})),react.createElement("div",{className:"dpl-status-loans__column"},react.createElement("div",{className:"dpl-status mt-32"},react.createElement("h3",{className:"text-small-caption"},t("patronPageStatusSectionLoanHeaderText")),react.createElement("div",{className:"dpl-progress-bar text-small-caption color-secondary-gray"},react.createElement("div",{className:"dpl-progress-bar__header"},react.createElement("div",{className:"text-label"},t("patronPageStatusSectionLoansEbooksText")),maxConcurrentEbookLoansPerBorrower&&react.createElement("div",{className:"text-label","aria-label":t("patronPageStatusSectionOutOfAriaLabelEbooksText",{placeholders:{"@this":patronEbookLoans,"@that":maxConcurrentEbookLoansPerBorrower}})},t("patronPageStatusSectionOutOfText",{placeholders:{"@this":patronEbookLoans,"@that":maxConcurrentEbookLoansPerBorrower}}))),react.createElement("div",{"aria-hidden":!0,className:"dpl-progress-bar__progress-bar bg-global-secondary"},react.createElement("div",{className:"bg-identity-primary",style:{width:`${eBookLoanPerent}%`}}))),react.createElement("div",{className:"dpl-progress-bar text-small-caption color-secondary-gray"},react.createElement("div",{className:"dpl-progress-bar__header"},react.createElement("div",{className:"text-label"},t("patronPageStatusSectionLoansAudioBooksText")),maxConcurrentAudioLoansPerBorrower&&react.createElement("div",{className:"text-label","aria-label":t("patronPageStatusSectionOutOfAriaLabelAudioBooksText",{placeholders:{"@this":patronAudioBookLoans,"@that":maxConcurrentAudioLoansPerBorrower}})},t("patronPageStatusSectionOutOfText",{placeholders:{"@this":patronAudioBookLoans,"@that":maxConcurrentAudioLoansPerBorrower}}))),react.createElement("div",{"aria-hidden":!0,className:"dpl-progress-bar__progress-bar bg-global-secondary"},react.createElement("div",{className:"bg-identity-primary",style:{width:`${audioBookLoanPercent}%`}})))))))},sections_StatusSection=StatusSection;try{StatusSection.displayName="StatusSection",StatusSection.__docgenInfo={description:"",displayName:"StatusSection",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/patron-page/sections/StatusSection.tsx#StatusSection"]={docgenInfo:StatusSection.__docgenInfo,name:"StatusSection",path:"src/apps/patron-page/sections/StatusSection.tsx#StatusSection"})}catch(__react_docgen_typescript_loader_error){}const PatronPage=()=>{const queryClient=(0,es.useQueryClient)(),t=(0,utils_text.X)(),config=(0,utils_config.ZR)(),{mutate}=(0,fbs.tX)(),{data:patronData}=(0,fbs.wK)(),deletePatronLink=config("deletePatronLinkConfig"),[patron,setPatron]=(0,react.useState)(null),[pin,setPin]=(0,react.useState)(null);(0,react.useEffect)((()=>{patronData&&patronData.patron&&setPatron(patronData.patron)}),[patronData]);const changePatron=(newValue,key)=>{const copyUser=JSON.parse(JSON.stringify(patron));set_default()(copyUser,key,newValue),setPatron(copyUser)};return react.createElement("form",{className:"dpl-patron-page"},react.createElement("h1",{className:"text-header-h1 my-32"},t("patronPageHeaderText")),patron&&react.createElement(sections_BasicDetailsSection,{patron}),patron&&react.createElement(sections_ContactInfoSection,{changePatron,patron}),react.createElement(sections_StatusSection,null),patron&&react.createElement(sections_ReservationDetailsSection,{changePatron,patron}),patron&&react.createElement(sections_PincodeSection,{changePincode:setPin}),react.createElement("button",{"data-cy":"save-user-patron",className:"mt-48 btn-primary btn-filled btn-small arrow__hover--right-small ",type:"button",onClick:()=>{if(patron){const data={patron:{emailAddress:patron.emailAddress,receivePostalMail:patron.receivePostalMail,phoneNumber:patron.phoneNumber,onHold:patron.onHold,preferredPickupBranch:patron.preferredPickupBranch,receiveEmail:patron.receiveEmail,receiveSms:patron.receiveSms}};pin&&(data.pincodeChange={pincode:pin,libraryCardNumber:patron.patronId.toString()}),mutate({data},{onSuccess:()=>{queryClient.invalidateQueries((0,fbs.Tk)())},onError:()=>{}})}}},t("patronPageSaveButtonText")),react.createElement("div",{className:"text-body-small-regular mt-32"},t("patronPageDeleteProfileText")," ",react.createElement(atoms_link.r,{id:"delete-patron-link",href:new URL(deletePatronLink),className:"link-tag"},t("patronPageDeleteProfileLinkText"))))},patron_page_PatronPage=PatronPage;try{PatronPage.displayName="PatronPage",PatronPage.__docgenInfo={description:"",displayName:"PatronPage",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/patron-page/PatronPage.tsx#PatronPage"]={docgenInfo:PatronPage.__docgenInfo,name:"PatronPage",path:"src/apps/patron-page/PatronPage.tsx#PatronPage"})}catch(__react_docgen_typescript_loader_error){}const PatronPage_entry=(0,utils_config.Rh)((0,url.XL)((0,utils_text.z)((()=>react.createElement(patron_page_PatronPage,null)))));try{PatronPageentry.displayName="PatronPageentry",PatronPageentry.__docgenInfo={description:"",displayName:"PatronPageentry",props:{blacklistedPickupBranchesConfig:{defaultValue:null,description:"",name:"blacklistedPickupBranchesConfig",required:!1,type:{name:"string | undefined"}},branchesConfig:{defaultValue:null,description:"",name:"branchesConfig",required:!0,type:{name:"string"}},pincodeLengthConfig:{defaultValue:null,description:"",name:"pincodeLengthConfig",required:!0,type:{name:"string"}},deletePatronLinkConfig:{defaultValue:null,description:"",name:"deletePatronLinkConfig",required:!0,type:{name:"string"}},alwaysLoanableEreolenLink:{defaultValue:null,description:"",name:"alwaysLoanableEreolenLink",required:!0,type:{name:"string"}},patronPageHeaderText:{defaultValue:null,description:"",name:"patronPageHeaderText",required:!0,type:{name:"string"}},patronPagePincodeTooShortValidationText:{defaultValue:null,description:"",name:"patronPagePincodeTooShortValidationText",required:!0,type:{name:"string"}},patronPageBasicDetailsHeaderText:{defaultValue:null,description:"",name:"patronPageBasicDetailsHeaderText",required:!0,type:{name:"string"}},patronPageBasicDetailsNameLabelText:{defaultValue:null,description:"",name:"patronPageBasicDetailsNameLabelText",required:!0,type:{name:"string"}},patronPageBasicDetailsAddressLabelText:{defaultValue:null,description:"",name:"patronPageBasicDetailsAddressLabelText",required:!0,type:{name:"string"}},patronPageContactInfoHeaderText:{defaultValue:null,description:"",name:"patronPageContactInfoHeaderText",required:!0,type:{name:"string"}},patronPageContactInfoBodyText:{defaultValue:null,description:"",name:"patronPageContactInfoBodyText",required:!0,type:{name:"string"}},patronPageContactPhoneLabelText:{defaultValue:null,description:"",name:"patronPageContactPhoneLabelText",required:!0,type:{name:"string"}},patronPageContactPhoneCheckboxText:{defaultValue:null,description:"",name:"patronPageContactPhoneCheckboxText",required:!0,type:{name:"string"}},patronPageContactEmailLabelText:{defaultValue:null,description:"",name:"patronPageContactEmailLabelText",required:!0,type:{name:"string"}},patronPageContactEmailCheckboxText:{defaultValue:null,description:"",name:"patronPageContactEmailCheckboxText",required:!0,type:{name:"string"}},patronPageStatusSectionHeaderText:{defaultValue:null,description:"",name:"patronPageStatusSectionHeaderText",required:!0,type:{name:"string"}},patronPageStatusSectionBodyText:{defaultValue:null,description:"",name:"patronPageStatusSectionBodyText",required:!0,type:{name:"string"}},patronPageStatusSectionLinkText:{defaultValue:null,description:"",name:"patronPageStatusSectionLinkText",required:!0,type:{name:"string"}},patronPageStatusSectionLoansEbooksText:{defaultValue:null,description:"",name:"patronPageStatusSectionLoansEbooksText",required:!0,type:{name:"string"}},patronPageStatusSectionLoansAudioBooksText:{defaultValue:null,description:"",name:"patronPageStatusSectionLoansAudioBooksText",required:!0,type:{name:"string"}},patronPageChangePickupHeaderText:{defaultValue:null,description:"",name:"patronPageChangePickupHeaderText",required:!0,type:{name:"string"}},patronPageChangePickupBodyText:{defaultValue:null,description:"",name:"patronPageChangePickupBodyText",required:!0,type:{name:"string"}},pickupBranchesDropdownLabelText:{defaultValue:null,description:"",name:"pickupBranchesDropdownLabelText",required:!0,type:{name:"string"}},pickupBranchesDropdownNothingSelectedText:{defaultValue:null,description:"",name:"pickupBranchesDropdownNothingSelectedText",required:!0,type:{name:"string"}},patronPagePauseReservationsHeaderText:{defaultValue:null,description:"",name:"patronPagePauseReservationsHeaderText",required:!0,type:{name:"string"}},patronPagePauseReservationsBodyText:{defaultValue:null,description:"",name:"patronPagePauseReservationsBodyText",required:!0,type:{name:"string"}},patronPageSaveButtonText:{defaultValue:null,description:"",name:"patronPageSaveButtonText",required:!0,type:{name:"string"}},patronPageDeleteProfileText:{defaultValue:null,description:"",name:"patronPageDeleteProfileText",required:!0,type:{name:"string"}},patronPagePincodesNotTheSameText:{defaultValue:null,description:"",name:"patronPagePincodesNotTheSameText",required:!0,type:{name:"string"}},patronPageOpenPauseReservationsSectionText:{defaultValue:null,description:"",name:"patronPageOpenPauseReservationsSectionText",required:!0,type:{name:"string"}},patronPageOpenPauseReservationsSectionAriaText:{defaultValue:null,description:"",name:"patronPageOpenPauseReservationsSectionAriaText",required:!0,type:{name:"string"}},dateInputsEndDateLabelText:{defaultValue:null,description:"",name:"dateInputsEndDateLabelText",required:!0,type:{name:"string"}},dateInputsStartDateLabelText:{defaultValue:null,description:"",name:"dateInputsStartDateLabelText",required:!0,type:{name:"string"}},patronPageChangePincodeHeaderText:{defaultValue:null,description:"",name:"patronPageChangePincodeHeaderText",required:!0,type:{name:"string"}},patronPageChangePincodeBodyText:{defaultValue:null,description:"",name:"patronPageChangePincodeBodyText",required:!0,type:{name:"string"}},patronPagePincodeLabelText:{defaultValue:null,description:"",name:"patronPagePincodeLabelText",required:!0,type:{name:"string"}},patronPageConfirmPincodeLabelText:{defaultValue:null,description:"",name:"patronPageConfirmPincodeLabelText",required:!0,type:{name:"string"}},patronPageStatusSectionLoanHeaderText:{defaultValue:null,description:"",name:"patronPageStatusSectionLoanHeaderText",required:!0,type:{name:"string"}},patronPageDeleteProfileLinkText:{defaultValue:null,description:"",name:"patronPageDeleteProfileLinkText",required:!0,type:{name:"string"}},patronPageStatusSectionReservationsText:{defaultValue:null,description:"",name:"patronPageStatusSectionReservationsText",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/patron-page/PatronPage.entry.tsx#PatronPageentry"]={docgenInfo:PatronPageentry.__docgenInfo,name:"PatronPageentry",path:"src/apps/patron-page/PatronPage.entry.tsx#PatronPageentry"})}catch(__react_docgen_typescript_loader_error){}var serviceUrlArgs=__webpack_require__("./src/core/storybook/serviceUrlArgs.ts");const PatronPage_dev={title:"Apps / Patron page",component:PatronPage_entry,argTypes:{...serviceUrlArgs.Z,blacklistedPickupBranchesConfig:{defaultValue:"FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",control:{type:"text"}},branchesConfig:{defaultValue:'[\n   {\n      "branchId":"DK-775120",\n      "title":"Højbjerg"\n   },\n   {\n      "branchId":"DK-775122",\n      "title":"Beder-Malling"\n   },\n   {\n      "branchId":"DK-775144",\n      "title":"Gellerup"\n   },\n   {\n      "branchId":"DK-775167",\n      "title":"Lystrup"\n   },\n   {\n      "branchId":"DK-775146",\n      "title":"Harlev"\n   },\n   {\n      "branchId":"DK-775168",\n      "title":"Skødstrup"\n   },\n   {\n      "branchId":"FBS-751010",\n      "title":"Arresten"\n   },\n   {\n      "branchId":"DK-775147",\n      "title":"Hasle"\n   },\n   {\n      "branchId":"FBS-751032",\n      "title":"Må ikke benyttes"\n   },\n   {\n      "branchId":"FBS-751031",\n      "title":"Fjernlager 1"\n   },\n   {\n      "branchId":"DK-775126",\n      "title":"Solbjerg"\n   },\n   {\n      "branchId":"FBS-751030",\n      "title":"ITK"\n   },\n   {\n      "branchId":"DK-775149",\n      "title":"Sabro"\n   },\n   {\n      "branchId":"DK-775127",\n      "title":"Tranbjerg"\n   },\n   {\n      "branchId":"DK-775160",\n      "title":"Risskov"\n   },\n   {\n      "branchId":"DK-775162",\n      "title":"Hjortshøj"\n   },\n   {\n      "branchId":"DK-775140",\n      "title":"Åby"\n   },\n   {\n      "branchId":"FBS-751009",\n      "title":"Fjernlager 2"\n   },\n   {\n      "branchId":"FBS-751029",\n      "title":"Stadsarkivet"\n   },\n   {\n      "branchId":"FBS-751027",\n      "title":"Intern"\n   },\n   {\n      "branchId":"FBS-751026",\n      "title":"Fælles undervejs"\n   },\n   {\n      "branchId":"FBS-751025",\n      "title":"Fællessekretariatet"\n   },\n   {\n      "branchId":"DK-775133",\n      "title":"Bavnehøj"\n   },\n   {\n      "branchId":"FBS-751024",\n      "title":"Fjernlånte materialer"\n   },\n   {\n      "branchId":"DK-775100",\n      "title":"Hovedbiblioteket"\n   },\n   {\n      "branchId":"DK-775170",\n      "title":"Trige"\n   },\n   {\n      "branchId":"DK-775150",\n      "title":"Tilst"\n   },\n   {\n      "branchId":"DK-775130",\n      "title":"Viby"\n   },\n   {\n      "branchId":"DK-775164",\n      "title":"Egå"\n   }\n]',control:{type:"text"}},pincodeLengthConfig:{defaultValue:"4",control:{type:"number"}},deletePatronLinkConfig:{defaultValue:"https://images.unsplash.com/photo-1560888126-5c13ad3f9345?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2371&q=80",control:{type:"text"}},alwaysLoanableEreolenLink:{defaultValue:"https://images.unsplash.com/photo-1560888126-5c13ad3f9345?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2371&q=80",control:{type:"text"}},patronPageHeaderText:{defaultValue:"Patron profile page",control:{type:"text"}},patronPageBasicDetailsHeaderText:{defaultValue:"Basic details",control:{type:"text"}},patronPageBasicDetailsNameLabelText:{defaultValue:"Name",control:{type:"text"}},patronPageBasicDetailsAddressLabelText:{defaultValue:"Address",control:{type:"text"}},patronPageContactInfoHeaderText:{defaultValue:"Contact information",control:{type:"text"}},patronPageContactInfoBodyText:{defaultValue:"",control:{type:"text"}},patronPageContactPhoneLabelText:{defaultValue:"Phone number",control:{type:"text"}},patronPageContactPhoneCheckboxText:{defaultValue:"Receive text messages about your loans, reservations, and so forth",control:{type:"text"}},patronPageContactEmailLabelText:{defaultValue:"E-mail",control:{type:"text"}},patronPageContactEmailCheckboxText:{defaultValue:"Receive emails about your loans, reservations, and so forth",control:{type:"text"}},patronPageStatusSectionHeaderText:{defaultValue:"Digital loans (eReolen)",control:{type:"text"}},patronPageStatusSectionBodyText:{defaultValue:"There is a number of materials without limitation to amounts of loans per month.",control:{type:"text"}},patronPageStatusSectionLinkText:{defaultValue:"Click here, to see titles always eligible to be loaned",control:{type:"text"}},patronPageStatusSectionLoanHeaderText:{defaultValue:"Loans per month",control:{type:"text"}},patronPageStatusSectionLoansEbooksText:{defaultValue:"E-books",control:{type:"text"}},patronPageStatusSectionLoansAudioBooksText:{defaultValue:"Audiobooks",control:{type:"text"}},patronPageChangePickupHeaderText:{defaultValue:"Reservations",control:{type:"text"}},patronPageChangePickupBodyText:{defaultValue:"",control:{type:"text"}},pickupBranchesDropdownLabelText:{defaultValue:"Choose pickup branch",control:{type:"text"}},pickupBranchesDropdownNothingSelectedText:{defaultValue:"Nothing selected",control:{type:"text"}},patronPagePauseReservationsHeaderText:{defaultValue:"Pause physical reservations",control:{type:"text"}},patronPagePauseReservationsBodyText:{defaultValue:"",control:{type:"text"}},patronPageOpenPauseReservationsSectionText:{defaultValue:"Open pause reservation section",control:{type:"text"}},patronPageOpenPauseReservationsSectionAriaText:{defaultValue:"This checkbox opens a section where you can put your current reservations on a pause, when the time period picked has ended, the reservations will be resumed",control:{type:"text"}},dateInputsStartDateLabelText:{defaultValue:"From",control:{type:"text"}},dateInputsEndDateLabelText:{defaultValue:"To",control:{type:"text"}},patronPageChangePincodeHeaderText:{defaultValue:"Pincode",control:{type:"text"}},patronPageChangePincodeBodyText:{defaultValue:"Change current pin by entering a new pin and saving",control:{type:"text"}},patronPagePincodeLabelText:{defaultValue:"New pin",control:{type:"text"}},patronPageConfirmPincodeLabelText:{defaultValue:"Confirm new pin",control:{type:"text"}},patronPagePincodeTooShortValidationText:{defaultValue:"The pincode is too short, it should be @pincodeLength characters long",control:{type:"text"}},patronPagePincodesNotTheSameText:{defaultValue:"The pincodes are not the same",control:{type:"text"}},patronPageSaveButtonText:{defaultValue:"Save",control:{type:"text"}},patronPageDeleteProfileText:{defaultValue:"Do you wish to delete your library profile?",control:{type:"text"}},patronPageDeleteProfileLinkText:{defaultValue:"Delete your profile",control:{type:"text"}},patronPageStatusSectionReservationsText:{defaultValue:"You can reserve @countEbooks ebooks and @countAudiobooks audiobooks",control:{type:"text"}},patronPageStatusSectionOutOfText:{defaultValue:"@this out of @that",control:{type:"text"}},patronPageStatusSectionOutOfAriaLabelAudioBooksText:{defaultValue:"You used @this audiobooks out of you quota of @that audiobooks",control:{type:"text"}},patronPageStatusSectionOutOfAriaLabelEbooksText:{defaultValue:"You used @this ebooks out of you quota of @that ebooks",control:{type:"text"}}}},PatronPage_dev_PatronPageEntry=(props=>react.createElement(PatronPage_entry,props)).bind({});PatronPage_dev_PatronPageEntry.args={}},"./src/apps/reservation-list/list/reservation-list.dev.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ReservationListDeleteDigitalModal:()=>ReservationListDeleteDigitalModal,ReservationListDeletePhysicalModal:()=>ReservationListDeletePhysicalModal,ReservationListDigitalDetailsModal:()=>ReservationListDigitalDetailsModal,ReservationListEntry:()=>reservation_list_dev_ReservationListEntry,ReservationListPauseModal:()=>ReservationListPauseModal,ReservationListPhysicalDetailsModal:()=>ReservationListPhysicalDetailsModal,default:()=>reservation_list_dev});var react=__webpack_require__("./node_modules/react/index.js"),esm=__webpack_require__("./node_modules/@storybook/addon-queryparams/dist/esm/index.js"),utils_text=__webpack_require__("./src/core/utils/text.tsx");const sortByOldestPickupDeadline=list=>list.sort(((objA,objB)=>new Date(objA.pickupDeadline||new Date).getTime()-new Date(objB.pickupDeadline||new Date).getTime()));var general=__webpack_require__("./src/core/utils/helpers/general.ts"),publizon=__webpack_require__("./src/core/publizon/publizon.ts"),list_mapper=__webpack_require__("./src/core/utils/helpers/list-mapper.ts"),Reservations=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Reservations.svg"),Reservations_default=__webpack_require__.n(Reservations),modal=__webpack_require__("./src/core/utils/modal.tsx"),es=__webpack_require__("./node_modules/react-query/es/index.js"),atoms_link=__webpack_require__("./src/components/atoms/link.tsx"),fbs=__webpack_require__("./src/core/fbs/fbs.ts"),utils_config=__webpack_require__("./src/core/utils/config.tsx"),date_inputs=__webpack_require__("./src/components/date-inputs/date-inputs.tsx"),url=__webpack_require__("./src/core/utils/url.tsx");const pause_reservation=_ref=>{var _user$onHold3,_user$onHold4;let{id,user}=_ref;const t=(0,utils_text.X)(),{pauseReservationInfoUrl}=(0,url.J_)(),queryClient=(0,es.useQueryClient)(),{mutate}=(0,fbs.tX)(),{close}=(0,modal.f)(),{pauseReservation}=(0,general.GM)(),config=(0,utils_config.ZR)(),[startDate,setStartDate]=(0,react.useState)(config("pauseReservationStartDateConfig")),[endDate,setEndDate]=(0,react.useState)(""),save=(0,react.useCallback)((()=>{user&&startDate&&endDate&&mutate({data:{patron:{preferredPickupBranch:user.preferredPickupBranch,receiveEmail:user.receiveEmail,receivePostalMail:user.receivePostalMail,receiveSms:user.receiveSms,onHold:{from:startDate,to:endDate}}}},{onSuccess:()=>{close(pauseReservation),queryClient.invalidateQueries((0,fbs.Tk)())},onError:()=>{}})}),[close,endDate,mutate,pauseReservation,queryClient,startDate,user]);return(0,react.useEffect)((()=>{var _user$onHold,_user$onHold2;null!=user&&null!==(_user$onHold=user.onHold)&&void 0!==_user$onHold&&_user$onHold.from&&setStartDate(user.onHold.from),null!=user&&null!==(_user$onHold2=user.onHold)&&void 0!==_user$onHold2&&_user$onHold2.to&&setEndDate(user.onHold.to)}),[null==user||null===(_user$onHold3=user.onHold)||void 0===_user$onHold3?void 0:_user$onHold3.from,null==user||null===(_user$onHold4=user.onHold)||void 0===_user$onHold4?void 0:_user$onHold4.to]),react.createElement(modal.Z,{modalId:id,classNames:"modal-cta",closeModalAriaLabelText:t("pauseReservationModalCloseModalText"),screenReaderModalDescriptionText:t("pauseReservationModalAriaDescriptionText")},react.createElement("div",{className:"modal-pause__container"},react.createElement("h1",{className:"text-header-h3"},t("pauseReservationModalHeaderText")),react.createElement("div",{className:"mt-48 color-secondary-gray"},react.createElement("p",{className:"text-body-medium-regular mb-32"},t("pauseReservationModalBodyText"))),react.createElement(date_inputs.Z,{setStartDate,setEndDate,startDate,endDate}),react.createElement("div",{className:"modal-pause__text-link mt-24 color-secondary-gray"},react.createElement("p",{className:"text-body-small-regular"},t("pauseReservationModalBelowInputsTextText"),react.createElement(atoms_link.r,{id:"pause-reservation-info-link",href:pauseReservationInfoUrl,className:"link-tag"},t("pauseReservationModalLinkText")))),react.createElement("div",{className:"modal-pause__button mt-48"},react.createElement("button",{type:"button",onClick:save,className:"btn-primary btn-filled btn-small arrow__hover--right-small"},t("pauseReservationModalSaveButtonLabelText")))))};try{pausereservation.displayName="pausereservation",pausereservation.__docgenInfo={description:"",displayName:"pausereservation",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"PatronV5"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/modal/pause-reservation/pause-reservation.tsx#pausereservation"]={docgenInfo:pausereservation.__docgenInfo,name:"pausereservation",path:"src/apps/reservation-list/modal/pause-reservation/pause-reservation.tsx#pausereservation"})}catch(__react_docgen_typescript_loader_error){}const reservation_pause_toggler=_ref=>{let{user}=_ref;const t=(0,utils_text.X)(),{open}=(0,modal.f)(),{pauseReservation}=(0,general.GM)(),[onHoldDates,setOnHoldDates]=(0,react.useState)();return(0,react.useEffect)((()=>{user&&user.onHold&&setOnHoldDates(`${user.onHold.from} - ${user.onHold.to}`)}),[user]),react.createElement(react.Fragment,null,react.createElement("div",{className:"dpl-pause-reservation-component m-32"},react.createElement("div",{className:"dpl-pause-reservation-component__pagefold"}),react.createElement("div",{className:"dpl-pause-reservation-component__flex"},react.createElement("div",{className:"dpl-pause-reservation-component__flex__reservation-icon"},react.createElement("img",{src:Reservations_default(),alt:""})),react.createElement("div",{className:"dpl-pause-reservation-component__flex__text"},t("reservationListPauseReservationText")),onHoldDates&&react.createElement("span",{"aria-label":t("reservationListOnHoldAriaText"),className:"dpl-pause-reservation-component__flex__badge"},onHoldDates),react.createElement("div",{className:"dpl-pause-reservation-component__flex__button"},react.createElement("button",{"aria-label":t("reservationListPauseReservationAriaModalText"),type:"button",onClick:()=>{open(pauseReservation)},className:"dpl-toggle-button "+(onHoldDates?"dpl-toggle-button--active":"dpl-toggle-button--inactive")})))),react.createElement(pause_reservation,{user,id:pauseReservation}))};try{reservationpausetoggler.displayName="reservationpausetoggler",reservationpausetoggler.__docgenInfo={description:"",displayName:"reservationpausetoggler",props:{user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"PatronV5"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/list/reservation-pause-toggler.tsx#reservationpausetoggler"]={docgenInfo:reservationpausetoggler.__docgenInfo,name:"reservationpausetoggler",path:"src/apps/reservation-list/list/reservation-pause-toggler.tsx#reservationpausetoggler"})}catch(__react_docgen_typescript_loader_error){}var empty_list=__webpack_require__("./src/components/empty-list/empty-list.tsx");const EmptyReservations=()=>{const t=(0,utils_text.X)();return react.createElement("div",{className:"list-reservation-container m-32"},react.createElement(empty_list.Z,{emptyListText:t("reservationListAllEmptyText")}))},list_EmptyReservations=EmptyReservations;try{EmptyReservations.displayName="EmptyReservations",EmptyReservations.__docgenInfo={description:"",displayName:"EmptyReservations",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/list/EmptyReservations.tsx#EmptyReservations"]={docgenInfo:EmptyReservations.__docgenInfo,name:"EmptyReservations",path:"src/apps/reservation-list/list/EmptyReservations.tsx#EmptyReservations"})}catch(__react_docgen_typescript_loader_error){}var use_pager=__webpack_require__("./src/components/result-pager/use-pager.tsx"),material_fetch_hoc=__webpack_require__("./src/apps/loan-list/materials/utils/material-fetch-hoc.tsx"),icon_check=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-check.svg"),icon_check_default=__webpack_require__.n(icon_check),utils_helpers=__webpack_require__("./src/apps/loan-list/utils/helpers.ts"),helper=__webpack_require__("./src/components/reservation/helper.ts"),status_circle_icon=__webpack_require__("./src/apps/loan-list/materials/utils/status-circle-icon.tsx");const reservation_status=_ref=>{let{color,percent,infoLabel,label,ariaLabel,children}=_ref;return react.createElement("div",{className:"list-reservation__status"},react.createElement("div",{className:"list-reservation__counter"},react.createElement(status_circle_icon.Z,{ariaLabel,color,percent},children)),react.createElement("div",null,react.createElement("div",{className:"list-reservation__deadline"},infoLabel&&react.createElement("div",{className:"status-label status-label--info"},infoLabel),"string"==typeof label&&react.createElement("p",{className:"text-small-caption"},label),"string"!=typeof label&&label.map((localLabel=>react.createElement("p",{className:"text-small-caption"},localLabel))))))};try{reservationstatus.displayName="reservationstatus",reservationstatus.__docgenInfo={description:"",displayName:"reservationstatus",props:{color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string | undefined"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!0,type:{name:"string"}},percent:{defaultValue:null,description:"",name:"percent",required:!0,type:{name:"number"}},infoLabel:{defaultValue:null,description:"",name:"infoLabel",required:!1,type:{name:"string | undefined"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string | string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/reservation-material/reservation-status.tsx#reservationstatus"]={docgenInfo:reservationstatus.__docgenInfo,name:"reservationstatus",path:"src/apps/reservation-list/reservation-material/reservation-status.tsx#reservationstatus"})}catch(__react_docgen_typescript_loader_error){}const reservation_info=_ref=>{let{reservationInfo,branches}=_ref;const t=(0,utils_text.X)(),{state,expiryDate,pickupBranch,numberInQueue,pickupDeadline,pickupNumber}=reservationInfo,[pickupLibrary,setPickupLibrary]=(0,react.useState)(""),{success}=(0,general.EC)();let readyForPickupLabel="";if(pickupDeadline&&(readyForPickupLabel=t(pickupBranch?"reservationPickUpLatestText":"reservationListLoanBeforeText",{placeholders:{"@date":(0,utils_helpers.p6)(pickupDeadline)}})),(0,react.useEffect)((()=>{branches&&pickupBranch&&setPickupLibrary((0,helper.Sp)(pickupBranch,branches))}),[branches,pickupBranch,pickupDeadline,t]),"readyForPickup"===state)return react.createElement(reservation_status,{ariaLabel:t("reservationListStatusIconReadyForPickupAriaLabelText"),color:success,percent:100,infoLabel:readyForPickupLabel,label:[pickupLibrary,pickupNumber||""]},react.createElement("div",{className:"counter__value","aria-hidden":"true"},react.createElement("img",{src:icon_check_default(),alt:""}),react.createElement("span",{className:"counter__label"},t("reservationListReadyText"))));if("reserved"===state&&pickupBranch&&numberInQueue&&expiryDate){const numberInLineLabel=1===numberInQueue?t("reservationListFirstInQueueText"):t("reservationListNumberInQueueText",{placeholders:{"@count":numberInQueue-1}});return react.createElement(reservation_status,{ariaLabel:t("reservationListStatusIconQueuedAriaLabelText",{count:numberInQueue,placeholders:{"@count":numberInQueue}}),percent:1/numberInQueue*100,label:numberInLineLabel},react.createElement("span",{className:"counter__value","aria-hidden":"true"},numberInQueue),react.createElement("span",{className:"counter__label","aria-hidden":"true"},t("reservationListInQueueText")))}if("reserved"===state&&!pickupBranch&&pickupDeadline){const daysBetweenTodayAndPickup=(0,general.q7)(pickupDeadline);return react.createElement(reservation_status,{ariaLabel:t("reservationListStatusIconReadyInAriaLabelText",{count:daysBetweenTodayAndPickup,placeholders:{"@count":daysBetweenTodayAndPickup}}),percent:(0,general.q7)(pickupDeadline)/100,label:t("reservationListAvailableInText",{placeholders:{"@count":(0,general.q7)(pickupDeadline)}})},react.createElement("span",{className:"counter__value","aria-hidden":"true"},(0,general.q7)(pickupDeadline)>0?daysBetweenTodayAndPickup:0," "),react.createElement("span",{className:"counter__label","aria-hidden":"true"},t(1===daysBetweenTodayAndPickup?"reservationListDayText":"reservationListDaysText")))}return react.createElement("div",null)};try{reservationinfo.displayName="reservationinfo",reservationinfo.__docgenInfo={description:"",displayName:"reservationinfo",props:{reservationInfo:{defaultValue:null,description:"",name:"reservationInfo",required:!0,type:{name:"Nullable<Partial<Reservation>>"}},branches:{defaultValue:null,description:"",name:"branches",required:!0,type:{name:"AgencyBranch[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/reservation-material/reservation-info.tsx#reservationinfo"]={docgenInfo:reservationinfo.__docgenInfo,name:"reservationinfo",path:"src/apps/reservation-list/reservation-material/reservation-info.tsx#reservationinfo"})}catch(__react_docgen_typescript_loader_error){}var digital_material_fetch_hoc=__webpack_require__("./src/apps/loan-list/materials/utils/digital-material-fetch-hoc.tsx"),material_info=__webpack_require__("./src/apps/loan-list/materials/stackable-material/material-info.tsx"),material_details_modal=__webpack_require__("./src/apps/loan-list/modal/material-details-modal.tsx"),modal_details_header=__webpack_require__("./src/components/modal-details-header/modal-details-header.tsx"),Loans=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Loans.svg"),Loans_default=__webpack_require__.n(Loans),list_details=__webpack_require__("./src/components/list-details/list-details.tsx");const digital_list_details=_ref=>{let{reservation}=_ref;const t=(0,utils_text.X)(),{expiryDate,dateOfReservation,pickupDeadline,state}=reservation;return react.createElement(react.Fragment,null,expiryDate&&"readyForPickup"===state&&react.createElement(list_details.Z,{icon:Reservations_default(),title:t("reservationDetailsStatusTitleText"),labels:t("reservationDetailsExpiresText",{placeholders:{"@date":(0,utils_helpers.p6)(expiryDate)}})}),pickupDeadline&&"reserved"===state&&react.createElement(list_details.Z,{icon:Reservations_default(),title:t("reservationDetailsStatusTitleText"),labels:t("reservationDetailsBorrowBeforeText",{placeholders:{"@date":(0,utils_helpers.p6)(pickupDeadline)}})}),dateOfReservation&&react.createElement(list_details.Z,{icon:Loans_default(),labels:(0,utils_helpers.p6)(dateOfReservation),title:t("reservationDetailsDateOfReservationTitleText")}))};try{digitallistdetails.displayName="digitallistdetails",digitallistdetails.__docgenInfo={description:"",displayName:"digitallistdetails",props:{reservation:{defaultValue:null,description:"",name:"reservation",required:!0,type:{name:"Nullable<Partial<Reservation>>"}},material:{defaultValue:null,description:"",name:"material",required:!1,type:{name:"Nullable<Partial<BasicDetails>> | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/modal/reservation-details/digital-list-details.tsx#digitallistdetails"]={docgenInfo:digitallistdetails.__docgenInfo,name:"digitallistdetails",path:"src/apps/reservation-list/modal/reservation-details/digital-list-details.tsx#digitallistdetails"})}catch(__react_docgen_typescript_loader_error){}const delete_reservation_content=_ref=>{let{deleteReservation}=_ref;const t=(0,utils_text.X)(),deleteReservationCallback=(0,react.useCallback)((()=>{deleteReservation()}),[deleteReservation]);return react.createElement(react.Fragment,null,react.createElement("h1",{className:"text-header-h3"},t("deleteReservationModalHeaderText")),react.createElement("div",{className:"mt-48 color-secondary-gray"},react.createElement("p",{className:"text-body-medium-regular"},t("deleteReservationModalDeleteQuestionText")),react.createElement("p",{className:"text-body-medium-regular"},t("deleteReservationModalNotRegrettableText"))),react.createElement("div",{className:"modal-pause__button mt-48"},react.createElement("button",{type:"button","data-cy":"delete-reservation-button",onClick:deleteReservationCallback,className:"btn-primary btn-filled btn-large arrow__hover--right-small"},t("deleteReservationModalDeleteButtonText"))))};try{deletereservationcontent.displayName="deletereservationcontent",deletereservationcontent.__docgenInfo={description:"",displayName:"deletereservationcontent",props:{deleteReservation:{defaultValue:null,description:"",name:"deleteReservation",required:!0,type:{name:"() => void"}},material:{defaultValue:null,description:"",name:"material",required:!1,type:{name:"Nullable<Partial<BasicDetails>> | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/modal/delete-reservation/delete-reservation-content.tsx#deletereservationcontent"]={docgenInfo:deletereservationcontent.__docgenInfo,name:"deletereservationcontent",path:"src/apps/reservation-list/modal/delete-reservation/delete-reservation-content.tsx#deletereservationcontent"})}catch(__react_docgen_typescript_loader_error){}const delete_reservation_modal=_ref=>{let{id,deleteReservation}=_ref;const t=(0,utils_text.X)();return react.createElement(modal.Z,{modalId:id,classNames:"modal-cta",closeModalAriaLabelText:t("deleteReservationModalCloseModalText"),screenReaderModalDescriptionText:t("deleteReservationModalAriaDescriptionText")},react.createElement(delete_reservation_content,{deleteReservation}))};try{deletereservationmodal.displayName="deletereservationmodal",deletereservationmodal.__docgenInfo={description:"",displayName:"deletereservationmodal",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},deleteReservation:{defaultValue:null,description:"",name:"deleteReservation",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/modal/delete-reservation/delete-reservation-modal.tsx#deletereservationmodal"]={docgenInfo:deletereservationmodal.__docgenInfo,name:"deletereservationmodal",path:"src/apps/reservation-list/modal/delete-reservation/delete-reservation-modal.tsx#deletereservationmodal"})}catch(__react_docgen_typescript_loader_error){}const reservation_details_buttons=_ref=>{let{reservationId,numberInQueue}=_ref;const t=(0,utils_text.X)(),queryClient=(0,es.useQueryClient)(),modalIds=(0,general.GM)(),{mutate}=(0,fbs.a4)(),{open,close}=(0,modal.f)(),modalId=`${modalIds.deleteReservation}${reservationId}`,deleteReservation=(0,react.useCallback)((()=>{reservationId&&mutate({params:{reservationid:[reservationId]}},{onSuccess:()=>{queryClient.invalidateQueries((0,fbs.Jp)()),close(modalId)},onError:()=>{close(modalId)}})}),[close,modalId,mutate,queryClient,reservationId]);return react.createElement(react.Fragment,null,react.createElement("div",{className:"modal-details__buttons"},numberInQueue&&numberInQueue>0&&react.createElement("div",{className:"my-8 mx-16 text-body-medium-regular"},t("reservationDetailsOthersInQueueText")),react.createElement("button",{type:"button",onClick:()=>open(modalId),className:"btn-primary btn-filled btn-small arrow__hover--right-small"},t("reservationDetailsButtonRemoveText"))),react.createElement(delete_reservation_modal,{deleteReservation,id:modalId}))};try{reservationdetailsbuttons.displayName="reservationdetailsbuttons",reservationdetailsbuttons.__docgenInfo={description:"",displayName:"reservationdetailsbuttons",props:{reservationId:{defaultValue:null,description:"",name:"reservationId",required:!0,type:{name:"number"}},numberInQueue:{defaultValue:null,description:"",name:"numberInQueue",required:!1,type:{name:"number | null | undefined"}},material:{defaultValue:null,description:"",name:"material",required:!1,type:{name:"Nullable<Partial<BasicDetails>> | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/modal/reservation-details/reservation-details-buttons.tsx#reservationdetailsbuttons"]={docgenInfo:reservationdetailsbuttons.__docgenInfo,name:"reservationdetailsbuttons",path:"src/apps/reservation-list/modal/reservation-details/reservation-details-buttons.tsx#reservationdetailsbuttons"})}catch(__react_docgen_typescript_loader_error){}var icon_btn_external_link=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/buttons/icon-btn-external-link.svg"),icon_btn_external_link_default=__webpack_require__.n(icon_btn_external_link);const reservation_details_redirect=_ref=>{let{reservationId}=_ref;const t=(0,utils_text.X)(),{ereolenMyPageUrl}=(0,url.J_)(),{mutate}=(0,publizon.t7)(),{open,close}=(0,modal.f)(),modalId=`${(0,general.GM)().deleteReservation}${reservationId}`,deleteReservation=(0,react.useCallback)((()=>{reservationId&&mutate({identifier:reservationId},{onSuccess:result=>{close(modalId)},onError:()=>{close(modalId)}})}),[close,modalId,mutate,reservationId]);return react.createElement(react.Fragment,null,react.createElement("div",{className:"modal-details__buttons"},react.createElement("button",{type:"button",onClick:()=>open(modalId),className:"link-tag mx-16"},t("reservationDetailsRemoveDigitalReservationText")),react.createElement(atoms_link.r,{href:new URL(ereolenMyPageUrl),className:"btn-primary btn-filled btn-small arrow__hover--right-small",id:"go-to-ereolen-button"},t("reservationDetailsDigitalReservationGoToEreolenText"),react.createElement("img",{src:icon_btn_external_link_default(),className:"btn-icon invert",alt:""}))),react.createElement(delete_reservation_modal,{deleteReservation,id:modalId}))};try{reservationdetailsredirect.displayName="reservationdetailsredirect",reservationdetailsredirect.__docgenInfo={description:"",displayName:"reservationdetailsredirect",props:{reservationId:{defaultValue:null,description:"",name:"reservationId",required:!0,type:{name:"string"}},material:{defaultValue:null,description:"",name:"material",required:!1,type:{name:"Nullable<Partial<BasicDetails>> | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/modal/reservation-details/reservation-details-redirect.tsx#reservationdetailsredirect"]={docgenInfo:reservationdetailsredirect.__docgenInfo,name:"reservationdetailsredirect",path:"src/apps/reservation-list/modal/reservation-details/reservation-details-redirect.tsx#reservationdetailsredirect"})}catch(__react_docgen_typescript_loader_error){}var dayjs_min=__webpack_require__("./node_modules/dayjs/dayjs.min.js"),dayjs_min_default=__webpack_require__.n(dayjs_min),Ebook=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Ebook.svg"),Ebook_default=__webpack_require__.n(Ebook),Location=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Location.svg"),Location_default=__webpack_require__.n(Location),LoanHistory=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/LoanHistory.svg"),LoanHistory_default=__webpack_require__.n(LoanHistory),Button=__webpack_require__("./src/components/Buttons/Button.tsx"),Dropdown=__webpack_require__("./src/components/Dropdown/Dropdown.tsx");const list_details_dropdown=_ref=>{let{onDropdownChange,setShowSelect,showSelect,options,selected}=_ref;const t=(0,utils_text.X)();return react.createElement(react.Fragment,null,!showSelect&&react.createElement("button",{type:"button",className:"link-tag",onClick:()=>setShowSelect(!0)},t("reservationDetailsChangeText")),showSelect&&react.createElement(Dropdown.Z,{defaultValue:null==selected?void 0:selected.value,placeholder:{label:t("listDetailsNothingSelectedLabelText"),disabled:!0,value:""},options:options.map((_ref2=>{let{value,label}=_ref2;return{value,label}})),ariaLabel:"",arrowIcon:"chevron",handleOnChange:e=>onDropdownChange(e)}))};try{listdetailsdropdown.displayName="listdetailsdropdown",listdetailsdropdown.__docgenInfo={description:"",displayName:"listdetailsdropdown",props:{onDropdownChange:{defaultValue:null,description:"",name:"onDropdownChange",required:!0,type:{name:"(e: ChangeEvent<HTMLSelectElement>) => void"}},setShowSelect:{defaultValue:null,description:"",name:"setShowSelect",required:!0,type:{name:"(show: boolean) => void"}},showSelect:{defaultValue:null,description:"",name:"showSelect",required:!0,type:{name:"boolean"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"OptionsProps[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"OptionsProps | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/list-details-dropdown/list-details-dropdown.tsx#listdetailsdropdown"]={docgenInfo:listdetailsdropdown.__docgenInfo,name:"listdetailsdropdown",path:"src/components/list-details-dropdown/list-details-dropdown.tsx#listdetailsdropdown"})}catch(__react_docgen_typescript_loader_error){}const physical_list_details=_ref=>{let{reservation,branches}=_ref;const t=(0,utils_text.X)(),queryClient=(0,es.useQueryClient)(),{mutate}=(0,fbs.OE)(),[pickupBranchFetched,setPickupBranchFetched]=(0,react.useState)(""),[showBranchesSelect,setShowBranchesSelect]=(0,react.useState)(!1),[showExpirySelect,setShowExpirySelect]=(0,react.useState)(!1),[newBranch,setNewBranch]=(0,react.useState)(null),[newExpiryDate,setNewExpiryDate]=(0,react.useState)(null),[branchesOptions,setBranchesOptions]=(0,react.useState)(null),formatInterestPeriods=Object.entries((0,helper.rO)(t)).map((_ref2=>{let[key,value]=_ref2;return{value:key,label:value}})),{numberInQueue,pickupBranch,expiryDate,pickupDeadline,dateOfReservation,pickupNumber,reservationId}=reservation;(0,react.useEffect)((()=>{if(branches&&pickupBranch){const mappedBranches=branches.map((_ref3=>{let{title,branchId}=_ref3;return{label:title,value:branchId}}));setBranchesOptions(mappedBranches),setPickupBranchFetched((0,helper.Sp)(pickupBranch,branches));const selected=mappedBranches.filter((_ref4=>{let{value}=_ref4;return value===pickupBranch}));selected.length>0&&setNewBranch(selected[0])}}),[branches,pickupBranch]);const changeExpiryDate=(0,react.useCallback)((e=>{const newEpiryDate=formatInterestPeriods.filter((_ref5=>{let{value}=_ref5;return value===e.target.value}));newEpiryDate.length>0&&setNewExpiryDate(newEpiryDate[0])}),[formatInterestPeriods,setNewExpiryDate]),changeNewBranch=(0,react.useCallback)((e=>{if(branchesOptions){const selectedBranch=branchesOptions.filter((_ref6=>{let{value}=_ref6;return value===e.target.value}));selectedBranch.length>0&&setNewBranch(selectedBranch[0])}}),[branchesOptions]),save=(0,react.useCallback)((()=>{if(reservationId){let selectedExpiryDate=expiryDate||"";newExpiryDate&&(selectedExpiryDate=dayjs_min_default()(expiryDate).add(parseInt(newExpiryDate.value,10),"days").format("YYYY-MM-DD")),mutate({data:{reservations:[{expiryDate:selectedExpiryDate,pickupBranch:null==newBranch?void 0:newBranch.value,reservationId}]}},{onSuccess:()=>{setShowBranchesSelect(!1),setShowExpirySelect(!1),queryClient.invalidateQueries((0,fbs.Jp)())},onError:()=>{}})}}),[reservationId,expiryDate,newExpiryDate,mutate,null==newBranch?void 0:newBranch.value,queryClient]),cancel=(0,react.useCallback)((()=>{if(branchesOptions){let originalBranch=[];originalBranch=branchesOptions.filter((_ref7=>{let{value}=_ref7;return value===pickupBranch})),originalBranch.length>0&&setNewBranch(originalBranch[0])}setNewExpiryDate(null),setShowBranchesSelect(!1),setShowExpirySelect(!1)}),[branchesOptions,pickupBranch]);return react.createElement(react.Fragment,null,numberInQueue&&react.createElement(list_details.Z,{icon:Ebook_default(),title:t("reservationDetailsStatusTitleText"),labels:[t("reservationDetailsNumberInQueueLabelText",{placeholders:{"@count":numberInQueue}})]}),pickupBranchFetched&&react.createElement(list_details.Z,{icon:Location_default(),title:t("reservationDetailsPickUpAtTitleText"),labels:[pickupBranchFetched,pickupNumber||""]},branchesOptions&&react.createElement(list_details_dropdown,{showSelect:showBranchesSelect,setShowSelect:setShowBranchesSelect,onDropdownChange:changeNewBranch,options:branchesOptions,selected:newBranch})),expiryDate&&react.createElement(list_details.Z,{icon:LoanHistory_default(),title:t("reservationDetailsNoInterestAfterTitleText"),labels:[(0,utils_helpers.p6)(expiryDate)]},react.createElement(list_details_dropdown,{showSelect:showExpirySelect,setShowSelect:setShowExpirySelect,onDropdownChange:changeExpiryDate,options:formatInterestPeriods,selected:newExpiryDate})),pickupDeadline&&react.createElement(list_details.Z,{icon:Reservations_default(),title:t("reservationDetailsPickupDeadlineTitleText"),labels:[(0,utils_helpers.p6)(pickupDeadline)]}),dateOfReservation&&react.createElement(list_details.Z,{icon:Loans_default(),title:t("reservationDetailsDateOfReservationTitleText"),labels:[(0,utils_helpers.p6)(dateOfReservation)]}),react.createElement("div",{className:"modal-details__buttons"},react.createElement("button",{type:"button",className:"link-tag mx-16",onClick:cancel},t("reservationDetailsCancelText")),react.createElement(Button.z,{label:t("reservationDetailsSaveText"),buttonType:"none",dataCy:"save-physical-details",variant:"filled",disabled:!1,onClick:save,collapsible:!1,size:"small"})))};try{physicallistdetails.displayName="physicallistdetails",physicallistdetails.__docgenInfo={description:"",displayName:"physicallistdetails",props:{reservation:{defaultValue:null,description:"",name:"reservation",required:!0,type:{name:"Nullable<Partial<Reservation>>"}},branches:{defaultValue:null,description:"",name:"branches",required:!0,type:{name:"AgencyBranch[]"}},material:{defaultValue:null,description:"",name:"material",required:!1,type:{name:"Nullable<Partial<BasicDetails>> | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/modal/reservation-details/physical-list-details.tsx#physicallistdetails"]={docgenInfo:physicallistdetails.__docgenInfo,name:"physicallistdetails",path:"src/apps/reservation-list/modal/reservation-details/physical-list-details.tsx#physicallistdetails"})}catch(__react_docgen_typescript_loader_error){}const reservation_details=(0,digital_material_fetch_hoc.Z)((0,material_fetch_hoc.Z)((_ref=>{let{reservation,material,branches}=_ref;const t=(0,utils_text.X)(),{state,identifier,numberInQueue}=reservation,{authors,pid,year,title,description,materialType}=material||{},isDigital=!!reservation.identifier;return react.createElement("div",{className:"modal-details__container"},material&&react.createElement(react.Fragment,null,react.createElement(modal_details_header.Z,{isbnForCover:identifier||"",authors,year,title,pid,description,materialType,series:material.series},"readyForPickup"===state&&react.createElement("div",{className:"status-label status-label--info"},t("reservationDetailsReadyForLoanText"))),reservation.reservationId&&react.createElement(reservation_details_buttons,{reservationId:reservation.reservationId,numberInQueue}),isDigital&&reservation.identifier&&react.createElement(reservation_details_redirect,{reservationId:reservation.identifier}),react.createElement("div",{className:"modal-details__list"},isDigital&&react.createElement(digital_list_details,{reservation}),!isDigital&&react.createElement(physical_list_details,{branches,reservation}))))})));try{reservationdetails.displayName="reservationdetails",reservationdetails.__docgenInfo={description:"",displayName:"reservationdetails",props:{reservation:{defaultValue:null,description:"",name:"reservation",required:!0,type:{name:"Nullable<Partial<Reservation>>"}},branches:{defaultValue:null,description:"",name:"branches",required:!0,type:{name:"AgencyBranch[]"}},digitalMaterial:{defaultValue:null,description:"",name:"digitalMaterial",required:!1,type:{name:"Product | null | undefined"}},faust:{defaultValue:null,description:"",name:"faust",required:!1,type:{name:"`${number}` | null | undefined"}},identifier:{defaultValue:null,description:"",name:"identifier",required:!1,type:{name:"string | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/modal/reservation-details/reservation-details.tsx#reservationdetails"]={docgenInfo:reservationdetails.__docgenInfo,name:"reservationdetails",path:"src/apps/reservation-list/modal/reservation-details/reservation-details.tsx#reservationdetails"})}catch(__react_docgen_typescript_loader_error){}const reservation_material=(0,digital_material_fetch_hoc.Z)((0,material_fetch_hoc.Z)((_ref=>{let{material,reservation}=_ref;const{open}=(0,modal.f)(),config=(0,utils_config.ZR)(),{faust,identifier}=reservation,inputBranches=config("branchesConfig",{transformer:"jsonParse"}),blacklistBranches=config("blacklistedPickupBranchesConfig",{transformer:"stringToArray"});let branches=inputBranches;Array.isArray(blacklistBranches)&&(branches=(0,helper.rM)(inputBranches,blacklistBranches));const openDetailsModal=(0,react.useCallback)((e=>{e.stopPropagation(),open(faust||identifier||"")}),[faust,identifier,open]);return react.createElement("li",null,react.createElement("button",{type:"button",onClick:e=>openDetailsModal(e),className:"list-reservation my-32"},material&&react.createElement(material_info.Z,{periodical:reservation.periodical,material,isbnForCover:reservation.identifier||""}),react.createElement(reservation_info,{branches,reservationInfo:reservation})),react.createElement(material_details_modal.Z,{modalId:reservation.faust||reservation.identifier||""},react.createElement(reservation_details,{faust:reservation.faust,identifier:reservation.identifier,branches,reservation})))})));try{reservationmaterial.displayName="reservationmaterial",reservationmaterial.__docgenInfo={description:"",displayName:"reservationmaterial",props:{reservation:{defaultValue:null,description:"",name:"reservation",required:!0,type:{name:"Nullable<Partial<Reservation>>"}},digitalMaterial:{defaultValue:null,description:"",name:"digitalMaterial",required:!1,type:{name:"Product | null | undefined"}},faust:{defaultValue:null,description:"",name:"faust",required:!1,type:{name:"`${number}` | null | undefined"}},identifier:{defaultValue:null,description:"",name:"identifier",required:!1,type:{name:"string | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/reservation-material/reservation-material.tsx#reservationmaterial"]={docgenInfo:reservationmaterial.__docgenInfo,name:"reservationmaterial",path:"src/apps/reservation-list/reservation-material/reservation-material.tsx#reservationmaterial"})}catch(__react_docgen_typescript_loader_error){}const list_list=_ref=>{let{reservations,header,pageSize,emptyListLabel}=_ref;const[dataReady,setDataReady]=(0,react.useState)(!1),[displayedReservations,setDisplayedReservations]=(0,react.useState)([]),{itemsShown,PagerComponent}=(0,use_pager.Z)(reservations.length,pageSize);return(0,react.useEffect)((()=>{reservations&&(setDisplayedReservations((0,general.qZ)(reservations,itemsShown)),setDataReady(!0))}),[itemsShown,reservations]),dataReady?react.createElement("div",null,displayedReservations.length>0?react.createElement(react.Fragment,null,react.createElement("div",{className:"dpl-list-buttons m-32"},react.createElement("h2",{"data-cy":"reservation-list-header",className:"dpl-list-buttons__header"},react.createElement(react.Fragment,null,header,react.createElement("div",{className:"dpl-list-buttons__power"},reservations.length)))),react.createElement("ul",{className:"list-reservation-container m-32"},displayedReservations.map((reservation=>react.createElement(reservation_material,{key:reservation.identifier||reservation.faust,identifier:reservation.identifier,faust:reservation.faust,reservation}))),PagerComponent)):react.createElement("div",null,react.createElement("div",{className:"dpl-list-buttons m-32"},react.createElement("h2",{className:"dpl-list-buttons__header"},react.createElement(react.Fragment,null,header,react.createElement("div",{className:"dpl-list-buttons__power"},"0")))),react.createElement("div",{className:"list-reservation-container m-32"},react.createElement(empty_list.Z,{emptyListText:emptyListLabel})))):react.createElement("div",null)};try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{reservations:{defaultValue:null,description:"",name:"reservations",required:!0,type:{name:"Nullable<Partial<Reservation>>[]"}},header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string"}},emptyListLabel:{defaultValue:null,description:"",name:"emptyListLabel",required:!0,type:{name:"string"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/list/list.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/apps/reservation-list/list/list.tsx#list"})}catch(__react_docgen_typescript_loader_error){}const DisplayedReservations=_ref=>{let{readyForPickupReservationsFBS,readyForPickupReservationsPublizon,reservedReservationsFBS,reservedReservationsPublizon,pageSize}=_ref;const t=(0,utils_text.X)();return react.createElement(react.Fragment,null,null!==readyForPickupReservationsFBS&&null!==readyForPickupReservationsPublizon&&react.createElement(list_list,{pageSize,header:t("reservationListReadyForPickupTitleText"),reservations:sortByOldestPickupDeadline([...readyForPickupReservationsFBS,...readyForPickupReservationsPublizon]),emptyListLabel:t("reservationListReadyForPickupEmptyText")}),null!==reservedReservationsFBS&&react.createElement(list_list,{pageSize,header:t("reservationListPhysicalReservationsHeaderText"),reservations:reservedReservationsFBS,emptyListLabel:t("reservationListPhysicalReservationsEmptyText")}),null!==reservedReservationsPublizon&&react.createElement(list_list,{pageSize,header:t("reservationListDigitalReservationsHeaderText"),reservations:reservedReservationsPublizon,emptyListLabel:t("reservationListDigitalReservationsEmptyText")}))},list_DisplayedReservations=DisplayedReservations;try{DisplayedReservations.displayName="DisplayedReservations",DisplayedReservations.__docgenInfo={description:"",displayName:"DisplayedReservations",props:{readyForPickupReservationsFBS:{defaultValue:null,description:"",name:"readyForPickupReservationsFBS",required:!0,type:{name:"Nullable<Partial<Reservation>>[] | null"}},readyForPickupReservationsPublizon:{defaultValue:null,description:"",name:"readyForPickupReservationsPublizon",required:!0,type:{name:"Nullable<Partial<Reservation>>[] | null"}},reservedReservationsFBS:{defaultValue:null,description:"",name:"reservedReservationsFBS",required:!0,type:{name:"Nullable<Partial<Reservation>>[] | null"}},reservedReservationsPublizon:{defaultValue:null,description:"",name:"reservedReservationsPublizon",required:!0,type:{name:"Nullable<Partial<Reservation>>[] | null"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/list/DisplayedReservations.tsx#DisplayedReservations"]={docgenInfo:DisplayedReservations.__docgenInfo,name:"DisplayedReservations",path:"src/apps/reservation-list/list/DisplayedReservations.tsx#DisplayedReservations"})}catch(__react_docgen_typescript_loader_error){}const reservation_list=_ref=>{let{pageSize}=_ref;const t=(0,utils_text.X)(),{data:userData}=(0,fbs.wK)(),{isSuccess:isSuccessFBS,data,isLoading:isLoadingFBS}=(0,fbs.U)(),{isSuccess:isSuccessPublizon,data:publizonData,isLoading:isLoadingPublizon}=(0,publizon.ju)(),[readyForPickupReservationsFBS,setReadyForPickupReservationsFBS]=(0,react.useState)(null),[readyForPickupReservationsPublizon,setReadyForPickupReservationsPublizon]=(0,react.useState)(null),[reservedReservationsFBS,setReservedReservationsFBS]=(0,react.useState)(null),[user,setUser]=(0,react.useState)(null),[reservedReservationsPublizon,setReservedReservationsPublizon]=(0,react.useState)(null);(0,react.useEffect)((()=>{isSuccessPublizon&&publizonData&&publizonData.reservations&&(setReadyForPickupReservationsPublizon((0,general.S1)((0,list_mapper._P)(publizonData.reservations))),setReservedReservationsPublizon((list=>list.filter((_ref=>{let{state}=_ref;return"reserved"===state})).sort(((objA,objB)=>new Date(objA.pickupDeadline||new Date).getTime()-new Date(objB.pickupDeadline||new Date).getTime()||(objA.title||"").localeCompare(objB.title||""))))((0,list_mapper._P)(publizonData.reservations))))}),[publizonData,isSuccessPublizon]),(0,react.useEffect)((()=>{userData&&userData.patron&&setUser(userData.patron)}),[userData]),(0,react.useEffect)((()=>{isSuccessFBS&&data&&(setReadyForPickupReservationsFBS(sortByOldestPickupDeadline((0,general.S1)((0,list_mapper.Qb)(data)))),setReservedReservationsFBS((list=>list.filter((_ref2=>{let{state}=_ref2;return"reserved"===state})).sort(((objA,objB)=>(objA.numberInQueue||0)-(objB.numberInQueue||0))))((0,list_mapper.Qb)(data))))}),[isSuccessFBS,data]);const allListsEmpty=0===(null==readyForPickupReservationsFBS?void 0:readyForPickupReservationsFBS.length)&&0===(null==readyForPickupReservationsPublizon?void 0:readyForPickupReservationsPublizon.length)&&0===(null==reservedReservationsFBS?void 0:reservedReservationsFBS.length)&&0===(null==reservedReservationsPublizon?void 0:reservedReservationsPublizon.length)&&!isLoadingFBS&&!isLoadingPublizon;return react.createElement("div",{className:"reservation-list-page"},react.createElement("h1",{className:"text-header-h1 m-32"},t("reservationListHeaderText")),user&&react.createElement(reservation_pause_toggler,{user}),allListsEmpty&&react.createElement(list_EmptyReservations,null),!allListsEmpty&&react.createElement(list_DisplayedReservations,{readyForPickupReservationsFBS,readyForPickupReservationsPublizon,reservedReservationsFBS,reservedReservationsPublizon,pageSize}))};try{reservationlist.displayName="reservationlist",reservationlist.__docgenInfo={description:"",displayName:"reservationlist",props:{pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/list/reservation-list.tsx#reservationlist"]={docgenInfo:reservationlist.__docgenInfo,name:"reservationlist",path:"src/apps/reservation-list/list/reservation-list.tsx#reservationlist"})}catch(__react_docgen_typescript_loader_error){}const reservation_list_entry=(0,utils_config.Rh)((0,url.XL)((0,utils_text.z)((_ref=>{let{pageSizeDesktop,pageSizeMobile}=_ref;const pageSize=(0,general.Rh)({desktop:pageSizeDesktop,mobile:pageSizeMobile},"pageSizeReservationList");return react.createElement(reservation_list,{pageSize})}))));try{reservationlistentry.displayName="reservationlistentry",reservationlistentry.__docgenInfo={description:"",displayName:"reservationlistentry",props:{ereolenMyPageUrl:{defaultValue:null,description:"",name:"ereolenMyPageUrl",required:!0,type:{name:"string"}},reservationDetailsBorrowBeforeText:{defaultValue:null,description:"",name:"reservationDetailsBorrowBeforeText",required:!0,type:{name:"string"}},reservationListHeaderText:{defaultValue:null,description:"",name:"reservationListHeaderText",required:!0,type:{name:"string"}},physicalLoansTitleText:{defaultValue:null,description:"",name:"physicalLoansTitleText",required:!0,type:{name:"string"}},reservationListReadyText:{defaultValue:null,description:"",name:"reservationListReadyText",required:!0,type:{name:"string"}},materialByAuthorText:{defaultValue:null,description:"",name:"materialByAuthorText",required:!0,type:{name:"string"}},reservationDetailsExpiresText:{defaultValue:null,description:"",name:"reservationDetailsExpiresText",required:!0,type:{name:"string"}},pauseReservationInfoUrl:{defaultValue:null,description:"",name:"pauseReservationInfoUrl",required:!0,type:{name:"string"}},materialAndAuthorText:{defaultValue:null,description:"",name:"materialAndAuthorText",required:!0,type:{name:"string"}},pauseReservationStartDateConfig:{defaultValue:null,description:"",name:"pauseReservationStartDateConfig",required:!0,type:{name:"string"}},reservationListNumberInQueueText:{defaultValue:null,description:"",name:"reservationListNumberInQueueText",required:!0,type:{name:"string"}},reservationListFirstInQueueText:{defaultValue:null,description:"",name:"reservationListFirstInQueueText",required:!0,type:{name:"string"}},expiresSoonText:{defaultValue:null,description:"",name:"expiresSoonText",required:!0,type:{name:"string"}},reservationListInQueueText:{defaultValue:null,description:"",name:"reservationListInQueueText",required:!0,type:{name:"string"}},blacklistedPickupBranchesConfig:{defaultValue:null,description:"",name:"blacklistedPickupBranchesConfig",required:!0,type:{name:"string"}},reservationPickUpLatestText:{defaultValue:null,description:"",name:"reservationPickUpLatestText",required:!0,type:{name:"string"}},publizonEbookText:{defaultValue:null,description:"",name:"publizonEbookText",required:!0,type:{name:"string"}},publizonAudioBookText:{defaultValue:null,description:"",name:"publizonAudioBookText",required:!0,type:{name:"string"}},publizonPodcastText:{defaultValue:null,description:"",name:"publizonPodcastText",required:!0,type:{name:"string"}},reservationListLoanBeforeText:{defaultValue:null,description:"",name:"reservationListLoanBeforeText",required:!0,type:{name:"string"}},reservationListDaysText:{defaultValue:null,description:"",name:"reservationListDaysText",required:!0,type:{name:"string"}},reservationListDayText:{defaultValue:null,description:"",name:"reservationListDayText",required:!0,type:{name:"string"}},reservationListAvailableInText:{defaultValue:null,description:"",name:"reservationListAvailableInText",required:!0,type:{name:"string"}},reservationDetailsButtonRemoveText:{defaultValue:null,description:"",name:"reservationDetailsButtonRemoveText",required:!0,type:{name:"string"}},reservationDetailsChangeText:{defaultValue:null,description:"",name:"reservationDetailsChangeText",required:!0,type:{name:"string"}},reservationDetailsExpiresTitleText:{defaultValue:null,description:"",name:"reservationDetailsExpiresTitleText",required:!0,type:{name:"string"}},reservationDetailsOthersInQueueText:{defaultValue:null,description:"",name:"reservationDetailsOthersInQueueText",required:!0,type:{name:"string"}},reservationDetailsNumberInQueueLabelText:{defaultValue:null,description:"",name:"reservationDetailsNumberInQueueLabelText",required:!0,type:{name:"string"}},reservationDetailsStatusTitleText:{defaultValue:null,description:"",name:"reservationDetailsStatusTitleText",required:!0,type:{name:"string"}},reservationDetailsPickUpAtTitleText:{defaultValue:null,description:"",name:"reservationDetailsPickUpAtTitleText",required:!0,type:{name:"string"}},reservationDetailsNoInterestAfterTitleText:{defaultValue:null,description:"",name:"reservationDetailsNoInterestAfterTitleText",required:!0,type:{name:"string"}},reservationDetailsPickupDeadlineTitleText:{defaultValue:null,description:"",name:"reservationDetailsPickupDeadlineTitleText",required:!0,type:{name:"string"}},reservationDetailsDigitalReservationGoToEreolenText:{defaultValue:null,description:"",name:"reservationDetailsDigitalReservationGoToEreolenText",required:!0,type:{name:"string"}},oneMonthText:{defaultValue:null,description:"",name:"oneMonthText",required:!0,type:{name:"string"}},twoMonthsText:{defaultValue:null,description:"",name:"twoMonthsText",required:!0,type:{name:"string"}},threeMonthsText:{defaultValue:null,description:"",name:"threeMonthsText",required:!0,type:{name:"string"}},sixMonthsText:{defaultValue:null,description:"",name:"sixMonthsText",required:!0,type:{name:"string"}},oneYearText:{defaultValue:null,description:"",name:"oneYearText",required:!0,type:{name:"string"}},listDetailsNothingSelectedLabelText:{defaultValue:null,description:"",name:"listDetailsNothingSelectedLabelText",required:!0,type:{name:"string"}},branchesConfig:{defaultValue:null,description:"",name:"branchesConfig",required:!0,type:{name:"string"}},reservationDetailsDateOfReservationTitleText:{defaultValue:null,description:"",name:"reservationDetailsDateOfReservationTitleText",required:!0,type:{name:"string"}},reservationDetailsReadyForLoanText:{defaultValue:null,description:"",name:"reservationDetailsReadyForLoanText",required:!0,type:{name:"string"}},reservationDetailsRemoveDigitalReservationText:{defaultValue:null,description:"",name:"reservationDetailsRemoveDigitalReservationText",required:!0,type:{name:"string"}},deleteReservationModalHeaderText:{defaultValue:null,description:"",name:"deleteReservationModalHeaderText",required:!0,type:{name:"string"}},deleteReservationModalDeleteQuestionText:{defaultValue:null,description:"",name:"deleteReservationModalDeleteQuestionText",required:!0,type:{name:"string"}},deleteReservationModalNotRegrettableText:{defaultValue:null,description:"",name:"deleteReservationModalNotRegrettableText",required:!0,type:{name:"string"}},deleteReservationModalDeleteButtonText:{defaultValue:null,description:"",name:"deleteReservationModalDeleteButtonText",required:!0,type:{name:"string"}},deleteReservationModalCloseModalText:{defaultValue:null,description:"",name:"deleteReservationModalCloseModalText",required:!0,type:{name:"string"}},deleteReservationModalAriaDescriptionText:{defaultValue:null,description:"",name:"deleteReservationModalAriaDescriptionText",required:!0,type:{name:"string"}},reservationListPauseReservationText:{defaultValue:null,description:"",name:"reservationListPauseReservationText",required:!0,type:{name:"string"}},reservationListOnHoldAriaText:{defaultValue:null,description:"",name:"reservationListOnHoldAriaText",required:!0,type:{name:"string"}},reservationListPauseReservationAriaModalText:{defaultValue:null,description:"",name:"reservationListPauseReservationAriaModalText",required:!0,type:{name:"string"}},pauseReservationModalAriaDescriptionText:{defaultValue:null,description:"",name:"pauseReservationModalAriaDescriptionText",required:!0,type:{name:"string"}},pauseReservationModalHeaderText:{defaultValue:null,description:"",name:"pauseReservationModalHeaderText",required:!0,type:{name:"string"}},pauseReservationModalBodyText:{defaultValue:null,description:"",name:"pauseReservationModalBodyText",required:!0,type:{name:"string"}},pauseReservationModalCloseModalText:{defaultValue:null,description:"",name:"pauseReservationModalCloseModalText",required:!0,type:{name:"string"}},dateInputsStartDateLabelText:{defaultValue:null,description:"",name:"dateInputsStartDateLabelText",required:!0,type:{name:"string"}},dateInputsEndDateLabelText:{defaultValue:null,description:"",name:"dateInputsEndDateLabelText",required:!0,type:{name:"string"}},pauseReservationModalBelowInputsTextText:{defaultValue:null,description:"",name:"pauseReservationModalBelowInputsTextText",required:!0,type:{name:"string"}},pauseReservationModalLinkText:{defaultValue:null,description:"",name:"pauseReservationModalLinkText",required:!0,type:{name:"string"}},pauseReservationModalSaveButtonLabelText:{defaultValue:null,description:"",name:"pauseReservationModalSaveButtonLabelText",required:!0,type:{name:"string"}},reservationListReadyForPickupTitleText:{defaultValue:null,description:"",name:"reservationListReadyForPickupTitleText",required:!0,type:{name:"string"}},reservationListReadyForPickupEmptyText:{defaultValue:null,description:"",name:"reservationListReadyForPickupEmptyText",required:!0,type:{name:"string"}},reservationListPhysicalReservationsEmptyText:{defaultValue:null,description:"",name:"reservationListPhysicalReservationsEmptyText",required:!0,type:{name:"string"}},reservationListPhysicalReservationsHeaderText:{defaultValue:null,description:"",name:"reservationListPhysicalReservationsHeaderText",required:!0,type:{name:"string"}},reservationListDigitalReservationsEmptyText:{defaultValue:null,description:"",name:"reservationListDigitalReservationsEmptyText",required:!0,type:{name:"string"}},reservationListDigitalReservationsHeaderText:{defaultValue:null,description:"",name:"reservationListDigitalReservationsHeaderText",required:!0,type:{name:"string"}},reservationListAllEmptyText:{defaultValue:null,description:"",name:"reservationListAllEmptyText",required:!0,type:{name:"string"}},pageSizeDesktop:{defaultValue:null,description:"",name:"pageSizeDesktop",required:!0,type:{name:"number"}},pageSizeMobile:{defaultValue:null,description:"",name:"pageSizeMobile",required:!0,type:{name:"number"}},reservationListStatusIconReadyForPickupAriaLabelText:{defaultValue:null,description:"",name:"reservationListStatusIconReadyForPickupAriaLabelText",required:!0,type:{name:"string"}},reservationListStatusIconQueuedAriaLabelText:{defaultValue:null,description:"",name:"reservationListStatusIconQueuedAriaLabelText",required:!0,type:{name:"string"}},reservationListStatusIconReadyInAriaLabelText:{defaultValue:null,description:"",name:"reservationListStatusIconReadyInAriaLabelText",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/list/reservation-list.entry.tsx#reservationlistentry"]={docgenInfo:reservationlistentry.__docgenInfo,name:"reservationlistentry",path:"src/apps/reservation-list/list/reservation-list.entry.tsx#reservationlistentry"})}catch(__react_docgen_typescript_loader_error){}var serviceUrlArgs=__webpack_require__("./src/core/storybook/serviceUrlArgs.ts");const reservation_list_dev={title:"Apps / Reservation list",component:reservation_list_entry,argTypes:{...serviceUrlArgs.Z,pageSizeDesktop:{name:"Number of search result items on desktop",defaultValue:20,control:{type:"number"}},pageSizeMobile:{name:"Number of search result items on mobile",defaultValue:10,control:{type:"number"}},ereolenMyPageUrl:{defaultValue:"https://ereolen.dk/user/me/",control:{type:"text"}},pauseReservationInfoUrl:{defaultValue:"https://images.unsplash.com/photo-1571043733612-d5444ff7d4ae?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1335&q=80",control:{type:"text"}},pauseReservationStartDateConfig:{defaultValue:"2022-06-30",control:{type:"text"}},blacklistedPickupBranchesConfig:{name:"Blacklisted branches",defaultValue:"FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",control:{type:"text"}},branchesConfig:{name:"Branches",defaultValue:'[\n   {\n      "branchId":"DK-775120",\n      "title":"Højbjerg"\n   },\n   {\n      "branchId":"DK-775122",\n      "title":"Beder-Malling"\n   },\n   {\n      "branchId":"DK-775144",\n      "title":"Gellerup"\n   },\n   {\n      "branchId":"DK-775167",\n      "title":"Lystrup"\n   },\n   {\n      "branchId":"DK-775146",\n      "title":"Harlev"\n   },\n   {\n      "branchId":"DK-775168",\n      "title":"Skødstrup"\n   },\n   {\n      "branchId":"FBS-751010",\n      "title":"Arresten"\n   },\n   {\n      "branchId":"DK-775147",\n      "title":"Hasle"\n   },\n   {\n      "branchId":"FBS-751032",\n      "title":"Må ikke benyttes"\n   },\n   {\n      "branchId":"FBS-751031",\n      "title":"Fjernlager 1"\n   },\n   {\n      "branchId":"DK-775126",\n      "title":"Solbjerg"\n   },\n   {\n      "branchId":"FBS-751030",\n      "title":"ITK"\n   },\n   {\n      "branchId":"DK-775149",\n      "title":"Sabro"\n   },\n   {\n      "branchId":"DK-775127",\n      "title":"Tranbjerg"\n   },\n   {\n      "branchId":"DK-775160",\n      "title":"Risskov"\n   },\n   {\n      "branchId":"DK-775162",\n      "title":"Hjortshøj"\n   },\n   {\n      "branchId":"DK-775140",\n      "title":"Åby"\n   },\n   {\n      "branchId":"FBS-751009",\n      "title":"Fjernlager 2"\n   },\n   {\n      "branchId":"FBS-751029",\n      "title":"Stadsarkivet"\n   },\n   {\n      "branchId":"FBS-751027",\n      "title":"Intern"\n   },\n   {\n      "branchId":"FBS-751026",\n      "title":"Fælles undervejs"\n   },\n   {\n      "branchId":"FBS-751025",\n      "title":"Fællessekretariatet"\n   },\n   {\n      "branchId":"DK-775133",\n      "title":"Bavnehøj"\n   },\n   {\n      "branchId":"FBS-751024",\n      "title":"Fjernlånte materialer"\n   },\n   {\n      "branchId":"DK-775100",\n      "title":"Hovedbiblioteket"\n   },\n   {\n      "branchId":"DK-775170",\n      "title":"Trige"\n   },\n   {\n      "branchId":"DK-775150",\n      "title":"Tilst"\n   },\n   {\n      "branchId":"DK-775130",\n      "title":"Viby"\n   },\n   {\n      "branchId":"DK-775164",\n      "title":"Egå"\n   }\n]',control:{type:"text"}},reservationListHeaderText:{defaultValue:"Your reservations",control:{type:"text"}},reservationListPhysicalReservationsHeaderText:{defaultValue:"Physical reservations",control:{type:"text"}},reservationListDigitalReservationsHeaderText:{defaultValue:"Digital reservations",control:{type:"text"}},reservationListReadyForPickupTitleText:{defaultValue:"Ready for pickup",control:{type:"text"}},reservationListReadyForPickupEmptyText:{defaultValue:"At the moment you have 0 reservations ready for pickup",control:{type:"text"}},reservationListPhysicalReservationsEmptyText:{defaultValue:"At the moment you have 0 physical reservations",control:{type:"text"}},reservationListAllEmptyText:{defaultValue:"At the moment you have 0 reservations",control:{type:"text"}},reservationListDigitalReservationsEmptyText:{defaultValue:"At the moment you have 0 reservations on digital items",control:{type:"text"}},reservationListReadyText:{defaultValue:"Ready",control:{type:"text"}},materialByAuthorText:{defaultValue:"By",control:{type:"text"}},materialAndAuthorText:{defaultValue:"and",control:{type:"text"}},reservationListNumberInQueueText:{defaultValue:"There are @count people in the queue before you",control:{type:"text"}},reservationListFirstInQueueText:{defaultValue:"You are at the front of the queue",control:{type:"text"}},reservationListInQueueText:{defaultValue:"queued",control:{type:"text"}},reservationPickUpLatestText:{defaultValue:"Pick up before @date",control:{type:"text"}},publizonEbookText:{defaultValue:"E-book",control:{type:"text"}},publizonAudioBookText:{defaultValue:"Audiobook",control:{type:"text"}},publizonPodcastText:{defaultValue:"Podcast",control:{type:"text"}},reservationListLoanBeforeText:{defaultValue:"Borrow before @date",control:{type:"text"}},reservationListAvailableInText:{defaultValue:"Available in @count days",control:{type:"text"}},reservationListDaysText:{defaultValue:"days",control:{type:"text"}},reservationListDayText:{defaultValue:"day",control:{type:"text"}},reservationDetailsButtonRemoveText:{defaultValue:"Remove your reservation",control:{type:"text"}},reservationDetailsOthersInQueueText:{defaultValue:"Others are queueing for this material",control:{type:"text"}},reservationDetailsNumberInQueueLabelText:{defaultValue:"@count queued",control:{type:"text"}},reservationDetailsStatusTitleText:{defaultValue:"Status",control:{type:"text"}},reservationDetailsExpiresTitleText:{defaultValue:"Pickup deadline",control:{type:"text"}},reservationDetailsDigitalMaterialExpiresTitleText:{defaultValue:"Borrow before",control:{type:"text"}},reservationDetailsPickUpAtTitleText:{defaultValue:"Pickup branch",control:{type:"text"}},reservationDetailsChangeText:{defaultValue:"Apply changes",control:{type:"text"}},reservationDetailsPickupDeadlineTitleText:{defaultValue:"Pickup deadline",control:{type:"text"}},reservationDetailsDateOfReservationTitleText:{defaultValue:"Date of reservation",control:{type:"text"}},reservationDetailsNoInterestAfterTitleText:{defaultValue:"Not interested after",control:{type:"text"}},reservationDetailsReadyForLoanText:{defaultValue:"Ready for pickup",control:{type:"text"}},reservationDetailsRemoveDigitalReservationText:{defaultValue:"Remove your reservation",control:{type:"text"}},reservationDetailsDigitalReservationGoToEreolenText:{defaultValue:"Go to eReolen",control:{type:"text"}},reservationDetailsBorrowBeforeText:{defaultValue:"Borrow before @date",control:{type:"text"}},reservationDetailsExpiresText:{defaultValue:"Your reservation expires @date!",control:{type:"text"}},reservationDetailsSaveText:{defaultValue:"Save",control:{type:"text"}},reservationDetailsCancelText:{defaultValue:"Cancel",control:{type:"text"}},deleteReservationModalHeaderText:{defaultValue:'{"type":"plural","text":["Cancel reservation","Cancel reservations"]}',control:{type:"text"}},deleteReservationModalDeleteQuestionText:{defaultValue:'{"type":"plural","text":["Do you want to cancel your reservation?","Do you want to cancel your reservations?"]}',control:{type:"text"}},deleteReservationModalNotRegrettableText:{defaultValue:"You cannot regret this action",control:{type:"text"}},deleteReservationModalDeleteButtonText:{defaultValue:'{"type":"plural","text":["Cancel reservation","Cancel reservations"]}',control:{type:"text"}},deleteReservationModalCloseModalText:{defaultValue:"Close delete reservation modal",control:{type:"text"}},deleteReservationModalAriaDescriptionText:{defaultValue:"This button opens a modal that covers the entire page and contains the possibility to delete a selected reservation, or multiple selected reservations",control:{type:"text"}},reservationListPauseReservationText:{defaultValue:"Pause your reservations",control:{type:"text"}},reservationListOnHoldAriaText:{defaultValue:"Reservations have been paused in the following time span: ",control:{type:"text"}},reservationListPauseReservationAriaModalText:{defaultValue:"This button opens a modal that covers the entire page and contains the possibility to pause physical reservations",control:{type:"text"}},pauseReservationModalAriaDescriptionText:{defaultValue:"This modal makes it possible to pause your physical reservations",control:{type:"text"}},pauseReservationModalHeaderText:{defaultValue:"Pause reservations on physical items",control:{type:"text"}},pauseReservationModalBodyText:{defaultValue:"Pause your reservations early, since reservations that are already being processed, will not be paused.",control:{type:"text"}},pauseReservationModalCloseModalText:{defaultValue:"Close pause reservations modal",control:{type:"text"}},dateInputsStartDateLabelText:{defaultValue:"Start date",control:{type:"text"}},dateInputsEndDateLabelText:{defaultValue:"End date",control:{type:"text"}},pauseReservationModalBelowInputsTextText:{defaultValue:"",control:{type:"text"}},pauseReservationModalLinkText:{defaultValue:"Read more about pausing reservertions and what that means here",control:{type:"text"}},pauseReservationModalSaveButtonLabelText:{defaultValue:"Save",control:{type:"text"}},oneMonthText:{defaultValue:"1 month",control:{type:"text"}},twoMonthsText:{defaultValue:"2 months",control:{type:"text"}},threeMonthsText:{defaultValue:"3 months",control:{type:"text"}},sixMonthsText:{defaultValue:"6 months",control:{type:"text"}},oneYearText:{defaultValue:"1 year",control:{type:"text"}},listDetailsNothingSelectedLabelText:{defaultValue:"Pick",control:{type:"text"}},showMoreText:{name:"Show more Text",defaultValue:"show more",control:{type:"text"}},resultPagerStatusText:{name:"Result pager status text",defaultValue:"Showing @itemsShown out of @hitcount results",control:{type:"text"}},reservationListStatusIconReadyForPickupAriaLabelText:{defaultValue:"This material is ready for pickup",control:{type:"text"}},reservationListStatusIconQueuedAriaLabelText:{defaultValue:'{"type":"plural","text":["You are the only person queued for this material","This material has @count people in queue before you"]}',control:{type:"text"}},reservationListStatusIconReadyInAriaLabelText:{defaultValue:'{"type":"plural","text":["This material is ready in 1 day","This material is ready in @count days"]}',control:{type:"text"}}},decorators:[esm.j]},Template=props=>react.createElement(reservation_list_entry,props),reservation_list_dev_ReservationListEntry=Template.bind({});reservation_list_dev_ReservationListEntry.args={};const ReservationListDigitalDetailsModal=Template.bind({});ReservationListDigitalDetailsModal.parameters={query:{modal:9788740047905}};const ReservationListPhysicalDetailsModal=Template.bind({});ReservationListPhysicalDetailsModal.parameters={query:{modal:"46985591"}};const{deleteReservation}=(0,general.GM)(),ReservationListDeletePhysicalModal=Template.bind({});ReservationListDeletePhysicalModal.parameters={query:{modal:`46985591&${deleteReservation}67804976`}};const ReservationListDeleteDigitalModal=Template.bind({});ReservationListDeleteDigitalModal.parameters={query:{modal:`9788740047905&${deleteReservation}9788740047905`}};const{pauseReservation}=(0,general.GM)(),ReservationListPauseModal=Template.bind({});ReservationListPauseModal.parameters={query:{modal:pauseReservation}}},"./src/apps/search-header/search-header.dev.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>search_header_dev});var react=__webpack_require__("./node_modules/react/index.js"),story_header_dev_inc=__webpack_require__("./src/components/search-bar/story-header.dev.inc.tsx"),serviceUrlArgs=__webpack_require__("./src/core/storybook/serviceUrlArgs.ts"),utils_text=__webpack_require__("./src/core/utils/text.tsx"),url=__webpack_require__("./src/core/utils/url.tsx"),downshift_esm=__webpack_require__("./node_modules/downshift/dist/downshift.esm.js"),graphql=__webpack_require__("./src/core/dbc-gateway/generated/graphql.tsx"),search_bar=__webpack_require__("./src/components/search-bar/search-bar.tsx"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js");function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const autosuggest_category=_ref=>{let{categoryData,getItemProps,highlightedIndex,textAndMaterialDataLength,autosuggestCategoryList}=_ref;const t=(0,utils_text.X)();return react.createElement("li",null,react.createElement("ul",null,categoryData.map(((item,incorrectIndex)=>{const index=incorrectIndex+textAndMaterialDataLength;return react.createElement("li",_extends({className:`autosuggest__text text-body-medium-regular px-24 ${(0,clsx_m.Z)({"autosuggest__text--highlight":highlightedIndex===index})}`,key:item},getItemProps({item,index})),`${item.term} ${t("inText")}`,react.createElement("div",{className:"boxed-text text-tags noselect ml-8"},autosuggestCategoryList[incorrectIndex].render))}))))};try{autosuggestcategory.displayName="autosuggestcategory",autosuggestcategory.__docgenInfo={description:"",displayName:"autosuggestcategory",props:{categoryData:{defaultValue:null,description:"",name:"categoryData",required:!0,type:{name:'{ __typename?: "Suggestion" | undefined; type: SuggestionType; term: string; work?: { __typename?: "Work" | undefined; workId: string; titles: { __typename?: "WorkTitles" | undefined; main: string[]; }; creators: ({ ...; } | { ...; })[]; manifestations: { ...; }; } | null | undefined; }[]'}},getItemProps:{defaultValue:null,description:"",name:"getItemProps",required:!0,type:{name:'(options: UseComboboxGetItemPropsOptions<{ __typename?: "Suggestion" | undefined; type: SuggestionType; term: string; work?: { __typename?: "Work" | undefined; workId: string; titles: { __typename?: "WorkTitles" | undefined; main: string[]; }; creators: ({ ...; } | { ...; })[]; manifestations: { ...; }; } | null | u...'}},highlightedIndex:{defaultValue:null,description:"",name:"highlightedIndex",required:!0,type:{name:"number"}},textAndMaterialDataLength:{defaultValue:null,description:"",name:"textAndMaterialDataLength",required:!0,type:{name:"number"}},autosuggestCategoryList:{defaultValue:null,description:"",name:"autosuggestCategoryList",required:!0,type:{name:"{ render: string; type: string; }[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/autosuggest-category/autosuggest-category.tsx#autosuggestcategory"]={docgenInfo:autosuggestcategory.__docgenInfo,name:"autosuggestcategory",path:"src/components/autosuggest-category/autosuggest-category.tsx#autosuggestcategory"})}catch(__react_docgen_typescript_loader_error){}var cover=__webpack_require__("./src/components/cover/cover.tsx"),general=__webpack_require__("./src/core/utils/helpers/general.ts");function autosuggest_material_extends(){return autosuggest_material_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},autosuggest_material_extends.apply(this,arguments)}const autosuggest_material=_ref=>{let{materialData,getItemProps,highlightedIndex,textDataLength}=_ref;const t=(0,utils_text.X)();return react.createElement("li",null,react.createElement("ul",{className:"autosuggest__materials"},materialData.map(((item,incorrectIndex)=>{var _item$work,_item$work2;const index=incorrectIndex+textDataLength,{work}=item;if(!work)return null;const{creators}=work,authors=(0,general.TG)(creators);return react.createElement("li",autosuggest_material_extends({className:"autosuggest__material "+(highlightedIndex===index?"autosuggest__material--highlight":""),key:null===(_item$work=item.work)||void 0===_item$work?void 0:_item$work.workId},getItemProps({item,index})),react.createElement("div",{className:"autosuggest__material__content"},react.createElement("div",{className:"autosuggest__cover"},item.work&&react.createElement(cover.Y,{animate:!0,size:"xsmall",id:item.work.manifestations.first.pid})),react.createElement("div",{className:"autosuggest__info"},react.createElement("div",{className:"text-body-medium-medium autosuggest__title"},null===(_item$work2=item.work)||void 0===_item$work2?void 0:_item$work2.titles.main[0]),react.createElement("div",{className:"text-body-small-regular autosuggest__author"},(0,general.b7)(authors,t)))))}))))};try{autosuggestmaterial.displayName="autosuggestmaterial",autosuggestmaterial.__docgenInfo={description:"",displayName:"autosuggestmaterial",props:{materialData:{defaultValue:null,description:"",name:"materialData",required:!0,type:{name:'[] | { __typename?: "Suggestion" | undefined; type: SuggestionType; term: string; work?: { __typename?: "Work" | undefined; workId: string; titles: { __typename?: "WorkTitles" | undefined; main: string[]; }; creators: ({ ...; } | { ...; })[]; manifestations: { ...; }; } | null | undefined; }[]'}},getItemProps:{defaultValue:null,description:"",name:"getItemProps",required:!0,type:{name:'(options: UseComboboxGetItemPropsOptions<{ __typename?: "Suggestion" | undefined; type: SuggestionType; term: string; work?: { __typename?: "Work" | undefined; workId: string; titles: { __typename?: "WorkTitles" | undefined; main: string[]; }; creators: ({ ...; } | { ...; })[]; manifestations: { ...; }; } | null | u...'}},highlightedIndex:{defaultValue:null,description:"",name:"highlightedIndex",required:!0,type:{name:"number"}},textDataLength:{defaultValue:null,description:"",name:"textDataLength",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/autosuggest-material/autosuggest-material.tsx#autosuggestmaterial"]={docgenInfo:autosuggestmaterial.__docgenInfo,name:"autosuggestmaterial",path:"src/components/autosuggest-material/autosuggest-material.tsx#autosuggestmaterial"})}catch(__react_docgen_typescript_loader_error){}function autosuggest_text_item_extends(){return autosuggest_text_item_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},autosuggest_text_item_extends.apply(this,arguments)}const autosuggest_text_item=_ref=>{var _item$work;let{classes,item,index,generateItemId,getItemProps}=_ref;const t=(0,utils_text.X)();return react.createElement(react.Fragment,null,react.createElement("li",autosuggest_text_item_extends({className:classes.textSuggestion,key:generateItemId(item)},getItemProps({item,index})),item.type===graphql.sW.Creator?`${item.term} (${t("stringSuggestionAuthorText")})`:null,item.type===graphql.sW.Subject?`${item.term} (${t("stringSuggestionTopicText")})`:null,item.type===graphql.sW.Composit?`${null===(_item$work=item.work)||void 0===_item$work?void 0:_item$work.titles.main} (${t("stringSuggestionWorkText")})`:null,item.type===graphql.sW.Title?`${item.term} (${t("stringSuggestionWorkText")})`:null))};try{autosuggesttextitem.displayName="autosuggesttextitem",autosuggesttextitem.__docgenInfo={description:"",displayName:"autosuggesttextitem",props:{classes:{defaultValue:null,description:"",name:"classes",required:!0,type:{name:"{ textSuggestion: string; }"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:'{ __typename?: "Suggestion" | undefined; type: SuggestionType; term: string; work?: { __typename?: "Work" | undefined; workId: string; titles: { __typename?: "WorkTitles" | undefined; main: string[]; }; creators: ({ ...; } | { ...; })[]; manifestations: { ...; }; } | null | undefined; }'}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},generateItemId:{defaultValue:null,description:"",name:"generateItemId",required:!0,type:{name:'(objectItem: { __typename?: "Suggestion" | undefined; type: SuggestionType; term: string; work?: { __typename?: "Work" | undefined; workId: string; titles: { __typename?: "WorkTitles" | undefined; main: string[]; }; creators: ({ ...; } | { ...; })[]; manifestations: { ...; }; } | null | undefined; }) => string'}},getItemProps:{defaultValue:null,description:"",name:"getItemProps",required:!0,type:{name:'(options: UseComboboxGetItemPropsOptions<{ __typename?: "Suggestion" | undefined; type: SuggestionType; term: string; work?: { __typename?: "Work" | undefined; workId: string; titles: { __typename?: "WorkTitles" | undefined; main: string[]; }; creators: ({ ...; } | { ...; })[]; manifestations: { ...; }; } | null | u...'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/autosuggest-text/autosuggest-text-item.tsx#autosuggesttextitem"]={docgenInfo:autosuggesttextitem.__docgenInfo,name:"autosuggesttextitem",path:"src/components/autosuggest-text/autosuggest-text-item.tsx#autosuggesttextitem"})}catch(__react_docgen_typescript_loader_error){}function itemToString(objectItem){var _objectItem$work;return objectItem.type===graphql.sW.Composit?(null===(_objectItem$work=objectItem.work)||void 0===_objectItem$work?void 0:_objectItem$work.titles.main[0])||"incomplete data":objectItem.term}function generateItemId(objectItem){return`${objectItem.__typename}-${itemToString(objectItem)}-${Math.random().toString(36)}`.replace(/\s+/g,"-")}const AutosuggestText=_ref=>{let{textData,highlightedIndex,getItemProps}=_ref;return react.createElement("li",null,react.createElement("ul",null,textData.map(((item,index)=>{const classes={textSuggestion:`autosuggest__text text-body-medium-regular px-24 ${(0,clsx_m.Z)({"autosuggest__text--highlight":highlightedIndex===index})}`};return react.createElement(autosuggest_text_item,{classes,item,index,generateItemId,getItemProps})}))))};try{itemToString.displayName="itemToString",itemToString.__docgenInfo={description:"",displayName:"itemToString",props:{__typename:{defaultValue:null,description:"",name:"__typename",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"Suggestion"'}]}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"COMPOSIT"'},{value:'"CREATOR"'},{value:'"SUBJECT"'},{value:'"TITLE"'}]}},term:{defaultValue:null,description:"",name:"term",required:!0,type:{name:"string"}},work:{defaultValue:null,description:"",name:"work",required:!1,type:{name:'{ __typename?: "Work" | undefined; workId: string; titles: { __typename?: "WorkTitles" | undefined; main: string[]; }; creators: ({ __typename?: "Corporation" | undefined; display: string; } | { ...; })[]; manifestations: { ...; }; } | null | undefined'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/autosuggest-text/autosuggest-text.tsx#itemToString"]={docgenInfo:itemToString.__docgenInfo,name:"itemToString",path:"src/components/autosuggest-text/autosuggest-text.tsx#itemToString"})}catch(__react_docgen_typescript_loader_error){}try{generateItemId.displayName="generateItemId",generateItemId.__docgenInfo={description:"",displayName:"generateItemId",props:{__typename:{defaultValue:null,description:"",name:"__typename",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"Suggestion"'}]}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"COMPOSIT"'},{value:'"CREATOR"'},{value:'"SUBJECT"'},{value:'"TITLE"'}]}},term:{defaultValue:null,description:"",name:"term",required:!0,type:{name:"string"}},work:{defaultValue:null,description:"",name:"work",required:!1,type:{name:'{ __typename?: "Work" | undefined; workId: string; titles: { __typename?: "WorkTitles" | undefined; main: string[]; }; creators: ({ __typename?: "Corporation" | undefined; display: string; } | { ...; })[]; manifestations: { ...; }; } | null | undefined'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/autosuggest-text/autosuggest-text.tsx#generateItemId"]={docgenInfo:generateItemId.__docgenInfo,name:"generateItemId",path:"src/components/autosuggest-text/autosuggest-text.tsx#generateItemId"})}catch(__react_docgen_typescript_loader_error){}try{AutosuggestText.displayName="AutosuggestText",AutosuggestText.__docgenInfo={description:"",displayName:"AutosuggestText",props:{textData:{defaultValue:null,description:"",name:"textData",required:!0,type:{name:'{ __typename?: "Suggestion" | undefined; type: SuggestionType; term: string; work?: { __typename?: "Work" | undefined; workId: string; titles: { __typename?: "WorkTitles" | undefined; main: string[]; }; creators: ({ ...; } | { ...; })[]; manifestations: { ...; }; } | null | undefined; }[]'}},highlightedIndex:{defaultValue:null,description:"",name:"highlightedIndex",required:!0,type:{name:"number"}},getItemProps:{defaultValue:null,description:"",name:"getItemProps",required:!0,type:{name:'(options: UseComboboxGetItemPropsOptions<{ __typename?: "Suggestion" | undefined; type: SuggestionType; term: string; work?: { __typename?: "Work" | undefined; workId: string; titles: { __typename?: "WorkTitles" | undefined; main: string[]; }; creators: ({ ...; } | { ...; })[]; manifestations: { ...; }; } | null | u...'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/autosuggest-text/autosuggest-text.tsx#AutosuggestText"]={docgenInfo:AutosuggestText.__docgenInfo,name:"AutosuggestText",path:"src/components/autosuggest-text/autosuggest-text.tsx#AutosuggestText"})}catch(__react_docgen_typescript_loader_error){}try{autosuggesttext.displayName="autosuggesttext",autosuggesttext.__docgenInfo={description:"",displayName:"autosuggesttext",props:{textData:{defaultValue:null,description:"",name:"textData",required:!0,type:{name:'{ __typename?: "Suggestion" | undefined; type: SuggestionType; term: string; work?: { __typename?: "Work" | undefined; workId: string; titles: { __typename?: "WorkTitles" | undefined; main: string[]; }; creators: ({ ...; } | { ...; })[]; manifestations: { ...; }; } | null | undefined; }[]'}},highlightedIndex:{defaultValue:null,description:"",name:"highlightedIndex",required:!0,type:{name:"number"}},getItemProps:{defaultValue:null,description:"",name:"getItemProps",required:!0,type:{name:'(options: UseComboboxGetItemPropsOptions<{ __typename?: "Suggestion" | undefined; type: SuggestionType; term: string; work?: { __typename?: "Work" | undefined; workId: string; titles: { __typename?: "WorkTitles" | undefined; main: string[]; }; creators: ({ ...; } | { ...; })[]; manifestations: { ...; }; } | null | u...'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/autosuggest-text/autosuggest-text.tsx#autosuggesttext"]={docgenInfo:autosuggesttext.__docgenInfo,name:"autosuggesttext",path:"src/components/autosuggest-text/autosuggest-text.tsx#autosuggesttext"})}catch(__react_docgen_typescript_loader_error){}function autosuggest_extends(){return autosuggest_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},autosuggest_extends.apply(this,arguments)}const Autosuggest=_ref=>{let{textData,materialData,getMenuProps,highlightedIndex,getItemProps,isOpen,categoryData,autosuggestCategoryList,isLoading}=_ref;const t=(0,utils_text.X)();return isLoading&&!textData?react.createElement("ul",{className:"autosuggest pb-16"},react.createElement("li",{className:"ml-24"},t("LoadingText"))):react.createElement(react.Fragment,null,react.createElement("ul",autosuggest_extends({className:"autosuggest pb-16"},getMenuProps(),{style:isOpen?{}:{display:"none"}}),react.createElement(AutosuggestText,{textData,highlightedIndex,getItemProps}),textData.length>0&&materialData.length>0&&react.createElement("li",{className:"autosuggest__divider"}),materialData.length>0&&react.createElement(autosuggest_material,{materialData,getItemProps,highlightedIndex,textDataLength:textData.length}),categoryData&&categoryData.length>0&&react.createElement(react.Fragment,null,react.createElement("li",{className:"autosuggest__divider"}),react.createElement(autosuggest_category,{categoryData,getItemProps,highlightedIndex,textAndMaterialDataLength:textData.length+materialData.length,autosuggestCategoryList}))))};try{Autosuggest.displayName="Autosuggest",Autosuggest.__docgenInfo={description:"",displayName:"Autosuggest",props:{textData:{defaultValue:null,description:"",name:"textData",required:!0,type:{name:'{ __typename?: "Suggestion" | undefined; type: SuggestionType; term: string; work?: { __typename?: "Work" | undefined; workId: string; titles: { __typename?: "WorkTitles" | undefined; main: string[]; }; creators: ({ ...; } | { ...; })[]; manifestations: { ...; }; } | null | undefined; }[]'}},materialData:{defaultValue:null,description:"",name:"materialData",required:!0,type:{name:'{ __typename?: "Suggestion" | undefined; type: SuggestionType; term: string; work?: { __typename?: "Work" | undefined; workId: string; titles: { __typename?: "WorkTitles" | undefined; main: string[]; }; creators: ({ ...; } | { ...; })[]; manifestations: { ...; }; } | null | undefined; }[]'}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},getMenuProps:{defaultValue:null,description:"",name:"getMenuProps",required:!0,type:{name:"(options?: UseComboboxGetMenuPropsOptions | undefined, otherOptions?: GetPropsCommonOptions | undefined) => any"}},highlightedIndex:{defaultValue:null,description:"",name:"highlightedIndex",required:!0,type:{name:"number"}},getItemProps:{defaultValue:null,description:"",name:"getItemProps",required:!0,type:{name:'(options: UseComboboxGetItemPropsOptions<{ __typename?: "Suggestion" | undefined; type: SuggestionType; term: string; work?: { __typename?: "Work" | undefined; workId: string; titles: { __typename?: "WorkTitles" | undefined; main: string[]; }; creators: ({ ...; } | { ...; })[]; manifestations: { ...; }; } | null | u...'}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},categoryData:{defaultValue:null,description:"",name:"categoryData",required:!1,type:{name:'{ __typename?: "Suggestion" | undefined; type: SuggestionType; term: string; work?: { __typename?: "Work" | undefined; workId: string; titles: { __typename?: "WorkTitles" | undefined; main: string[]; }; creators: ({ ...; } | { ...; })[]; manifestations: { ...; }; } | null | undefined; }[] | undefined'}},autosuggestCategoryList:{defaultValue:null,description:"",name:"autosuggestCategoryList",required:!0,type:{name:"{ render: string; type: string; }[]"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/autosuggest/autosuggest.tsx#Autosuggest"]={docgenInfo:Autosuggest.__docgenInfo,name:"Autosuggest",path:"src/components/autosuggest/autosuggest.tsx#Autosuggest"})}catch(__react_docgen_typescript_loader_error){}var MaterialType,helpers_url=__webpack_require__("./src/core/utils/helpers/url.ts");!function(MaterialType){MaterialType.book="book",MaterialType.ebook="ebook",MaterialType.movie="movie",MaterialType.audioBook="audioBook",MaterialType.music="music",MaterialType.game="game",MaterialType.animatedSeries="animatedSeries",MaterialType.newspaperArticle="newspaperArticle",MaterialType.earticle="earticle",MaterialType.boardGame="boardGame",MaterialType.cdRom="cdRom"}(MaterialType||(MaterialType={}));const material_type=MaterialType;function findNonWorkSuggestion(originalData){return originalData.find((item=>item.type!==graphql.sW.Title&&item.type!==graphql.sW.Composit))}var useStatistics=__webpack_require__("./src/core/statistics/useStatistics.ts"),statistics=__webpack_require__("./src/core/statistics/statistics.ts");function search_header_extends(){return search_header_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},search_header_extends.apply(this,arguments)}const search_header=()=>{const[q,setQ]=(0,react.useState)(""),[qWithoutQuery,setQWithoutQuery]=(0,react.useState)(q),[suggestItems,setSuggestItems]=(0,react.useState)([]),[currentlySelectedItem,setCurrentlySelectedItem]=(0,react.useState)(""),[isAutosuggestOpen,setIsAutosuggestOpen]=(0,react.useState)(!1),{data,isLoading,status}=(0,graphql.UC)({q},{enabled:q.length>=3}),{searchUrl,materialUrl}=(0,url.J_)(),t=(0,utils_text.X)(),autosuggestCategoryList=[{render:t("autosuggestBookCategoryText"),type:material_type.book},{render:t("autosuggestEbookCategoryText"),type:material_type.ebook},{render:t("autosuggestFilmCategoryText"),type:material_type.movie},{render:t("autosuggestAudioBookCategoryText"),type:material_type.audioBook},{render:t("autosuggestMusicCategoryText"),type:material_type.music},{render:t("autosuggestGameCategoryText"),type:material_type.game},{render:t("autosuggestAnimatedSeriesCategoryText"),type:material_type.animatedSeries}],[highlightedIndexAfterClick,setHighlightedIndexAfterClick]=(0,react.useState)(null),{track}=(0,useStatistics.T)();(0,react.useEffect)((()=>{if(data){const arrayOfResults=data.suggest.result;setSuggestItems(arrayOfResults)}}),[data]);const originalData=suggestItems,textData=[],materialData=[],categoryData=[];let nonWorkSuggestion,orderedData=[];function determineSuggestionTerm(suggestion){var _suggestion$work;return suggestion.type===graphql.sW.Composit?(null===(_suggestion$work=suggestion.work)||void 0===_suggestion$work?void 0:_suggestion$work.titles.main[0])||"incomplete data":suggestion.term}originalData&&(nonWorkSuggestion=findNonWorkSuggestion(originalData),originalData.forEach((item=>{(item.type===graphql.sW.Composit||item.type===graphql.sW.Title)&&materialData.length<3?materialData.push(item):textData.push(item)})),orderedData=textData.concat(materialData),nonWorkSuggestion&&(autosuggestCategoryList.forEach((()=>{categoryData.push(nonWorkSuggestion)})),orderedData=orderedData.concat(categoryData))),(0,react.useEffect)((()=>{setIsAutosuggestOpen(!!data)}),[data]);const{getMenuProps,highlightedIndex,getItemProps,getInputProps,getLabelProps,getComboboxProps}=(0,downshift_esm.Kb)({isOpen:isAutosuggestOpen,items:orderedData,inputValue:qWithoutQuery,defaultIsOpen:!1,onInputValueChange:function handleInputValueChange(changes){var _selectedItem$work;const{inputValue,selectedItem,type}=changes;if(void 0!==inputValue){if(type===downshift_esm.Kb.stateChangeTypes.InputChange)return setQ(inputValue),void setQWithoutQuery(inputValue);if(setQWithoutQuery(inputValue),selectedItem&&(type===downshift_esm.Kb.stateChangeTypes.ItemClick||type===downshift_esm.Kb.stateChangeTypes.InputKeyDownEnter))if(null!==(_selectedItem$work=selectedItem.work)&&void 0!==_selectedItem$work&&_selectedItem$work.workId&&function isDisplayedAsWorkSuggestion(selectedItem,currentMaterialData){const dataWithWorkId=currentMaterialData.filter((item=>{var _item$work;return(null===(_item$work=item.work)||void 0===_item$work?void 0:_item$work.workId)===(null==selectedItem?void 0:selectedItem.workId)}));return Boolean(dataWithWorkId.length)}(selectedItem.work,materialData))track("click",{id:statistics.h.autosuggestClick.id,name:statistics.h.autosuggestClick.name,trackedData:selectedItem.work.titles.main.join(", ")}).then((()=>{var _selectedItem$work2;(0,helpers_url.gB)((0,helpers_url.WO)(materialUrl,null===(_selectedItem$work2=selectedItem.work)||void 0===_selectedItem$work2?void 0:_selectedItem$work2.workId))}));else if(nonWorkSuggestion&&changes.selectedItem&&nonWorkSuggestion.term===changes.selectedItem.term&&highlightedIndexAfterClick&&highlightedIndexAfterClick>=textData.concat(materialData).length){const highlightedCategoryIndex=highlightedIndexAfterClick-(textData.length+materialData.length),selectedItemString=determineSuggestionTerm(changes.selectedItem);track("click",{id:statistics.h.autosuggestClick.id,name:statistics.h.autosuggestClick.name,trackedData:selectedItemString}).then((()=>{(0,helpers_url.gB)((0,helpers_url.U2)({searchUrl,selectedItemString,filter:{materialType:autosuggestCategoryList[highlightedCategoryIndex].type}}))}))}else track("click",{id:statistics.h.autosuggestClick.id,name:statistics.h.autosuggestClick.name,trackedData:determineSuggestionTerm(selectedItem)}).then((()=>{(0,helpers_url.gB)((0,helpers_url.Nt)(searchUrl,determineSuggestionTerm(selectedItem)))}))}},onSelectedItemChange:function handleSelectedItemChange(changes){const{selectedItem}=changes;selectedItem&&setCurrentlySelectedItem(determineSuggestionTerm(selectedItem))},selectedItem:currentlySelectedItem,onHighlightedIndexChange:function handleHighlightedIndexChange(changes){const{type}=changes;let{highlightedIndex}=changes;if(type===downshift_esm.Kb.stateChangeTypes.ItemMouseMove||type===downshift_esm.Kb.stateChangeTypes.MenuMouseLeave)return;if(type!==downshift_esm.Kb.stateChangeTypes.ItemClick&&type!==downshift_esm.Kb.stateChangeTypes.InputKeyDownEnter&&void 0!==highlightedIndex&&highlightedIndex>-1&&setHighlightedIndexAfterClick(highlightedIndex),highlightedIndex&&highlightedIndex<0)return void setIsAutosuggestOpen(!1);highlightedIndex||(highlightedIndex=0);const currentItemValue=determineSuggestionTerm(orderedData[highlightedIndex]);type!==downshift_esm.Kb.stateChangeTypes.InputKeyDownArrowDown&&type!==downshift_esm.Kb.stateChangeTypes.InputKeyDownArrowUp?setQ(currentItemValue):setQWithoutQuery(currentItemValue)}}),isDataPresent=originalData&&originalData.length>0&&"success"===status;return react.createElement("form",{className:"header__menu-second",action:String((0,helpers_url.Nt)(searchUrl,qWithoutQuery))},react.createElement("div",search_header_extends({className:"header__menu-search"},getComboboxProps()),react.createElement(search_bar.Z,{getInputProps,getLabelProps}),isDataPresent&&isAutosuggestOpen&&react.createElement(Autosuggest,{textData,materialData,categoryData,status,getMenuProps,highlightedIndex,getItemProps,isOpen:isAutosuggestOpen,autosuggestCategoryList,isLoading})))};try{searchheader.displayName="searchheader",searchheader.__docgenInfo={description:"",displayName:"searchheader",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/search-header/search-header.tsx#searchheader"]={docgenInfo:searchheader.__docgenInfo,name:"searchheader",path:"src/apps/search-header/search-header.tsx#searchheader"})}catch(__react_docgen_typescript_loader_error){}const search_header_entry=(0,url.XL)((0,utils_text.z)((()=>react.createElement(search_header,null))));try{searchheaderentry.displayName="searchheaderentry",searchheaderentry.__docgenInfo={description:"",displayName:"searchheaderentry",props:{searchHeaderIconAltText:{defaultValue:null,description:"",name:"searchHeaderIconAltText",required:!1,type:{name:"string | undefined"}},searchHeaderInputLabel:{defaultValue:null,description:"",name:"searchHeaderInputLabel",required:!1,type:{name:"string | undefined"}},inputPlaceholderText:{defaultValue:null,description:"",name:"inputPlaceholderText",required:!1,type:{name:"string | undefined"}},stringSuggestionAuthorText:{defaultValue:null,description:"",name:"stringSuggestionAuthorText",required:!1,type:{name:"string | undefined"}},stringSuggestionWorkText:{defaultValue:null,description:"",name:"stringSuggestionWorkText",required:!1,type:{name:"string | undefined"}},stringSuggestionTopicText:{defaultValue:null,description:"",name:"stringSuggestionTopicText",required:!1,type:{name:"string | undefined"}},etAlText:{defaultValue:null,description:"",name:"etAlText",required:!1,type:{name:"string | undefined"}},autosuggestBookCategoryText:{defaultValue:null,description:"",name:"autosuggestBookCategoryText",required:!0,type:{name:"string"}},autosuggestEbookCategoryText:{defaultValue:null,description:"",name:"autosuggestEbookCategoryText",required:!0,type:{name:"string"}},autosuggestFilmCategoryText:{defaultValue:null,description:"",name:"autosuggestFilmCategoryText",required:!0,type:{name:"string"}},autosuggestAudioBookCategoryText:{defaultValue:null,description:"",name:"autosuggestAudioBookCategoryText",required:!0,type:{name:"string"}},autosuggestMusicCategoryText:{defaultValue:null,description:"",name:"autosuggestMusicCategoryText",required:!0,type:{name:"string"}},autosuggestGameCategoryText:{defaultValue:null,description:"",name:"autosuggestGameCategoryText",required:!0,type:{name:"string"}},autosuggestAnimatedSeriesCategoryText:{defaultValue:null,description:"",name:"autosuggestAnimatedSeriesCategoryText",required:!0,type:{name:"string"}},inText:{defaultValue:null,description:"",name:"inText",required:!0,type:{name:"string"}},loadingText:{defaultValue:null,description:"",name:"loadingText",required:!0,type:{name:"string"}},searchUrl:{defaultValue:null,description:"",name:"searchUrl",required:!1,type:{name:"string | undefined"}},materialUrl:{defaultValue:null,description:"",name:"materialUrl",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/search-header/search-header.entry.tsx#searchheaderentry"]={docgenInfo:searchheaderentry.__docgenInfo,name:"searchheaderentry",path:"src/apps/search-header/search-header.entry.tsx#searchheaderentry"})}catch(__react_docgen_typescript_loader_error){}const search_header_dev={title:"Apps / Search Header",component:search_header_entry,argTypes:{...serviceUrlArgs.Z,searchHeaderIconAltText:{name:"Alt text for search button image",defaultValue:"search icon",control:{type:"text"}},searchHeaderInputLabel:{name:"Search header input label",defaultValue:"The main search field.",control:{type:"text"}},inputPlaceholderText:{name:"Input field placeholder",defaultValue:"Search among the library's materials",control:{type:"text"}},stringSuggestionAuthorText:{name:"String suggestion spec - author",defaultValue:"author",control:{type:"text"}},stringSuggestionWorkText:{name:"String suggestion spec - work",defaultValue:"material",control:{type:"text"}},stringSuggestionTopicText:{name:"String suggestion spec - topic",defaultValue:"topic",control:{type:"text"}},searchUrl:{name:"Base search url",defaultValue:"/search",control:{type:"text"}},materialUrl:{name:"Base material page url",defaultValue:"/work/:workid",control:{type:"text"}},autosuggestBookCategoryText:{name:"Book category",defaultValue:"Books",control:{type:"text"}},autosuggestEbookCategoryText:{name:"Ebook category",defaultValue:"E-books",control:{type:"text"}},autosuggestFilmCategoryText:{name:"Movie category",defaultValue:"Movies",control:{type:"text"}},autosuggestAudioBookCategoryText:{name:"Audio book category",defaultValue:"Audio books",control:{type:"text"}},autosuggestMusicCategoryText:{name:"Music category",defaultValue:"Music",control:{type:"text"}},autosuggestGameCategoryText:{name:"Game category",defaultValue:"Games",control:{type:"text"}},autosuggestAnimatedSeriesCategoryText:{name:"Animated series category",defaultValue:"Animated series",control:{type:"text"}},inText:{name:"x 'in' y",defaultValue:"in",control:{type:"text"}},LoadingText:{name:"Loading",defaultValue:"Loading",control:{type:"text"}}}},Default=args=>react.createElement(story_header_dev_inc.Z,null,react.createElement(search_header_entry,args))},"./src/apps/search-result/search-result.dev.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SearchResult:()=>search_result_dev_SearchResult,default:()=>search_result_dev});var react=__webpack_require__("./node_modules/react/index.js"),serviceUrlArgs=__webpack_require__("./src/core/storybook/serviceUrlArgs.ts"),guarded_app=__webpack_require__("./src/components/guarded-app.tsx"),utils_config=__webpack_require__("./src/core/utils/config.tsx"),general=__webpack_require__("./src/core/utils/helpers/general.ts"),utils_text=__webpack_require__("./src/core/utils/text.tsx"),url=__webpack_require__("./src/core/utils/url.tsx"),useDeepCompareEffect=__webpack_require__("./node_modules/react-use/esm/useDeepCompareEffect.js");const SearchResultHeader=_ref=>{let{hitcount,q}=_ref;const t=(0,utils_text.X)();return react.createElement("h1",{className:"text-header-h2 mb-16 search-result-title"},`${t("showingResultsForText")} “${q}” (${hitcount})`)},search_result_header_SearchResultHeader=SearchResultHeader;try{SearchResultHeader.displayName="SearchResultHeader",SearchResultHeader.__docgenInfo={description:"",displayName:"SearchResultHeader",props:{hitcount:{defaultValue:null,description:"",name:"hitcount",required:!0,type:{name:"string"}},q:{defaultValue:null,description:"",name:"q",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/search-bar/search-result-header/SearchResultHeader.tsx#SearchResultHeader"]={docgenInfo:SearchResultHeader.__docgenInfo,name:"SearchResultHeader",path:"src/components/search-bar/search-result-header/SearchResultHeader.tsx#SearchResultHeader"})}catch(__react_docgen_typescript_loader_error){}var use_pager=__webpack_require__("./src/components/result-pager/use-pager.tsx"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),arrow=__webpack_require__("./src/components/atoms/icons/arrow/arrow.tsx"),availability_labels=__webpack_require__("./src/components/availability-label/availability-labels.tsx"),button_favourite=__webpack_require__("./src/components/button-favourite/button-favourite.tsx"),atoms_link=__webpack_require__("./src/components/atoms/link.tsx"),cover=__webpack_require__("./src/components/cover/cover.tsx");const search_result_list_item_cover=_ref=>{let{id,description,url,tint}=_ref;return react.createElement(cover.Y,{animate:!0,id,size:"small",description:String(description),url,tint})};try{searchresultlistitemcover.displayName="searchresultlistitemcover",searchresultlistitemcover.__docgenInfo={description:"",displayName:"searchresultlistitemcover",props:{url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"URL | undefined"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string | undefined"}},tint:{defaultValue:null,description:"",name:"tint",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"20"'},{value:'"40"'},{value:'"80"'},{value:'"100"'},{value:'"120"'}]}},idType:{defaultValue:null,description:"",name:"idType",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"faust"'},{value:'"isbn"'},{value:'"issn"'},{value:'"pid"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/search-result-list/search-result-list-item/search-result-list-item-cover.tsx#searchresultlistitemcover"]={docgenInfo:searchresultlistitemcover.__docgenInfo,name:"searchresultlistitemcover",path:"src/components/search-result-list/search-result-list-item/search-result-list-item-cover.tsx#searchresultlistitemcover"})}catch(__react_docgen_typescript_loader_error){}var HorizontalTermLine=__webpack_require__("./src/components/horizontal-term-line/HorizontalTermLine.tsx"),helpers_url=__webpack_require__("./src/core/utils/helpers/url.ts"),guardedRequests_slice=__webpack_require__("./src/core/guardedRequests.slice.ts"),useStatistics=__webpack_require__("./src/core/statistics/useStatistics.ts"),statistics=__webpack_require__("./src/core/statistics/statistics.ts");const search_result_list_item=_ref=>{var _numberInSeries$numbe;let{item:{titles:{full:fullTitle},series,creators,manifestations:{all:manifestations},workId,workYear},coverTint,resultNumber}=_ref;const t=(0,utils_text.X)(),{materialUrl,searchUrl}=(0,url.J_)(),dispatch=(0,es.I0)(),author=(0,general.b7)((0,general.TG)((0,general.Bi)(creators,["Person"])),t)||t("creatorsAreMissingText"),manifestationPid=(0,general.qQ)(manifestations),firstInSeries=null==series?void 0:series[0],{title:seriesTitle,numberInSeries}=firstInSeries||{},materialFullUrl=(0,helpers_url.WO)(materialUrl,workId),{track}=(0,useStatistics.T)(),handleClick=(0,react.useCallback)((()=>{track("click",{id:statistics.h.searchResultNumberClick.id,name:statistics.h.searchResultNumberClick.name,trackedData:resultNumber.toString()}).then((()=>{(0,helpers_url.gB)(materialFullUrl)}))}),[materialFullUrl]);return react.createElement("article",{className:"search-result-item arrow arrow__hover--right-small",onClick:handleClick,onKeyUp:e=>"Enter"===e.key&&handleClick},react.createElement("div",{className:"search-result-item__cover"},react.createElement(search_result_list_item_cover,{id:manifestationPid,description:String(fullTitle),url:materialFullUrl,tint:coverTint})),react.createElement("div",{className:"search-result-item__text"},react.createElement("div",{className:"search-result-item__meta"},react.createElement(button_favourite.Z,{id:workId,addToListRequest:id=>{dispatch((0,guardedRequests_slice.Bs)({type:"addFavorite",args:{id},app:"search-result"}))}}),numberInSeries&&seriesTitle&&react.createElement(HorizontalTermLine.Z,{title:`${t("numberDescriptionText")} ${null===(_numberInSeries$numbe=numberInSeries.number)||void 0===_numberInSeries$numbe?void 0:_numberInSeries$numbe[0]}`,subTitle:t("inSeriesText"),linkList:[{url:(0,helpers_url.Nt)(searchUrl,seriesTitle),term:seriesTitle}]})),react.createElement("h2",{className:"search-result-item__title text-header-h4"},react.createElement(atoms_link.r,{href:materialFullUrl},fullTitle)),author&&react.createElement("p",{className:"text-small-caption"},`${t("byAuthorText")} ${author}`,workYear&&` (${workYear})`)),react.createElement("div",{className:"search-result-item__availability"},react.createElement(availability_labels.k,{cursorPointer:!0,workId,manifestations})),react.createElement(arrow.Z,null))};try{searchresultlistitem.displayName="searchresultlistitem",searchresultlistitem.__docgenInfo={description:"",displayName:"searchresultlistitem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Work"}},coverTint:{defaultValue:null,description:"",name:"coverTint",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"20"'},{value:'"40"'},{value:'"80"'},{value:'"100"'},{value:'"120"'}]}},resultNumber:{defaultValue:null,description:"",name:"resultNumber",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/search-result-list/search-result-list-item/search-result-list-item.tsx#searchresultlistitem"]={docgenInfo:searchresultlistitem.__docgenInfo,name:"searchresultlistitem",path:"src/components/search-result-list/search-result-list-item/search-result-list-item.tsx#searchresultlistitem"})}catch(__react_docgen_typescript_loader_error){}const SearchResultList=_ref=>{let{resultItems}=_ref;return Boolean(resultItems.length)?react.createElement("ul",{className:"search-result-page__list my-32","data-cy":"search-result-list"},resultItems.map(((item,i)=>react.createElement("li",{key:item.workId},react.createElement(search_result_list_item,{item,coverTint:(0,general.yz)(i),resultNumber:i+1}))))):null},search_result_list_SearchResultList=SearchResultList;try{SearchResultList.displayName="SearchResultList",SearchResultList.__docgenInfo={description:"",displayName:"SearchResultList",props:{resultItems:{defaultValue:null,description:"",name:"resultItems",required:!0,type:{name:"Work[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/search-result-list/SearchResultList.tsx#SearchResultList"]={docgenInfo:SearchResultList.__docgenInfo,name:"SearchResultList",path:"src/components/search-result-list/SearchResultList.tsx#SearchResultList"})}catch(__react_docgen_typescript_loader_error){}var graphql=__webpack_require__("./src/core/dbc-gateway/generated/graphql.tsx"),mapValues=__webpack_require__("./node_modules/lodash/mapValues.js"),mapValues_default=__webpack_require__.n(mapValues);const allFacetFields=[graphql.sl.MainLanguages,graphql.sl.AccessTypes,graphql.sl.ChildrenOrAdults,graphql.sl.Creators,graphql.sl.FictionNonfiction,graphql.sl.FictionalCharacter,graphql.sl.GenreAndForm,graphql.sl.MaterialTypes,graphql.sl.Subjects,graphql.sl.WorkTypes],getPlaceHolderFacets=facets=>facets.map((facet=>({name:facet,values:[{key:"",term:""}]}))),formatFacetTerms=filters=>Object.keys(filters).reduce(((acc,key)=>({...acc,[key]:Object.keys(filters[key])})),{});function useGetFacets(query,filters){const[facets,setFacets]=(0,react.useState)(void 0),{data,isLoading}=(0,graphql.NF)({q:{all:query},facets:allFacetFields,facetLimit:10,filters:formatFacetTerms(filters)},{keepPreviousData:!0,placeholderData:{search:{facets:getPlaceHolderFacets(allFacetFields)}}});return(0,react.useEffect)((()=>{data&&setFacets(data.search.facets)}),[data,filters,query]),{facets,isLoading}}function getAllFilterPathsAsString(filterObject){const mappedFilterValues=mapValues_default()(filterObject,(filter=>Object.keys(filter))),filterNames=Object.keys(mappedFilterValues);let allFilterPathsAsString="";return filterNames.forEach((filterName=>{mappedFilterValues[filterName].forEach((filterValue=>{""!==allFilterPathsAsString&&(allFilterPathsAsString=allFilterPathsAsString.concat(";")),allFilterPathsAsString=allFilterPathsAsString.concat(`facet.${filterName}:${filterValue}`)}))})),allFilterPathsAsString}const search_result_useFilterHandler=()=>{const[filters,setFilters]=(0,react.useState)({});return{filters,filterHandler:_ref=>{let{filterItem:{facet,term},action}=_ref;if("add"===action&&(Object.keys(filters).includes(facet)?setFilters({...filters,[facet]:{...filters[facet],[term.term]:term}}):setFilters({...filters,[facet]:{[term.term]:term}})),"remove"===action){const copy={...filters};Object.keys(filters).includes(facet)&&(1===Object.keys(filters[facet]).length?(delete copy[facet],setFilters(copy)):(delete copy[facet][term.term],setFilters(copy)))}}}};var reservation_helper=__webpack_require__("./src/components/reservation/helper.ts"),dpl_cms=__webpack_require__("./src/core/dpl-cms/dpl-cms.ts"),link_no_style=__webpack_require__("./src/components/atoms/link-no-style.tsx");const CampaignBody=_ref=>{let{campaignData}=_ref;return react.createElement("section",{className:"campaign mt-35","data-cy":"campaign-body"},campaignData.image&&campaignData.image.url&&react.createElement("img",{"data-cy":"campaign-image",className:"campaign__image "+(campaignData.text?"":"campaign__image--full-width"),src:campaignData.image.url,alt:campaignData.image.alt}),campaignData.text&&react.createElement("h4",{className:"campaign__title campaign__title--ellipsis"},campaignData.text))},campaign_CampaignBody=CampaignBody;try{CampaignBody.displayName="CampaignBody",CampaignBody.__docgenInfo={description:"",displayName:"CampaignBody",props:{campaignData:{defaultValue:null,description:"",name:"campaignData",required:!0,type:{name:"CampaignMatchPOST200Data"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/campaign/CampaignBody.tsx#CampaignBody"]={docgenInfo:CampaignBody.__docgenInfo,name:"CampaignBody",path:"src/components/campaign/CampaignBody.tsx#CampaignBody"})}catch(__react_docgen_typescript_loader_error){}const Campaign=_ref=>{let{campaignData}=_ref;const{track}=(0,useStatistics.T)();if(!campaignData.title)return null;const trackClick=()=>track("click",{id:statistics.h.campaignClick.id,name:statistics.h.campaignClick.name,trackedData:campaignData.title});return campaignData.url?react.createElement(link_no_style.n,{url:new URL(campaignData.url),trackClick,className:"cursor-pointer"},react.createElement(campaign_CampaignBody,{campaignData})):react.createElement(campaign_CampaignBody,{campaignData})},campaign_Campaign=Campaign;try{Campaign.displayName="Campaign",Campaign.__docgenInfo={description:"",displayName:"Campaign",props:{campaignData:{defaultValue:null,description:"",name:"campaignData",required:!0,type:{name:"CampaignMatchPOST200Data"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/campaign/Campaign.tsx#Campaign"]={docgenInfo:Campaign.__docgenInfo,name:"Campaign",path:"src/components/campaign/Campaign.tsx#Campaign"})}catch(__react_docgen_typescript_loader_error){}var modal=__webpack_require__("./src/core/utils/modal.tsx"),upperFirst=__webpack_require__("./node_modules/lodash/upperFirst.js"),upperFirst_default=__webpack_require__.n(upperFirst),isEmpty=__webpack_require__("./node_modules/lodash/isEmpty.js"),isEmpty_default=__webpack_require__.n(isEmpty),Button=__webpack_require__("./src/components/Buttons/Button.tsx"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),icon_cross=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-cross.svg"),icon_cross_default=__webpack_require__.n(icon_cross);const ButtonTag=_ref=>{let{onClick,selected,children,size,removable=!1,dataCy}=_ref;const className=(0,clsx_m.Z)("tag",selected&&"tag--fill",size&&`tag--${size}`,"cursor-pointer");return react.createElement("button",{type:"button","aria-pressed":selected??void 0,className,onClick,"data-cy":dataCy},children,removable&&react.createElement("img",{className:"tag-icon",src:icon_cross_default(),alt:"close icon"}))},Buttons_ButtonTag=ButtonTag;try{ButtonTag.displayName="ButtonTag",ButtonTag.__docgenInfo={description:"",displayName:"ButtonTag",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"MouseEventHandler<HTMLButtonElement>"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"small"'},{value:'"large"'}]}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean | undefined"}},removable:{defaultValue:{value:"false"},description:"",name:"removable",required:!1,type:{name:"boolean | undefined"}},dataCy:{defaultValue:null,description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Buttons/ButtonTag.tsx#ButtonTag"]={docgenInfo:ButtonTag.__docgenInfo,name:"ButtonTag",path:"src/components/Buttons/ButtonTag.tsx#ButtonTag"})}catch(__react_docgen_typescript_loader_error){}var DisclosureControllable=__webpack_require__("./src/components/Disclosures/DisclosureControllable.tsx");const FacetBrowserModalBody=_ref=>{let{facets,filterHandler,filters}=_ref;const t=(0,utils_text.X)(),{close}=(0,modal.f)(),{track}=(0,useStatistics.T)();return(0,useDeepCompareEffect.Z)((()=>{isEmpty_default()(filters)||track("click",{id:statistics.h.searchFacets.id,name:statistics.h.searchFacets.name,trackedData:getAllFilterPathsAsString(filters)})}),[filters]),react.createElement("section",{className:"facet-browser"},react.createElement("header",{className:"facet-browser__header"},react.createElement("h3",{className:"text-header-h3"},t("filterListText")),!1),facets.map((facet=>{const{name,values}=facet;if(0===values.length)return null;const hasSelectedTerms=Boolean(filters[name]);return react.createElement(DisclosureControllable.Z,{key:name,cyData:`facet-browser-${name}`,id:name,fullWidth:!0,removeHeadlinePadding:!0,title:t(`facet${upperFirst_default()(name)}Text`),showContent:hasSelectedTerms},react.createElement("div",{className:"facet-browser__facet-group"},values.map((termItem=>{const{term}=termItem,selected=Boolean(filters[name]&&filters[name][term]);return termItem.term?react.createElement(Buttons_ButtonTag,{key:term,onClick:e=>{e.stopPropagation(),filterHandler({filterItem:{facet:name,term:termItem},action:selected?"remove":"add"})},selected,dataCy:`facet-browser-${name}-${term}`},termItem.term," ",(null==termItem?void 0:termItem.score)&&`(${termItem.score})`):null}))),!1)})),react.createElement(Button.z,{classNames:"facet-browser__results-btn",label:t("showResultsText"),buttonType:"none",disabled:!1,collapsible:!1,size:"medium",variant:"filled",onClick:()=>{close("facet-browser-modal")}}))},facet_browser_FacetBrowserModalBody=FacetBrowserModalBody;try{FacetBrowserModalBody.displayName="FacetBrowserModalBody",FacetBrowserModalBody.__docgenInfo={description:"",displayName:"FacetBrowserModalBody",props:{facets:{defaultValue:null,description:"",name:"facets",required:!0,type:{name:"FacetResult[]"}},filterHandler:{defaultValue:null,description:"",name:"filterHandler",required:!0,type:{name:"TermOnClickHandler"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"{ [key: string]: { [key: string]: FilterItemTerm; }; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/facet-browser/FacetBrowserModalBody.tsx#FacetBrowserModalBody"]={docgenInfo:FacetBrowserModalBody.__docgenInfo,name:"FacetBrowserModalBody",path:"src/components/facet-browser/FacetBrowserModalBody.tsx#FacetBrowserModalBody"})}catch(__react_docgen_typescript_loader_error){}const FacetBrowserModal=_ref=>{let{q,filterHandler,filters}=_ref;const t=(0,utils_text.X)(),{facets,isLoading}=useGetFacets(q,filters);return react.createElement(modal.Z,{classNames:"modal-right modal--no-padding",modalId:"facet-browser-modal",screenReaderModalDescriptionText:t("facetBrowserModalScreenReaderModalDescriptionText"),closeModalAriaLabelText:t("facetBrowserModalCloseModalAriaLabelText")},isLoading||!facets?null:react.createElement(facet_browser_FacetBrowserModalBody,{facets,filterHandler,filters}))},facet_browser_FacetBrowserModal=FacetBrowserModal;try{FacetBrowserModal.displayName="FacetBrowserModal",FacetBrowserModal.__docgenInfo={description:"",displayName:"FacetBrowserModal",props:{q:{defaultValue:null,description:"",name:"q",required:!0,type:{name:"string"}},filterHandler:{defaultValue:null,description:"",name:"filterHandler",required:!0,type:{name:"TermOnClickHandler"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"{ [key: string]: { [key: string]: FilterItemTerm; }; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/facet-browser/FacetBrowserModal.tsx#FacetBrowserModal"]={docgenInfo:FacetBrowserModal.__docgenInfo,name:"FacetBrowserModal",path:"src/components/facet-browser/FacetBrowserModal.tsx#FacetBrowserModal"})}catch(__react_docgen_typescript_loader_error){}const FacetLineSelected=_ref=>{let{filters,filterHandler}=_ref;return react.createElement("ul",{className:"facet-line-selected-terms"},Object.entries(filters).map((_ref2=>{let[facet,value]=_ref2;return react.createElement(react.Fragment,null,Object.entries(value).map((_ref3=>{let[label,term]=_ref3;return react.createElement("li",{className:"facet-line-selected-terms__item"},react.createElement(Buttons_ButtonTag,{selected:!0,removable:!0,onClick:()=>filterHandler({filterItem:{facet,term},action:"remove"}),dataCy:`facet-line-selected-term-${label}`},label))})))})))},facet_line_FacetLineSelected=FacetLineSelected;try{FacetLineSelected.displayName="FacetLineSelected",FacetLineSelected.__docgenInfo={description:"",displayName:"FacetLineSelected",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"{ [key: string]: { [key: string]: FilterItemTerm; }; }"}},filterHandler:{defaultValue:null,description:"",name:"filterHandler",required:!0,type:{name:"TermOnClickHandler"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/facet-line/FacetLineSelected.tsx#FacetLineSelected"]={docgenInfo:FacetLineSelected.__docgenInfo,name:"FacetLineSelected",path:"src/components/facet-line/FacetLineSelected.tsx#FacetLineSelected"})}catch(__react_docgen_typescript_loader_error){}var Dropdown=__webpack_require__("./src/components/Dropdown/Dropdown.tsx");const FacetLineFilters=_ref=>{let{facets=[],filters,filterHandler}=_ref;const t=(0,utils_text.X)(),{open}=(0,modal.f)(),formatValuesToDropdown=(facet,values)=>values.map((value=>({label:value.term,value:value.key})));return react.createElement("ul",{className:"facet-line mt-48"},facets.map((_ref2=>{let{name,values}=_ref2;return values.length>1?react.createElement("li",{className:"facet-line__item"},react.createElement(Dropdown.Z,{cyData:`facet-line-${name}-dropdown`,placeholder:{label:t(`facet${upperFirst_default()(name)}Text`),value:""},options:formatValuesToDropdown(0,values),ariaLabel:name,arrowIcon:"chevron",classNames:"dropdown--grey-borders",innerClassNames:{select:"dropdown__select--inline",arrowWrapper:"dropdown__arrows--inline "},handleOnChange:e=>((e,facet)=>{var _facets$find;const term=null===(_facets$find=facets.find((item=>item.name===facet)))||void 0===_facets$find?void 0:_facets$find.values.find((item=>item.key===e.target.value));filterHandler({filterItem:{facet,term},action:"add"})})(e,name)})):react.createElement(react.Fragment,null,values.map((termObj=>{var _filters$name;const{term,score}=termObj;return null!=filters&&null!==(_filters$name=filters[name])&&void 0!==_filters$name&&_filters$name[term]?null:react.createElement("li",{className:"facet-line__item"},react.createElement(Buttons_ButtonTag,{key:term,onClick:()=>{filterHandler({filterItem:{facet:name,term:termObj},action:"add"})},selected:!1,dataCy:`facet-line-term-${term}`},`${term} (${score})`))})))})),react.createElement("li",{className:"facet-line__item"},react.createElement(Buttons_ButtonTag,{onClick:()=>open("facet-browser-modal"),dataCy:"facet-line-open-browser"},t("addMoreFiltersText"))))},facet_line_FacetLineFilters=FacetLineFilters;try{FacetLineFilters.displayName="FacetLineFilters",FacetLineFilters.__docgenInfo={description:"",displayName:"FacetLineFilters",props:{facets:{defaultValue:{value:"[]"},description:"",name:"facets",required:!1,type:{name:"FacetResult[]"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"{ [key: string]: { [key: string]: FilterItemTerm; }; }"}},filterHandler:{defaultValue:null,description:"",name:"filterHandler",required:!0,type:{name:"TermOnClickHandler"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/facet-line/FacetLineFilters.tsx#FacetLineFilters"]={docgenInfo:FacetLineFilters.__docgenInfo,name:"FacetLineFilters",path:"src/components/facet-line/FacetLineFilters.tsx#FacetLineFilters"})}catch(__react_docgen_typescript_loader_error){}const FacetLine=_ref=>{let{q,filters,filterHandler}=_ref;const{data}=(0,graphql.Zu)({q:{all:q},facetsLimit:6,valuesLimit:5});return react.createElement(react.Fragment,null,data&&react.createElement(facet_line_FacetLineFilters,{filters,facets:data.search.intelligentFacets,filterHandler}),react.createElement(facet_line_FacetLineSelected,{filters,filterHandler}))},facet_line_FacetLine=FacetLine;try{FacetLine.displayName="FacetLine",FacetLine.__docgenInfo={description:"",displayName:"FacetLine",props:{q:{defaultValue:null,description:"",name:"q",required:!0,type:{name:"string"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"{ [key: string]: { [key: string]: FilterItemTerm; }; }"}},filterHandler:{defaultValue:null,description:"",name:"filterHandler",required:!0,type:{name:"TermOnClickHandler"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/facet-line/FacetLine.tsx#FacetLine"]={docgenInfo:FacetLine.__docgenInfo,name:"FacetLine",path:"src/components/facet-line/FacetLine.tsx#FacetLine"})}catch(__react_docgen_typescript_loader_error){}const search_result=_ref=>{let{q,pageSize}=_ref;const config=(0,utils_config.ZR)(),branches=config("branchesConfig",{transformer:"jsonParse"}),blacklistBranches=config("blacklistedSearchBranchesConfig",{transformer:"stringToArray"}),whitelistBranches=(0,reservation_helper.rM)(branches,blacklistBranches),cleanBranches=(0,reservation_helper.S5)(whitelistBranches),[resultItems,setResultItems]=(0,react.useState)([]),[hitcount,setHitCount]=(0,react.useState)(0),[canWeTrackHitcount,setCanWeTrackHitcount]=(0,react.useState)(!1),{PagerComponent,page}=(0,use_pager.Z)(hitcount,pageSize),{filters,filterHandler}=search_result_useFilterHandler(),{mutate}=(0,dpl_cms.by)(),[campaignData,setCampaignData]=(0,react.useState)(null),filteringHandler=filterInfo=>{filterHandler(filterInfo)},{facets:campaignFacets}=useGetFacets(q,filters);(0,useDeepCompareEffect.Z)((()=>{setResultItems([])}),[q,pageSize,filters]);const{track}=(0,useStatistics.T)();(0,react.useEffect)((()=>{track("click",{id:statistics.h.searchQuery.id,name:statistics.h.searchQuery.name,trackedData:q})}),[q]),(0,useDeepCompareEffect.Z)((()=>{campaignFacets&&mutate({data:campaignFacets},{onSuccess:campaign=>{setCampaignData(campaign)},onError:()=>{}})}),[campaignFacets,mutate]);const{data}=(0,graphql.OX)({q:{all:q},offset:page*pageSize,limit:pageSize,filters:(facets=filters,branchIdList=cleanBranches,{...formatFacetTerms(facets),...cleanBranches?{branchId:branchIdList}:{}})});var facets,branchIdList;return(0,react.useEffect)((()=>{if(!data)return;const{search:{works:resultWorks,hitcount:resultCount}}=data;setHitCount(resultCount),setResultItems(page>0?prev=>[...prev,...resultWorks]:resultWorks)}),[data,page]),(0,react.useEffect)((()=>{canWeTrackHitcount?track("click",{id:statistics.h.searchResultCount.id,name:statistics.h.searchResultCount.name,trackedData:hitcount?hitcount.toString():"0"}):setCanWeTrackHitcount(!0)}),[hitcount]),(0,react.useEffect)((()=>{var _campaignData$data;null!=campaignData&&null!==(_campaignData$data=campaignData.data)&&void 0!==_campaignData$data&&_campaignData$data.title&&track("click",{id:statistics.h.campaignShown.id,name:statistics.h.campaignShown.name,trackedData:campaignData.data.title})}),[campaignData]),react.createElement("div",{className:"search-result-page"},react.createElement(search_result_header_SearchResultHeader,{hitcount:String(hitcount),q}),react.createElement(facet_line_FacetLine,{q,filters,filterHandler:filteringHandler}),campaignData&&campaignData.data&&react.createElement(campaign_Campaign,{campaignData:campaignData.data}),react.createElement(search_result_list_SearchResultList,{resultItems}),PagerComponent,react.createElement(facet_browser_FacetBrowserModal,{q,filters,filterHandler:filteringHandler}))};try{searchresult.displayName="searchresult",searchresult.__docgenInfo={description:"",displayName:"searchresult",props:{q:{defaultValue:null,description:"",name:"q",required:!0,type:{name:"string"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/search-result/search-result.tsx#searchresult"]={docgenInfo:searchresult.__docgenInfo,name:"searchresult",path:"src/apps/search-result/search-result.tsx#searchresult"})}catch(__react_docgen_typescript_loader_error){}const search_result_entry=(0,utils_config.Rh)((0,url.XL)((0,utils_text.z)((_ref=>{let{q,pageSizeDesktop,pageSizeMobile}=_ref;const{q:searchQuery}=(0,general.Qf)({q}),pageSize=(0,general.Rh)({desktop:pageSizeDesktop,mobile:pageSizeMobile});return react.createElement("div",null,searchQuery&&react.createElement(guarded_app.Z,{app:"search-result"},react.createElement(search_result,{q:searchQuery,pageSize})))}))));try{searchresultentry.displayName="searchresultentry",searchresultentry.__docgenInfo={description:"",displayName:"searchresultentry",props:{q:{defaultValue:null,description:"",name:"q",required:!1,type:{name:"string | undefined"}},pageSizeDesktop:{defaultValue:null,description:"",name:"pageSizeDesktop",required:!1,type:{name:"number | undefined"}},pageSizeMobile:{defaultValue:null,description:"",name:"pageSizeMobile",required:!1,type:{name:"number | undefined"}},searchUrl:{defaultValue:null,description:"",name:"searchUrl",required:!0,type:{name:"string"}},materialUrl:{defaultValue:null,description:"",name:"materialUrl",required:!0,type:{name:"string"}},authUrl:{defaultValue:null,description:"",name:"authUrl",required:!0,type:{name:"string"}},fbiBaseUrl:{defaultValue:null,description:"",name:"fbiBaseUrl",required:!0,type:{name:"string"}},blacklistedAvailabilityBranchesConfig:{defaultValue:null,description:"",name:"blacklistedAvailabilityBranchesConfig",required:!0,type:{name:"string"}},blacklistedPickupBranchesConfig:{defaultValue:null,description:"",name:"blacklistedPickupBranchesConfig",required:!1,type:{name:"string | undefined"}},blacklistedSearchBranchesConfig:{defaultValue:null,description:"",name:"blacklistedSearchBranchesConfig",required:!1,type:{name:"string | undefined"}},branchesConfig:{defaultValue:null,description:"",name:"branchesConfig",required:!0,type:{name:"string"}},addMoreFiltersText:{defaultValue:null,description:"",name:"addMoreFiltersText",required:!0,type:{name:"string"}},byAuthorText:{defaultValue:null,description:"",name:"byAuthorText",required:!0,type:{name:"string"}},clearAllText:{defaultValue:null,description:"",name:"clearAllText",required:!0,type:{name:"string"}},etAlText:{defaultValue:null,description:"",name:"etAlText",required:!0,type:{name:"string"}},facetAccessTypesText:{defaultValue:null,description:"",name:"facetAccessTypesText",required:!0,type:{name:"string"}},facetBrowserModalCloseModalAriaLabelText:{defaultValue:null,description:"",name:"facetBrowserModalCloseModalAriaLabelText",required:!0,type:{name:"string"}},facetBrowserModalScreenReaderModalDescriptionText:{defaultValue:null,description:"",name:"facetBrowserModalScreenReaderModalDescriptionText",required:!0,type:{name:"string"}},facetChildrenOrAdultsText:{defaultValue:null,description:"",name:"facetChildrenOrAdultsText",required:!0,type:{name:"string"}},facetCreatorsText:{defaultValue:null,description:"",name:"facetCreatorsText",required:!0,type:{name:"string"}},facetFictionNonfictionText:{defaultValue:null,description:"",name:"facetFictionNonfictionText",required:!0,type:{name:"string"}},facetGenreAndFormText:{defaultValue:null,description:"",name:"facetGenreAndFormText",required:!0,type:{name:"string"}},facetMainLanguagesText:{defaultValue:null,description:"",name:"facetMainLanguagesText",required:!0,type:{name:"string"}},facetMaterialTypesText:{defaultValue:null,description:"",name:"facetMaterialTypesText",required:!0,type:{name:"string"}},facetSubjectsText:{defaultValue:null,description:"",name:"facetSubjectsText",required:!0,type:{name:"string"}},facetWorkTypesText:{defaultValue:null,description:"",name:"facetWorkTypesText",required:!0,type:{name:"string"}},filterListText:{defaultValue:null,description:"",name:"filterListText",required:!0,type:{name:"string"}},inSeriesText:{defaultValue:null,description:"",name:"inSeriesText",required:!0,type:{name:"string"}},numberDescriptionText:{defaultValue:null,description:"",name:"numberDescriptionText",required:!0,type:{name:"string"}},resultPagerStatusText:{defaultValue:null,description:"",name:"resultPagerStatusText",required:!0,type:{name:"string"}},showingResultsForText:{defaultValue:null,description:"",name:"showingResultsForText",required:!0,type:{name:"string"}},showMoreText:{defaultValue:null,description:"",name:"showMoreText",required:!0,type:{name:"string"}},showResultsText:{defaultValue:null,description:"",name:"showResultsText",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/search-result/search-result.entry.tsx#searchresultentry"]={docgenInfo:searchresultentry.__docgenInfo,name:"searchresultentry",path:"src/apps/search-result/search-result.entry.tsx#searchresultentry"})}catch(__react_docgen_typescript_loader_error){}const search_result_dev={title:"Apps / Search Result",component:search_result_entry,argTypes:{...serviceUrlArgs.Z,q:{name:"Search string",defaultValue:"harry",control:{type:"text"}},pageSizeDesktop:{name:"Number of search result items on desktop",defaultValue:50,control:{type:"number"}},pageSizeMobile:{name:"Number of search result items on mobile",defaultValue:20,control:{type:"number"}},authUrl:{name:"Url where user can authenticate",defaultValue:"",control:{type:"text"}},searchUrl:{name:"Path to the search result page",defaultValue:"/search",control:{type:"text"}},materialUrl:{name:"Path to the material page",defaultValue:"/work/:workid",control:{type:"text"}},etAlText:{name:"Et al. Text",defaultValue:"et al.",control:{type:"text"}},byAuthorText:{name:"By (author) Text",defaultValue:"By",control:{type:"text"}},showMoreText:{name:"Show more Text",defaultValue:"show more",control:{type:"text"}},resultPagerStatusText:{name:"Result pager status text",defaultValue:"Showing @itemsShown out of @hitcount results",control:{type:"text"}},numberDescriptionText:{name:"Number description",defaultValue:"Nr.",control:{type:"text"}},inSeriesText:{name:"In series",defaultValue:"in series",control:{type:"text"}},showingResultsForText:{name:"Showing results for",defaultValue:"Showing results for",control:{type:"text"}},blacklistedPickupBranchesConfig:{name:"Blacklisted Pickup branches",defaultValue:"FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",control:{type:"text"}},blacklistedAvailabilityBranchesConfig:{name:"Blacklisted Availability branches",defaultValue:"FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",control:{type:"text"}},blacklistedSearchBranchesConfig:{name:"Blacklisted branches",defaultValue:"FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",control:{type:"text"}},branchesConfig:{name:"Branches",defaultValue:'[\n   {\n      "branchId":"DK-775120",\n      "title":"Højbjerg"\n   },\n   {\n      "branchId":"DK-775122",\n      "title":"Beder-Malling"\n   },\n   {\n      "branchId":"DK-775144",\n      "title":"Gellerup"\n   },\n   {\n      "branchId":"DK-775167",\n      "title":"Lystrup"\n   },\n   {\n      "branchId":"DK-775146",\n      "title":"Harlev"\n   },\n   {\n      "branchId":"DK-775168",\n      "title":"Skødstrup"\n   },\n   {\n      "branchId":"FBS-751010",\n      "title":"Arresten"\n   },\n   {\n      "branchId":"DK-775147",\n      "title":"Hasle"\n   },\n   {\n      "branchId":"FBS-751032",\n      "title":"Må ikke benyttes"\n   },\n   {\n      "branchId":"FBS-751031",\n      "title":"Fjernlager 1"\n   },\n   {\n      "branchId":"DK-775126",\n      "title":"Solbjerg"\n   },\n   {\n      "branchId":"FBS-751030",\n      "title":"ITK"\n   },\n   {\n      "branchId":"DK-775149",\n      "title":"Sabro"\n   },\n   {\n      "branchId":"DK-775127",\n      "title":"Tranbjerg"\n   },\n   {\n      "branchId":"DK-775160",\n      "title":"Risskov"\n   },\n   {\n      "branchId":"DK-775162",\n      "title":"Hjortshøj"\n   },\n   {\n      "branchId":"DK-775140",\n      "title":"Åby"\n   },\n   {\n      "branchId":"FBS-751009",\n      "title":"Fjernlager 2"\n   },\n   {\n      "branchId":"FBS-751029",\n      "title":"Stadsarkivet"\n   },\n   {\n      "branchId":"FBS-751027",\n      "title":"Intern"\n   },\n   {\n      "branchId":"FBS-751026",\n      "title":"Fælles undervejs"\n   },\n   {\n      "branchId":"FBS-751025",\n      "title":"Fællessekretariatet"\n   },\n   {\n      "branchId":"DK-775133",\n      "title":"Bavnehøj"\n   },\n   {\n      "branchId":"FBS-751024",\n      "title":"Fjernlånte materialer"\n   },\n   {\n      "branchId":"DK-775100",\n      "title":"Hovedbiblioteket"\n   },\n   {\n      "branchId":"DK-775170",\n      "title":"Trige"\n   },\n   {\n      "branchId":"DK-775150",\n      "title":"Tilst"\n   },\n   {\n      "branchId":"DK-775130",\n      "title":"Viby"\n   },\n   {\n      "branchId":"DK-775164",\n      "title":"Egå"\n   }\n]',control:{type:"text"}},facetBrowserModalScreenReaderModalDescriptionText:{name:"facet browser screen reader modal description text",defaultValue:"Modal for facet browser",control:{type:"text"}},facetBrowserModalCloseModalAriaLabelText:{name:"facet browser close modal aria label text",defaultValue:"Close facet browser modal",control:{type:"text"}},facetAccessTypesText:{name:"Access types text",defaultValue:"Access types",control:{type:"text"}},facetChildrenOrAdultsText:{name:"Children or adults text",defaultValue:"Children or adults",control:{type:"text"}},facetCreatorsText:{name:"Creators text",defaultValue:"Creators",control:{type:"text"}},facetFictionNonfictionText:{name:"Fiction or nonfiction text",defaultValue:"Fiction or nonfiction",control:{type:"text"}},facetGenreAndFormText:{name:"Genre and form text",defaultValue:"Genre and form",control:{type:"text"}},facetMainLanguagesText:{name:"Main languages text",defaultValue:"Main languages",control:{type:"text"}},facetMaterialTypesText:{name:"Material types text",defaultValue:"Material types",control:{type:"text"}},facetSubjectsText:{name:"Subjects text",defaultValue:"Subjects",control:{type:"text"}},facetWorkTypesText:{name:"Work types text",defaultValue:"Work types",control:{type:"text"}},showResultsText:{name:"Show results text",defaultValue:"Show results",control:{type:"text"}},filterListText:{name:"Filter list text",defaultValue:"Filter list",control:{type:"text"}},clearAllText:{name:"Clear all text",defaultValue:"Clear all",control:{type:"text"}},addMoreFiltersText:{name:"Add more filters text",defaultValue:"+ more filters",control:{type:"text"}}}},search_result_dev_SearchResult=args=>react.createElement(search_result_entry,args)},"./src/components/Buttons/Button.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{z:()=>Button});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_arrow_ui_icon_arrow_ui_small_right_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/arrow-ui/icon-arrow-ui-small-right.svg"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_arrow_ui_icon_arrow_ui_small_right_svg__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_danskernesdigitalebibliotek_dpl_design_system_build_icons_arrow_ui_icon_arrow_ui_small_right_svg__WEBPACK_IMPORTED_MODULE_1__),_danskernesdigitalebibliotek_dpl_design_system_build_icons_buttons_icon_btn_external_link_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/buttons/icon-btn-external-link.svg"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_buttons_icon_btn_external_link_svg__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_danskernesdigitalebibliotek_dpl_design_system_build_icons_buttons_icon_btn_external_link_svg__WEBPACK_IMPORTED_MODULE_2__),clsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js");const Button=_ref=>{let{label,buttonType,disabled,collapsible,size,variant,onClick,iconClassNames,id,classNames,dataCy}=_ref;const iconClassName=`btn-icon ${(0,clsx__WEBPACK_IMPORTED_MODULE_3__.Z)({"btn-collapsible":collapsible},[iconClassNames])}`,Icon=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((()=>"outline"===variant?null:"default"===buttonType?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ml-16"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_danskernesdigitalebibliotek_dpl_design_system_build_icons_arrow_ui_icon_arrow_ui_small_right_svg__WEBPACK_IMPORTED_MODULE_1___default(),null)):"external-link"===buttonType?react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{className:iconClassName,src:_danskernesdigitalebibliotek_dpl_design_system_build_icons_buttons_icon_btn_external_link_svg__WEBPACK_IMPORTED_MODULE_2___default(),alt:""}):null),[buttonType,iconClassName,variant]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{"data-cy":dataCy||"button",type:"button",className:`btn-primary btn-${variant} btn-${size} ${disabled?"btn-outline":""} arrow__hover--right-small ${classNames??""}`,disabled,onClick,id},`${label}${"search"===buttonType?" (6)":""}`,react__WEBPACK_IMPORTED_MODULE_0__.createElement(Icon,null))};try{Button.displayName="Button",Button.__docgenInfo={description:"",displayName:"Button",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},buttonType:{defaultValue:null,description:"",name:"buttonType",required:!0,type:{name:"enum",value:[{value:'"none"'},{value:'"default"'},{value:'"external-link"'},{value:'"search"'}]}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}},collapsible:{defaultValue:null,description:"",name:"collapsible",required:!0,type:{name:"boolean"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"xsmall"'},{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'}]}},variant:{defaultValue:null,description:"",name:"variant",required:!0,type:{name:"enum",value:[{value:'"outline"'},{value:'"filled"'}]}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void) | undefined"}},iconClassNames:{defaultValue:null,description:"",name:"iconClassNames",required:!1,type:{name:"string | undefined"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string | undefined"}},classNames:{defaultValue:null,description:"",name:"classNames",required:!1,type:{name:"string | undefined"}},dataCy:{defaultValue:null,description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Buttons/Button.tsx#Button"]={docgenInfo:Button.__docgenInfo,name:"Button",path:"src/components/Buttons/Button.tsx#Button"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Disclosures/DisclosureControllable.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_ExpandMore_svg__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/ExpandMore.svg"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_ExpandMore_svg__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_ExpandMore_svg__WEBPACK_IMPORTED_MODULE_0__),clsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js");const DisclosureControllable=_ref=>{let{id,title,children,fullWidth,showContent=!1,removeHeadlinePadding,cyData,mainIconPath}=_ref;const[isOpen,setIsOpen]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(showContent),toggleOpen=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((()=>{setIsOpen(!isOpen)}),[isOpen]),disclosureId=`disclosure-${id}`;return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"disclosure text-body-large "+(fullWidth?"disclosure--full-width":"")},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:(0,clsx__WEBPACK_IMPORTED_MODULE_2__.Z)("disclosure__headline text-body-large",removeHeadlinePadding&&"disclosure__headline--no-padding"),"data-cy":cyData,onClick:toggleOpen,onKeyDown:toggleOpen,role:"button",tabIndex:0,"aria-controls":disclosureId,"aria-expanded":isOpen},mainIconPath&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"disclosure__icon bg-identity-tint-120"},react__WEBPACK_IMPORTED_MODULE_1__.createElement("img",{className:"invert",src:mainIconPath,alt:""})),react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{className:"disclosure__text"},title),react__WEBPACK_IMPORTED_MODULE_1__.createElement("img",{className:"disclosure__expand noselect",src:_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_ExpandMore_svg__WEBPACK_IMPORTED_MODULE_0___default(),alt:""})),isOpen&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{id:disclosureId},children))},__WEBPACK_DEFAULT_EXPORT__=DisclosureControllable;try{DisclosureControllable.displayName="DisclosureControllable",DisclosureControllable.__docgenInfo={description:"",displayName:"DisclosureControllable",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean | undefined"}},showContent:{defaultValue:{value:"false"},description:"",name:"showContent",required:!1,type:{name:"boolean | undefined"}},removeHeadlinePadding:{defaultValue:null,description:"",name:"removeHeadlinePadding",required:!1,type:{name:"boolean | undefined"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void) | undefined"}},cyData:{defaultValue:null,description:"",name:"cyData",required:!1,type:{name:"string | undefined"}},mainIconPath:{defaultValue:null,description:"",name:"mainIconPath",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Disclosures/DisclosureControllable.tsx#DisclosureControllable"]={docgenInfo:DisclosureControllable.__docgenInfo,name:"DisclosureControllable",path:"src/components/Disclosures/DisclosureControllable.tsx#DisclosureControllable"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Disclosures/disclosure.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>Disclosures_disclosure});var ExpandMore=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/ExpandMore.svg"),ExpandMore_default=__webpack_require__.n(ExpandMore),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),react=__webpack_require__("./node_modules/react/index.js"),utils_text=__webpack_require__("./src/core/utils/text.tsx");const Pagefold=_ref=>{let{text,state}=_ref;return react.createElement("div",{className:"pagefold-parent--xsmall availability-label--unselected text-label availability-label"},react.createElement("div",{className:`pagefold-triangle--xsmall pagefold-triangle--xsmall--${state}`}),react.createElement("p",{className:"text-label-normal ml-24 mr-8"},text))},pagefold_Pagefold=Pagefold;try{Pagefold.displayName="Pagefold",Pagefold.__docgenInfo={description:"",displayName:"Pagefold",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},state:{defaultValue:null,description:"",name:"state",required:!0,type:{name:"enum",value:[{value:'"success"'},{value:'"alert"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/pagefold/Pagefold.tsx#Pagefold"]={docgenInfo:Pagefold.__docgenInfo,name:"Pagefold",path:"src/components/pagefold/Pagefold.tsx#Pagefold"})}catch(__react_docgen_typescript_loader_error){}const Disclosures_disclosure=_ref=>{let{title,children,mainIconPath,isAvailable,fullWidth,open,removeHeadlinePadding,dataCy="disclosure"}=_ref;const t=(0,utils_text.X)();return react.createElement("details",{className:"disclosure text-body-large "+(fullWidth?"disclosure--full-width":""),open,"data-cy":dataCy},react.createElement("summary",{className:(0,clsx_m.Z)("disclosure__headline text-body-large",removeHeadlinePadding&&"disclosure__headline--no-padding")},mainIconPath&&react.createElement("div",{className:"disclosure__icon bg-identity-tint-120"},react.createElement("img",{className:"invert",src:mainIconPath,alt:""})),react.createElement("span",{"data-cy":"disclosure-title",className:"disclosure__text"+(void 0!==isAvailable?"--shorter":"")},title),void 0!==isAvailable&&react.createElement(pagefold_Pagefold,{text:t(isAvailable?"available":"unavailable"),state:isAvailable?"success":"alert"}),react.createElement("img",{className:"disclosure__expand noselect",src:ExpandMore_default(),alt:""})),children)};try{disclosure.displayName="disclosure",disclosure.__docgenInfo={description:"",displayName:"disclosure",props:{mainIconPath:{defaultValue:null,description:"",name:"mainIconPath",required:!1,type:{name:"string | undefined"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},disclosureIconExpandAltText:{defaultValue:null,description:"",name:"disclosureIconExpandAltText",required:!1,type:{name:"string | undefined"}},isAvailable:{defaultValue:null,description:"",name:"isAvailable",required:!1,type:{name:"boolean | undefined"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean | undefined"}},open:{defaultValue:null,description:"",name:"open",required:!1,type:{name:"boolean | undefined"}},removeHeadlinePadding:{defaultValue:null,description:"",name:"removeHeadlinePadding",required:!1,type:{name:"boolean | undefined"}},dataCy:{defaultValue:{value:"disclosure"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Disclosures/disclosure.tsx#disclosure"]={docgenInfo:disclosure.__docgenInfo,name:"disclosure",path:"src/components/Disclosures/disclosure.tsx#disclosure"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Dropdown/Dropdown.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>Dropdown_Dropdown});var clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),react=__webpack_require__("./node_modules/react/index.js"),icon_triangle=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-triangle.svg"),icon_triangle_default=__webpack_require__.n(icon_triangle),ExpandMore=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/ExpandMore.svg"),ExpandMore_default=__webpack_require__.n(ExpandMore);const DropdownIcon=_ref=>{let{arrowIcon}=_ref;return"triangles"===arrowIcon?react.createElement("span",null,react.createElement("img",{className:"dropdown__arrow",src:icon_triangle_default(),alt:""}),react.createElement("img",{className:"dropdown__arrow dropdown__arrow--bottom",src:icon_triangle_default(),alt:""})):"chevron"===arrowIcon?react.createElement("img",{className:"dropdown__arrow",src:ExpandMore_default(),alt:""}):null},Dropdown_DropdownIcon=DropdownIcon;try{DropdownIcon.displayName="DropdownIcon",DropdownIcon.__docgenInfo={description:"",displayName:"DropdownIcon",props:{arrowIcon:{defaultValue:null,description:"",name:"arrowIcon",required:!0,type:{name:"enum",value:[{value:'"triangles"'},{value:'"chevron"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Dropdown/DropdownIcon.tsx#DropdownIcon"]={docgenInfo:DropdownIcon.__docgenInfo,name:"DropdownIcon",path:"src/components/Dropdown/DropdownIcon.tsx#DropdownIcon"})}catch(__react_docgen_typescript_loader_error){}const Dropdown=_ref=>{let{arrowIcon,ariaLabel,options,classNames,innerClassNames,handleOnChange,placeholder,cyData,defaultValue}=_ref;const classes={root:(0,clsx_m.Z)("dropdown",classNames),select:(0,clsx_m.Z)("dropdown__select",null==innerClassNames?void 0:innerClassNames.select),option:(0,clsx_m.Z)("dropdown__option",null==innerClassNames?void 0:innerClassNames.option),arrowWrapper:(0,clsx_m.Z)("dropdown__arrows",null==innerClassNames?void 0:innerClassNames.arrowWrapper)},optionsList=placeholder?[placeholder,...options]:options;return react.createElement("div",{className:classes.root},react.createElement("select",{"data-cy":cyData,className:classes.select,"aria-label":ariaLabel,onChange:e=>{handleOnChange&&e.target.value&&handleOnChange(e)}},optionsList.map((_ref2=>{let{label,value,disabled}=_ref2;return react.createElement("option",{key:label,value,className:classes.option,disabled,selected:value===defaultValue},label)}))),react.createElement("div",{className:classes.arrowWrapper},react.createElement(Dropdown_DropdownIcon,{arrowIcon})))},Dropdown_Dropdown=Dropdown;try{Dropdown.displayName="Dropdown",Dropdown.__docgenInfo={description:"",displayName:"Dropdown",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"Option[]"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!0,type:{name:"string"}},arrowIcon:{defaultValue:null,description:"",name:"arrowIcon",required:!0,type:{name:"enum",value:[{value:'"triangles"'},{value:'"chevron"'}]}},classNames:{defaultValue:null,description:"",name:"classNames",required:!1,type:{name:"string | undefined"}},innerClassNames:{defaultValue:null,description:"",name:"innerClassNames",required:!1,type:{name:"{ select?: string | undefined; option?: string | undefined; arrowWrapper?: string | undefined; } | undefined"}},handleOnChange:{defaultValue:null,description:"",name:"handleOnChange",required:!1,type:{name:"((e: ChangeEvent<HTMLSelectElement>) => void) | undefined"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"Option | undefined"}},cyData:{defaultValue:null,description:"",name:"cyData",required:!1,type:{name:"string | undefined"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Dropdown/Dropdown.tsx#Dropdown"]={docgenInfo:Dropdown.__docgenInfo,name:"Dropdown",path:"src/components/Dropdown/Dropdown.tsx#Dropdown"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/alert/alert.dev.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Info:()=>Info,Success:()=>Success,Warning:()=>Warning,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_alert__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/alert/alert.jsx");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/Alert"},Template=args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_alert__WEBPACK_IMPORTED_MODULE_1__.Z,args),Info=Template.bind({}),Warning=Template.bind({});Warning.args={variant:"warning",message:"Noget gik galt"};const Success=Template.bind({});Success.args={variant:"success",message:"Det lykkedes"}},"./src/components/alert/alert.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),_reach_alert__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@reach/alert/dist/reach-alert.esm.js");function Alert(_ref){let{className,message,type,variant}=_ref;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_reach_alert__WEBPACK_IMPORTED_MODULE_1__.Z,{className:`dpl-alert dpl-alert--${variant} ${className}`,type},message)}Alert.propTypes={className:prop_types__WEBPACK_IMPORTED_MODULE_2___default().string,message:prop_types__WEBPACK_IMPORTED_MODULE_2___default().string,type:prop_types__WEBPACK_IMPORTED_MODULE_2___default().oneOf(["assertive","polite"]),variant:prop_types__WEBPACK_IMPORTED_MODULE_2___default().oneOf(["info","success","warning","blank"])},Alert.defaultProps={className:"",message:"Hov, der opstod en fejl!",type:"polite",variant:"info"};const __WEBPACK_DEFAULT_EXPORT__=Alert},"./src/components/atoms/icons/arrow/arrow.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=()=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"61",height:"9",viewBox:"0 0 61 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{className:"arrow__body",d:"M60 4.5H0",stroke:"black"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{className:"arrow__head",d:"M60.3537 4.85355C60.5489 4.65829 60.5489 4.34171 60.3537 4.14645L57.1717 0.96447C56.9764 0.769208 56.6598 0.769208 56.4646 0.96447C56.2693 1.15973 56.2693 1.47631 56.4646 1.67157L59.293 4.5L56.4646 7.32843C56.2693 7.52369 56.2693 7.84027 56.4646 8.03553C56.6598 8.2308 56.9764 8.2308 57.1717 8.03553L60.3537 4.85355ZM60.0001 4H57.0001V5H60.0001V4Z",fill:"black"}))},"./src/components/atoms/input/TextInput.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const TextInput=_ref=>{let{id,label,description,validation,type,onChange,value,className,pattern,inputmode}=_ref;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:`dpl-input ${className||""}`},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:id},label),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{"aria-describedby":description??(`description-${id}`||""),id,"data-cy":id,type,pattern,inputMode:inputmode,onChange:e=>{onChange(e.target.value)},value,"aria-labelledby":validation?`validation-${id}`:""}),description&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dpl-input__description",id:`description-${id}`},description),validation&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:`validation-${id}`,className:"dpl-input__validation"},validation))},__WEBPACK_DEFAULT_EXPORT__=TextInput;try{TextInput.displayName="TextInput",TextInput.__docgenInfo={description:"",displayName:"TextInput",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"number"'},{value:'"text"'},{value:'"password"'},{value:'"email"'}]}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string | undefined"}},validation:{defaultValue:null,description:"",name:"validation",required:!1,type:{name:"string | undefined"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},pattern:{defaultValue:null,description:"",name:"pattern",required:!1,type:{name:"string | undefined"}},inputmode:{defaultValue:null,description:"",name:"inputmode",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"numeric"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/atoms/input/TextInput.tsx#TextInput"]={docgenInfo:TextInput.__docgenInfo,name:"TextInput",path:"src/components/atoms/input/TextInput.tsx#TextInput"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/atoms/link-no-style.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{n:()=>LinkNoStyle});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_link__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/atoms/link.tsx");const LinkNoStyle=_ref=>{let{url,children,isNewTab=!1,className,trackClick,dataCy="link-no-style"}=_ref;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_link__WEBPACK_IMPORTED_MODULE_1__.r,{href:url,isNewTab,className:`hide-linkstyle ${className||""}`,trackClick,dataCy},children)};try{LinkNoStyle.displayName="LinkNoStyle",LinkNoStyle.__docgenInfo={description:"",displayName:"LinkNoStyle",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"URL"}},isNewTab:{defaultValue:{value:"false"},description:"",name:"isNewTab",required:!1,type:{name:"boolean | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},trackClick:{defaultValue:null,description:"",name:"trackClick",required:!1,type:{name:"(() => Promise<unknown>) | undefined"}},dataCy:{defaultValue:{value:"link-no-style"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/atoms/link-no-style.tsx#LinkNoStyle"]={docgenInfo:LinkNoStyle.__docgenInfo,name:"LinkNoStyle",path:"src/components/atoms/link-no-style.tsx#LinkNoStyle"})}catch(__react_docgen_typescript_loader_error){}try{linknostyle.displayName="linknostyle",linknostyle.__docgenInfo={description:"",displayName:"linknostyle",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"URL"}},isNewTab:{defaultValue:{value:"false"},description:"",name:"isNewTab",required:!1,type:{name:"boolean | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},trackClick:{defaultValue:null,description:"",name:"trackClick",required:!1,type:{name:"(() => Promise<unknown>) | undefined"}},dataCy:{defaultValue:{value:"link-no-style"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/atoms/link-no-style.tsx#linknostyle"]={docgenInfo:linknostyle.__docgenInfo,name:"linknostyle",path:"src/components/atoms/link-no-style.tsx#linknostyle"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/atoms/link.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>Link});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/helpers/url.ts");const Link=_ref=>{let{href,children,isNewTab,className,id,trackClick,dataCy}=_ref;const redirect=redirectToNewTab=>{redirectToNewTab&&window.open(href.href,"_blank"),(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_1__.gB)(href)};return trackClick?react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{id,"data-cy":dataCy||id,role:"button",tabIndex:0,onClick:()=>{trackClick().then((()=>{redirect(isNewTab||!1)}))},onKeyUp:e=>{"Enter"===e.key&&trackClick().then((()=>{redirect(isNewTab||!1)}))},className},children):react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{id,"data-cy":id,href:String(href),target:isNewTab?"_blank":"",rel:"noreferrer",className},children)};try{Link.displayName="Link",Link.__docgenInfo={description:"",displayName:"Link",props:{href:{defaultValue:null,description:"",name:"href",required:!0,type:{name:"URL"}},isNewTab:{defaultValue:null,description:"",name:"isNewTab",required:!1,type:{name:"boolean | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string | undefined"}},trackClick:{defaultValue:null,description:"",name:"trackClick",required:!1,type:{name:"(() => Promise<unknown>) | undefined"}},dataCy:{defaultValue:null,description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/atoms/link.tsx#Link"]={docgenInfo:Link.__docgenInfo,name:"Link",path:"src/components/atoms/link.tsx#Link"})}catch(__react_docgen_typescript_loader_error){}try{link.displayName="link",link.__docgenInfo={description:"",displayName:"link",props:{href:{defaultValue:null,description:"",name:"href",required:!0,type:{name:"URL"}},isNewTab:{defaultValue:null,description:"",name:"isNewTab",required:!1,type:{name:"boolean | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string | undefined"}},trackClick:{defaultValue:null,description:"",name:"trackClick",required:!1,type:{name:"(() => Promise<unknown>) | undefined"}},dataCy:{defaultValue:null,description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/atoms/link.tsx#link"]={docgenInfo:link.__docgenInfo,name:"link",path:"src/components/atoms/link.tsx#link"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/availability-label/availability-label.dev.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Available:()=>Available,MoreThanOneID:()=>MoreThanOneID,Selected:()=>Selected,Unavailable:()=>Unavailable,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_storybook_serviceUrlArgs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/storybook/serviceUrlArgs.ts"),_core_utils_config__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/config.tsx"),_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/core/utils/helpers/url.ts"),_core_utils_url__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/utils/url.tsx"),_availability_label__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/availability-label/availability-label.tsx");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/Availability Label",component:_availability_label__WEBPACK_IMPORTED_MODULE_4__.K,argTypes:{..._core_storybook_serviceUrlArgs__WEBPACK_IMPORTED_MODULE_1__.Z,faustIds:{name:"Faust Ids",control:{type:"array"}},manifestText:{name:"Manifestation text",control:{type:"text"}},url:{name:"Link",control:{type:"text"}},selected:{name:"selected",control:{type:"boolean"}},blacklistedAvailabilityBranchesConfig:{name:"Blacklisted Availability branches",defaultValue:"FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",control:{type:"text"}}},args:{faustIds:["62523611"],manifestText:"Bog",availabilityText:"Hjemme",url:new URL("/",(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_5__.vW)()),selected:!1}},Template=args=>{const ConfiguredAvailabilityLabel=(0,_core_utils_url__WEBPACK_IMPORTED_MODULE_3__.XL)((0,_core_utils_config__WEBPACK_IMPORTED_MODULE_2__.Rh)(_availability_label__WEBPACK_IMPORTED_MODULE_4__.K));return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ConfiguredAvailabilityLabel,args)},Available=Template.bind({});Available.args={faustIds:["61435867"]};const MoreThanOneID=Template.bind({});MoreThanOneID.args={faustIds:["62523611","62150041","61435867"]};const Selected=Template.bind({});Selected.args={manifestText:"lydbog (cd-mp3)",selected:!0};const Unavailable=Template.bind({});Unavailable.args={manifestText:"ebog"}},"./src/components/availability-label/availability-label.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>AvailabilityLabel});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_Check_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Check.svg"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_Check_svg__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_Check_svg__WEBPACK_IMPORTED_MODULE_1__),clsx__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),react_use__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-use/esm/useDeepCompareEffect.js"),_core_fbs_fbs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/fbs/fbs.ts"),_core_utils_text__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/utils/text.tsx"),_atoms_link_no_style__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/atoms/link-no-style.tsx"),_core_utils_config__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/core/utils/config.tsx"),_core_statistics_useStatistics__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/core/statistics/useStatistics.ts"),_core_statistics_statistics__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/core/statistics/statistics.ts");const AvailabilityLabel=_ref=>{let{manifestText,selected=!1,url,faustIds,handleSelectManifestation,cursorPointer=!1,dataCy="availability-label"}=_ref;const blacklistBranches=(0,_core_utils_config__WEBPACK_IMPORTED_MODULE_5__.ZR)()("blacklistedAvailabilityBranchesConfig",{transformer:"stringToArray"}),{track}=(0,_core_statistics_useStatistics__WEBPACK_IMPORTED_MODULE_6__.T)(),t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_3__.X)(),{data,isLoading,isError}=(0,_core_fbs_fbs__WEBPACK_IMPORTED_MODULE_2__.DP)({recordid:faustIds,...blacklistBranches?{exclude:blacklistBranches}:{}}),isAvailable=null==data?void 0:data.some((item=>item.available)),availabilityText=t(isAvailable?"available":"unavailable");if((0,react_use__WEBPACK_IMPORTED_MODULE_8__.Z)((()=>{selected&&track("click",{id:_core_statistics_statistics__WEBPACK_IMPORTED_MODULE_7__.h.materialStatus.id,name:_core_statistics_statistics__WEBPACK_IMPORTED_MODULE_7__.h.materialStatus.name,trackedData:availabilityText})}),[faustIds,selected]),isLoading||isError)return null;const availableTriangleCss=isAvailable?"success":"alert",classes={parent:(0,clsx__WEBPACK_IMPORTED_MODULE_9__.Z)({"pagefold-parent--none availability-label--selected":selected},{"pagefold-parent--xsmall availability-label--unselected":!selected},{"cursor-pointer":cursorPointer},"text-label","availability-label"),triangle:(0,clsx__WEBPACK_IMPORTED_MODULE_9__.Z)({"pagefold-triangle--none":selected},{[`pagefold-triangle--xsmall pagefold-triangle--xsmall--${availableTriangleCss}`]:!selected}),check:(0,clsx__WEBPACK_IMPORTED_MODULE_9__.Z)("availability-label--check",selected&&"selected")},availabilityLabel=react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classes.parent,onClick:handleSelectManifestation??void 0,onKeyPress:handleSelectManifestation??void 0,role:"button",tabIndex:0,"data-cy":dataCy},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classes.triangle}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{className:classes.check,src:_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_Check_svg__WEBPACK_IMPORTED_MODULE_1___default(),alt:"check-icon"}),manifestText&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"text-label-semibold ml-24","data-cy":"availability-label-type"},manifestText),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"availability-label--divider ml-4"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:`text-label-normal ${manifestText?"ml-4":"ml-24"} mr-8`,"data-cy":"availability-label-status"},availabilityText));return url&&!handleSelectManifestation?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_atoms_link_no_style__WEBPACK_IMPORTED_MODULE_4__.n,{url},availabilityLabel):availabilityLabel};try{AvailabilityLabel.displayName="AvailabilityLabel",AvailabilityLabel.__docgenInfo={description:"",displayName:"AvailabilityLabel",props:{manifestText:{defaultValue:null,description:"",name:"manifestText",required:!1,type:{name:"string | undefined"}},selected:{defaultValue:{value:"false"},description:"",name:"selected",required:!1,type:{name:"boolean | undefined"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"URL | undefined"}},faustIds:{defaultValue:null,description:"",name:"faustIds",required:!0,type:{name:"string[]"}},handleSelectManifestation:{defaultValue:null,description:"",name:"handleSelectManifestation",required:!1,type:{name:"(() => void | undefined) | undefined"}},cursorPointer:{defaultValue:{value:"false"},description:"",name:"cursorPointer",required:!1,type:{name:"boolean | undefined"}},dataCy:{defaultValue:{value:"availability-label"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/availability-label/availability-label.tsx#AvailabilityLabel"]={docgenInfo:AvailabilityLabel.__docgenInfo,name:"AvailabilityLabel",path:"src/components/availability-label/availability-label.tsx#AvailabilityLabel"})}catch(__react_docgen_typescript_loader_error){}try{availabilitylabel.displayName="availabilitylabel",availabilitylabel.__docgenInfo={description:"",displayName:"availabilitylabel",props:{manifestText:{defaultValue:null,description:"",name:"manifestText",required:!1,type:{name:"string | undefined"}},selected:{defaultValue:{value:"false"},description:"",name:"selected",required:!1,type:{name:"boolean | undefined"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"URL | undefined"}},faustIds:{defaultValue:null,description:"",name:"faustIds",required:!0,type:{name:"string[]"}},handleSelectManifestation:{defaultValue:null,description:"",name:"handleSelectManifestation",required:!1,type:{name:"(() => void | undefined) | undefined"}},cursorPointer:{defaultValue:{value:"false"},description:"",name:"cursorPointer",required:!1,type:{name:"boolean | undefined"}},dataCy:{defaultValue:{value:"availability-label"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/availability-label/availability-label.tsx#availabilitylabel"]={docgenInfo:availabilitylabel.__docgenInfo,name:"availabilitylabel",path:"src/components/availability-label/availability-label.tsx#availabilitylabel"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/availability-label/availability-labels.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>AvailabiltityLabels});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_apps_material_helper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/apps/material/helper.ts"),_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/helpers/general.ts"),_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/core/utils/helpers/url.ts"),_core_utils_url__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/utils/url.tsx"),_availability_label__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/availability-label/availability-label.tsx");const AvailabiltityLabels=_ref=>{let{manifestations,workId,selectedManifestation:manifestation,selectManifestationHandler,cursorPointer=!1}=_ref;const{materialUrl}=(0,_core_utils_url__WEBPACK_IMPORTED_MODULE_3__.J_)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,manifestations.map((item=>{const{pid,materialTypes}=item,materialType=materialTypes[0].specific,faustId=(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_2__.rp)(pid),url=(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_5__.WO)(materialUrl,workId,materialType);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_availability_label__WEBPACK_IMPORTED_MODULE_4__.K,{key:pid,url,cursorPointer,faustIds:[faustId],manifestText:materialType,selected:manifestation&&materialType===(0,_apps_material_helper__WEBPACK_IMPORTED_MODULE_1__.cC)(manifestation),handleSelectManifestation:selectManifestationHandler?()=>{selectManifestationHandler(item),(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_5__.ul)({type:materialType})}:void 0})})))};try{AvailabiltityLabels.displayName="AvailabiltityLabels",AvailabiltityLabels.__docgenInfo={description:"",displayName:"AvailabiltityLabels",props:{manifestations:{defaultValue:null,description:"",name:"manifestations",required:!0,type:{name:"Manifestation[]"}},workId:{defaultValue:null,description:"",name:"workId",required:!0,type:{name:"`work-of:${number}-${string}:${number}`"}},selectedManifestation:{defaultValue:null,description:"",name:"selectedManifestation",required:!1,type:{name:"Manifestation | undefined"}},selectManifestationHandler:{defaultValue:null,description:"",name:"selectManifestationHandler",required:!1,type:{name:"((manifestation: Manifestation) => void) | undefined"}},cursorPointer:{defaultValue:{value:"false"},description:"",name:"cursorPointer",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/availability-label/availability-labels.tsx#AvailabiltityLabels"]={docgenInfo:AvailabiltityLabels.__docgenInfo,name:"AvailabiltityLabels",path:"src/components/availability-label/availability-labels.tsx#AvailabiltityLabels"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/button-favourite/button-favourite.dev.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,favourite:()=>favourite});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_button_favourite__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/button-favourite/button-favourite.tsx"),_core_utils_url__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/url.tsx"),_core_storybook_serviceUrlArgs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/storybook/serviceUrlArgs.ts");function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const WrappedButtonFavourite=(0,_core_utils_url__WEBPACK_IMPORTED_MODULE_2__.XL)(_button_favourite__WEBPACK_IMPORTED_MODULE_1__.Z),__WEBPACK_DEFAULT_EXPORT__={title:"Components  / Button Favourite",component:WrappedButtonFavourite,argTypes:{..._core_storybook_serviceUrlArgs__WEBPACK_IMPORTED_MODULE_3__.Z,id:{control:"text",defaultValue:"work-of:870970-basis:45234401"}}},favourite=(args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedButtonFavourite,_extends({},args,{addToListRequest:id=>{}}))).bind({});favourite.args={}},"./src/components/button-favourite/button-favourite.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>button_favourite});var react=__webpack_require__("./node_modules/react/index.js");const IconFavourite=_ref=>{let{fill}=_ref;return react.createElement("svg",{height:"24",width:"24",className:"icon-favourite",viewBox:"0 0 24 24",fill:fill?"#000":"none",xmlns:"http://www.w3.org/2000/svg"},react.createElement("path",{d:"M11.5 20L10.2675 18.921C5.89 15.1035 3 12.5858 3 9.49591C3 6.9782 5.057 5 7.675 5C9.154 5 10.5735 5.66213 11.5 6.70845C12.4265 5.66213 13.846 5 15.325 5C17.943 5 20 6.9782 20 9.49591C20 12.5858 17.11 15.1035 12.7325 18.9292L11.5 20Z",stroke:"black",strokeWidth:"2"}))};try{IconFavourite.displayName="IconFavourite",IconFavourite.__docgenInfo={description:"",displayName:"IconFavourite",props:{fill:{defaultValue:null,description:"",name:"fill",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon-favourite/icon-favourite.tsx#IconFavourite"]={docgenInfo:IconFavourite.__docgenInfo,name:"IconFavourite",path:"src/components/icon-favourite/icon-favourite.tsx#IconFavourite"})}catch(__react_docgen_typescript_loader_error){}var material_list=__webpack_require__("./src/core/material-list-api/material-list.ts"),utils_text=__webpack_require__("./src/core/utils/text.tsx");const button_favourite=_ref=>{let{id,addToListRequest}=_ref;const[fillState,setFillState]=(0,react.useState)(!1),t=(0,utils_text.X)(),{mutate}=(0,material_list.Sc)();(0,react.useEffect)((()=>{mutate({listId:"default",itemId:id},{onSuccess:()=>{setFillState(!0)},onError:()=>{setFillState(!1)}})}),[id,mutate]);const handleClick=(0,react.useCallback)((e=>{fillState?((0,material_list.cl)("default",id),setFillState(!1)):(addToListRequest(id),setFillState(!0)),e.stopPropagation()}),[addToListRequest,fillState,id]);return react.createElement("button",{type:"button","aria-label":t(fillState?"Remove from favorites":"Add to favorites"),onClick:handleClick,className:"button-favourite"},react.createElement(IconFavourite,{fill:fillState}))};try{buttonfavourite.displayName="buttonfavourite",buttonfavourite.__docgenInfo={description:"",displayName:"buttonfavourite",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"ButtonFavouriteId"}},addToListRequest:{defaultValue:null,description:"",name:"addToListRequest",required:!0,type:{name:"(id: ButtonFavouriteId) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/button-favourite/button-favourite.tsx#buttonfavourite"]={docgenInfo:buttonfavourite.__docgenInfo,name:"buttonfavourite",path:"src/components/button-favourite/button-favourite.tsx#buttonfavourite"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/checkbox/Checkbox.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>checkbox_Checkbox});var react=__webpack_require__("./node_modules/react/index.js");const icon_checkbox=()=>react.createElement("svg",{width:"20px",height:"20px"},react.createElement("polyline",{points:"1.5 6 4.5 9 10.5 1",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})),checkbox_Checkbox=_ref=>{let{id,label,hideLabel,className,selected,onChecked,disabled,ariaLabel}=_ref;return react.createElement("div",{className:`checkbox ${className||""}`},react.createElement("input",{id,"data-cy":id,className:"checkbox__input",onChange:e=>{var checked;checked=e.target.checked,onChecked&&onChecked(checked)},checked:selected,type:"checkbox","aria-label":ariaLabel,disabled}),react.createElement("label",{className:"checkbox__label",htmlFor:id},react.createElement("span",{className:"checkbox__icon"},react.createElement(icon_checkbox,null)),react.createElement("span",{className:"checkbox__text text-small-caption color-secondary-gray "+(hideLabel?"checkbox__text--hide-visually":"")},label)))};try{Checkbox.displayName="Checkbox",Checkbox.__docgenInfo={description:"",displayName:"Checkbox",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},hideLabel:{defaultValue:null,description:"",name:"hideLabel",required:!1,type:{name:"boolean | undefined"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean | undefined"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},onChecked:{defaultValue:null,description:"",name:"onChecked",required:!1,type:{name:"((value: boolean) => void) | undefined"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/checkbox/Checkbox.tsx#Checkbox"]={docgenInfo:Checkbox.__docgenInfo,name:"Checkbox",path:"src/components/checkbox/Checkbox.tsx#Checkbox"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/cover/cover.dev.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,item:()=>item});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_cover__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/cover/cover.tsx"),_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/core/utils/helpers/url.ts"),_core_utils_url__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/url.tsx"),_core_storybook_serviceUrlArgs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/storybook/serviceUrlArgs.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"Components / Cover",component:_cover__WEBPACK_IMPORTED_MODULE_1__.Y,argTypes:{size:{name:"Image size",control:{type:"radio"}},tint:{name:"Background color tint",control:{type:"radio"}},animate:{name:"Use animation",control:{type:"boolean"}},id:{name:"PID",control:{type:"text"}},url:{name:"URL",control:{type:"string"}},description:{name:"Description",control:{type:"text"}}},args:{..._core_storybook_serviceUrlArgs__WEBPACK_IMPORTED_MODULE_3__.Z,id:"870970-basis:45234401",size:"small",animate:!0,tint:"120",url:new URL("/",(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_4__.vW)()),description:"description"}},WrappedCover=(0,_core_utils_url__WEBPACK_IMPORTED_MODULE_2__.XL)(_cover__WEBPACK_IMPORTED_MODULE_1__.Y),item=(args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedCover,args)).bind({});item.args={}},"./src/components/cover/cover.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Y:()=>Cover});var react=__webpack_require__("./node_modules/react/index.js"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),es=__webpack_require__("./node_modules/react-query/es/index.js"),token=__webpack_require__("./src/core/token.js"),extractServiceBaseUrls=__webpack_require__("./src/core/utils/reduxMiddleware/extractServiceBaseUrls.ts");const fetcher=async _ref=>{let{url,method,params,data}=_ref;const baseURL=(0,extractServiceBaseUrls.fG)(extractServiceBaseUrls.PS.cover),additionalHeaders="object"===(null==data?void 0:data.headers)?null==data?void 0:data.headers:{},libraryToken=(0,token.LP)(token.t8),headers={...libraryToken?{Authorization:`Bearer ${libraryToken}`}:{},...additionalHeaders},body=data?JSON.stringify(data):null,urlParams=params?`?${new URLSearchParams(params)}`:"",response=await fetch(`${baseURL}${url}${urlParams}`,{method,headers,body});if(!response.ok)throw new Error(`${response.status}: ${response.statusText}`);try{return await response.json()}catch(e){if(!(e instanceof SyntaxError))throw e}return null},useGetCoverCollection=(params,options)=>{const{query:queryOptions}=options??{},queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??(params=>["/api/v2/covers",...params?[params]:[]])(params),query=(0,es.useQuery)(queryKey,(_ref=>{let{signal}=_ref;return((params,signal)=>fetcher({url:"/api/v2/covers",method:"get",signal,params}))(params,signal)}),queryOptions);return{queryKey,...query}};var link_no_style=__webpack_require__("./src/components/atoms/link-no-style.tsx");const Cover=_ref=>{var _data$,_data$$imageUrls,_data$$imageUrls$;let{url,description,size,animate,tint,id,idType}=_ref,dataSize=size;"xsmall"===dataSize?dataSize="small":"xlarge"===dataSize&&(dataSize="large");const{data}=useGetCoverCollection({type:idType||"pid",identifiers:[id],sizes:[dataSize]}),classes={wrapper:(0,clsx_m.Z)(`cover cover--${size}`,{default:"bg-identity-tint-120",120:"bg-identity-tint-120",80:"bg-identity-tint-80",60:"bg-identity-tint-60",40:"bg-identity-tint-40",20:"bg-identity-tint-20"}[tint||"default"],{cover__animate:animate})},coverUrl=null==data||null===(_data$=data[0])||void 0===_data$||null===(_data$$imageUrls=_data$.imageUrls)||void 0===_data$$imageUrls||null===(_data$$imageUrls$=_data$$imageUrls[`${dataSize}`])||void 0===_data$$imageUrls$?void 0:_data$$imageUrls$.url,image=coverUrl&&react.createElement("img",{src:coverUrl,alt:description||""});return react.createElement("div",{className:"cover-container"},url&&description?react.createElement(link_no_style.n,{url,className:classes.wrapper},image):react.createElement("span",{className:classes.wrapper},image))};try{Cover.displayName="Cover",Cover.__docgenInfo={description:"",displayName:"Cover",props:{animate:{defaultValue:null,description:"",name:"animate",required:!0,type:{name:"boolean"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"xsmall"'},{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'},{value:'"original"'}]}},tint:{defaultValue:null,description:"",name:"tint",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"20"'},{value:'"40"'},{value:'"80"'},{value:'"100"'},{value:'"120"'}]}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string | undefined"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"URL | undefined"}},idType:{defaultValue:null,description:"",name:"idType",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"faust"'},{value:'"isbn"'},{value:'"issn"'},{value:'"pid"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/cover/cover.tsx#Cover"]={docgenInfo:Cover.__docgenInfo,name:"Cover",path:"src/components/cover/cover.tsx#Cover"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/date-inputs/date-inputs.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>date_inputs});var react=__webpack_require__("./node_modules/react/index.js"),utils_text=__webpack_require__("./src/core/utils/text.tsx");const date_input=_ref=>{let{label,id,value,onChange,minDateInput}=_ref;const minDate=minDateInput||(new Date).toISOString().split("T")[0];return react.createElement("div",{className:"datepicker"},react.createElement("label",{htmlFor:id,className:"text-body-medium-regular"},label),react.createElement("input",{"data-cy":id,type:"date",onChange:_ref2=>{let{target}=_ref2;return onChange(target.value)},name:id,value,id,className:"datepicker-input",min:minDate}))};try{dateinput.displayName="dateinput",dateinput.__docgenInfo={description:"",displayName:"dateinput",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},minDateInput:{defaultValue:null,description:"",name:"minDateInput",required:!1,type:{name:"string | undefined"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(date: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/date-inputs/date-input.tsx#dateinput"]={docgenInfo:dateinput.__docgenInfo,name:"dateinput",path:"src/components/date-inputs/date-input.tsx#dateinput"})}catch(__react_docgen_typescript_loader_error){}const date_inputs=_ref=>{let{setStartDate,setEndDate,startDate,endDate}=_ref;const t=(0,utils_text.X)();return react.createElement("div",{className:"datepickers"},react.createElement(date_input,{value:startDate,id:"start-date",onChange:setStartDate,label:t("dateInputsStartDateLabelText")}),react.createElement(date_input,{onChange:setEndDate,minDateInput:startDate||"",value:endDate,id:"end-date",label:t("dateInputsEndDateLabelText")}))};try{dateinputs.displayName="dateinputs",dateinputs.__docgenInfo={description:"",displayName:"dateinputs",props:{setStartDate:{defaultValue:null,description:"",name:"setStartDate",required:!0,type:{name:"(date: string) => void"}},setEndDate:{defaultValue:null,description:"",name:"setEndDate",required:!0,type:{name:"(date: string) => void"}},startDate:{defaultValue:null,description:"",name:"startDate",required:!0,type:{name:"string"}},endDate:{defaultValue:null,description:"",name:"endDate",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/date-inputs/date-inputs.tsx#dateinputs"]={docgenInfo:dateinputs.__docgenInfo,name:"dateinputs",path:"src/components/date-inputs/date-inputs.tsx#dateinputs"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/empty-list/empty-list.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=_ref=>{let{emptyListText}=_ref;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dpl-list-empty mt-24"},emptyListText)};try{emptylist.displayName="emptylist",emptylist.__docgenInfo={description:"",displayName:"emptylist",props:{emptyListText:{defaultValue:null,description:"",name:"emptyListText",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/empty-list/empty-list.tsx#emptylist"]={docgenInfo:emptylist.__docgenInfo,name:"emptylist",path:"src/components/empty-list/empty-list.tsx#emptylist"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/find-on-shelf/FindOnShelfModal.dev.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Periodical:()=>Periodical,default:()=>FindOnShelfModal_dev});var react=__webpack_require__("./node_modules/react/index.js"),material_dev=__webpack_require__("./src/apps/material/material.dev.tsx"),serviceUrlArgs=__webpack_require__("./src/core/storybook/serviceUrlArgs.ts"),config=__webpack_require__("./src/core/utils/config.tsx"),general=__webpack_require__("./src/core/utils/helpers/general.ts"),utils_text=__webpack_require__("./src/core/utils/text.tsx"),url=__webpack_require__("./src/core/utils/url.tsx"),MaterialButtonsFindOnShelf=__webpack_require__("./src/components/material/material-buttons/physical/MaterialButtonsFindOnShelf.tsx"),FindOnShelfModal=__webpack_require__("./src/components/find-on-shelf/FindOnShelfModal.tsx");const FindOnShelfModal_dev={title:"Components / Find On Shelf Modal",component:FindOnShelfModal.Z,argTypes:{...serviceUrlArgs.Z,...material_dev.default.argTypes,manifestations:{name:"Manifestations",defaultValue:[{pid:"870970-basis:52557240",genreAndForm:["slægtsromaner"],source:["Bibliotekskatalog"],titles:{main:["De syv søstre"],original:["The seven sisters"]},fictionNonfiction:{display:"SKOENLITTERATUR",code:"FICTION"},materialTypes:[{specific:"bog"}],creators:[{display:"Lucinda Riley",__typename:"Person"}],hostPublication:null,languages:{main:[{display:"dansk"}]},identifiers:[{value:"9788763844116"}],contributors:[{display:"Ulla Lauridsen"}],edition:{summary:"1. udgave, 3. oplag (2018)",publicationYear:{display:"2016"}},audience:{generalAudience:[]},physicalDescriptions:[{numberOfPages:null}],accessTypes:[{code:"PHYSICAL"}],access:[{__typename:"InterLibraryLoan",loanIsPossible:!0}],shelfmark:null},{pid:"870970-basis:52643414",genreAndForm:["slægtsromaner"],source:["Bibliotekskatalog"],titles:{main:["De syv søstre (mp3)"],original:["The seven sisters"]},fictionNonfiction:{display:"SKOENLITTERATUR",code:"FICTION"},materialTypes:[{specific:"lydbog (cd-mp3)"}],creators:[{display:"Lucinda Riley",__typename:"Person"}],hostPublication:null,languages:{main:[{display:"dansk"}]},identifiers:[{value:"9788763850636"}],contributors:[{display:"Maria Stokholm"},{display:"Ulla Lauridsen"}],edition:{summary:"1. lydbogsudgave",publicationYear:{display:"2016"}},audience:{generalAudience:[]},physicalDescriptions:[{numberOfPages:null}],accessTypes:[{code:"PHYSICAL"}],access:[{__typename:"InterLibraryLoan",loanIsPossible:!0}],shelfmark:{postfix:"Postfix, 24",shelfmark:"60.7"}}],control:{type:"object"}},workTitles:{name:"Work title(s)",defaultValue:["Title 1","Title 2"],control:{type:"object"}},authors:{name:"Author(s)",defaultValue:[{__typename:"Person",display:"author 1"},{__typename:"Person",display:"author 2"},{__typename:"Corporation",display:"author 3"}],control:{type:"object"}},selectedPeriodical:{name:"Selected periodical",defaultValue:null,control:{type:"null"}},setSelectedPeriodical:{name:"Set selected periodical function",defaultValue:null,control:{type:"null"}},blacklistedPickupBranchesConfig:{name:"Blacklisted Pickup branches",defaultValue:"FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",control:{type:"text"}}}},Template=args=>{const[storySelectedPeriodical,setStorySelectedPeriodical]=(0,react.useState)({volume:"",volumeYear:"2022",displayText:"2022, nr. 29",volumeNumber:"29",itemNumber:"5313131426"});args.selectedPeriodical=storySelectedPeriodical,args.setSelectedPeriodical=setStorySelectedPeriodical;const{manifestations:[{pid}]}=args,FindOnShelfModalWithConfigAndText=(0,url.XL)((0,config.Rh)((0,utils_text.z)(FindOnShelfModal.Z)));return react.createElement(react.Fragment,null,react.createElement(MaterialButtonsFindOnShelf.Z,{size:"small",faustIds:[(0,general.rp)(pid)]}),react.createElement(FindOnShelfModalWithConfigAndText,args))},Default=Template.bind({});Default.args={};const Periodical=Template.bind({});Periodical.args={manifestations:[{pid:"870970-basis:06373674",genreAndForm:[],source:["Bibliotekskatalog"],titles:{main:["Alt for damerne"],original:[]},fictionNonfiction:{display:"FAGLITTERATUR",code:"NONFICTION"},materialTypes:[{specific:"tidsskrift"}],creators:[],hostPublication:null,languages:{main:[{display:"dansk"}]},identifiers:[{value:"0002-6506"}],contributors:[],edition:{summary:"",publicationYear:{display:"1946"}},audience:{generalAudience:[]},physicalDescriptions:[],accessTypes:[{code:"PHYSICAL"}],access:[{__typename:"DigitalArticleService",issn:"00026506"},{__typename:"InterLibraryLoan",loanIsPossible:!0}],shelfmark:null}]}},"./src/components/find-on-shelf/FindOnShelfModal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>find_on_shelf_FindOnShelfModal,e:()=>findOnShelfModalId});var partition=__webpack_require__("./node_modules/lodash/partition.js"),partition_default=__webpack_require__.n(partition),react=(__webpack_require__("./node_modules/core-js/modules/esnext.set.add-all.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.delete-all.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.difference.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.every.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.filter.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.find.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.intersection.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.join.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.map.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.reduce.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.some.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.union.js"),__webpack_require__("./node_modules/react/index.js")),helper=__webpack_require__("./src/apps/material/helper.ts"),fbs=__webpack_require__("./src/core/fbs/fbs.ts"),general=__webpack_require__("./src/core/utils/helpers/general.ts"),modal=__webpack_require__("./src/core/utils/modal.tsx"),utils_text=__webpack_require__("./src/core/utils/text.tsx"),disclosure=__webpack_require__("./src/components/Disclosures/disclosure.tsx");const FindOnShelfManifestationListItem=_ref=>{let{shelfmark,department,location,sublocation,title,publicationYear,numberAvailable}=_ref;const t=(0,utils_text.X)(),locationArray=[department,location,sublocation,shelfmark?`${shelfmark.shelfmark} ${shelfmark.postfix}`:void 0].filter((el=>el));return react.createElement("li",{className:"find-on-shelf__row text-body-medium-regular"},react.createElement("span",{className:"find-on-shelf__material-text"},title,publicationYear&&` (${publicationYear})`),react.createElement("span",null,locationArray.length?locationArray.join(" · "):t("findOnShelfModalNoLocationSpecifiedText")),react.createElement("span",{className:"find-on-shelf__item-count-text"},numberAvailable,react.createElement("span",{className:"hide-visually--on-desktop"},` ${t("findOnShelfModalListItemCountText")}`)))},find_on_shelf_FindOnShelfManifestationListItem=FindOnShelfManifestationListItem;try{FindOnShelfManifestationListItem.displayName="FindOnShelfManifestationListItem",FindOnShelfManifestationListItem.__docgenInfo={description:"",displayName:"FindOnShelfManifestationListItem",props:{shelfmark:{defaultValue:null,description:"",name:"shelfmark",required:!0,type:{name:'{ __typename?: "Shelfmark" | undefined; postfix?: string | null | undefined; shelfmark: string; } | null | undefined'}},department:{defaultValue:null,description:"",name:"department",required:!0,type:{name:"string | undefined"}},location:{defaultValue:null,description:"",name:"location",required:!0,type:{name:"string | undefined"}},sublocation:{defaultValue:null,description:"",name:"sublocation",required:!0,type:{name:"string | undefined"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},publicationYear:{defaultValue:null,description:"",name:"publicationYear",required:!0,type:{name:"string | null"}},numberAvailable:{defaultValue:null,description:"",name:"numberAvailable",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/find-on-shelf/FindOnShelfManifestationListItem.tsx#FindOnShelfManifestationListItem"]={docgenInfo:FindOnShelfManifestationListItem.__docgenInfo,name:"FindOnShelfManifestationListItem",path:"src/components/find-on-shelf/FindOnShelfManifestationListItem.tsx#FindOnShelfManifestationListItem"})}catch(__react_docgen_typescript_loader_error){}const FindOnShelfManifestationList=_ref=>{let{libraryBranchHoldings}=_ref;const t=(0,utils_text.X)();return react.createElement("ul",{className:"find-on-shelf"},react.createElement("li",{className:"find-on-shelf__header-row text-small-caption"},react.createElement("span",{className:"find-on-shelf__material-header"},t("findOnShelfModalListMaterialText")),react.createElement("span",null,t("findOnShelfModalListFindOnShelfText")),react.createElement("span",{className:"find-on-shelf__item-count-header capitalize-first"},t("findOnShelfModalListItemCountText"))),libraryBranchHoldings.map((branchHolding=>{var _branchHolding$holdin,_branchHolding$holdin2,_branchHolding$holdin3;return react.createElement(find_on_shelf_FindOnShelfManifestationListItem,{shelfmark:branchHolding.manifestation.shelfmark,department:null===(_branchHolding$holdin=branchHolding.holding.department)||void 0===_branchHolding$holdin?void 0:_branchHolding$holdin.title,location:null===(_branchHolding$holdin2=branchHolding.holding.location)||void 0===_branchHolding$holdin2?void 0:_branchHolding$holdin2.title,sublocation:null===(_branchHolding$holdin3=branchHolding.holding.sublocation)||void 0===_branchHolding$holdin3?void 0:_branchHolding$holdin3.title,title:branchHolding.manifestation.titles.main.join(", "),publicationYear:(0,general.S2)(branchHolding.manifestation),numberAvailable:(0,helper.r0)(branchHolding.holding.materials),key:branchHolding.holding.branch.branchId})})))},find_on_shelf_FindOnShelfManifestationList=FindOnShelfManifestationList;try{FindOnShelfManifestationList.displayName="FindOnShelfManifestationList",FindOnShelfManifestationList.__docgenInfo={description:"",displayName:"FindOnShelfManifestationList",props:{libraryBranchHoldings:{defaultValue:null,description:"",name:"libraryBranchHoldings",required:!0,type:{name:"ManifestationHoldings"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/find-on-shelf/FindOnShelfManifestationList.tsx#FindOnShelfManifestationList"]={docgenInfo:FindOnShelfManifestationList.__docgenInfo,name:"FindOnShelfManifestationList",path:"src/components/find-on-shelf/FindOnShelfManifestationList.tsx#FindOnShelfManifestationList"})}catch(__react_docgen_typescript_loader_error){}var Dropdown=__webpack_require__("./src/components/Dropdown/Dropdown.tsx"),periodical_helper=__webpack_require__("./src/components/material/periodical/helper.ts");const find_on_shelf_FindOnShelfPeriodicalDropdowns=_ref=>{let{manifestationsHoldings,setSelectedPeriodical,selectedPeriodical}=_ref;const t=(0,utils_text.X)(),periodicalEditionsBase=(0,periodical_helper.wf)(manifestationsHoldings[0].holdings),groupedPeriodicalEditionsBase=(0,general.CU)(periodicalEditionsBase,"volumeYear"),periodicalEditions=(0,periodical_helper.ik)(groupedPeriodicalEditionsBase),sortedPeriodicalYears=Object.keys(periodicalEditions).sort(),[selectedYear,setSelectedYear]=(0,react.useState)(selectedPeriodical.volumeYear);return react.createElement("div",{className:"modal-find-on-shelf__periodical-dropdowns"},react.createElement(Dropdown.Z,{classNames:"dropdown--grey-borders",options:sortedPeriodicalYears.map((volumeYear=>({label:volumeYear,value:volumeYear}))),arrowIcon:"chevron",defaultValue:selectedYear,handleOnChange:event=>{(0,periodical_helper.sW)(event.target.value,setSelectedYear,setSelectedPeriodical,periodicalEditions,groupedPeriodicalEditionsBase)},ariaLabel:t("findOnShelfModalPeriodicalYearDropdownText")}),selectedYear&&react.createElement(Dropdown.Z,{classNames:"dropdown--grey-borders",options:periodicalEditions[selectedYear].map((periodicalEdition=>({label:periodicalEdition,value:periodicalEdition}))),arrowIcon:"chevron",defaultValue:selectedPeriodical.volumeNumber,handleOnChange:event=>{(0,periodical_helper.ul)(groupedPeriodicalEditionsBase,selectedYear,event.target.value,setSelectedPeriodical)},ariaLabel:t("findOnShelfModalPeriodicalEditionDropdownText")}))};try{FindOnShelfPeriodicalDropdowns.displayName="FindOnShelfPeriodicalDropdowns",FindOnShelfPeriodicalDropdowns.__docgenInfo={description:"",displayName:"FindOnShelfPeriodicalDropdowns",props:{manifestationsHoldings:{defaultValue:null,description:"",name:"manifestationsHoldings",required:!0,type:{name:"HoldingsForBibliographicalRecordV3[]"}},setSelectedPeriodical:{defaultValue:null,description:"",name:"setSelectedPeriodical",required:!0,type:{name:"(selectedPeriodical: PeriodicalEdition) => void"}},selectedPeriodical:{defaultValue:null,description:"",name:"selectedPeriodical",required:!0,type:{name:"PeriodicalEdition"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/find-on-shelf/FindOnShelfPeriodicalDropdowns.tsx#FindOnShelfPeriodicalDropdowns"]={docgenInfo:FindOnShelfPeriodicalDropdowns.__docgenInfo,name:"FindOnShelfPeriodicalDropdowns",path:"src/components/find-on-shelf/FindOnShelfPeriodicalDropdowns.tsx#FindOnShelfPeriodicalDropdowns"})}catch(__react_docgen_typescript_loader_error){}var utils_config=__webpack_require__("./src/core/utils/config.tsx");const findOnShelfModalId=faustId=>`find-on-shelf-modal-${faustId}`,FindOnShelfModal=_ref=>{let{manifestations,workTitles,authors,selectedPeriodical,setSelectedPeriodical}=_ref;const blacklistBranches=(0,utils_config.ZR)()("blacklistedPickupBranchesConfig",{transformer:"stringToArray"}),t=(0,utils_text.X)(),faustIdArray=(0,general.vn)(manifestations).map((manifestationPid=>(0,general.rp)(manifestationPid))),{data,isError,isLoading}=(0,fbs.T8)({recordid:faustIdArray,...blacklistBranches?{exclude:blacklistBranches}:{}}),author=(0,general.b7)((0,general.TG)((0,general.Bi)(authors,["Person"])),t)||t("creatorsAreMissingText"),title=workTitles.join(", "),modalId=findOnShelfModalId((0,general.rp)(manifestations[0].pid)),isPeriodical=manifestations.some((manifestation=>manifestation.materialTypes.some((materialType=>materialType.specific.includes("tidsskrift")))));if(isError||!data)return null;const pairedManifestationsWithBranches=data.map(((holdingsPerManifestation,index)=>holdingsPerManifestation.holdings.map((holding=>({manifestation:manifestations[index],holding}))))).flat(),allBranches=data.map((item=>item.holdings.map((holding=>holding.branch.branchId)))).flat();let finalData=Array.from(new Set(allBranches)).map((branch=>pairedManifestationsWithBranches.filter((manifestationWithBranch=>manifestationWithBranch.holding.branch.branchId===branch))));function orderManifestationHoldingsAlphabetically(a,b){return a[0].holding.branch.title.localeCompare(b[0].holding.branch.title,"da-DK")}selectedPeriodical&&(finalData=finalData.map((branchManifestationHoldings=>branchManifestationHoldings.map((manifestationHoldings=>({...manifestationHoldings,holding:{...manifestationHoldings.holding,materials:manifestationHoldings.holding.materials.filter((material=>{var _material$periodical;return(null===(_material$periodical=material.periodical)||void 0===_material$periodical?void 0:_material$periodical.volumeNumber)===selectedPeriodical.volumeNumber&&material.periodical.volumeYear===selectedPeriodical.volumeYear}))}}))).filter((manifestationHoldings=>null!==manifestationHoldings)))));const[availableManifestationHoldings,unavailableManifestationHoldings]=partition_default()(finalData,helper.WJ),finalDataToShow=availableManifestationHoldings.sort(((a,b)=>orderManifestationHoldingsAlphabetically(a,b))).concat(unavailableManifestationHoldings.sort(((a,b)=>orderManifestationHoldingsAlphabetically(a,b)))).sort((manifestationHolding=>manifestationHolding[0].holding.branch.branchId.endsWith("00")?-1:1));return react.createElement(modal.Z,{modalId,screenReaderModalDescriptionText:t("findOnShelfModalScreenReaderModalDescriptionText"),closeModalAriaLabelText:t("findOnShelfModalCloseModalAriaLabelText"),classNames:"modal-details modal-find-on-shelf"},react.createElement(react.Fragment,null,react.createElement("h2",{className:"text-header-h2 modal-find-on-shelf__headline"},`${title} / ${author}`),isPeriodical&&selectedPeriodical&&react.createElement(find_on_shelf_FindOnShelfPeriodicalDropdowns,{manifestationsHoldings:data,setSelectedPeriodical,selectedPeriodical}),isLoading&&react.createElement("p",{className:"text-body-large ml-16 mt-96"},t("loadingText")),!isLoading&&react.createElement(react.Fragment,null,react.createElement("div",{className:"text-small-caption modal-find-on-shelf__caption"},`${(0,helper.rM)(finalDataToShow)} ${t("librariesHaveTheMaterialText")}`),finalDataToShow.map((libraryBranch=>react.createElement(disclosure.Z,{key:libraryBranch[0].holding.branch.branchId,title:libraryBranch[0].holding.branch.title,isAvailable:(0,helper.WJ)(libraryBranch),fullWidth:!0,open:1===finalData.length},react.createElement(find_on_shelf_FindOnShelfManifestationList,{libraryBranchHoldings:libraryBranch})))))))},find_on_shelf_FindOnShelfModal=FindOnShelfModal;try{findOnShelfModalId.displayName="findOnShelfModalId",findOnShelfModalId.__docgenInfo={description:"",displayName:"findOnShelfModalId",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/find-on-shelf/FindOnShelfModal.tsx#findOnShelfModalId"]={docgenInfo:findOnShelfModalId.__docgenInfo,name:"findOnShelfModalId",path:"src/components/find-on-shelf/FindOnShelfModal.tsx#findOnShelfModalId"})}catch(__react_docgen_typescript_loader_error){}try{FindOnShelfModal.displayName="FindOnShelfModal",FindOnShelfModal.__docgenInfo={description:"",displayName:"FindOnShelfModal",props:{manifestations:{defaultValue:null,description:"",name:"manifestations",required:!0,type:{name:"Manifestation[]"}},workTitles:{defaultValue:null,description:"",name:"workTitles",required:!0,type:{name:"string[]"}},authors:{defaultValue:null,description:"",name:"authors",required:!0,type:{name:'({ __typename: "Corporation"; display: string; } | { __typename: "Person"; display: string; })[]'}},selectedPeriodical:{defaultValue:null,description:"",name:"selectedPeriodical",required:!0,type:{name:"PeriodicalEdition | null"}},setSelectedPeriodical:{defaultValue:null,description:"",name:"setSelectedPeriodical",required:!0,type:{name:"(selectedPeriodical: PeriodicalEdition) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/find-on-shelf/FindOnShelfModal.tsx#FindOnShelfModal"]={docgenInfo:FindOnShelfModal.__docgenInfo,name:"FindOnShelfModal",path:"src/components/find-on-shelf/FindOnShelfModal.tsx#FindOnShelfModal"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/guarded-app.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),_core_guardedRequests_slice__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/guardedRequests.slice.ts"),_core_utils_helpers_date__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/core/utils/helpers/date.ts"),_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/core/utils/helpers/url.ts"),_core_utils_helpers_user__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/utils/helpers/user.ts");const __WEBPACK_DEFAULT_EXPORT__=_ref=>{let{app,children}=_ref;const dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.I0)(),{request:persistedRequest}=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)((state=>state.guardedRequests)),isApplicationBlocked=persistedRequest&&!(0,_core_utils_helpers_user__WEBPACK_IMPORTED_MODULE_3__.I)(),didAuthenticate=(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_4__.wo)(_core_guardedRequests_slice__WEBPACK_IMPORTED_MODULE_2__.SF);return console.debug("PERSISTED REQUEST:",persistedRequest),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{persistedRequest&&(console.debug("HAS REQUEST EXPIRED?",(0,_core_guardedRequests_slice__WEBPACK_IMPORTED_MODULE_2__.qC)(persistedRequest)),console.debug("CURRENT TIMESTAMP",(0,_core_utils_helpers_date__WEBPACK_IMPORTED_MODULE_5__.Z)()),console.debug("EXPIRE TIMESTAMP",persistedRequest.expire),(0,_core_guardedRequests_slice__WEBPACK_IMPORTED_MODULE_2__.qC)(persistedRequest)&&dispatch((0,_core_guardedRequests_slice__WEBPACK_IMPORTED_MODULE_2__.yQ)()))}),[dispatch,persistedRequest]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(!isApplicationBlocked)return;const{app:persistedRequestApp}=persistedRequest;if(!didAuthenticate||app!==persistedRequestApp)return;dispatch((0,_core_guardedRequests_slice__WEBPACK_IMPORTED_MODULE_2__.fG)(persistedRequest));const currentUrlWithoutAuthParam=(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_4__.oC)(new URL((0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_4__.vW)()),_core_guardedRequests_slice__WEBPACK_IMPORTED_MODULE_2__.SF);(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_4__.kI)(currentUrlWithoutAuthParam),dispatch((0,_core_guardedRequests_slice__WEBPACK_IMPORTED_MODULE_2__.yQ)())}),[app,didAuthenticate,dispatch,isApplicationBlocked,persistedRequest]),isApplicationBlocked?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null):react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,children)};try{guardedapp.displayName="guardedapp",guardedapp.__docgenInfo={description:"",displayName:"guardedapp",props:{app:{defaultValue:null,description:"",name:"app",required:!0,type:{name:"enum",value:[{value:'"material"'},{value:'"search-result"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/guarded-app.tsx#guardedapp"]={docgenInfo:guardedapp.__docgenInfo,name:"guardedapp",path:"src/components/guarded-app.tsx#guardedapp"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/hello/hello.dev.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{HelloAnimal:()=>HelloAnimal,HelloHuman:()=>HelloHuman,HelloWorld:()=>HelloWorld,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_hello__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/hello/hello.tsx");const WrappedHello=(0,__webpack_require__("./src/core/utils/text.tsx").z)(_hello__WEBPACK_IMPORTED_MODULE_1__.q),__WEBPACK_DEFAULT_EXPORT__={title:"Components/Hello",component:WrappedHello,argTypes:{whatText:{defaultValue:"world",control:{type:"text"}},shouldBeEmphasized:{defaultValue:!0}}},Template=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedHello,props),HelloWorld=Template.bind({}),HelloHuman=Template.bind({});HelloWorld.args={whatText:"human"};const HelloAnimal=Template.bind({});HelloWorld.args={whatText:"animal"}},"./src/components/hello/hello.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{q:()=>Hello});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_utils_text__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/text.tsx");const Hello=_ref=>{let{shouldBeEmphasized}=_ref;const t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_1__.X)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,"Hello"," ",shouldBeEmphasized?react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",null,t("whatText")):t("whatText"),"!")};try{Hello.displayName="Hello",Hello.__docgenInfo={description:"",displayName:"Hello",props:{shouldBeEmphasized:{defaultValue:null,description:"",name:"shouldBeEmphasized",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/hello/hello.tsx#Hello"]={docgenInfo:Hello.__docgenInfo,name:"Hello",path:"src/components/hello/hello.tsx#Hello"})}catch(__react_docgen_typescript_loader_error){}try{hello.displayName="hello",hello.__docgenInfo={description:"",displayName:"hello",props:{shouldBeEmphasized:{defaultValue:null,description:"",name:"shouldBeEmphasized",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/hello/hello.tsx#hello"]={docgenInfo:hello.__docgenInfo,name:"hello",path:"src/components/hello/hello.tsx#hello"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/horizontal-term-line/HorizontalTermLine.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_atoms_link__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/atoms/link.tsx");const HorizontalTermLine=_ref=>{let{title,subTitle,linkList,dataCy="horizontal-term-line"}=_ref;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"data-cy":dataCy,className:"text-small-caption horizontal-term-line"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"text-label-bold"},title||""," ",subTitle&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"text-small-caption"},` ${subTitle}`)),linkList.map((item=>{const{term,url}=item;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{key:term},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_atoms_link__WEBPACK_IMPORTED_MODULE_1__.r,{href:url,className:"link-tag"},term))})))},__WEBPACK_DEFAULT_EXPORT__=HorizontalTermLine;try{HorizontalTermLine.displayName="HorizontalTermLine",HorizontalTermLine.__docgenInfo={description:"",displayName:"HorizontalTermLine",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},subTitle:{defaultValue:null,description:"",name:"subTitle",required:!1,type:{name:"string | undefined"}},linkList:{defaultValue:null,description:"",name:"linkList",required:!0,type:{name:"{ url: URL; term: string; }[]"}},dataCy:{defaultValue:{value:"horizontal-term-line"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/horizontal-term-line/HorizontalTermLine.tsx#HorizontalTermLine"]={docgenInfo:HorizontalTermLine.__docgenInfo,name:"HorizontalTermLine",path:"src/components/horizontal-term-line/HorizontalTermLine.tsx#HorizontalTermLine"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/list-details/list-details.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=_ref=>{let{icon,title,labels,children}=_ref;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"list-details"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"list-details__icon"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{src:icon,alt:""})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"list-details__container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"list-details__content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"text-header-h5"},title),"string"==typeof labels&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"text-small-caption"},labels),"string"!=typeof labels&&labels.map((label=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"text-small-caption"},label))))),children)};try{listdetails.displayName="listdetails",listdetails.__docgenInfo={description:"",displayName:"listdetails",props:{icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},labels:{defaultValue:null,description:"",name:"labels",required:!0,type:{name:"string | string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/list-details/list-details.tsx#listdetails"]={docgenInfo:listdetails.__docgenInfo,name:"listdetails",path:"src/components/list-details/list-details.tsx#listdetails"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/material/material-buttons/physical/MaterialButtonsFindOnShelf.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_fbs_fbs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/fbs/fbs.ts"),_core_utils_modal__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/modal.tsx"),_core_utils_text__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/utils/text.tsx"),_Buttons_Button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Buttons/Button.tsx"),_find_on_shelf_FindOnShelfModal__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/find-on-shelf/FindOnShelfModal.tsx");const MaterialButtonsFindOnShelf=_ref=>{let{size,faustIds,dataCy="material-buttons-find-on-shelf"}=_ref;const t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_3__.X)(),{open}=(0,_core_utils_modal__WEBPACK_IMPORTED_MODULE_2__.f)(),{data,isLoading,isError}=(0,_core_fbs_fbs__WEBPACK_IMPORTED_MODULE_1__.DP)({recordid:faustIds}),onClick=()=>{open((0,_find_on_shelf_FindOnShelfModal__WEBPACK_IMPORTED_MODULE_5__.e)(faustIds[0]))};return!data||isError||isLoading?null:"small"!==size?data[0].available?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Buttons_Button__WEBPACK_IMPORTED_MODULE_4__.z,{label:t("findOnBookshelfText"),buttonType:"none",variant:"outline",disabled:!1,collapsible:!1,size:"large",onClick,dataCy}):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Buttons_Button__WEBPACK_IMPORTED_MODULE_4__.z,{label:t("materialIsLoanedOutText"),buttonType:"none",variant:"outline",disabled:!0,collapsible:!1,size:"large",dataCy}):data[0].available?react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link-tag text-small-caption material-manifestation-item__find capitalize-all btn-ui","aria-describedby":t("findOnShelfExpandButtonExplanationText"),onClick,onKeyUp:e=>{"Enter"===e.key&&onClick()},tabIndex:0,type:"button","data-cy":dataCy},t("findOnBookshelfText")):react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"text-small-caption material-manifestation-item__find capitalize-all"},t("materialIsLoanedOutText"))},__WEBPACK_DEFAULT_EXPORT__=MaterialButtonsFindOnShelf;try{MaterialButtonsFindOnShelf.displayName="MaterialButtonsFindOnShelf",MaterialButtonsFindOnShelf.__docgenInfo={description:"",displayName:"MaterialButtonsFindOnShelf",props:{size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"xsmall"'},{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'}]}},faustIds:{defaultValue:null,description:"",name:"faustIds",required:!0,type:{name:"`${number}`[]"}},dataCy:{defaultValue:{value:"material-buttons-find-on-shelf"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/material/material-buttons/physical/MaterialButtonsFindOnShelf.tsx#MaterialButtonsFindOnShelf"]={docgenInfo:MaterialButtonsFindOnShelf.__docgenInfo,name:"MaterialButtonsFindOnShelf",path:"src/components/material/material-buttons/physical/MaterialButtonsFindOnShelf.tsx#MaterialButtonsFindOnShelf"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/material/periodical/helper.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{P5:()=>getLatestEditionFromYear,ik:()=>filterAndSortPeriodicalEditions,sW:()=>handleSelectYear,ul:()=>handleSelectEdition,wf:()=>makePeriodicalEditionsFromHoldings});var lodash_uniq__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/uniq.js"),lodash_uniq__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_uniq__WEBPACK_IMPORTED_MODULE_0__),lodash_mapValues__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash/mapValues.js"),lodash_mapValues__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_mapValues__WEBPACK_IMPORTED_MODULE_1__);const getLatestEditionFromYear=(year,groupList)=>groupList[year][groupList[year].length-1];function makePeriodicalEditionsFromHoldings(holdings){return holdings.map((holding=>holding.materials.flat().map((material=>({...material.periodical,itemNumber:material.itemNumber}))))).flat()}function filterAndSortPeriodicalEditions(baseData){const yearVolumes=lodash_mapValues__WEBPACK_IMPORTED_MODULE_1___default()(baseData,(editions=>editions.map((edition=>edition.volumeNumber)))),yearVolumesSorted=lodash_mapValues__WEBPACK_IMPORTED_MODULE_1___default()(yearVolumes,(volumes=>volumes.filter((volume=>!!volume)).sort(((a,b)=>a.localeCompare(b,"da-DK",{numeric:!0})))));return lodash_mapValues__WEBPACK_IMPORTED_MODULE_1___default()(yearVolumesSorted,(volumes=>lodash_uniq__WEBPACK_IMPORTED_MODULE_0___default()(volumes)))}function handleSelectEdition(groupList,year,editionToMatch,selectPeriodicalHandler){const changedFullPeriodicalEdition=groupList[year].find((edition=>edition.volumeNumber===editionToMatch));changedFullPeriodicalEdition&&selectPeriodicalHandler(changedFullPeriodicalEdition)}function handleSelectYear(year,setYear,selectPeriodicalHandler,periodicalEditions,groupList){setYear(year);handleSelectEdition(groupList,year,getLatestEditionFromYear(year,periodicalEditions),selectPeriodicalHandler)}},"./src/components/modal-details-header/modal-details-header.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_cover_cover__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/cover/cover.tsx");const __WEBPACK_DEFAULT_EXPORT__=_ref=>{let{authors,year,title,pid,description,materialType,isbnForCover,periodical,series,children}=_ref;const coverId=pid||isbnForCover;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"modal-details__header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"modal-details__cover"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"material-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"material material--large bg-identity-tint-120 material__animate"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_cover_cover__WEBPACK_IMPORTED_MODULE_1__.Y,{id:coverId,idType:pid?"pid":"isbn",size:"large",animate:!1,description:description||""})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"modal-details__material"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"modal-details__tags"},materialType&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"status-label status-label--outline"},materialType),children),react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2",{className:"modal-details__title text-header-h2"},title),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"text-body-medium-regular","data-cy":"modal-authors"},authors,year&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null," (",year,")")),periodical&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"text-body-medium-regular"},periodical),series&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{"data-cy":"modal-series",className:"text-body-medium-regular"},series)))};try{modaldetailsheader.displayName="modaldetailsheader",modaldetailsheader.__docgenInfo={description:"",displayName:"modaldetailsheader",props:{authors:{defaultValue:null,description:"",name:"authors",required:!0,type:{name:"string | null | undefined"}},year:{defaultValue:null,description:"",name:"year",required:!0,type:{name:"string | null | undefined"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string | null | undefined"}},pid:{defaultValue:null,description:"",name:"pid",required:!1,type:{name:"`${number}-${string}:${number}` | null | undefined"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string | null | undefined"}},materialType:{defaultValue:null,description:"",name:"materialType",required:!0,type:{name:"string | null | undefined"}},isbnForCover:{defaultValue:null,description:"",name:"isbnForCover",required:!0,type:{name:"string"}},periodical:{defaultValue:null,description:"",name:"periodical",required:!1,type:{name:"string | null | undefined"}},series:{defaultValue:null,description:"",name:"series",required:!1,type:{name:"string | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/modal-details-header/modal-details-header.tsx#modaldetailsheader"]={docgenInfo:modaldetailsheader.__docgenInfo,name:"modaldetailsheader",path:"src/components/modal-details-header/modal-details-header.tsx#modaldetailsheader"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/reservation/helper.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M1:()=>getFutureDateString,OR:()=>getNoInterestAfter,P4:()=>smsNotificationsIsEnabled,S5:()=>cleanBranchesId,Sp:()=>getPreferredBranch,fK:()=>constructReservationData,qT:()=>getAuthorLine,rM:()=>excludeBlacklistedBranches,rO:()=>hardcodedInterestPeriods});var dayjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/dayjs/dayjs.min.js"),dayjs__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_0__),_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/helpers/general.ts");const smsNotificationsIsEnabled=configValue=>"1"===configValue,getPreferredBranch=(id,array)=>{const locationItem=array.find((item=>item.branchId===id));return locationItem?locationItem.title:id},hardcodedInterestPeriods=t=>({30:t("oneMonthText"),60:t("twoMonthsText"),90:t("threeMonthsText"),180:t("sixMonthsText"),360:t("oneYearText")}),getNoInterestAfter=(days,t)=>{const reservationInterestIntervals={...hardcodedInterestPeriods(t),default:`${days} ${t("daysText")}`};return reservationInterestIntervals[String(days)]??reservationInterestIntervals.default},getFutureDateString=num=>dayjs__WEBPACK_IMPORTED_MODULE_0___default()().add(num,"day").format("YYYY-MM-DD"),constructReservations=_ref2=>{let{manifestations,pickupBranch,expiryDate,periodical}=_ref2;return manifestations.map((manifestation=>(_ref=>{let{manifestation:{pid},pickupBranch,expiryDate,periodical}=_ref;return{recordId:(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_1__.rp)(pid),...pickupBranch?{pickupBranch}:{},...expiryDate?{expiryDate}:{},...periodical?{periodical}:{}}})({manifestation,pickupBranch,expiryDate,periodical})))},constructReservationData=_ref3=>{let{manifestations,selectedBranch,expiryDate,periodical}=_ref3;return{reservations:constructReservations({manifestations,...selectedBranch?{pickupBranch:selectedBranch}:{},...expiryDate?{expiryDate}:{},...periodical?{periodical:{volumeNumber:periodical.volumeNumber,volumeYear:periodical.volumeYear}}:{}}),...manifestations.length>1?{type:"parallel"}:{}}},getAuthorLine=(manifestation,t)=>{const{creators}=manifestation,publicationYear=(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_1__.S2)(manifestation),author=(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_1__.b7)((0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_1__.TG)((0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_1__.Bi)(creators,["Person"])),t)||null;let year="";return publicationYear&&(year=publicationYear),(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_1__.bV)(manifestation)&&(year=`(${t("materialHeaderAllEditionsText")})`),author?[t("materialHeaderAuthorByText"),author,year].join(" "):null},excludeBlacklistedBranches=(branches,blacklist)=>branches.filter((item=>!blacklist.includes(item.branchId))),cleanBranchesId=branches=>branches.map((branch=>{const matches=/-(\d*)/g.exec(branch.branchId);return matches?matches[1]:""})).filter((item=>item))},"./src/components/result-pager/use-pager.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>use_pager});var react=__webpack_require__("./node_modules/react/index.js"),utils_text=__webpack_require__("./src/core/utils/text.tsx");function ResultPager(_ref){let{setPageHandler,itemsShown,hitcount}=_ref;const t=(0,utils_text.X)();return react.createElement("div",{className:"result-pager"},react.createElement("p",{className:"text-small-caption result-pager__title"},t("resultPagerStatusText",{placeholders:{"@itemsShown":itemsShown,"@hitcount":hitcount}})),itemsShown!==hitcount&&react.createElement("button",{type:"button",className:"btn-primary btn-outline btn-medium arrow__hover--right-small",onClick:setPageHandler},t("showMoreText").toUpperCase()))}const result_pager=ResultPager;try{ResultPager.displayName="ResultPager",ResultPager.__docgenInfo={description:"",displayName:"ResultPager",props:{setPageHandler:{defaultValue:null,description:"",name:"setPageHandler",required:!0,type:{name:"() => void"}},itemsShown:{defaultValue:null,description:"",name:"itemsShown",required:!0,type:{name:"number"}},hitcount:{defaultValue:null,description:"",name:"hitcount",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/result-pager/result-pager.tsx#ResultPager"]={docgenInfo:ResultPager.__docgenInfo,name:"ResultPager",path:"src/components/result-pager/result-pager.tsx#ResultPager"})}catch(__react_docgen_typescript_loader_error){}const use_pager=(hitcount,pageSize,overrideItemsShown)=>{const[itemsShown,setItemsShown]=(0,react.useState)(pageSize>=hitcount?hitcount:pageSize),[page,setPage]=(0,react.useState)(0);(0,react.useEffect)((()=>{setItemsShown(pageSize>hitcount?hitcount:pageSize)}),[hitcount,pageSize]);return{itemsShown,PagerComponent:hitcount?react.createElement(result_pager,{itemsShown:overrideItemsShown?overrideItemsShown():itemsShown,hitcount,setPageHandler:()=>{const currentPage=page+1,itemsOnPage=(currentPage+1)*pageSize;setItemsShown(itemsOnPage>hitcount?hitcount:itemsOnPage),setPage(currentPage)}}):null,page}}},"./src/components/search-bar/search-bar.dev.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),downshift__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/downshift/dist/downshift.esm.js"),_story_header_dev_inc__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/search-bar/story-header.dev.inc.tsx"),_search_bar__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/search-bar/search-bar.tsx");function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const __WEBPACK_DEFAULT_EXPORT__={title:"Components / Search Bar",component:_search_bar__WEBPACK_IMPORTED_MODULE_2__.Z,argTypes:{altText:{name:"Alt text for search button image",defaultValue:"søgeikon",control:{type:"text"}},inputPlaceholderText:{name:"Input field placeholder",defaultValue:"Søg blandt bibliotekets materialer",control:{type:"text"}}}},Default=args=>{const[q,setQ]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),{getInputProps,getComboboxProps}=(0,downshift__WEBPACK_IMPORTED_MODULE_3__.Kb)({items:["Item 1","Item 2"],inputValue:q,defaultIsOpen:!1,onInputValueChange:_ref=>{let{inputValue}=_ref;setQ(inputValue)}});return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_story_header_dev_inc__WEBPACK_IMPORTED_MODULE_1__.Z,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"header__menu-second"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",_extends({action:"https://bibliotek.dk/search",className:"header__menu-search"},getComboboxProps()),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_search_bar__WEBPACK_IMPORTED_MODULE_2__.Z,_extends({},args,{getInputProps})))))}},"./src/components/search-bar/search-bar.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_search_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-search.svg"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_search_svg__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_search_svg__WEBPACK_IMPORTED_MODULE_1__),_core_utils_text__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/text.tsx");function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const __WEBPACK_DEFAULT_EXPORT__=_ref=>{let{getInputProps,getLabelProps}=_ref;const t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_2__.X)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",_extends({className:"hide-visually"},getLabelProps()),t("searchHeaderInputLabel")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",_extends({name:"q",className:"header__menu-search-input text-body-medium-regular",type:"text",autoComplete:"off",placeholder:t("inputPlaceholderText"),"aria-label":t("inputPlaceholderText")},getInputProps())),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"image",src:_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_search_svg__WEBPACK_IMPORTED_MODULE_1___default(),alt:t("searchHeaderIconAltText"),className:"header__menu-search-icon"}))};try{searchbar.displayName="searchbar",searchbar.__docgenInfo={description:"",displayName:"searchbar",props:{getInputProps:{defaultValue:null,description:"",name:"getInputProps",required:!0,type:{name:"(options?: UseComboboxGetInputPropsOptions | undefined, otherOptions?: GetPropsCommonOptions | undefined) => any"}},getLabelProps:{defaultValue:null,description:"",name:"getLabelProps",required:!0,type:{name:"(options?: UseComboboxGetLabelPropsOptions | undefined) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/search-bar/search-bar.tsx#searchbar"]={docgenInfo:searchbar.__docgenInfo,name:"searchbar",path:"src/components/search-bar/search-bar.tsx#searchbar"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/search-bar/story-header.dev.inc.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_menu_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-menu.svg"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_menu_svg__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_menu_svg__WEBPACK_IMPORTED_MODULE_1__),_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_profile_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-profile.svg"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_profile_svg__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_profile_svg__WEBPACK_IMPORTED_MODULE_2__),_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_heart_svg__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-heart.svg"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_heart_svg__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_heart_svg__WEBPACK_IMPORTED_MODULE_3__),_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_watch_static_svg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-watch-static.svg"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_watch_static_svg__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_watch_static_svg__WEBPACK_IMPORTED_MODULE_4__),_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_cross_medium_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-cross-medium.svg"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_cross_medium_svg__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_cross_medium_svg__WEBPACK_IMPORTED_MODULE_5__);const __WEBPACK_DEFAULT_EXPORT__=_ref=>{let{children}=_ref;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("header",{className:"header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"header__logo-desktop"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"header__logo-desktop-link",href:"/"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{className:"logo",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKEAAAAgCAYAAAB6vRjLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABRSSURBVHgB7VwLeFTVtV5r73POTCYJIQmBJJPwEBABkwBBRIEU6LXWZ20Rbq312U9vvbZWW7X1ai3tbdVWW+3Vttx+1Yp6tYK12l61eG1BRQEhkISHIGgSMpOEVzJhksnMeex91z7DxMwY8uBpSv/vO9+cs85+77XXXo99BoKs5GDXpZW+BMcIa2HizUll09XIS66EE4gGVvozVW+Anfn11Hf1vGRhvF2TH03QAlhSGdTKWgM5c4vgOIPq3lrPzmxYCqeNhFMcmgTITDwgYBocI+yFmF4EWmZ3mgOODicWHtU/h35TX2gguASWKZP7HKX0NoJAOO7AmAnS2gQRBqc4TvkB6A5DeheALqf6W95q6CvtznEXeOAo4Ah+sS6cWQ/DGQE4xaHBP9EFK9t7NaIxrHXEZfdl170UUrRaGO3VtKxbUcrLpJTDAbGGaez/ZF3wa80Z534+v/3dvYH8z8wjuXahw7R3WFt4snSc2SjZs78rsl65oSPrLqbpdXbbwVZwnMuJvqVIVN+rZfuujUrDe5f86GFog9bGvFlzpC0uRUdWyc7OGcSln5cITcC0J/yzsp7FVavsRDt3jhvn8XyUdjNDXARSDkXGXhZDfI1MQpEwxdPFHetqYBDhn0zYDTIUug45Gx8BrvTE0EqYqxnYskIKUaHe0x4tadLHSMv5AiK8vn9kKATbiN4Wni5j1u0M5b+BxExUCdFZFwq0DJGM3+4gxEjVEZQ7jeg+VZZoa7tRAGRFhfkEPbbCvrZpkuHtpA6Y9GzEGwSng2NVBNe0nkNPN7kkKbHRM3WJBOdaeognE+JObOvopHdpVPd7RBpUTHhKbMeaxC+TIfBY90sAXttXvtM9LRdIlBXEU7uNNO9U/70LNGTcNd5o+qdkBbIykjJINICzq1HIkbpgD378AjXg/BEh5DiScF/prU4EeVDTtfP8f/i+BoYxH5F1gC2vaTbKS9T7QFpphbSdKyjlPmboFf6//ZfOvWkXU4OiMEhxSkhC2tZm0s/M7jSU/bA9mF6hBJPweB4c3rG+KnC/eTEI+VlguJ1+J9iRcCmlWtVVpqE97Y9uejrxfCvk58UbIGv9Zta9CB9vqYdtK+Af82Ob3oBFi9TjyoBnyu/Acm6VjllOz5tRMyaCaXokk48XRje+DfPmqXSvBLTSN0DAQhiE6JEJa0fP9Xrq9o+xPcZ8zrBIGpouO6MH0YGNVmb26jGhVSE4CryfOSM307LLEOVZYOi5gvYltM1G0Wm9s7fcWzW9stKCYwiSWs8hir92p6Hk5bS33tJrvpjlSjq9YPiBuubyAohaj9J4POQgjiXT4ozUwZPC2dNjQZq2F82+GdBtl9qakwrFdvVj61wn9wKwSNQr3A2MdSalEzICgxRJ40iToge0su9g4MD1gsEZzLKYq3WQMyEhN/RwS4hW51KaxCV+s3I7DASSFwd46a8hElUKdW68bLurbEZKVUGVWRfQyx6NWvJ/xkHNXjgGIGVs3Shn61PdaUE+mTwk7JZ+5WeC66a1hOZ+h8jTHoL9zm/gJEFwTvwv4R8JyTqhkHNAiIekgEm0JnvWF8kao+3hW2BbbzV4p9wgSXmHfoKG727Kf5NiwJ5TkGyUMIb0pl94GawI6uXT4CQCde5KL7u+6TY1NjrXvuFvqoxQ+7PhZMHQ45KS4ekJkjsHiBNgkCKV0frNUCQ189B0fhs02n7Q/zwwAN+anEJ60NuNWukcOFmwnXfVD3PENMG1O4bHNu6ihTeX9t3PE7mFLILdcIKBHeFXiOH2o+1c2WCUvbAbJt/TyA+8RAvjbBikOHrr2LbvCepTbobjA58j5LKgp/SkrHLNK/5OP3GrU9qPBbSSRlp4K2k1aaDxJfmxDR/BCYYfPthPAuAaWtDNaIsFjLH/FBLPJZVmHwxS9CL5MIQcnyFrrVJoWoy24EIk3xS5H85MTUn+qcV1vokvjo683wT9hGSskibyfx0hdhq0FmgjLnFscSNJmaStjgY3n5TzR+j2AhggkGE9VbRG4zRBZkr9yEnfZGtQitrD5bfQmKw2YypnBTHexZQrQzLYyhEfLzh36KNddjHTguQGXEMVJkVaJkB6BJCvoa1zcw+NW0/qSeb0tAwbyMQQBjaCo9I6QVJiu0B68m5BZTAWZ7Lm0qvSAdo3OPtDc+We1lIBTgZyUSkd9h2aiKsxM82CozIbTzwwwEo+oeVKZCssTX7rtFjNjiQ6OUoD+pTvohA/osfkOLDBf18Urbo+8fhnOO3WaSz94R7qFILhd41c+E3+npqO7i/qfOUFmuU8QpGFRalN4oZ3XkF0/ZtwHEFjsZOiD2NgSNaYROguCOU+P1RG5MKFfM9bbd4RzSsiSCsGThICGdMvR9NeSh6mlf5zhl6mIinbh03ITA953lUCQni9M0ZG1q+HQYRPbseIf8/yaV9NZcD4K5TFdvUDFAW4J/UdRRGuOJBz9hDoCxo+UGxV/zyVARVGRyqbtJzh1xMjrE6tWljmVXAcEeQlb1G0oZgWWlTYVlfbFAO6DVi+3Mnf83rHyWRABY/fswJssZd2pouCq1tWB3nZExkhzwrFgLRr7dybJbbCIEMyEyLakhl3DQlX7u8tkyfb/DWFt7YlZZXg7WyLVkCvtbGd/lj1Pb1NpJpoqXvupDBXkh+M9KB5e/PmZsBxAlnlc+hSesHDxQfXtMCnFHk73gmDV19AC/UDstjPllJcR7/n0JiuAZ1dNL2pctD5C5OYkPwjzVErVN1XpuH7trV3SueVVLqQsrS3fCRpVvRHkvgj69ZKzusguW2j7fCeXDhOoMjuxKgPi4rs6u/Dpxz+SOXGwmfvnkT66VyBcB16+OwP5uRUFMeqdsIgRLKzmrMPxotdsf5k9AwZshNC4SQaBzGm10ycVUE/YiGKUcmp3Ui3E7vaRguG543IhIb34XjAD5u3QzsMGuCiRRQ/gTfdS+0Zq2DQIokJSUb1K7TkZjQ000mhSRWo7wWOFXOgn5Bk0qKV3BzUvANyKTVAyQ3Ez584MEBu+GaStH8qMquXfZx24oWI/A4hxdKRsO1JWV6uB6usx8mMKvaLzfMPJ8GVwRJ8ccfvVboiucUN5Mply3jj1fc/RWG/AqLNhxOIepg0myO5bRBfGCk2/woGAf6xDzAwVO6kualk9wSULf61QSubRobW99ykjI+lRTQXkb3pukg6T0OQO+aRWO79qP/kyYgv7viMRBwJH7MppzpU3nwYoBnzkXfqKEPjNzJbvF8Y3fgMDBCMwyhyb8ylvld1d/V8mnFKHOUSgPcJDUvUZXMsR037gTrfx6S4mfybBSpNTMAyh1vTpbB+C0eLhQstEOYFVN5ZMEB4opYfIrH/cCzrcjhFcGoc5QKxd5S5ZUs30saAVqaOZZ21zwQlLZs8eTmFpC+o7fRdaIHG7vmb8uZMI1fItbRV+1DXtmKMLUm4bnrE8uWMDcubyWNmBpVVmSBXQ2l6to6LKAyojpUZqPH6iCl+Nx5q3CP+ewsqKmJtkUUYjZEgw4nBnHNuV/TCW87/BS5e7Mq15rSzZ5pWdCETIod0+HYSfa8UxSpXIBze4AuWX+yTtS03cVWpV1uW23jIB+o76xIRMz9HDvsM2gpauYHPFUSqunyMTbnnzBASKpgBb9l726eQ034SZqQvxSi2SJ9cCI5sgE6TgkmWOgVu0fvVfqvmaffwb/fxM86abIvYNeRGyhMoO4F7Xh9pVnZ9VHdCmVAzvEOhs5+JbduXQpFWuOWYHNxU34dgXaOhRqpAHxJ2NeEDLbNpO36QXEE/BMWI3SBa21bTsHpQBXBITyWr9Jp9ObNm5+1/J3yYKrhooZi6ZefT/c8VIZRVkt3RAS9Jxz2l7U6StB30crilQZ/ypeJo1Sor1HEhxkw3BCqFPB1C7e7B2F05Oeqkdyygld5lxyL3qe0L3e/GBKfr3wOsVB06+V7q5CvUQ0m2rKpfTm8+62j8/tyWqgYJi1mj/sdHZDT6TTxUlhSCOzG8JcjK7vaL6p/G+x2uUGPiMIqeAQylRasiXe+KaGsdmvxByhgj3cZwP5GjhFTKDUFeerm0q7+Q0KEDaeULhRl9FqXLazaTZDfY5k2U7tnWCfZ1Z27bZp7Q7VhYziX9SXcg7WzSw+T4JCLigWg0ekQBKS7xvCAr+Z66dmsl9/h2Ny+nQS+jAd3a3GlX9lkA4koyZj5nI1xEbibFoKXRtvb7YABo74CbibEqyL+6gyyjS5HxOcD5L2lyssk7+4D6boQk1Z9oLhe7VZK0pnqvVde4lhZru29qITHBD4lO0g/vlhxnU1nXS3Bt+tuC2tSZqXXuzZuUoWnsOcWAVOAz/pEFaoFBs/HKROnAN+h2jyqDc5xFbHQzucEk6Si3NI/43PCkgoT0okEqDIPzMn0Zb3TRJUlzxMcoeDGfJPflkuFOYspL9vjK3YhX69C5Q8k4e4D0Y06G5kPU57mosS9T/+upqq9k7/IsUOlO7HYsxPw9aVPOHdFZ9W5vyUzLvA4lDutOozh25dhw1T7lbBwwiHlosi5St0woKeNa3Q4ZIb+aDn0foLUN/WsqmqPum4ypdY5tb2UgZ8IAQAw/k8KdIHR2W3Fk02uKRhGmzZ2hyMW0TU3nu/T8fKhcF4QzOU3mYvL/NRQ7NUvdzItroDljeoUNtk5W71+K7ZrEAlgb1EonE3N/B9GZRM9rEvUxCh6YLdoT1Nnzadt/mWeLr+Ou12LxjjvnqVGh7fMpv1X9+0NZ1jXwEtWWC5z9zapvf06UZSI+cVp004/ch8Bm8iRMivcJcKN/Ts63Ex9hNelT0x2wl9qmeSE9Ph8JhSYzJkYLZO8VxTbd2SUdjSljaff5iUQ5mx6fO25M6GNaj1KWvDTP12XNqBjd9l6PBwcCetlVtrDv/gSrIf/bkYbMWLrvZRjiW+c+2ALF/tZSGsEF0rF/3Owt/Wt+tKa2t/yjOjY0J5i/3QzvS2NpIB3Zd4iyOyyRpsQb+oc1wSGXcs6BtWHqb5AkzViE3r83EF7PUDJYVBHzKE+X9CYGzI/fsBRHvlxEfcw59PBk9zAp83mHiTaLhBZeSWV9tiuLI1xPgAAnSRJ6pOzxE1iG4kD3rwBty9pNjK12bU+8HFtHdYwEYGzQmLKB6nLTkcT1qYkkF5yb7oiZ0OqIhFK5jFbGLKWDGLQJ2J32FYdxTxRp4eh7tIJ/yrxZSwva33ZPhzRlzJkkOg/eQT34KsgU/yViszdd/2/olxu9p7Z2rBwVXvfL7rSAd+p9aNp3OTbeSI93wQAhQR6BSAbQbZY0Kj3pcb2CoYcZuj+FukciiyQ524kBqexaKtw9JNxQdM6K4sCazkNlxNvOMZPpGk/KRWU5Dkahm0f3cJ6ew9FT+YJqy8CUNlMD1KcQbdBxFEwoHPkeBVrJQpS+jwuW4zWODU5MKJnlO3xuOYwU6QedSOtPg54p+6g3aU4k1LNkoXi2w+HbuS3rDsIxBDoyGLcOnGF9Jl60XI2rOy0+b1aaNE0aaGbCQMDRUiKCVA1vgrQK5/HxmjsHfTIi6bDWod8/FHZs+FqCHoTyYVHopLGOtqVk2ZJelFXR0dz+OBlAX2SN4ceI5uZDS8SXMxP3U1n3JzIEMmfkxsLt6WNh2zE5rEvhBvX5kGLWV4s7NixI0D+E07IAvFmJNh+xYTLqzkto9cnXU+mkcKbTyvP1rxRk0nJGSMc57NbGGD5abH7peTgK0JaQGcqanZ24PvSUnS5s55vqndDY5r7yB1/6yQ3qd8ukSQZZ7VfEC8VPxGn3TTy/4LBtQIgfgN3TesUGisao2zO08ByaoWn0soFlDUtiIlrguersYPNV6vwgTWi4Y8uhvszf7Skfq+6bM84dLrj1gofxDw2edW73/ILhG0N3r25FE2+jXGQR46IGXvZF911Hp3s+gJjxou3DZrl/1aKO0WGkc4uHa9uCvulT4VjAq9XTLhYiPXN+0Cg/Q5F2wrghBs9Y6rZZy7wp3tcjhOu30vQ7aFBq+06MAdoCVJxzIFuPzZl2b8t4i1wPi4/K908McE+4va0ucRm22EK0CRLYtkzvkKf7zC/EowF25gdD3+ebpXDud10aBvuZ+27xYltI6Vrt5s6mHbWHBrsHPAVqQhznWyOqzO0NWLLBkSYp/zKNoi3PjWpb7X47YhkZrcr1QYt5tr1tc529bHPtlmXLjBFWTiUy9g6t8tFoWzVBLF3tRMKbSb/6DLWn2pdlvNNTpYWwqV7omlpEaVTXz3dllA4vdGa8SpraVtIJZ2W2HKwNYsl6LWbVkBWbT0bEq4UzMvpcmP1BYZTqBlBG2FDpmOupz2t83FdDbVZ/HrAfdelGhEhpxLrERVpO40AqKY5t3EUx2C+qDh0uDa2EWsa0y/yzc/6FrL7vkvDrxzF03MINfl6+tfHHyo8ERwimYQQ530MhuRBdne7FNVIhWIDp/GGpa5cOPTT51A/TTatrrmbldkjjLYpGDuEnqSPFxBzkNmL1QtMX+SMb1ybqkRrcC8oXzXgHo7UT7wI7QJGZrk9Ai6yatdJjXEmivYpUldE0CeWUxgSd3d52unVvIt0oc+12bhh307tdlMZBEVe91DfLuse4nNqxFNUfN6GcRcybIxh7ydA9VybUFQ3i/eAa71JfRsY2riAn+28ZY740oX8DFrYKoeP5lP9VmvN0uqaDy6T4a91LrpqEsUFjFR8TI0kVYrpuxen6/uTx1ty6Qde7jsK1TbCvZRyXqL5Sf2aSFCqgNCttzTOrqDPupD8m/z6lnL+++uYbSb+6jFZSOapNWcpqYuy/aLlySXfLTJ1UFrr9VdKPyGfEzyKNr4AmxqH0tZTvTeTaawWxS18/Wul3rCFXriTdbbSG88YctcNcbtigQziXH2lZ6oQ7VDamQXlhlBb5UY0TlcWoLC+V1Xk8D+y6bV6zxguxmIXz5iWdTPl/+jv2xktbiOwAAAAASUVORK5CYII=",alt:"Logo of libary"})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"header__menu"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("nav",{className:"header__menu-first"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"header__menu-navigation-mobile"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"pagefold-parent--small header__menu-navigation-button header__button",id:"header__menu--open"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"pagefold-triangle--small"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{src:_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_menu_svg__WEBPACK_IMPORTED_MODULE_1___default(),alt:"List of bookmarks"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"header__menu-navigation-logo"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"logo-fallback"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"logo-fallback__text-name"},"Lyngby-Taarbæk"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"logo-fallback__text-libraries"},"Bibliotekerne")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"header__menu-navigation"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"header__menu-navigation-item"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:"/",className:"header__menu-navigation-link text-body-medium-regular hide-linkstyle"},"Det sker")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"header__menu-navigation-item"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:"/",className:"header__menu-navigation-link text-body-medium-regular hide-linkstyle"},"Biblioteker & åbningstider")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"header__menu-navigation-item"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:"/",className:"header__menu-navigation-link text-body-medium-regular hide-linkstyle"},"Digitale tilbud")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"header__menu-navigation-item"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:"/",className:"header__menu-navigation-link text-body-medium-regular hide-linkstyle"},"Litteratur")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"header__menu-navigation-item"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:"/",className:"header__menu-navigation-link text-body-medium-regular hide-linkstyle"},"Børn & forældre")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"header__menu-profile header__button"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:"/",className:"hide-linkstyle"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{src:_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_profile_svg__WEBPACK_IMPORTED_MODULE_2___default(),alt:"Profile"}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"header__menu-bookmarked header__button"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:"/"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{src:_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_heart_svg__WEBPACK_IMPORTED_MODULE_3___default(),alt:"List of bookmarks"})))),children),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"header__clock"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"pagefold-parent--medium"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"pagefold-triangle--medium"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"header__clock-items"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{src:_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_watch_static_svg__WEBPACK_IMPORTED_MODULE_4___default(),className:"mb-8",alt:"clock icon"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"text-small-caption"},"Fredag"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"text-small-caption"},"28 Maj")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:"header__overlay"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"header__overlay-main"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{id:"header__menu--close",src:_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_cross_medium_svg__WEBPACK_IMPORTED_MODULE_5___default(),alt:"close"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"header__overlay-menu"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"header__overlay-menu-item"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:"/",className:"header__overlay-menu-link text-body-large hide-linkstyle"},"Det sker")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"header__overlay-menu-item"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:"/",className:"header__overlay-menu-link text-body-large hide-linkstyle"},"Biblioteker & åbningstider")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"header__overlay-menu-item"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:"/",className:"header__overlay-menu-link text-body-large hide-linkstyle"},"Digitale tilbud")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"header__overlay-menu-item"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:"/",className:"header__overlay-menu-link text-body-large hide-linkstyle"},"Litteratur")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"header__overlay-menu-item"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:"/",className:"header__overlay-menu-link text-body-large hide-linkstyle"},"Børn & forældre")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"header__overlay-backdrop"})))};try{storyheaderdevinc.displayName="storyheaderdevinc",storyheaderdevinc.__docgenInfo={description:"",displayName:"storyheaderdevinc",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/search-bar/story-header.dev.inc.tsx#storyheaderdevinc"]={docgenInfo:storyheaderdevinc.__docgenInfo,name:"storyheaderdevinc",path:"src/components/search-bar/story-header.dev.inc.tsx#storyheaderdevinc"})}catch(__react_docgen_typescript_loader_error){}},"./src/core/config.slice.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Mg:()=>addConfigEntries,ZP:()=>__WEBPACK_DEFAULT_EXPORT__});const configSlice=(0,__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js").oM)({name:"config",initialState:{data:{}},reducers:{addConfigEntries(state,action){state.data={...state.data,...action.payload.entries}}}}),{addConfigEntries}=configSlice.actions,__WEBPACK_DEFAULT_EXPORT__=configSlice.reducer},"./src/core/dbc-gateway/generated/graphql.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U5:()=>AccessTypeCode,sl:()=>FacetField,sW:()=>SuggestionType,Dv:()=>useGetInfomediaQuery,BN:()=>useGetManifestationViaMaterialByFaustQuery,og:()=>useGetMaterialQuery,Zu:()=>useIntelligentFacetsQuery,NF:()=>useSearchFacetQuery,OX:()=>useSearchWithPaginationQuery,UC:()=>useSuggestionsFromQueryStringQuery});var es=__webpack_require__("./node_modules/react-query/es/index.js"),core_token=__webpack_require__("./src/core/token.js"),extractServiceBaseUrls=__webpack_require__("./src/core/utils/reduxMiddleware/extractServiceBaseUrls.ts");const fetcher=(query,variables)=>async()=>{const token=(0,core_token.LP)(core_token.b4)||(0,core_token.LP)(core_token.t8),authHeaders=token?{Authorization:`Bearer ${token}`}:{},res=await fetch((0,extractServiceBaseUrls.fG)(extractServiceBaseUrls.PS.fbi),{method:"POST",headers:{"Content-Type":"application/json",...authHeaders},body:JSON.stringify({query,variables})}),json=await res.json();if(json.errors){const{message}=json.errors[0];throw new Error(message)}return json.data};let AccessTypeCode,ChildOrAdultCode,CopyRequestStatus,EntryType,FacetField,FictionNonfictionCode,HoldingsStatus,IdentifierType,InfomediaError,LanguageCode,LibrariansReviewSectionCode,ManifestationPartType,NoteType,PeriodicaArticleOrderStatus,SchoolUseCode,SubjectType,SuggestionType,WorkType;!function(AccessTypeCode){AccessTypeCode.NotSpecified="NOT_SPECIFIED",AccessTypeCode.Online="ONLINE",AccessTypeCode.Physical="PHYSICAL",AccessTypeCode.Unknown="UNKNOWN"}(AccessTypeCode||(AccessTypeCode={})),function(ChildOrAdultCode){ChildOrAdultCode.ForAdults="FOR_ADULTS",ChildOrAdultCode.ForChildren="FOR_CHILDREN"}(ChildOrAdultCode||(ChildOrAdultCode={})),function(CopyRequestStatus){CopyRequestStatus.ErrorAgencyNotSubscribed="ERROR_AGENCY_NOT_SUBSCRIBED",CopyRequestStatus.ErrorInvalidPickupBranch="ERROR_INVALID_PICKUP_BRANCH",CopyRequestStatus.ErrorPidNotReservable="ERROR_PID_NOT_RESERVABLE",CopyRequestStatus.ErrorUnauthenticatedUser="ERROR_UNAUTHENTICATED_USER",CopyRequestStatus.Ok="OK"}(CopyRequestStatus||(CopyRequestStatus={})),function(EntryType){EntryType.AdditionalEntry="ADDITIONAL_ENTRY",EntryType.MainEntry="MAIN_ENTRY",EntryType.NationalBibliographyEntry="NATIONAL_BIBLIOGRAPHY_ENTRY"}(EntryType||(EntryType={})),function(FacetField){FacetField.AccessTypes="accessTypes",FacetField.CanAlwaysBeLoaned="canAlwaysBeLoaned",FacetField.ChildrenOrAdults="childrenOrAdults",FacetField.Creators="creators",FacetField.FictionNonfiction="fictionNonfiction",FacetField.FictionalCharacter="fictionalCharacter",FacetField.GenreAndForm="genreAndForm",FacetField.MainLanguages="mainLanguages",FacetField.MaterialTypes="materialTypes",FacetField.Subjects="subjects",FacetField.WorkTypes="workTypes"}(FacetField||(FacetField={})),function(FictionNonfictionCode){FictionNonfictionCode.Fiction="FICTION",FictionNonfictionCode.Nonfiction="NONFICTION",FictionNonfictionCode.NotSpecified="NOT_SPECIFIED"}(FictionNonfictionCode||(FictionNonfictionCode={})),function(HoldingsStatus){HoldingsStatus.OnLoan="OnLoan",HoldingsStatus.OnShelf="OnShelf"}(HoldingsStatus||(HoldingsStatus={})),function(IdentifierType){IdentifierType.Barcode="BARCODE",IdentifierType.Doi="DOI",IdentifierType.Isbn="ISBN",IdentifierType.Ismn="ISMN",IdentifierType.Issn="ISSN",IdentifierType.Movie="MOVIE",IdentifierType.Music="MUSIC",IdentifierType.NotSpecified="NOT_SPECIFIED",IdentifierType.OrderNumber="ORDER_NUMBER",IdentifierType.Publizon="PUBLIZON",IdentifierType.Upc="UPC",IdentifierType.Uri="URI"}(IdentifierType||(IdentifierType={})),function(InfomediaError){InfomediaError.BorrowercheckNotAllowed="BORROWERCHECK_NOT_ALLOWED",InfomediaError.BorrowerNotFound="BORROWER_NOT_FOUND",InfomediaError.BorrowerNotInMunicipality="BORROWER_NOT_IN_MUNICIPALITY",InfomediaError.BorrowerNotLoggedIn="BORROWER_NOT_LOGGED_IN",InfomediaError.ErrorInRequest="ERROR_IN_REQUEST",InfomediaError.InternalServerError="INTERNAL_SERVER_ERROR",InfomediaError.LibraryNotFound="LIBRARY_NOT_FOUND",InfomediaError.NoMunicipality="NO_MUNICIPALITY",InfomediaError.ServiceNotLicensed="SERVICE_NOT_LICENSED",InfomediaError.ServiceUnavailable="SERVICE_UNAVAILABLE"}(InfomediaError||(InfomediaError={})),function(LanguageCode){LanguageCode.Da="da",LanguageCode.En="en"}(LanguageCode||(LanguageCode={})),function(LibrariansReviewSectionCode){LibrariansReviewSectionCode.About="ABOUT",LibrariansReviewSectionCode.All="ALL",LibrariansReviewSectionCode.Compare="COMPARE",LibrariansReviewSectionCode.Conclusion="CONCLUSION",LibrariansReviewSectionCode.Description="DESCRIPTION",LibrariansReviewSectionCode.Evaluation="EVALUATION",LibrariansReviewSectionCode.Library="LIBRARY",LibrariansReviewSectionCode.Olddescription="OLDDESCRIPTION",LibrariansReviewSectionCode.Other="OTHER",LibrariansReviewSectionCode.Use="USE"}(LibrariansReviewSectionCode||(LibrariansReviewSectionCode={})),function(ManifestationPartType){ManifestationPartType.MusicTracks="MUSIC_TRACKS",ManifestationPartType.NotSpecified="NOT_SPECIFIED",ManifestationPartType.PartsOfBook="PARTS_OF_BOOK",ManifestationPartType.SheetMusicContent="SHEET_MUSIC_CONTENT"}(ManifestationPartType||(ManifestationPartType={})),function(NoteType){NoteType.ConnectionToOtherWorks="CONNECTION_TO_OTHER_WORKS",NoteType.DescriptionOfMaterial="DESCRIPTION_OF_MATERIAL",NoteType.Dissertation="DISSERTATION",NoteType.Language="LANGUAGE",NoteType.MusicalEnsembleOrCast="MUSICAL_ENSEMBLE_OR_CAST",NoteType.NotSpecified="NOT_SPECIFIED",NoteType.OccasionForPublication="OCCASION_FOR_PUBLICATION",NoteType.OriginalTitle="ORIGINAL_TITLE",NoteType.OriginalVersion="ORIGINAL_VERSION",NoteType.References="REFERENCES",NoteType.RestrictionsOnUse="RESTRICTIONS_ON_USE"}(NoteType||(NoteType={})),function(PeriodicaArticleOrderStatus){PeriodicaArticleOrderStatus.ErrorAgencyNotSubscribed="ERROR_AGENCY_NOT_SUBSCRIBED",PeriodicaArticleOrderStatus.ErrorInvalidPickupBranch="ERROR_INVALID_PICKUP_BRANCH",PeriodicaArticleOrderStatus.ErrorPidNotReservable="ERROR_PID_NOT_RESERVABLE",PeriodicaArticleOrderStatus.ErrorUnauthorizedUser="ERROR_UNAUTHORIZED_USER",PeriodicaArticleOrderStatus.Ok="OK"}(PeriodicaArticleOrderStatus||(PeriodicaArticleOrderStatus={})),function(SchoolUseCode){SchoolUseCode.ForSchoolUse="FOR_SCHOOL_USE",SchoolUseCode.ForTeacher="FOR_TEACHER"}(SchoolUseCode||(SchoolUseCode={})),function(SubjectType){SubjectType.FictionalCharacter="FICTIONAL_CHARACTER",SubjectType.FilmNationality="FILM_NATIONALITY",SubjectType.Laesekompasset="LAESEKOMPASSET",SubjectType.LibraryOfCongressSubjectHeading="LIBRARY_OF_CONGRESS_SUBJECT_HEADING",SubjectType.Location="LOCATION",SubjectType.MedicalSubjectHeading="MEDICAL_SUBJECT_HEADING",SubjectType.MusicalInstrumentation="MUSICAL_INSTRUMENTATION",SubjectType.MusicCountryOfOrigin="MUSIC_COUNTRY_OF_ORIGIN",SubjectType.MusicTimePeriod="MUSIC_TIME_PERIOD",SubjectType.NationalAgriculturalLibrary="NATIONAL_AGRICULTURAL_LIBRARY",SubjectType.TimePeriod="TIME_PERIOD",SubjectType.Title="TITLE",SubjectType.Topic="TOPIC"}(SubjectType||(SubjectType={})),function(SuggestionType){SuggestionType.Composit="COMPOSIT",SuggestionType.Creator="CREATOR",SuggestionType.Subject="SUBJECT",SuggestionType.Title="TITLE"}(SuggestionType||(SuggestionType={})),function(WorkType){WorkType.Analysis="ANALYSIS",WorkType.Article="ARTICLE",WorkType.Bookdescription="BOOKDESCRIPTION",WorkType.Game="GAME",WorkType.Literature="LITERATURE",WorkType.Map="MAP",WorkType.Movie="MOVIE",WorkType.Music="MUSIC",WorkType.Other="OTHER",WorkType.Periodica="PERIODICA",WorkType.Portrait="PORTRAIT",WorkType.Review="REVIEW",WorkType.Sheetmusic="SHEETMUSIC",WorkType.Track="TRACK"}(WorkType||(WorkType={}));const WorkSmallFragmentDoc="\n    fragment WorkSmall on Work {\n  workId\n  titles {\n    full\n    original\n  }\n  abstract\n  creators {\n    display\n    __typename\n  }\n  series {\n    ...SeriesSimple\n  }\n  seriesMembers {\n    workId\n    titles {\n      main\n      full\n      original\n    }\n  }\n  workYear\n  genreAndForm\n  manifestations {\n    ...ManifestationsSimple\n  }\n}\n    \n    fragment SeriesSimple on Series {\n  title\n  isPopular\n  numberInSeries {\n    display\n    number\n  }\n  readThisFirst\n  readThisWhenever\n}\n    \n\n    fragment ManifestationsSimple on Manifestations {\n  all {\n    ...ManifestationsSimpleFields\n  }\n  latest {\n    ...ManifestationsSimpleFields\n  }\n}\n    \n    fragment ManifestationsSimpleFields on Manifestation {\n  pid\n  genreAndForm\n  source\n  titles {\n    main\n    original\n  }\n  fictionNonfiction {\n    display\n    code\n  }\n  materialTypes {\n    specific\n  }\n  creators {\n    display\n    __typename\n  }\n  hostPublication {\n    title\n    creator\n    publisher\n    year {\n      year\n    }\n  }\n  languages {\n    main {\n      display\n    }\n  }\n  identifiers {\n    value\n  }\n  contributors {\n    display\n  }\n  edition {\n    summary\n    publicationYear {\n      display\n    }\n  }\n  audience {\n    generalAudience\n  }\n  physicalDescriptions {\n    numberOfPages\n  }\n  materialTypes {\n    specific\n  }\n  accessTypes {\n    code\n  }\n  access {\n    __typename\n    ... on AccessUrl {\n      origin\n      url\n      loginRequired\n    }\n    ... on InfomediaService {\n      id\n    }\n    ... on InterLibraryLoan {\n      loanIsPossible\n    }\n    ... on Ereol {\n      origin\n      url\n      canAlwaysBeLoaned\n    }\n    ... on DigitalArticleService {\n      issn\n    }\n  }\n  shelfmark {\n    postfix\n    shelfmark\n  }\n}\n    ",useGetManifestationViaMaterialByFaustQuery=(variables,options)=>(0,es.useQuery)(["getManifestationViaMaterialByFaust",variables],fetcher("\n    query getManifestationViaMaterialByFaust($faust: String!) {\n  manifestation(faust: $faust) {\n    pid\n    titles {\n      main\n    }\n    abstract\n    materialTypes {\n      specific\n    }\n    creators {\n      display\n    }\n    edition {\n      publicationYear {\n        display\n      }\n    }\n    series {\n      title\n      numberInSeries {\n        number\n      }\n    }\n  }\n}\n    ",variables),options),GetMaterialDocument=`\n    query getMaterial($wid: String!) {\n  work(id: $wid) {\n    ...WorkMedium\n  }\n}\n    ${`\n    fragment WorkMedium on Work {\n  ...WorkSmall\n  materialTypes {\n    specific\n  }\n  mainLanguages {\n    display\n    isoCode\n  }\n  subjects {\n    all {\n      display\n    }\n  }\n  reviews {\n    __typename\n    ... on LibrariansReview {\n      author\n      date\n      sections {\n        code\n        heading\n        text\n      }\n    }\n    ... on ExternalReview {\n      author\n      date\n      rating\n      urls {\n        origin\n        url\n      }\n    }\n    ... on InfomediaReview {\n      author\n      date\n      origin\n      rating\n      id\n    }\n  }\n  fictionNonfiction {\n    display\n    code\n  }\n  dk5MainEntry {\n    display\n  }\n}\n    ${WorkSmallFragmentDoc}`}`,useGetMaterialQuery=(variables,options)=>(0,es.useQuery)(["getMaterial",variables],fetcher(GetMaterialDocument,variables),options),useGetInfomediaQuery=(variables,options)=>(0,es.useQuery)(["getInfomedia",variables],fetcher("\n    query getInfomedia($id: String!) {\n  infomedia(id: $id) {\n    error\n    article {\n      headLine\n      text\n    }\n  }\n}\n    ",variables),options),SearchWithPaginationDocument=`\n    query searchWithPagination($q: SearchQuery!, $offset: Int!, $limit: PaginationLimit!, $filters: SearchFilters) {\n  search(q: $q, filters: $filters) {\n    hitcount\n    works(offset: $offset, limit: $limit) {\n      ...WorkSmall\n    }\n  }\n}\n    ${WorkSmallFragmentDoc}`,useSearchWithPaginationQuery=(variables,options)=>(0,es.useQuery)(["searchWithPagination",variables],fetcher(SearchWithPaginationDocument,variables),options),useSuggestionsFromQueryStringQuery=(variables,options)=>(0,es.useQuery)(["suggestionsFromQueryString",variables],fetcher("\n    query suggestionsFromQueryString($q: String!) {\n  suggest(q: $q) {\n    result {\n      type\n      term\n      work {\n        workId\n        titles {\n          main\n        }\n        creators {\n          display\n        }\n        manifestations {\n          first {\n            pid\n          }\n        }\n      }\n    }\n  }\n}\n    ",variables),options),useSearchFacetQuery=(variables,options)=>(0,es.useQuery)(["searchFacet",variables],fetcher("\n    query searchFacet($q: SearchQuery!, $facets: [FacetField!]!, $facetLimit: Int!, $filters: SearchFilters) {\n  search(q: $q, filters: $filters) {\n    facets(facets: $facets) {\n      name\n      values(limit: $facetLimit) {\n        key\n        term\n        score\n      }\n    }\n  }\n}\n    ",variables),options),useIntelligentFacetsQuery=(variables,options)=>(0,es.useQuery)(["intelligentFacets",variables],fetcher("\n    query intelligentFacets($q: SearchQuery!, $facetsLimit: Int!, $valuesLimit: Int!) {\n  search(q: $q) {\n    intelligentFacets(limit: $facetsLimit) {\n      name\n      values(limit: $valuesLimit) {\n        key\n        term\n        score\n      }\n    }\n  }\n}\n    ",variables),options);try{FacetField.displayName="FacetField",FacetField.__docgenInfo={description:"The supported facet fields",displayName:"FacetField",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/dbc-gateway/generated/graphql.tsx#FacetField"]={docgenInfo:FacetField.__docgenInfo,name:"FacetField",path:"src/core/dbc-gateway/generated/graphql.tsx#FacetField"})}catch(__react_docgen_typescript_loader_error){}try{HoldingsStatus.OnLoan.displayName="HoldingsStatus.OnLoan",HoldingsStatus.OnLoan.__docgenInfo={description:"Holding is on loan",displayName:"HoldingsStatus.OnLoan",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/dbc-gateway/generated/graphql.tsx#HoldingsStatus.OnLoan"]={docgenInfo:HoldingsStatus.OnLoan.__docgenInfo,name:"HoldingsStatus.OnLoan",path:"src/core/dbc-gateway/generated/graphql.tsx#HoldingsStatus.OnLoan"})}catch(__react_docgen_typescript_loader_error){}try{HoldingsStatus.OnShelf.displayName="HoldingsStatus.OnShelf",HoldingsStatus.OnShelf.__docgenInfo={description:"Holding is physically available at the branch",displayName:"HoldingsStatus.OnShelf",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/dbc-gateway/generated/graphql.tsx#HoldingsStatus.OnShelf"]={docgenInfo:HoldingsStatus.OnShelf.__docgenInfo,name:"HoldingsStatus.OnShelf",path:"src/core/dbc-gateway/generated/graphql.tsx#HoldingsStatus.OnShelf"})}catch(__react_docgen_typescript_loader_error){}},"./src/core/dpl-cms/dpl-cms.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{by:()=>useCampaignMatchPOST,nV:()=>useDplDasDigitalArticleOrderPOST,Yh:()=>useProxyUrlGET});var es=__webpack_require__("./node_modules/react-query/es/index.js"),core_token=__webpack_require__("./src/core/token.js"),extractServiceBaseUrls=__webpack_require__("./src/core/utils/reduxMiddleware/extractServiceBaseUrls.ts");const fetcher=async _ref2=>{let{url,method,headers,params,data}=_ref2;const token=(0,core_token.LP)(core_token.b4)??(0,core_token.LP)(core_token.t8),baseURL=(0,extractServiceBaseUrls.fG)(extractServiceBaseUrls.PS.dplCms),authHeaders=token?{Authorization:`Bearer ${token}`}:{},body=data?JSON.stringify(data):null,response=await fetch(`${baseURL}${url}${params?`?${function buildParams(data){let params;return"string"==typeof data||void 0===data?params=new URLSearchParams(data):(params=new URLSearchParams,Object.entries(data).forEach((_ref=>{let[key,value]=_ref;Array.isArray(value)?value.forEach((inner=>{params.append(key,inner.toString())})):params.append(key,value.toString())}))),params}(params)}`:""}`,{method,headers:{...headers,...authHeaders},body});if(!response.ok)throw new Error(`${response.status}: ${response.statusText}`);try{return await response.json()}catch(e){if(!(e instanceof SyntaxError))throw e}return null},useCampaignMatchPOST=options=>{const{mutation:mutationOptions}=options??{};return(0,es.useMutation)((props=>{const{data,params}=props??{};return((campaignMatchPOSTBodyItem,params)=>fetcher({url:"/dpl_campaign/match",method:"post",headers:{"Content-Type":"application/json"},data:campaignMatchPOSTBodyItem,params}))(data,params)}),mutationOptions)},useDplDasDigitalArticleOrderPOST=options=>{const{mutation:mutationOptions}=options??{};return(0,es.useMutation)((props=>{const{data,params}=props??{};return((dplDasDigitalArticleOrderPOSTBody,params)=>fetcher({url:"/dpl_das/order",method:"post",headers:{"Content-Type":"application/json"},data:dplDasDigitalArticleOrderPOSTBody,params}))(data,params)}),mutationOptions)},useProxyUrlGET=(params,queryOptions)=>{const queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??(params=>["/dpl-url-proxy",...params?[params]:[]])(params),query=(0,es.useQuery)(queryKey,(_ref=>{let{signal}=_ref;return((params,signal)=>fetcher({url:"/dpl-url-proxy",method:"get",signal,params}))(params)}),queryOptions);return{queryKey,...query}}},"./src/core/fbs/fbs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{AG:()=>getAvailabilityV3,OL:()=>getGetHoldingsV3QueryKey,_0:()=>getGetLoansV2QueryKey,Tk:()=>getGetPatronInformationByPatronIdV2QueryKey,Jp:()=>getGetReservationsV2QueryKey,kd:()=>useAddReservationsV2,a4:()=>useDeleteReservations,DP:()=>useGetAvailabilityV3,CI:()=>useGetFeesV2,T8:()=>useGetHoldingsV3,n1:()=>useGetLoansV2,wK:()=>useGetPatronInformationByPatronIdV2,U:()=>useGetReservationsV2,Gb:()=>useRenewLoansV2,OE:()=>useUpdateReservations,tX:()=>useUpdateV5});var es=__webpack_require__("./node_modules/react-query/es/index.js"),core_token=__webpack_require__("./src/core/token.js"),extractServiceBaseUrls=__webpack_require__("./src/core/utils/reduxMiddleware/extractServiceBaseUrls.ts");const fetcher_fetcher=async _ref2=>{let{url,method,headers,params,data}=_ref2;const token=(0,core_token.LP)(core_token.b4)??(0,core_token.LP)(core_token.t8),baseURL=(0,extractServiceBaseUrls.fG)(extractServiceBaseUrls.PS.fbs),authHeaders=token?{Authorization:`Bearer ${token}`}:{},body=data?JSON.stringify(data):null,response=await fetch(`${baseURL}${url}${params?`?${function buildParams(data){let params;return"string"==typeof data||void 0===data?params=new URLSearchParams(data):(params=new URLSearchParams,Object.entries(data).forEach((_ref=>{let[key,value]=_ref;Array.isArray(value)?value.forEach((inner=>{params.append(key,inner.toString())})):params.append(key,value.toString())}))),params}(params)}`:""}`,{method,headers:{...headers,...authHeaders},body});if(!response.ok)throw new Error(`${response.status}: ${response.statusText}`);try{return await response.json()}catch(e){if(!(e instanceof SyntaxError))throw e}return null},useDeleteReservations=options=>{const{mutation:mutationOptions}=options??{};return(0,es.useMutation)((props=>{const{params}=props??{};return(params=>fetcher_fetcher({url:"/external/v1/agencyid/patrons/patronid/reservations",method:"delete",params}))(params)}),mutationOptions)},useUpdateReservations=options=>{const{mutation:mutationOptions}=options??{};return(0,es.useMutation)((props=>{const{data}=props??{};return fetcher_fetcher({url:"/external/v1/agencyid/patrons/patronid/reservations",method:"put",headers:{"Content-Type":"application/json"},data})}),mutationOptions)},getGetReservationsV2QueryKey=()=>["/external/v1/agencyid/patrons/patronid/reservations/v2"],useGetReservationsV2=options=>{const{query:queryOptions}=options??{},queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??getGetReservationsV2QueryKey();return{queryKey,...(0,es.useQuery)(queryKey,(_ref3=>{let{signal}=_ref3;return(signal=>fetcher_fetcher({url:"/external/v1/agencyid/patrons/patronid/reservations/v2",method:"get",signal}))(signal)}),queryOptions)}},useAddReservationsV2=options=>{const{mutation:mutationOptions}=options??{};return(0,es.useMutation)((props=>{const{data}=props??{};return fetcher_fetcher({url:"/external/v1/agencyid/patrons/patronid/reservations/v2",method:"post",headers:{"Content-Type":"application/json"},data})}),mutationOptions)},getAvailabilityV3=(params,signal)=>fetcher_fetcher({url:"/external/agencyid/catalog/availability/v3",method:"get",signal,params}),useGetAvailabilityV3=(params,options)=>{const{query:queryOptions}=options??{},queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??(params=>["/external/agencyid/catalog/availability/v3",...params?[params]:[]])(params);return{queryKey,...(0,es.useQuery)(queryKey,(_ref4=>{let{signal}=_ref4;return getAvailabilityV3(params,signal)}),queryOptions)}},getGetHoldingsV3QueryKey=params=>["/external/agencyid/catalog/holdings/v3",...params?[params]:[]],useGetHoldingsV3=(params,options)=>{const{query:queryOptions}=options??{},queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??getGetHoldingsV3QueryKey(params),query=(0,es.useQuery)(queryKey,(_ref5=>{let{signal}=_ref5;return((params,signal)=>fetcher_fetcher({url:"/external/agencyid/catalog/holdings/v3",method:"get",signal,params}))(params,signal)}),queryOptions);return{queryKey,...query}},useGetFeesV2=(params,options)=>{const{query:queryOptions}=options??{},queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??(params=>["/external/agencyid/patron/patronid/fees/v2",...params?[params]:[]])(params),query=(0,es.useQuery)(queryKey,(_ref6=>{let{signal}=_ref6;return((params,signal)=>fetcher_fetcher({url:"/external/agencyid/patron/patronid/fees/v2",method:"get",signal,params}))(params,signal)}),queryOptions);return{queryKey,...query}},useRenewLoansV2=options=>{const{mutation:mutationOptions}=options??{};return(0,es.useMutation)((props=>{const{data}=props??{};return fetcher_fetcher({url:"/external/agencyid/patrons/patronid/loans/renew/v2",method:"post",headers:{"Content-Type":"application/json"},data})}),mutationOptions)},getGetLoansV2QueryKey=()=>["/external/agencyid/patrons/patronid/loans/v2"],useGetLoansV2=options=>{const{query:queryOptions}=options??{},queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??getGetLoansV2QueryKey();return{queryKey,...(0,es.useQuery)(queryKey,(_ref7=>{let{signal}=_ref7;return(signal=>fetcher_fetcher({url:"/external/agencyid/patrons/patronid/loans/v2",method:"get",signal}))(signal)}),queryOptions)}},getGetPatronInformationByPatronIdV2QueryKey=()=>["/external/agencyid/patrons/patronid/v2"],useGetPatronInformationByPatronIdV2=options=>{const{query:queryOptions}=options??{},queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??getGetPatronInformationByPatronIdV2QueryKey();return{queryKey,...(0,es.useQuery)(queryKey,(_ref8=>{let{signal}=_ref8;return(signal=>fetcher_fetcher({url:"/external/agencyid/patrons/patronid/v2",method:"get",signal}))(signal)}),queryOptions)}},useUpdateV5=options=>{const{mutation:mutationOptions}=options??{};return(0,es.useMutation)((props=>{const{data}=props??{};return fetcher_fetcher({url:"/external/agencyid/patrons/patronid/v5",method:"put",headers:{"Content-Type":"application/json"},data})}),mutationOptions)}},"./src/core/guardedRequests.slice.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Bs:()=>guardedRequest,SF:()=>AUTH_PARAM,ZP:()=>__WEBPACK_DEFAULT_EXPORT__,fG:()=>reRunRequest,qC:()=>hasRequestExpired,yQ:()=>removeRequest});var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),_material_list_api_material_list__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/material-list-api/material-list.ts"),_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/store.ts"),_utils_helpers_date__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/utils/helpers/date.ts"),_utils_helpers_url__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/core/utils/helpers/url.ts"),_utils_helpers_user__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/helpers/user.ts");const AUTH_PARAM="didAuthenticate",requestCallbacks={addFavorite:_ref=>{let{id}=_ref;return(0,_material_list_api_material_list__WEBPACK_IMPORTED_MODULE_0__.jX)("default",id)}},hasRequestExpired=_ref2=>{let{expire}=_ref2;return!expire||(0,_utils_helpers_date__WEBPACK_IMPORTED_MODULE_3__.Z)()>expire},guardedRequests=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_4__.oM)({name:"guardedRequests",initialState:{request:null},reducers:{addRequest(state,action){const{payload:request}=action;null!=request&&request.expire||(request.expire=(0,_utils_helpers_date__WEBPACK_IMPORTED_MODULE_3__.Z)()+60),state.request=request},removeRequest(state){state.request=null}}}),{addRequest,removeRequest}=guardedRequests.actions,getRequestCallback=type=>null==requestCallbacks?void 0:requestCallbacks[type],requestCallbackExists=type=>Boolean(getRequestCallback(type)),guardedRequest=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_4__.hg)("guardedRequests/performRequest",(async(requestItem,_ref3)=>{let{dispatch,fulfillWithValue,getState}=_ref3;const{type,args}=requestItem;if(!requestCallbackExists(type))return fulfillWithValue({status:"ignored",message:"Nothing to do"});(0,_utils_helpers_user__WEBPACK_IMPORTED_MODULE_2__.I)()&&(dispatch(addRequest(requestItem)),_store__WEBPACK_IMPORTED_MODULE_1__.Dj.flush().then((()=>{const{authUrl}=(state=>{const{url:{data}}=state;return(0,_utils_helpers_url__WEBPACK_IMPORTED_MODULE_5__.W3)(data)})(getState());if(authUrl){const returnUrl=(0,_utils_helpers_url__WEBPACK_IMPORTED_MODULE_5__.oW)(new URL((0,_utils_helpers_url__WEBPACK_IMPORTED_MODULE_5__.vW)()),{[AUTH_PARAM]:"1"});(0,_utils_helpers_url__WEBPACK_IMPORTED_MODULE_5__.hN)({authUrl,returnUrl})}}))),console.debug("PERFORMING REQUEST CALLBACK");return getRequestCallback(type)(args)})),reRunRequest=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_4__.hg)("guardedRequests/reRunRequest",(async(requestItem,_ref4)=>{let{fulfillWithValue}=_ref4;const{type,args}=requestItem;if(requestCallbackExists(type)){const requestCallback=getRequestCallback(type);return console.debug("RERUNNING REQUEST"),requestCallback(args)}return fulfillWithValue({status:"success",message:""})})),__WEBPACK_DEFAULT_EXPORT__=guardedRequests.reducer},"./src/core/material-list-api/material-list.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{jX:()=>addItem,cl:()=>removeItem,Sc:()=>useHasItem});var es=__webpack_require__("./node_modules/react-query/es/index.js"),token=__webpack_require__("./src/core/token.js"),extractServiceBaseUrls=__webpack_require__("./src/core/utils/reduxMiddleware/extractServiceBaseUrls.ts");const fetcher_fetcher=async _ref=>{let{url,method,params,data}=_ref;const additionalHeaders="object"===(null==data?void 0:data.headers)?null==data?void 0:data.headers:{},baseURL=(0,extractServiceBaseUrls.fG)(extractServiceBaseUrls.PS.materialList),userToken=(0,token.LP)(token.b4),headers={...userToken?{Authorization:`Bearer ${userToken}`}:{},...additionalHeaders},body=data?JSON.stringify(data):null,response=await fetch(`${baseURL}${url}${new URLSearchParams(params)}`,{method,headers,body});if(!response.ok)throw new Error(`${response.status}: ${response.statusText}`);try{return await response.json()}catch(e){if(!(e instanceof SyntaxError))throw e}return null},useHasItem=options=>{const{mutation:mutationOptions}=options??{};return(0,es.useMutation)((props=>{const{listId,itemId}=props??{};return((listId,itemId,signal)=>fetcher_fetcher({url:`/list/${listId}/${itemId}`,method:"head",signal}))(listId,itemId)}),mutationOptions)},addItem=(listId,itemId)=>fetcher_fetcher({url:`/list/${listId}/${itemId}`,method:"put"}),removeItem=(listId,itemId)=>fetcher_fetcher({url:`/list/${listId}/${itemId}`,method:"delete"})},"./src/core/modal.slice.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Mr:()=>closeModal,ZP:()=>__WEBPACK_DEFAULT_EXPORT__,h7:()=>openModal});const modalSlice=(0,__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js").oM)({name:"modal",initialState:{modalIds:[]},reducers:{openModal(state,action){if(action.payload.modalId&&!state.modalIds.includes(action.payload.modalId)){state.modalIds.push(action.payload.modalId);const searchParams=new URLSearchParams(window.location.search),alreadyOpenModals=searchParams.get("modal");alreadyOpenModals&&searchParams.set("modal",`${alreadyOpenModals}${action.payload.modalId}`)}},closeModal(state,action){var _searchParams$get;state.modalIds.splice(state.modalIds.indexOf(action.payload.modalId),1);const searchParams=new URLSearchParams(window.location.search),newSearchParams=null===(_searchParams$get=searchParams.get("modal"))||void 0===_searchParams$get?void 0:_searchParams$get.replace(action.payload.modalId,"");searchParams.set("modal",newSearchParams||"")}}}),{openModal,closeModal}=modalSlice.actions,__WEBPACK_DEFAULT_EXPORT__=modalSlice.reducer},"./src/core/publizon/publizon.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{t7:()=>useDeleteV1UserReservationsIdentifier,ul:()=>useGetV1LibraryProfile,tq:()=>useGetV1ProductsIdentifier,T8:()=>useGetV1UserLoans,ju:()=>useGetV1UserReservations});var es=__webpack_require__("./node_modules/react-query/es/index.js"),core_token=__webpack_require__("./src/core/token.js"),extractServiceBaseUrls=__webpack_require__("./src/core/utils/reduxMiddleware/extractServiceBaseUrls.ts");const fetcher_fetcher=async _ref2=>{let{url,method,headers,params,data}=_ref2;const token=(0,core_token.LP)(core_token.b4)??(0,core_token.LP)(core_token.t8),baseURL=(0,extractServiceBaseUrls.fG)(extractServiceBaseUrls.PS.publizon),authHeaders=token?{Authorization:`Bearer ${token}`}:{},body=data?JSON.stringify(data):null,response=await fetch(`${baseURL}${url}${params?`?${function buildParams(data){let params;return"string"==typeof data||void 0===data?params=new URLSearchParams(data):(params=new URLSearchParams,Object.entries(data).forEach((_ref=>{let[key,value]=_ref;Array.isArray(value)?value.forEach((inner=>{params.append(key,inner.toString())})):params.append(key,value.toString())}))),params}(params)}`:""}`,{method,headers:{...headers,...authHeaders},body});if(!response.ok)throw new Error(`${response.status}: ${response.statusText}`);try{return await response.json()}catch(e){if(!(e instanceof SyntaxError))throw e}return null},useGetV1LibraryProfile=options=>{const{query:queryOptions}=options??{},queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??["/v1/library/profile"];return{queryKey,...(0,es.useQuery)(queryKey,(_ref3=>{let{signal}=_ref3;return(signal=>fetcher_fetcher({url:"/v1/library/profile",method:"get",signal}))(signal)}),queryOptions)}},useGetV1UserLoans=(params,options)=>{const{query:queryOptions}=options??{},queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??(params=>["/v1/user/loans",...params?[params]:[]])(params),query=(0,es.useQuery)(queryKey,(_ref4=>{let{signal}=_ref4;return((params,signal)=>fetcher_fetcher({url:"/v1/user/loans",method:"get",signal,params}))(params,signal)}),queryOptions);return{queryKey,...query}},useGetV1ProductsIdentifier=(identifier,options)=>{const{query:queryOptions}=options??{},queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??(identifier=>[`/v1/products/${identifier}`])(identifier);return{queryKey,...(0,es.useQuery)(queryKey,(_ref7=>{let{signal}=_ref7;return((identifier,signal)=>fetcher_fetcher({url:`/v1/products/${identifier}`,method:"get",signal}))(identifier,signal)}),{enabled:!!identifier,...queryOptions})}},useGetV1UserReservations=options=>{const{query:queryOptions}=options??{},queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??["/v1/user/reservations"];return{queryKey,...(0,es.useQuery)(queryKey,(_ref9=>{let{signal}=_ref9;return(signal=>fetcher_fetcher({url:"/v1/user/reservations",method:"get",signal}))(signal)}),queryOptions)}},useDeleteV1UserReservationsIdentifier=options=>{const{mutation:mutationOptions}=options??{};return(0,es.useMutation)((props=>{const{identifier}=props??{};return(identifier=>fetcher_fetcher({url:`/v1/user/reservations/${identifier}`,method:"delete"}))(identifier)}),mutationOptions)}},"./src/core/statistics/statistics.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>statistics});const statistics={searchQuery:{id:10,name:"OSS"},searchResultCount:{id:11,name:"OSS Results"},searchFacets:{id:20,name:"Søgning Facet"},materialType:{id:24,name:"Materialetype"},materialGenre:{id:25,name:"Materiale Genre"},materialLanguage:{id:29,name:"Materiale Sprog"},materialSource:{id:30,name:"Materiale Kilde"},materialTargetAudience:{id:31,name:"Materiale Målgruppe"},materialTopicNumber:{id:32,name:"Materiale - DK5-nummer (Emnetal)"},materialFictionNonFiction:{id:33,name:"Materiale Fiktion/nonfiktion"},materialStatus:{id:38,name:"Materiale Status"},searchResultNumberClick:{id:42,name:"Søgning - Resultatnummer klik"},campaignClick:{id:48,name:"Kampagneklik"},reservation:{id:50,name:"Reserver"},onlineReservation:{id:51,name:"Se online"},autosuggestClick:{id:54,name:"Autosuggest - klik"},campaignShown:{id:62,name:"KampagnePlus Titel"}}},"./src/core/statistics/useStatistics.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function useStatistics(){return window.wts||(window.wts={push(trackingProps){console.log(`Tracking: ${trackingProps[0]}, ${trackingProps[1]}, ${JSON.stringify(trackingProps[2])}`)}}),{track:(eventType,trackParameters)=>{const eventData={linkId:trackParameters.name,customClickParameter:{}};return eventData.customClickParameter[trackParameters.id]=trackParameters.trackedData,window.wts.push(["send",eventType,eventData]),new Promise((resolve=>{setTimeout((()=>{resolve("resolved")}),500)}))}}}__webpack_require__.d(__webpack_exports__,{T:()=>useStatistics})},"./src/core/store.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Dj:()=>persistor,h:()=>store,v9:()=>useSelector});var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/redux/es/redux.js"),react_redux__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-redux/es/index.js"),redux_persist__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/redux-persist/es/index.js"),redux_persist_lib_storage_session__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/redux-persist/lib/storage/session.js"),_text_slice__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/text.slice.ts"),_user_slice__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/core/user.slice.js"),_modal_slice__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/core/modal.slice.ts"),_url_slice__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/core/url.slice.ts"),_config_slice__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/core/config.slice.ts"),_guardedRequests_slice__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/core/guardedRequests.slice.ts"),_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/core/utils/reduxMiddleware/extractServiceBaseUrls.ts");const persistConfig={key:"dpl-react",storage:redux_persist_lib_storage_session__WEBPACK_IMPORTED_MODULE_2__.Z,blacklist:["text","url","modal","config"]},store=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_10__.xC)({middleware:getDefaultMiddleware=>[...getDefaultMiddleware(),_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_9__.ZP],reducer:(0,redux_persist__WEBPACK_IMPORTED_MODULE_1__.OJ)(persistConfig,(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_11__.UY)({user:_user_slice__WEBPACK_IMPORTED_MODULE_4__.ZP,text:_text_slice__WEBPACK_IMPORTED_MODULE_3__.ZP,modal:_modal_slice__WEBPACK_IMPORTED_MODULE_5__.ZP,url:_url_slice__WEBPACK_IMPORTED_MODULE_6__.ZP,config:_config_slice__WEBPACK_IMPORTED_MODULE_7__.ZP,guardedRequests:_guardedRequests_slice__WEBPACK_IMPORTED_MODULE_8__.ZP})),devTools:!1}),persistor=(0,redux_persist__WEBPACK_IMPORTED_MODULE_1__.p5)(store),useSelector=react_redux__WEBPACK_IMPORTED_MODULE_0__.v9},"./src/core/storybook/serviceUrlArgs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/utils/reduxMiddleware/extractServiceBaseUrls.ts");const __WEBPACK_DEFAULT_EXPORT__={[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.PS.fbs]:{name:"Base url for the FBS API",defaultValue:"https://fbs-openplatform.dbc.dk",control:{type:"text"}},[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.PS.publizon]:{name:"Base url for the Publizon API",defaultValue:"https://pubhub-openplatform.test.dbc.dk",control:{type:"text"}},[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.PS.dplCms]:{name:"Base url for the DPL CMS API",defaultValue:"https://dpl-cms.docker",control:{type:"text"}},[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.PS.cover]:{name:"Base url for the cover service",defaultValue:"https://cover.dandigbib.org",control:{type:"text"}},[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.PS.materialList]:{name:"Base url for the material list service",defaultValue:"https://prod.materiallist.dandigbib.org",control:{type:"text"}},[_utils_reduxMiddleware_extractServiceBaseUrls__WEBPACK_IMPORTED_MODULE_0__.PS.fbi]:{name:"Base url for the FBI API",defaultValue:"https://fbi-api.dbc.dk/opac/graphql",control:{type:"text"}}}},"./src/core/text.slice.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{N5:()=>addTextEntries,ZP:()=>__WEBPACK_DEFAULT_EXPORT__});const textSlice=(0,__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js").oM)({name:"text",initialState:{data:{}},reducers:{addTextEntries(state,action){state.data={...state.data,...action.payload.entries}}}}),{addTextEntries}=textSlice.actions,__WEBPACK_DEFAULT_EXPORT__=textSlice.reducer},"./src/core/token.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{LP:()=>getToken,b4:()=>TOKEN_USER_KEY,hA:()=>hasToken,o4:()=>setToken,t8:()=>TOKEN_LIBRARY_KEY});const tokens={},TOKEN_USER_KEY="user",TOKEN_LIBRARY_KEY="library";function setToken(type,value){tokens[type]=value}function hasToken(type){return Boolean(tokens[type])}function getToken(type){return tokens[type]}},"./src/core/url.slice.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__,dd:()=>addUrlEntries});const urlSlice=(0,__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js").oM)({name:"url",initialState:{data:{}},reducers:{addUrlEntries(state,action){state.data={...state.data,...action.payload.entries}}}}),{addUrlEntries}=urlSlice.actions,__WEBPACK_DEFAULT_EXPORT__=urlSlice.reducer},"./src/core/user.slice.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ot:()=>setStatusAuthenticated,ZP:()=>__WEBPACK_DEFAULT_EXPORT__,ig:()=>setStatusUnauthenticated});var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js");const attemptAuthentication=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.hg)("user/attemptAuthentication",(()=>Promise.resolve())),userSlice=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.oM)({name:"user",initialState:{status:"unauthenticated"},reducers:{updateStatus(state,action){"unauthenticated"!==state.status&&"attempting"!==state.status||(action.payload.hasToken?state.status="authenticated":action.payload.doFail&&"attempting"===state.status&&(state.status="failed"))},setStatusAuthenticated(state){state.status="authenticated"},setStatusUnauthenticated(state){state.status="unauthenticated"}},extraReducers:{[attemptAuthentication.pending]:state=>{state.status="attempting"}}}),{updateStatus,setStatusAuthenticated,setStatusUnauthenticated}=userSlice.actions,__WEBPACK_DEFAULT_EXPORT__=userSlice.reducer},"./src/core/utils/config.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Rh:()=>withConfig,ZR:()=>useConfig});var _store__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/store.ts"),_config_slice__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/config.slice.ts"),_withSuffix__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/withSuffix.tsx");const useConfig=()=>{const{data}=(0,_store__WEBPACK_IMPORTED_MODULE_0__.v9)((state=>state.config));return(key,options)=>{if("string"!=typeof data[key])throw new Error(`Config entry "${key}" is not defined.`);return"jsonParse"===(null==options?void 0:options.transformer)?JSON.parse(data[key]):"stringToArray"===(null==options?void 0:options.transformer)?data[key].split(","):null==data?void 0:data[key]}},withConfig=Component=>(0,_withSuffix__WEBPACK_IMPORTED_MODULE_2__.Z)(Component,"Config",_config_slice__WEBPACK_IMPORTED_MODULE_1__.Mg);try{withConfig.displayName="withConfig",withConfig.__docgenInfo={description:"",displayName:"withConfig",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/utils/config.tsx#withConfig"]={docgenInfo:withConfig.__docgenInfo,name:"withConfig",path:"src/core/utils/config.tsx#withConfig"})}catch(__react_docgen_typescript_loader_error){}},"./src/core/utils/helpers/date.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=()=>Math.floor(Date.now()/1e3)},"./src/core/utils/helpers/general.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{rp:()=>convertPostIdToFaustId,b7:()=>creatorsToString,Sz:()=>daysBetweenDates,q7:()=>daysBetweenTodayAndDate,Bi:()=>filterCreators,n7:()=>filterLoansOverdue,jQ:()=>filterLoansSoonOverdue,TG:()=>flattenCreators,R3:()=>getAmountOfRenewableLoans,EC:()=>getColors,yz:()=>getCoverTint,I8:()=>getDueDatesLoan,qZ:()=>getListItems,qQ:()=>getManifestationPid,S2:()=>getManifestationPublicationYear,vn:()=>getManifestationsPids,GM:()=>getModalIds,Qf:()=>getParams,S1:()=>getReadyForPickup,JY:()=>getRenewableMaterials,CU:()=>groupObjectArrayByProperty,bV:()=>materialIsFiction,cf:()=>materialIsOverdue,T6:()=>orderManifestationsByYear,Rh:()=>pageSizeGlobal,sC:()=>sortByLoanDate,_M:()=>stringifyValue});__webpack_require__("./node_modules/core-js/modules/esnext.set.add-all.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.delete-all.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.difference.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.every.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.filter.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.find.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.intersection.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.join.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.map.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.reduce.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.some.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.union.js"),__webpack_require__("./node_modules/react/index.js");var dayjs_min=__webpack_require__("./node_modules/dayjs/dayjs.min.js"),dayjs_min_default=__webpack_require__.n(dayjs_min),lib=__webpack_require__("./node_modules/react-device-detect/dist/lib.js");const page_size_namespaceObject=JSON.parse('{"mobile":{"pageSize":20},"desktop":{"pageSize":50}}'),page_size_loan_list_namespaceObject=JSON.parse('{"mobile":{"pageSize":10},"desktop":{"pageSize":25}}'),page_size_reservation_list_namespaceObject=JSON.parse('{"mobile":{"pageSize":10},"desktop":{"pageSize":25}}'),cover_tints_namespaceObject=JSON.parse('{"coverTints":["100","40","80","120","20"]}'),colors_namespaceObject=JSON.parse('{"default":"#484848","danger":"#d5364a","warning":"#f7bf42","success":"#068802"}');var status_thresholds=__webpack_require__("./src/core/configuration/status-thresholds.json"),modal_ids=__webpack_require__("./src/core/configuration/modal-ids.json");const getConf=(type,configuration,device)=>{const subConf=configuration[type];return device?subConf[device]:subConf},getDeviceConf=(type,configuration)=>{const device=lib.tq?"mobile":"desktop";return getConf(type,configuration,device)},configuration={pageSize:page_size_namespaceObject,coverTints:cover_tints_namespaceObject,pageSizeLoanList:page_size_loan_list_namespaceObject,pageSizeReservationList:page_size_reservation_list_namespaceObject,colors:colors_namespaceObject,modalIds:modal_ids,thresholds:status_thresholds};var url=__webpack_require__("./src/core/utils/helpers/url.ts");const getManifestationPublicationYear=manifestation=>{var _manifestation$editio,_manifestation$editio2;return(null===(_manifestation$editio=manifestation.edition)||void 0===_manifestation$editio||null===(_manifestation$editio2=_manifestation$editio.publicationYear)||void 0===_manifestation$editio2?void 0:_manifestation$editio2.display)||null},orderManifestationsByYear=function(manifestations){let order=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desc";return manifestations.sort(((a,b)=>{const currentDate=Number(getManifestationPublicationYear(a)),prevDate=Number(getManifestationPublicationYear(b));return"desc"===order?prevDate-currentDate:currentDate-prevDate}))},filterCreators=(creators,filterBy)=>creators.filter((creator=>creator.__typename&&filterBy.includes(creator.__typename))),flattenCreators=creators=>creators.map((creator=>creator.display)),creatorsToString=(creators,t)=>{if(creators.length>1){return`${creators.slice(0,2).join(", ")} ${t("etAlText")}`}return creators[0]},getManifestationPid=manifestations=>orderManifestationsByYear(manifestations)[0].pid,getCoverTint=index=>{const conf=getConf("coverTints",configuration),{coverTints}=conf;if(coverTints){return coverTints[index%coverTints.length]}},getColors=()=>getConf("colors",configuration),getModalIds=()=>getConf("modalIds",configuration),daysBetweenTodayAndDate=date=>{const inputDate=dayjs_min_default()(new Date(date)),today=dayjs_min_default()(new Date);return Math.ceil(inputDate.diff(today,"day",!0))},daysBetweenDates=(firstDate,secondDate)=>{const inputFirstDate=dayjs_min_default()(new Date(firstDate)),inputSecondDate=dayjs_min_default()(new Date(secondDate));return Math.ceil(inputFirstDate.diff(inputSecondDate,"day",!0))},convertPostIdToFaustId=postId=>{const matches=postId.match(/^[0-9]+-[a-z]+:([a-zA-Z0-9]+)$/);if(null!=matches&&matches[1])return null==matches?void 0:matches[1];throw new Error(`Unable to extract faust id from post id "${postId}"`)},getParams=props=>{const params={};return Object.entries(props).forEach((_ref=>{let[property,value]=_ref;params[property]=value||(0,url.wo)(property)})),params},sortByLoanDate=list=>list.sort(((objA,objB)=>new Date(objA.loanDate||new Date).getTime()-new Date(objB.loanDate||new Date).getTime())),getDueDatesLoan=list=>Array.from(new Set(list.filter((_ref2=>{let{dueDate}=_ref2;return null!==dueDate})).map((_ref3=>{let{dueDate}=_ref3;return dueDate})))),getRenewableMaterials=list=>list.filter((_ref5=>{let{isRenewable}=_ref5;return isRenewable})).map((_ref6=>{let{loanId}=_ref6;return loanId})),getAmountOfRenewableLoans=list=>getRenewableMaterials(list).length,groupObjectArrayByProperty=(array,property)=>array.reduce(((result,current)=>{const groupBy=current[property];if(!groupBy)return result;const key=String(groupBy);return key in result?{...result,[key]:[...result[key],current]}:{...result,[key]:[current]}}),{}),getManifestationsPids=manifestations=>manifestations.map((manifestation=>manifestation.pid)),stringifyValue=value=>value?String(value):"",materialIsFiction=_ref7=>{let{fictionNonfiction}=_ref7;return"FICTION"===(null==fictionNonfiction?void 0:fictionNonfiction.code)},getListItems=(list,itemsShown)=>[...list].splice(0,itemsShown),pageSizeGlobal=(pageSizes,configName)=>{let pageSize=0;return pageSize=null!=pageSizes&&pageSizes.desktop&&null!=pageSizes&&pageSizes.mobile?(_ref8=>{let{desktop,mobile}=_ref8;const{pageSize}=getDeviceConf("pageSize",{pageSize:{mobile:{pageSize:mobile},desktop:{pageSize:desktop}}});return Number(pageSize)})(pageSizes):(pageSizeConf=>{const{pageSize}=getDeviceConf(pageSizeConf,configuration);return Number(pageSize)})(configName||"pageSize"),pageSize},materialIsOverdue=date=>dayjs_min_default()().isAfter(dayjs_min_default()(date),"day"),getReadyForPickup=list=>[...list].filter((_ref9=>{let{state}=_ref9;return"readyForPickup"===state})),filterLoansOverdue=loans=>loans.filter((_ref10=>{let{dueDate}=_ref10;return materialIsOverdue(dueDate)})),filterLoansSoonOverdue=loans=>{const{warning}=getConf("thresholds",configuration);return loans.filter((_ref11=>{let{dueDate}=_ref11;const daysUntilExpiration=daysBetweenTodayAndDate(dueDate||"");return daysUntilExpiration-warning<=0&&daysUntilExpiration-warning>=-warning}))}},"./src/core/utils/helpers/list-mapper.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{L6:()=>mapManifestationToBasicDetailsType,Qb:()=>mapFBSReservationToReservationType,Rr:()=>mapPublizonLoanToLoanType,U9:()=>mapProductToBasicDetailsType,_P:()=>mapPublizonReservationToReservationType,u3:()=>mapFBSLoanToLoanType});var _store__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/store.ts");const getContributors=creators=>{let returnContentString="";const{text:{data:texts}}=_store__WEBPACK_IMPORTED_MODULE_0__.h.getState();return creators&&creators.length>0&&(returnContentString=1===creators.length?`${texts.materialByAuthorText} ${creators.join(", ")}`:`${texts.materialByAuthorText} ${creators.slice(0,-1).join(", ")} ${texts.materialAndAuthorText} ${creators.slice(-1)}`),returnContentString};function getSeriesString(series){return series.map((_ref=>{let{title,numberInSeries}=_ref;var _numberInSeries$numbe;return numberInSeries&&numberInSeries.number?`${title} ${null===(_numberInSeries$numbe=numberInSeries.number)||void 0===_numberInSeries$numbe?void 0:_numberInSeries$numbe[0]}`:title})).join(", ")}const mapPublizonLoanToLoanType=list=>list.map((_ref2=>{let{loanExpireDateUtc,orderDateUtc,libraryBook}=_ref2;return{dueDate:loanExpireDateUtc,loanDate:orderDateUtc,isRenewable:!1,materialItemNumber:(null==libraryBook?void 0:libraryBook.identifier)||"",renewalStatusList:[],loanType:null,identifier:(null==libraryBook?void 0:libraryBook.identifier)||null,faust:null,loanId:null}})),mapFBSLoanToLoanType=list=>list.map((_ref3=>{var _loanDetails$periodic;let{loanDetails,isRenewable,renewalStatusList}=_ref3;return{dueDate:loanDetails.dueDate,loanDate:loanDetails.loanDate,periodical:(null===(_loanDetails$periodic=loanDetails.periodical)||void 0===_loanDetails$periodic?void 0:_loanDetails$periodic.displayText)||"",renewalStatusList,isRenewable,materialItemNumber:loanDetails.materialItemNumber,loanType:loanDetails.loanType,identifier:null,faust:loanDetails.recordId||null,loanId:loanDetails.loanId}})),mapProductToBasicDetailsType=material=>{const{publicationDate,title,description,productType,contributors,externalProductId}=material,{text:{data:texts}}=_store__WEBPACK_IMPORTED_MODULE_0__.h.getState(),digitalProductType={1:texts.publizonEbookText,2:texts.publizonAudioBookText,4:texts.publizonPodcastText};return{title,periodical:null,year:publicationDate?(date=publicationDate,new Date(date).getFullYear()):"",description,materialType:productType?digitalProductType[productType]:"",externalProductId:null==externalProductId?void 0:externalProductId.id,authors:contributors?getContributors(null==contributors?void 0:contributors.map((_ref4=>{let{firstName,lastName}=_ref4;return`${firstName} ${lastName}`}))):""};var date},mapManifestationToBasicDetailsType=material=>{const{edition,abstract,titles,pid,materialTypes,creators,series}=(null==material?void 0:material.manifestation)||{},description=abstract?abstract[0]:"",{main:[mainText]}=titles||{main:[]},{publicationYear}=edition||{},{display:year}=publicationYear||{};let contributors=null;const inputContributorsArray=null==creators?void 0:creators.map((_ref5=>{let{display}=_ref5;return display}));return inputContributorsArray&&(contributors=getContributors(inputContributorsArray)),{authors:contributors||"",pid,title:mainText,year,description,series:series&&series.length>0?getSeriesString(series):"",materialType:materialTypes?materialTypes[0].specific:void 0}},mapPublizonReservationToReservationType=list=>list.map((_ref6=>{let{identifier,createdDateUtc,status,expectedRedeemDateUtc,productTitle,expireDateUtc}=_ref6;return{identifier,faust:null,dateOfReservation:createdDateUtc,expiryDate:expireDateUtc,state:status?{1:"reserved",2:"readyForPickup",3:"redeemed",4:"cancelled",5:"expired"}[status]:null,title:productTitle,pickupDeadline:expectedRedeemDateUtc}})),mapFBSReservationToReservationType=list=>list.map((_ref7=>{let{recordId,dateOfReservation,expiryDate,numberInQueue,state,pickupBranch,pickupDeadline,pickupNumber,reservationId,periodical}=_ref7;return{periodical:(null==periodical?void 0:periodical.displayText)||"",faust:recordId,dateOfReservation,expiryDate,numberInQueue,state,pickupBranch,pickupDeadline,pickupNumber,reservationId}}))},"./src/core/utils/helpers/url.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Nt:()=>constructSearchUrl,U2:()=>constructSearchUrlWithFilter,W3:()=>turnUrlStringsIntoObjects,WO:()=>constructMaterialUrl,gB:()=>redirectTo,hN:()=>redirectToLoginAndBack,kI:()=>replaceCurrentLocation,oC:()=>removeQueryParametersFromUrl,oW:()=>appendQueryParametersToUrl,pM:()=>isUrlValid,ul:()=>setQueryParametersInUrl,vW:()=>getCurrentLocation,wo:()=>getUrlQueryParam});const getCurrentLocation=()=>String(window.location),appendQueryParametersToUrl=(url,parameters)=>{const processedUrl=new URL(url);return Object.keys(parameters).forEach((key=>{processedUrl.searchParams.set(key,parameters[key])})),processedUrl},getUrlQueryParam=param=>{const queryParams=new URLSearchParams(window.location.search);return queryParams.get(param)?decodeURI(String(queryParams.get(param))):null},setQueryParametersInUrl=parameters=>{const processedUrl=new URL(getCurrentLocation());Object.keys(parameters).forEach((key=>{processedUrl.searchParams.set(key,parameters[key])})),window.history.replaceState(null,"",processedUrl)},redirectTo=url=>{window.location.assign(url)},processUrlPlaceholders=(url,placeholders)=>{let processedUrl=url;return placeholders.forEach((placeholder=>{const[name,replacement]=placeholder;processedUrl=((url,placeholderName,replacement)=>{const regex=new RegExp(`${placeholderName}`,"g");return url.match(regex)?url.replace(regex,replacement):url})(processedUrl,name,replacement)})),processedUrl},constructMaterialUrl=(url,workId,type)=>{const materialUrl=url;return materialUrl.pathname=processUrlPlaceholders(url.pathname,[[":workid",workId]]),type?appendQueryParametersToUrl(materialUrl,{type}):materialUrl},constructSearchUrl=(searchUrl,q)=>appendQueryParametersToUrl(searchUrl,{q}),constructSearchUrlWithFilter=args=>{const{searchUrl,selectedItemString,filter}=args;return appendQueryParametersToUrl(searchUrl,{q:selectedItemString,...filter})},turnUrlStringsIntoObjects=urls=>Object.keys(urls).reduce(((acc,key)=>({...acc,[key]:new URL(urls[key],getCurrentLocation())})),{}),replaceCurrentLocation=replacementUrl=>{window.history.replaceState(null,"",replacementUrl)},removeQueryParametersFromUrl=(url,parameter)=>(url.searchParams.delete(parameter),url);function redirectToLoginAndBack(_ref){let{authUrl,returnUrl,trackingFunction}=_ref;const{pathname,search,hash}=returnUrl,redirectUrl=appendQueryParametersToUrl(authUrl,{"current-path":`${pathname}${search}${hash}`});trackingFunction&&trackingFunction().then((()=>redirectTo(redirectUrl))),redirectTo(redirectUrl)}const isUrlValid=text=>{try{const url=new URL(text);return"http:"===url.protocol||"https:"===url.protocol}catch(err){return!1}}},"./src/core/utils/helpers/user.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>userIsAnonymous});var _token__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/token.js");const userIsAnonymous=()=>!(0,_token__WEBPACK_IMPORTED_MODULE_0__.hA)("user")},"./src/core/utils/modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__,f:()=>useModalButtonHandler});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_CloseLarge_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/CloseLarge.svg"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_CloseLarge_svg__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_CloseLarge_svg__WEBPACK_IMPORTED_MODULE_2__),clsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),_modal_slice__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/modal.slice.ts");function Modal(_ref){let{modalId,closeModalAriaLabelText,children,screenReaderModalDescriptionText,classNames}=_ref;const dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.I0)(),{modalIds}=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)((s=>s.modal));return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{var _searchParams$get;null!==(_searchParams$get=new URLSearchParams(window.location.search).get("modal"))&&void 0!==_searchParams$get&&_searchParams$get.includes(modalId)&&dispatch((0,_modal_slice__WEBPACK_IMPORTED_MODULE_3__.h7)({modalId}))}),[modalId,dispatch]),modalIds&&!modalIds.includes(modalId)?null:react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"modal-backdrop",style:{zIndex:modalIds.indexOf(modalId)+10}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:(0,clsx__WEBPACK_IMPORTED_MODULE_4__.Z)("modal",{"modal-show":modalIds.includes(modalId)},classNames),role:"dialog"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"modal__screen-reader-description",id:`modal-${modalId}`},screenReaderModalDescriptionText),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",autoFocus:!0,className:"btn-ui modal-btn-close","aria-describedby":`modal-${modalId}`,style:{zIndex:modalIds.indexOf(modalId)+10},"aria-label":closeModalAriaLabelText,onClick:()=>{dispatch((0,_modal_slice__WEBPACK_IMPORTED_MODULE_3__.Mr)({modalId}))},"data-cy":`modal-${modalId}-close-button`},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{src:_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_CloseLarge_svg__WEBPACK_IMPORTED_MODULE_2___default(),alt:"",style:{pointerEvents:"none"}})),children))}const useModalButtonHandler=()=>{const dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.I0)();return{open:modalId=>dispatch((0,_modal_slice__WEBPACK_IMPORTED_MODULE_3__.h7)({modalId})),close:modalId=>dispatch((0,_modal_slice__WEBPACK_IMPORTED_MODULE_3__.Mr)({modalId}))}},__WEBPACK_DEFAULT_EXPORT__=Modal;try{Modal.displayName="Modal",Modal.__docgenInfo={description:"",displayName:"Modal",props:{modalId:{defaultValue:null,description:"",name:"modalId",required:!0,type:{name:"string"}},closeModalAriaLabelText:{defaultValue:null,description:"",name:"closeModalAriaLabelText",required:!0,type:{name:"string"}},screenReaderModalDescriptionText:{defaultValue:null,description:"",name:"screenReaderModalDescriptionText",required:!0,type:{name:"string"}},classNames:{defaultValue:null,description:"",name:"classNames",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/utils/modal.tsx#Modal"]={docgenInfo:Modal.__docgenInfo,name:"Modal",path:"src/core/utils/modal.tsx#Modal"})}catch(__react_docgen_typescript_loader_error){}},"./src/core/utils/reduxMiddleware/extractServiceBaseUrls.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{PS:()=>serviceUrlKeys,ZP:()=>__WEBPACK_DEFAULT_EXPORT__,fG:()=>getServiceBaseUrl});const serviceUrlKeys={fbs:"fbsBaseUrl",publizon:"publizonBaseUrl",dplCms:"dplCmsBaseUrl",cover:"coverBaseUrl",materialList:"materialListBaseUrl",fbi:"fbiBaseUrl"};let serviceBaseUrls={};const filterUrls=(urls,filterFunction)=>Object.keys(urls).filter(filterFunction).reduce(((obj,key)=>({...obj,[key]:urls[key]})),{}),getServiceBaseUrl=apiBaseUrlKey=>{if(!serviceBaseUrls[apiBaseUrlKey])throw new Error(`Service base url for ${apiBaseUrlKey} is not defined.`);return serviceBaseUrls[apiBaseUrlKey]},__WEBPACK_DEFAULT_EXPORT__=()=>next=>action=>{if("url/addUrlEntries"===String(action.type)){const{payload:{entries}}=action;serviceBaseUrls=filterUrls(entries,(key=>Object.values(serviceUrlKeys).includes(key)));const otherUrls=filterUrls(entries,(key=>!Object.values(serviceUrlKeys).includes(key)));return next({...action,payload:{entries:otherUrls}})}return next(action)}},"./src/core/utils/text.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{X:()=>useText,z:()=>withText});var _store__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/store.ts"),_text_slice__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/text.slice.ts"),_withSuffix__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/withSuffix.tsx");class TextDefinitionError extends Error{constructor(message){super(message),this.name="TextDefinitionError"}}const constructTextDefinitionFromRawTextTextEntry=rawText=>{if(!rawText.match(/^\{.*\}$/))return{type:"simple",text:[rawText]};try{const textDefinition=JSON.parse(rawText);if("object"==typeof textDefinition&&2===Object.keys(textDefinition).length&&Object.keys(textDefinition).includes("type")&&Object.keys(textDefinition).includes("text")&&["simple","plural"].includes((null==textDefinition?void 0:textDefinition.type)??"")&&Array.isArray(null==textDefinition?void 0:textDefinition.text)){const type=null==textDefinition?void 0:textDefinition.type,text=(null==textDefinition?void 0:textDefinition.text)??[];if(["simple"].includes(type)&&1!==text.length)throw new TextDefinitionError("Simple text definitions must have exactly one text entry");if(["plural"].includes(type)&&2!==text.length)throw new TextDefinitionError("Plural text definitions must have exactly two text entries");return textDefinition}}catch(error){const message=error instanceof Error?error.message:"Unknown error";throw new TextDefinitionError(`Could not parse rawText text format: ${rawText}. Message: ${message}`)}return{type:"simple",text:["Unknown text entry"]}},processTexts=(texts,placeholders)=>texts.map((text=>text.replace(/@\w+/g,(match=>0===placeholders[match]?"0":String(placeholders[match]||match))))),useText=()=>{const{data}=(0,_store__WEBPACK_IMPORTED_MODULE_0__.v9)((state=>state.text));return function(key){let{placeholders,count}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{count:0};const textDefinition=constructTextDefinitionFromRawTextTextEntry((null==data?void 0:data[key])??key),textPlaceholders={...placeholders??{}};"plural"===textDefinition.type&&(textPlaceholders["@count"]=String(count));const processedTexts=textPlaceholders?processTexts(textDefinition.text,textPlaceholders):textDefinition.text;return"plural"===textDefinition.type?0===count?processedTexts[1]:processedTexts[1%(count??1)]:processedTexts[0]}},withText=Component=>(0,_withSuffix__WEBPACK_IMPORTED_MODULE_2__.Z)(Component,"Text",_text_slice__WEBPACK_IMPORTED_MODULE_1__.N5);try{withText.displayName="withText",withText.__docgenInfo={description:"",displayName:"withText",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/utils/text.tsx#withText"]={docgenInfo:withText.__docgenInfo,name:"withText",path:"src/core/utils/text.tsx#withText"})}catch(__react_docgen_typescript_loader_error){}},"./src/core/utils/url.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J_:()=>useUrls,XL:()=>withUrls});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/store.ts"),_url_slice__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/url.slice.ts"),_helpers_url__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/core/utils/helpers/url.ts"),_withSuffix__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/utils/withSuffix.tsx");const useUrls=()=>{const{data}=(0,_store__WEBPACK_IMPORTED_MODULE_1__.v9)((state=>state.url));return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>(0,_helpers_url__WEBPACK_IMPORTED_MODULE_4__.W3)(data)),[data])},withUrls=Component=>(0,_withSuffix__WEBPACK_IMPORTED_MODULE_3__.Z)(Component,"Url",_url_slice__WEBPACK_IMPORTED_MODULE_2__.dd);try{withUrls.displayName="withUrls",withUrls.__docgenInfo={description:"",displayName:"withUrls",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/utils/url.tsx#withUrls"]={docgenInfo:withUrls.__docgenInfo,name:"withUrls",path:"src/core/utils/url.tsx#withUrls"})}catch(__react_docgen_typescript_loader_error){}},"./src/core/utils/withSuffix.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/store.ts");const __WEBPACK_DEFAULT_EXPORT__=(Component,suffix,reduxAction)=>props=>{const pattern=new RegExp(`.*${suffix}$`,"g"),suffixEntries=Object.fromEntries(Object.entries(props).filter((_ref=>{let[prop]=_ref;return String(prop).match(pattern)}))),nonSuffixEntries=Object.fromEntries(Object.entries(props).filter((_ref2=>{let[prop]=_ref2;return!String(prop).match(pattern)})));return Object.keys(suffixEntries).length&&_store__WEBPACK_IMPORTED_MODULE_1__.h.dispatch(reduxAction({entries:suffixEntries})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,nonSuffixEntries)}},"./storybook-init-framework-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./.storybook/dev-fonts.scss":(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"body{font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}","",{version:3,sources:["webpack://./.storybook/dev-fonts.scss"],names:[],mappings:"AAAsD,KACpD,iHAUF",sourcesContent:['@import "./src/components/design-system/_system.scss";body {\n  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif,\n    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n}\n'],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./src/components/components.scss":(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".dpl-reset{clip:auto;animation:none 0s ease 0s 1 normal none running;-webkit-backface-visibility:visible;backface-visibility:visible;background:#0000 none repeat 0 0/auto auto padding-box border-box scroll;border:none;border-collapse:initial;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:initial;caption-side:top;clear:none;color:#000;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-span:1;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;empty-cells:show;float:none;font-family:inherit;font-size:inherit;font-stretch:inherit;font-style:inherit;font-variant:inherit;font-weight:inherit;-webkit-hyphens:none;hyphens:none;left:auto;letter-spacing:normal;line-height:inherit;list-style:disc none outside;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;tab-size:8;table-layout:auto;text-align:left;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:initial;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:initial;visibility:visible;white-space:normal;widows:2;word-spacing:normal;z-index:auto}:root{--reach-dialog:1}[data-reach-dialog-overlay]{background:#00000054;bottom:0;left:0;overflow:auto;position:fixed;right:0;top:0}[data-reach-dialog-content]{background:#fff;margin:10vh auto;outline:none;padding:2rem;width:50vw}","",{version:3,sources:["webpack://./src/components/reset.scss","webpack://./src/components/components.scss","webpack://./node_modules/@reach/dialog/styles.css"],names:[],mappings:"AAGA,WAgBE,SAAU,CAfV,+CAAgD,CAChD,mCAAoC,CACpC,2BAA4B,CAC5B,wEACQ,CACR,WAAgC,CAChC,uBAAyB,CACzB,iBAAkB,CAClB,eAAgB,CAChB,gBAAiB,CACjB,WAAY,CACZ,eAAgB,CAChB,kBAAuB,CACvB,gBAAiB,CACjB,UAAW,CAEX,UAAW,CAGX,mBAAoB,CACpB,iBAAkB,CAClB,oCAAqC,CACrC,aAAc,CACd,YAAkB,CAClB,cAAe,CACf,sBAAuB,CACvB,kBAAmB,CACnB,WAAY,CACZ,aAAc,CACd,cAAe,CACf,gBAAiB,CACjB,UAAW,CACX,mBAAoB,CACpB,iBAAkB,CAIlB,oBAAqB,CAHrB,kBAAmB,CACnB,oBAAqB,CACrB,mBAAoB,CAGpB,oBAAqB,CAErB,YAAa,CACb,SAAU,CACV,qBAAsB,CALtB,mBAAoB,CAMpB,4BAA6B,CAC7B,QAAS,CACT,eAAgB,CAChB,cAAe,CACf,YAAa,CACb,WAAY,CACZ,SAAU,CACV,SAAU,CACV,0BAA2B,CAC3B,gBAAiB,CACjB,kBAAmB,CACnB,kBAAmB,CACnB,SAAU,CACV,qBAAsB,CACtB,sBAAuB,CACvB,sBAAuB,CACvB,gBAAiB,CACjB,0BAA2B,CAC3B,eAAgB,CAChB,UAAW,CAEX,UAAW,CACX,iBAAkB,CAClB,eAAgB,CAChB,oBAAqB,CACrB,oBAAqB,CACrB,aAAc,CACd,gBAAiB,CACjB,mBAAoB,CACpB,QAAS,CACT,cAAe,CACf,wBAA2B,CAC3B,oBAAqB,CACrB,0BAA2B,CAC3B,mBAAoB,CACpB,sBAAwB,CACxB,kBAAmB,CACnB,kBAAmB,CACnB,QAAS,CACT,mBAAoB,CACpB,YCMF,CC3FA,MACE,gBDgGF,CAEA,4BC9FE,oBAAiC,CAIjC,QAAS,CACT,MAAO,CACP,aAAc,CALd,cAAe,CAEf,OAAQ,CADR,KDoGF,CAEA,4BC5FE,eAAiB,CADjB,gBAAiB,CAGjB,YAAa,CADb,YAAa,CAHb,UDoGF",sourcesContent:["// This is not to be extended!\n// When using it use it as a class on a DOM element.\n\n.dpl-reset {\n  animation: none 0s ease 0s 1 normal none running;\n  -webkit-backface-visibility: visible;\n  backface-visibility: visible;\n  background: transparent none repeat 0 0 / auto auto padding-box border-box\n    scroll;\n  border: medium none currentColor;\n  border-collapse: separate;\n  border-image: none;\n  border-radius: 0;\n  border-spacing: 0;\n  bottom: auto;\n  box-shadow: none;\n  box-sizing: content-box;\n  caption-side: top;\n  clear: none;\n  clip: auto;\n  color: #000;\n  columns: auto;\n  column-count: auto;\n  column-fill: balance;\n  column-gap: normal;\n  column-rule: medium none currentColor;\n  column-span: 1;\n  column-width: auto;\n  content: normal;\n  counter-increment: none;\n  counter-reset: none;\n  cursor: auto;\n  direction: ltr;\n  display: inline;\n  empty-cells: show;\n  float: none;\n  font-family: inherit;\n  font-size: inherit;\n  font-style: inherit;\n  font-variant: inherit;\n  font-weight: inherit;\n  font-stretch: inherit;\n  line-height: inherit;\n  -webkit-hyphens: none;\n  -ms-hyphens: none;\n  hyphens: none;\n  left: auto;\n  letter-spacing: normal;\n  list-style: disc outside none;\n  margin: 0;\n  max-height: none;\n  max-width: none;\n  min-height: 0;\n  min-width: 0;\n  opacity: 1;\n  orphans: 2;\n  outline: medium none invert;\n  overflow: visible;\n  overflow-x: visible;\n  overflow-y: visible;\n  padding: 0;\n  page-break-after: auto;\n  page-break-before: auto;\n  page-break-inside: auto;\n  perspective: none;\n  perspective-origin: 50% 50%;\n  position: static;\n  right: auto;\n  -moz-tab-size: 8;\n  tab-size: 8;\n  table-layout: auto;\n  text-align: left;\n  text-align-last: auto;\n  text-decoration: none;\n  text-indent: 0;\n  text-shadow: none;\n  text-transform: none;\n  top: auto;\n  transform: none;\n  transform-origin: 50% 50% 0;\n  transform-style: flat;\n  transition: none 0s ease 0s;\n  unicode-bidi: normal;\n  vertical-align: baseline;\n  visibility: visible;\n  white-space: normal;\n  widows: 2;\n  word-spacing: normal;\n  z-index: auto;\n}\n",'@import "./src/components/design-system/_system.scss";@import "reset";\n@import "../../node_modules/@reach/dialog/styles";\n/* Component specific styling should be included here:*/\n',"/* This code is subject to LICENSE in root of this repository */\n\n/* Used to detect in JavaScript if apps have loaded styles or not. */\n:root {\n  --reach-dialog: 1;\n}\n\n[data-reach-dialog-overlay] {\n  background: hsla(0, 0%, 0%, 0.33);\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: auto;\n}\n\n[data-reach-dialog-content] {\n  width: 50vw;\n  margin: 10vh auto;\n  background: white;\n  padding: 2rem;\n  outline: none;\n}\n"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.dev\\.(jsx%7Ctsx))$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./apps/adgangsplatformen/auth.dev.jsx":"./src/apps/adgangsplatformen/auth.dev.jsx","./apps/adgangsplatformen/library-token.dev.tsx":"./src/apps/adgangsplatformen/library-token.dev.tsx","./apps/adgangsplatformen/user-token.dev.tsx":"./src/apps/adgangsplatformen/user-token.dev.tsx","./apps/demo-modal/demo-modal.dev.tsx":"./src/apps/demo-modal/demo-modal.dev.tsx","./apps/hello-world/hello-world.dev.tsx":"./src/apps/hello-world/hello-world.dev.tsx","./apps/loan-list/list/loan-list.dev.tsx":"./src/apps/loan-list/list/loan-list.dev.tsx","./apps/material/material.dev.tsx":"./src/apps/material/material.dev.tsx","./apps/menu/menu.dev.tsx":"./src/apps/menu/menu.dev.tsx","./apps/patron-page/PatronPage.dev.tsx":"./src/apps/patron-page/PatronPage.dev.tsx","./apps/reservation-list/list/reservation-list.dev.tsx":"./src/apps/reservation-list/list/reservation-list.dev.tsx","./apps/search-header/search-header.dev.tsx":"./src/apps/search-header/search-header.dev.tsx","./apps/search-result/search-result.dev.tsx":"./src/apps/search-result/search-result.dev.tsx","./components/alert/alert.dev.jsx":"./src/components/alert/alert.dev.jsx","./components/availability-label/availability-label.dev.tsx":"./src/components/availability-label/availability-label.dev.tsx","./components/button-favourite/button-favourite.dev.tsx":"./src/components/button-favourite/button-favourite.dev.tsx","./components/cover/cover.dev.tsx":"./src/components/cover/cover.dev.tsx","./components/find-on-shelf/FindOnShelfModal.dev.tsx":"./src/components/find-on-shelf/FindOnShelfModal.dev.tsx","./components/hello/hello.dev.tsx":"./src/components/hello/hello.dev.tsx","./components/search-bar/search-bar.dev.tsx":"./src/components/search-bar/search-bar.dev.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.dev\\.(jsx%7Ctsx))$"},'data:image/svg+xml;utf8,<svg width="6" height="5" viewBox="0 0 6 5" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M4.75821 0.708313L3 3.95101L1.24179 0.708313L4.75821 0.708313Z" fill="black" stroke="black"/> </svg>':module=>{"use strict";module.exports='data:image/svg+xml;utf8,<svg width="6" height="5" viewBox="0 0 6 5" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M4.75821 0.708313L3 3.95101L1.24179 0.708313L4.75821 0.708313Z" fill="black" stroke="black"/> </svg>'},"?510f":()=>{},"?eecd":()=>{},"?4f7e":()=>{},"./generated-stories-entry.cjs":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.dev\\.(jsx%7Ctsx))$")],module,!1)},"./src/core/configuration/modal-ids.json":module=>{"use strict";module.exports=JSON.parse('{"allLoansId":"all-loans-id","pauseReservation":"pause-reservation","deleteReservation":"delete-reservation","loanDetails":"loan-details-","dueDateModal":"due-date-"}')},"./src/core/configuration/status-thresholds.json":module=>{"use strict";module.exports=JSON.parse('{"warning":6,"danger":0}')}},__webpack_require__=>{var __webpack_exec__=moduleId=>__webpack_require__(__webpack_require__.s=moduleId);__webpack_require__.O(0,[428],(()=>(__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-queryparams/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs"))));__webpack_require__.O()}]);