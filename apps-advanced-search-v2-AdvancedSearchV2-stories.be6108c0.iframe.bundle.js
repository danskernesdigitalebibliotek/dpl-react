"use strict";(globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react=globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react||[]).push([[163],{"./src/apps/advanced-search-v2/AdvancedSearchV2.stories.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>AdvancedSearchV2_stories});var react=__webpack_require__("./node_modules/react/index.js"),guarded_app=__webpack_require__("./src/components/guarded-app.tsx"),config=__webpack_require__("./src/core/utils/config.tsx"),general=__webpack_require__("./src/core/utils/helpers/general.ts"),utils_text=__webpack_require__("./src/core/utils/text.tsx"),url=__webpack_require__("./src/core/utils/url.tsx"),withPageStatistics=__webpack_require__("./src/core/statistics/withPageStatistics.tsx"),SearchResultList=__webpack_require__("./src/components/card-item-list/SearchResultList.tsx"),dist=__webpack_require__("./node_modules/nuqs/dist/index.js"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),Checkbox=__webpack_require__("./src/components/checkbox/Checkbox.tsx"),ExpandMore=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/ExpandMore.svg"),ExpandMore_default=__webpack_require__.n(ExpandMore),Plus=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Plus.svg"),Plus_default=__webpack_require__.n(Plus),Minus=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Minus.svg"),Minus_default=__webpack_require__.n(Minus);const components_AdvancedSearchFacetGroup=({facetField,label,selectedValues,selectedCount,facetValues,onChange})=>{const t=(0,utils_text.F)(),[isExpanded,setIsExpanded]=(0,react.useState)(!1),[showAll,setShowAll]=(0,react.useState)(!1),displayedValues=showAll?facetValues:facetValues.slice(0,5),hasMoreValues=facetValues.length>5;return 0===facetValues.length?null:react.createElement("li",{className:"advanced-search-facet-group"},react.createElement("button",{type:"button",className:"advanced-search-facet-group__header",onClick:()=>setIsExpanded(!isExpanded),"aria-expanded":isExpanded,"aria-controls":`filter-group-content-${facetField}`},react.createElement("div",{className:"advanced-search-facet-group__header-content"},react.createElement("span",{className:"advanced-search-facet-group__label"},label),selectedCount>0&&react.createElement("span",{className:"advanced-search-facet-group__count-badge"},selectedCount)),react.createElement("img",{src:ExpandMore_default(),alt:"",className:(0,clsx.A)("advanced-search-facet-group__chevron",isExpanded&&"advanced-search-facet-group__chevron--expanded")})),isExpanded&&react.createElement(react.Fragment,null,react.createElement("ul",{id:`filter-group-content-${facetField}`,className:"advanced-search-facet-group__content"},displayedValues.map((facetValue=>{const value=facetValue.key,count=facetValue.score??0,isChecked=selectedValues.includes(value),countId=`filter-${facetField}-${value}-count`;return react.createElement("li",{key:value,className:"advanced-search-facet-group__item"},react.createElement(Checkbox.A,{id:`filter-${facetField}-${value}`,label:value,selected:isChecked,onChecked:checked=>((value,checked)=>{onChange(checked?[...selectedValues,value]:selectedValues.filter((v=>v!==value)))})(value,checked),ariaDescribedBy:count>0?countId:void 0}),count>0&&react.createElement("span",{id:countId,className:"advanced-search-facet-group__item-count"},count))}))),hasMoreValues&&react.createElement("div",{className:"advanced-search-facet-group__footer"},react.createElement("button",{type:"button",className:"advanced-search-facet-group__show-all",onClick:()=>setShowAll(!showAll),"aria-controls":`filter-group-content-${facetField}`,"aria-expanded":showAll},react.createElement("img",{src:showAll?Minus_default():Plus_default(),alt:"",className:"advanced-search-facet-group__show-all-icon"}),react.createElement("span",null,t(showAll?"advancedSearchShowLessText":"advancedSearchShowAllText"))))))};try{AdvancedSearchFacetGroup.displayName="AdvancedSearchFacetGroup",AdvancedSearchFacetGroup.__docgenInfo={description:"",displayName:"AdvancedSearchFacetGroup",props:{facetField:{defaultValue:null,description:"",name:"facetField",required:!0,type:{name:"enum",value:[{value:'"ACCESSTYPE"'},{value:'"AGES"'},{value:'"CATALOGUECODE"'},{value:'"CHAMBERMUSICTYPE"'},{value:'"CHOIRTYPE"'},{value:'"CONTRIBUTOR"'},{value:'"CONTRIBUTORFUNCTION"'},{value:'"CREATOR"'},{value:'"CREATORCONTRIBUTOR"'},{value:'"CREATORCONTRIBUTORFUNCTION"'},{value:'"CREATORFUNCTION"'},{value:'"DATEFIRSTEDITION"'},{value:'"FICTIONALCHARACTER"'},{value:'"FILMNATIONALITY"'},{value:'"GAMEPLATFORM"'},{value:'"GENERALAUDIENCE"'},{value:'"GENERALMATERIALTYPE"'},{value:'"GENREANDFORM"'},{value:'"HOSTPUBLICATION"'},{value:'"HOSTPUBLICATIONTYPE"'},{value:'"INSTRUMENT"'},{value:'"ISSUE"'},{value:'"LANGUAGE"'},{value:'"LET"'},{value:'"LIBRARYRECOMMENDATION"'},{value:'"LIX"'},{value:'"MAINLANGUAGE"'},{value:'"MEDIACOUNCILAGERESTRICTION"'},{value:'"MOOD"'},{value:'"MUSICALENSEMBLEORCAST"'},{value:'"NARRATIVETECHNIQUE"'},{value:'"PEGI"'},{value:'"PLAYERS"'},{value:'"PRIMARYTARGET"'},{value:'"PUBLICATIONYEAR"'},{value:'"SERIES"'},{value:'"SETTING"'},{value:'"SOURCE"'},{value:'"SPECIFICMATERIALTYPE"'},{value:'"SPOKENLANGUAGE"'},{value:'"SUBJECT"'},{value:'"SUBTITLELANGUAGE"'},{value:'"TYPEOFSCORE"'}]}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},selectedValues:{defaultValue:null,description:"",name:"selectedValues",required:!0,type:{name:"string[]"}},selectedCount:{defaultValue:null,description:"",name:"selectedCount",required:!0,type:{name:"number"}},facetValues:{defaultValue:null,description:"",name:"facetValues",required:!0,type:{name:"ComplexSearchFacetValue[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(selectedValues: string[]) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search-v2/components/AdvancedSearchFacetGroup.tsx#AdvancedSearchFacetGroup"]={docgenInfo:AdvancedSearchFacetGroup.__docgenInfo,name:"AdvancedSearchFacetGroup",path:"src/apps/advanced-search-v2/components/AdvancedSearchFacetGroup.tsx#AdvancedSearchFacetGroup"})}catch(__react_docgen_typescript_loader_error){}const AdvancedSearchToggle=({id,label,description,checked,onChange})=>react.createElement("div",{className:"advanced-search-toggle"},react.createElement("button",{type:"button",role:"switch","aria-checked":checked,onClick:()=>onChange(!checked),className:(0,clsx.A)("advanced-search-toggle__button",checked&&"advanced-search-toggle__button--checked"),id},react.createElement("span",{className:"advanced-search-toggle__slider"})),react.createElement("label",{htmlFor:id,className:"advanced-search-toggle__content cursor-pointer"},react.createElement("span",{className:"advanced-search-toggle__label"},label),react.createElement("span",{className:"advanced-search-toggle__description"},description))),components_AdvancedSearchToggle=AdvancedSearchToggle;try{AdvancedSearchToggle.displayName="AdvancedSearchToggle",AdvancedSearchToggle.__docgenInfo={description:"",displayName:"AdvancedSearchToggle",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},checked:{defaultValue:null,description:"",name:"checked",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(checked: boolean) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search-v2/components/AdvancedSearchToggle.tsx#AdvancedSearchToggle"]={docgenInfo:AdvancedSearchToggle.__docgenInfo,name:"AdvancedSearchToggle",path:"src/apps/advanced-search-v2/components/AdvancedSearchToggle.tsx#AdvancedSearchToggle"})}catch(__react_docgen_typescript_loader_error){}var radio_group=__webpack_require__("./node_modules/@headlessui/react/dist/components/radio-group/radio-group.js"),label=__webpack_require__("./node_modules/@headlessui/react/dist/components/label/label.js");const AdvancedSearchRadioGroup=({options,selectedValue,onChange})=>{const handleRadioClick=optionValue=>{onChange(selectedValue===optionValue?null:optionValue)};return react.createElement(radio_group.z6,{value:selectedValue??void 0,className:"advanced-search-radio-group"},options.map((option=>react.createElement(radio_group.sx,{key:option.value,value:option.value,onClick:e=>{e.preventDefault(),handleRadioClick(option.value)},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),handleRadioClick(option.value))}},(({checked})=>react.createElement(label.JU,{className:"advanced-search-radio-group__label"},react.createElement("span",{className:"advanced-search-radio-group__input "+(checked?"advanced-search-radio-group__input--checked":"")}),option.label))))))},components_AdvancedSearchRadioGroup=AdvancedSearchRadioGroup;try{AdvancedSearchRadioGroup.displayName="AdvancedSearchRadioGroup",AdvancedSearchRadioGroup.__docgenInfo={description:"",displayName:"AdvancedSearchRadioGroup",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"RadioOption[]"}},selectedValue:{defaultValue:null,description:"",name:"selectedValue",required:!0,type:{name:"string | null"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string | null) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search-v2/components/AdvancedSearchRadioGroup.tsx#AdvancedSearchRadioGroup"]={docgenInfo:AdvancedSearchRadioGroup.__docgenInfo,name:"AdvancedSearchRadioGroup",path:"src/apps/advanced-search-v2/components/AdvancedSearchRadioGroup.tsx#AdvancedSearchRadioGroup"})}catch(__react_docgen_typescript_loader_error){}var graphql=__webpack_require__("./src/core/dbc-gateway/generated/graphql.ts");const FACETS_CONFIG=[{label:"advancedSearchFacetFormatText",facetField:graphql.Mo.Specificmaterialtype},{label:"advancedSearchFacetCreatorText",facetField:graphql.Mo.Creator},{label:"advancedSearchFacetContributorText",facetField:graphql.Mo.Contributor},{label:"advancedSearchFacetYearText",facetField:graphql.Mo.Publicationyear},{label:"advancedSearchFacetSourceText",facetField:graphql.Mo.Source},{label:"advancedSearchFacetHostPublicationText",facetField:graphql.Mo.Hostpublication},{label:"advancedSearchFacetLanguageText",facetField:graphql.Mo.Mainlanguage},{label:"advancedSearchFacetSubjectText",facetField:graphql.Mo.Subject},{label:"advancedSearchFacetGenreAndFormText",facetField:graphql.Mo.Genreandform},{label:"advancedSearchFacetFictionalCharacterText",facetField:graphql.Mo.Fictionalcharacter},{label:"advancedSearchFacetAgeText",facetField:graphql.Mo.Ages},{label:"advancedSearchFacetAudienceText",facetField:graphql.Mo.Generalaudience},{label:"advancedSearchFacetLevelText",facetField:graphql.Mo.Primarytarget},{label:"advancedSearchFacetLixText",facetField:graphql.Mo.Lix},{label:"advancedSearchFacetLetText",facetField:graphql.Mo.Let},{label:"advancedSearchFacetInstrumentText",facetField:graphql.Mo.Instrument},{label:"advancedSearchFacetChamberMusicText",facetField:graphql.Mo.Chambermusictype},{label:"advancedSearchFacetChoirText",facetField:graphql.Mo.Choirtype},{label:"advancedSearchFacetScoreTypeText",facetField:graphql.Mo.Typeofscore}],FACET_FIELDS=FACETS_CONFIG.map((c=>c.facetField)),VALID_OPERATORS=["and","or","not"],isValidFilterState=value=>!!Array.isArray(value)&&value.every((item=>{if("object"!=typeof item||null===item)return!1;const{term,query,operator}=item;return"string"==typeof term&&("string"==typeof query&&!(void 0!==operator&&!(value=>"string"==typeof value&&VALID_OPERATORS.includes(value))(operator)))})),isValidFacetState=value=>!!Array.isArray(value)&&value.every((item=>{if("object"!=typeof item||null===item)return!1;const{facetField,selectedValues}=item;return!("string"!=typeof facetField||!Object.values(graphql.Mo).includes(facetField))&&!(!Array.isArray(selectedValues)||!selectedValues.every((v=>"string"==typeof v)))})),extractNumber=key=>{const match=key.match(/(?:^|for\s+)(\d+)/i);return match?parseInt(match[1],10):NaN},sortNumeric=(values,direction)=>[...values].sort(((a,b)=>{const numA=extractNumber(a.key),numB=extractNumber(b.key);return Number.isNaN(numA)&&Number.isNaN(numB)?0:Number.isNaN(numA)?1:Number.isNaN(numB)?-1:"asc"===direction?numA-numB:numB-numA})),sortFacetValues=(facetField,values)=>{switch(facetField){case graphql.Mo.Publicationyear:case graphql.Mo.Ages:return(values=>sortNumeric(values,"desc"))(values);case graphql.Mo.Lix:case graphql.Mo.Let:return(values=>sortNumeric(values,"asc"))(values);default:return values}},ACCESS_TYPE_OPTIONS=[{value:"online",label:"Online"},{value:"fysisk",label:"Fysisk"}],FICTION_TYPE_OPTIONS=[{value:"fiction",label:"Fiktion"},{value:"nonfiction",label:"Non-fiktion"}],AGE_GROUP_OPTIONS=[{value:"til voksne",label:"Voksne"},{value:"til børn",label:"Børn"}],AdvancedSearchFacets=({cql})=>{var _facetData$complexSea;const t=(0,utils_text.F)(),[onShelf,setOnShelf]=(0,dist.ZA)("onShelf",dist.cr.withDefault(!1)),[onlyExtraTitles,setOnlyExtraTitles]=(0,dist.ZA)("onlyExtraTitles",dist.cr.withDefault(!1)),[accessType,setAccessType]=(0,dist.ZA)("accessType",dist.tU),[fictionType,setFictionType]=(0,dist.ZA)("fictionType",dist.tU),[ageGroup,setAgeGroup]=(0,dist.ZA)("ageGroup",dist.tU),{data:facetData}=(0,graphql.Bc)({cql,facets:{facets:FACET_FIELDS,facetLimit:50},...onShelf&&{filters:{status:[graphql.KZ.Onshelf]}}}),facetsResponse=(null==facetData||null===(_facetData$complexSea=facetData.complexSearch)||void 0===_facetData$complexSea?void 0:_facetData$complexSea.facets)??[],[facetsFromUrl,setFacetsInUrl]=(0,dist.ZA)("facets",(0,dist.os)((value=>isValidFacetState(value)?value:[])).withDefault([])),getSelectedValues=facetField=>{var _facetsFromUrl$find;return(null===(_facetsFromUrl$find=facetsFromUrl.find((f=>f.facetField===facetField)))||void 0===_facetsFromUrl$find?void 0:_facetsFromUrl$find.selectedValues)??[]};return react.createElement("aside",{className:"advanced-search-facets"},react.createElement("div",{className:"advanced-search-facets__container"},react.createElement("ul",{className:"advanced-search-facets__toggles"},react.createElement("li",null,react.createElement(components_AdvancedSearchToggle,{id:"on-shelf",label:t("advancedSearchOnShelfText"),description:t("advancedSearchOnShelfDescriptionText"),checked:onShelf,onChange:checked=>setOnShelf(checked,{history:"push"})})),react.createElement("li",null,react.createElement(components_AdvancedSearchToggle,{id:"only-extra-titles",label:t("advancedSearchOnlyExtraTitlesText"),description:t("advancedSearchOnlyExtraTitlesDescriptionText"),checked:onlyExtraTitles,onChange:checked=>setOnlyExtraTitles(checked,{history:"push"})}))),react.createElement("div",{className:"advanced-search-radio-group-wrapper"},react.createElement(components_AdvancedSearchRadioGroup,{name:"access-type",options:ACCESS_TYPE_OPTIONS,selectedValue:accessType,onChange:value=>setAccessType(value,{history:"push"})}),react.createElement(components_AdvancedSearchRadioGroup,{name:"fiction-type",options:FICTION_TYPE_OPTIONS,selectedValue:fictionType,onChange:value=>{setFictionType(value,{history:"push"})}}),react.createElement(components_AdvancedSearchRadioGroup,{name:"age-group",options:AGE_GROUP_OPTIONS,selectedValue:ageGroup,onChange:value=>setAgeGroup(value,{history:"push"})})),react.createElement("ul",{className:"advanced-search-facets__groups"},FACETS_CONFIG.map((config=>{const selectedValues=getSelectedValues(config.facetField),selectedCount=(facetField=config.facetField,getSelectedValues(facetField).length);var facetField;const facetResponse=facetsResponse.find((f=>!!f.name&&(f.name===config.facetField||f.name===`facet.${config.facetField.toLowerCase()}`))),facetValues=sortFacetValues(config.facetField,(null==facetResponse?void 0:facetResponse.values)??[]);return react.createElement(components_AdvancedSearchFacetGroup,{key:config.facetField,facetField:config.facetField,label:t(config.label),selectedValues,selectedCount,facetValues,onChange:vals=>((facetField,selectedValues)=>{if(!FACETS_CONFIG.find((c=>c.facetField===facetField)))return;if(0===selectedValues.length)return void setFacetsInUrl(facetsFromUrl.filter((f=>f.facetField!==facetField)),{history:"push"});facetsFromUrl.find((f=>f.facetField===facetField))?setFacetsInUrl(facetsFromUrl.map((f=>f.facetField===facetField?{...f,selectedValues}:f)),{history:"push"}):setFacetsInUrl([...facetsFromUrl,{facetField,selectedValues}],{history:"push"})})(config.facetField,vals)})})))))},components_AdvancedSearchFacets=AdvancedSearchFacets;try{AdvancedSearchFacets.displayName="AdvancedSearchFacets",AdvancedSearchFacets.__docgenInfo={description:"",displayName:"AdvancedSearchFacets",props:{cql:{defaultValue:null,description:"",name:"cql",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search-v2/components/AdvancedSearchFacets.tsx#AdvancedSearchFacets"]={docgenInfo:AdvancedSearchFacets.__docgenInfo,name:"AdvancedSearchFacets",path:"src/apps/advanced-search-v2/components/AdvancedSearchFacets.tsx#AdvancedSearchFacets"})}catch(__react_docgen_typescript_loader_error){}const SEARCH_TERM_OPTIONS=[{value:"term.default",labelKey:"advancedSearchLabelDefaultText",type:graphql.CP.Default,placeholderKey:"advancedSearchPlaceholderDefaultText"},{value:"term.title",labelKey:"advancedSearchLabelTitleText",type:graphql.CP.Title,placeholderKey:"advancedSearchPlaceholderTitleText"},{value:"term.series",labelKey:"advancedSearchLabelSeriesText",type:graphql.CP.Series,placeholderKey:"advancedSearchPlaceholderSeriesText"},{value:"term.creatorcontributor",labelKey:"advancedSearchLabelCreatorText",type:graphql.CP.Creatorcontributor,placeholderKey:"advancedSearchPlaceholderCreatorText"},{value:"term.subject",labelKey:"advancedSearchLabelSubjectText",type:graphql.CP.Subject,placeholderKey:"advancedSearchPlaceholderSubjectText"},{value:"term.publisher",labelKey:"advancedSearchLabelPublisherText",type:graphql.CP.Publisher,placeholderKey:"advancedSearchPlaceholderPublisherText"},{value:"dk5",labelKey:"advancedSearchLabelDk5Text",type:graphql.CP.Default,placeholderKey:"advancedSearchPlaceholderDk5Text",disableSuggest:!0},{value:"term.isbn",labelKey:"advancedSearchLabelIsbnText",type:graphql.CP.Default,placeholderKey:"advancedSearchPlaceholderIsbnText",disableSuggest:!0}],OPERATOR_ORDER=["and","or","not"],getOperatorLabelsMap=t=>({and:t("clauseAndText"),or:t("clauseOrText"),not:t("clauseNotText")});let SortOption=function(SortOption){return SortOption.Relevance="relevance",SortOption.TitleAsc="sort.title.asc",SortOption.TitleDesc="sort.title.desc",SortOption.CreatorAsc="sort.creator.asc",SortOption.CreatorDesc="sort.creator.desc",SortOption.LatestPubDateAsc="sort.latestpublicationdate.asc",SortOption.LatestPubDateDesc="sort.latestpublicationdate.desc",SortOption}({});__webpack_require__("./node_modules/core-js/modules/esnext.set.add-all.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.delete-all.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.difference.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.every.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.filter.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.find.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.intersection.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.join.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.map.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.reduce.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.some.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),__webpack_require__("./node_modules/core-js/modules/esnext.set.union.js");const COMPLEX_FACET_TO_CQL_FIELD={[graphql.Mo.Specificmaterialtype]:"phrase.specificmaterialtype",[graphql.Mo.Generalmaterialtype]:"phrase.generalmaterialtype",[graphql.Mo.Creator]:"phrase.creator",[graphql.Mo.Subject]:"phrase.subject",[graphql.Mo.Mainlanguage]:"phrase.mainlanguage",[graphql.Mo.Generalaudience]:"phrase.generalaudience",[graphql.Mo.Fictionalcharacter]:"phrase.fictionalcharacter",[graphql.Mo.Genreandform]:"phrase.genreandform",[graphql.Mo.Ages]:"phrase.ages",[graphql.Mo.Lix]:"lix",[graphql.Mo.Publicationyear]:"phrase.year",[graphql.Mo.Accesstype]:"phrase.accesstype",[graphql.Mo.Source]:"phrase.source",[graphql.Mo.Primarytarget]:"phrase.primarytarget",[graphql.Mo.Let]:"let",[graphql.Mo.Hostpublication]:"phrase.hostpublication",[graphql.Mo.Contributor]:"phrase.contributor",[graphql.Mo.Instrument]:"phrase.instrument",[graphql.Mo.Chambermusictype]:"phrase.chambermusictype",[graphql.Mo.Choirtype]:"phrase.choirtype",[graphql.Mo.Typeofscore]:"phrase.typeofscore"},buildExactMatchQuery=(field,value)=>`((${field}=${value}))`,buildFacetTerms=(filters,useOpenEndedRange)=>{const filterTermsSet=new Set;return filters.forEach((({facetField,selectedValues})=>{const[from,to]=selectedValues;if(!from)return;const rangeField=((facetField,values)=>{if(facetField===graphql.Mo.Publicationyear)return"publicationyear";const allValuesNumeric=values.every((v=>!v||/^\d+$/.test(v)));return facetField===graphql.Mo.Ages&&allValuesNumeric?"ages":null})(facetField,selectedValues);if(rangeField)return void(to?from===to?filterTermsSet.add(buildExactMatchQuery(rangeField,from)):filterTermsSet.add(((field,from,to)=>`((${field} within "${from} ${to}"))`)(rangeField,from,to)):filterTermsSet.add(useOpenEndedRange?((field,from)=>`((${field}>=${from}))`)(rangeField,from):buildExactMatchQuery(rangeField,from)));const phraseField=(facetField=>COMPLEX_FACET_TO_CQL_FIELD[facetField]??null)(facetField);var field;phraseField&&selectedValues.length>0&&filterTermsSet.add((field=phraseField,`((${selectedValues.map((value=>`${field}="${value}"`)).join(" OR ")}))`))})),Array.from(filterTermsSet)},buildCQLQuery=(filters,preSearchFacets,facets,onlyExtraTitles,accessType,fictionType,ageGroup)=>{const parts=[],filterPart=(inputs=>{const inputTerms=[];return inputs.forEach((input=>{if(!input.query.trim())return;const term=`${input.term}="${value=input.query,value.replace(/"/g,'\\"')}"`;var value;if(0===inputTerms.length)inputTerms.push(term);else{const operator=(input.operator||"and").toUpperCase();inputTerms.push(`${operator} ${term}`)}})),inputTerms.length>0?`(${inputTerms.join(" ")})`:""})(filters);filterPart&&parts.push(filterPart);const preSearchFacetParts=(filters=>buildFacetTerms(filters,!0))(preSearchFacets);parts.push(...preSearchFacetParts);const facetParts=(filters=>buildFacetTerms(filters,!1))(facets);return parts.push(...facetParts),onlyExtraTitles&&parts.push('term.canAlwaysBeLoaned="true"'),accessType&&parts.push(`term.accesstype="${accessType}"`),fictionType&&parts.push(`term.fictionnonfiction="${fictionType}"`),ageGroup&&parts.push(`term.childrenoradults="${ageGroup}"`),parts.length>0?parts.join(" AND "):"*"},isWildcardQuery=cql=>"*"===cql,useSearchQueries=()=>{const[filters]=(0,dist.ZA)("filters",(0,dist.os)((value=>isValidFilterState(value)?value:[])).withDefault([])),[preSearchFacets]=(0,dist.ZA)("preSearchFacets",(0,dist.os)((value=>isValidFacetState(value)?value:[])).withDefault([])),[facets]=(0,dist.ZA)("facets",(0,dist.os)((value=>isValidFacetState(value)?value:[])).withDefault([])),[onShelf]=(0,dist.ZA)("onShelf",dist.cr.withDefault(!1)),[onlyExtraTitles]=(0,dist.ZA)("onlyExtraTitles",dist.cr.withDefault(!1)),[sort,setSort]=(0,dist.ZA)("sort",(0,dist.Oq)(Object.values(SortOption)).withDefault(SortOption.Relevance)),[accessType]=(0,dist.ZA)("accessType",dist.tU),[fictionType]=(0,dist.ZA)("fictionType",dist.tU),[ageGroup]=(0,dist.ZA)("ageGroup",dist.tU),cql=(0,react.useMemo)((()=>buildCQLQuery(filters,preSearchFacets,facets,onlyExtraTitles,accessType,fictionType,ageGroup)),[filters,preSearchFacets,facets,onlyExtraTitles,accessType,fictionType,ageGroup]);return{cql,isSearchEnabled:!isWildcardQuery(cql),onShelf,onlyExtraTitles,sort,setSort,urlState:{filters,preSearchFacets,facets}}},currentYear=(new Date).getFullYear(),YEAR_PRESETS=[{id:"current-year",label:`I år (${currentYear})`,from:currentYear,to:currentYear},{id:"last-2-years",label:"Seneste 2 år",from:currentYear-1,to:currentYear},{id:"last-3-years",label:"Seneste 3 år",from:currentYear-2,to:currentYear},{id:"last-5-years",label:"Seneste 5 år",from:currentYear-4,to:currentYear},{id:"last-10-years",label:"Seneste 10 år",from:currentYear-10,to:currentYear}],INITIAL_FILTER_STATE=[{term:"term.default",query:"",operator:"and"},{term:"term.default",query:"",operator:"and"}],INITIAL_PRE_SEARCH_FACETS_STATE=[{label:"advancedSearchFacetMaterialTypeText",facetField:graphql.Mo.Generalmaterialtype,type:"select",options:[{label:"Bøger",value:"bøger"},{label:"E-bøger",value:"e-bøger"},{label:"Lydbøger",value:"lydbøger"},{label:"Podcasts",value:"podcasts"},{label:"Film",value:"film"},{label:"Tv-serier",value:"tv-serier"},{label:"Musik",value:"musik"},{label:"Noder",value:"noder"},{label:"Aviser og tidsskrifter",value:"aviser og tidsskrifter"},{label:"Tegneserier",value:"tegneserier"},{label:"Computerspil",value:"computerspil"}],enableSearch:!1},{label:"advancedSearchFacetGenreAndFormText",facetField:graphql.Mo.Genreandform,type:"select",options:[{label:"romaner",value:"romaner"},{label:"noveller",value:"noveller"},{label:"digte",value:"digte"},{label:"biografier",value:"biografier"},{label:"tv-serier",value:"tv-serier"},{label:"dokumentarfilm",value:"dokumentarfilm"},{label:"børnefilm",value:"børnefilm"},{label:"drama",value:"drama"},{label:"actionfilm",value:"actionfilm"},{label:"rock",value:"rock"},{label:"jazz",value:"jazz"},{label:"pop",value:"pop"},{label:"shooters",value:"shooters"},{label:"actionspil",value:"actionspil"},{label:"adventurespil",value:"adventurespil"}],enableSearch:!0},{label:"advancedSearchFacetSourceText",facetField:graphql.Mo.Source,type:"select",options:[{label:"Bibliotekskatalog",value:"bibliotekskatalog"},{label:"eReolen",value:"ereolen"},{label:"eReolen Global",value:"ereolen global"}],enableSearch:!0},{label:"advancedSearchFacetLanguageText",facetField:graphql.Mo.Mainlanguage,type:"select",options:[{label:"dansk",value:"dansk"},{label:"engelsk",value:"engelsk"},{label:"færøsk",value:"færøsk"},{label:"kalaallisut",value:"kalaallisut"},{label:"tysk",value:"tysk"},{label:"fransk",value:"fransk"},{label:"spansk",value:"spansk"},{label:"svensk",value:"svensk"},{label:"norsk",value:"norsk"}],enableSearch:!0},{label:"advancedSearchFacetYearText",facetField:graphql.Mo.Publicationyear,type:"range",rangePresets:YEAR_PRESETS},{label:"advancedSearchFacetAgeText",facetField:graphql.Mo.Ages,type:"range",rangePresets:[{id:"1-2",label:"For 1-2-årige",from:1,to:2},{id:"3-6",label:"For 3-6-årige",from:3,to:6},{id:"7-10",label:"For 7-10-årige",from:7,to:10},{id:"11-13",label:"For 11-13-årige",from:11,to:13},{id:"14-16",label:"For 14-16-årige",from:14,to:16}]}];var Link=__webpack_require__("./src/components/atoms/links/Link.tsx");const AdvancedSearchSummary=({customCqlUrl,customCqlUrlLabel,onEditClick})=>{const t=(0,utils_text.F)(),operatorLabelsMap=getOperatorLabelsMap(t),{urlState}=useSearchQueries(),{filters,preSearchFacets}=urlState,renderOperator=operator=>react.createElement("div",{className:"advanced-search-summary__operator"},operatorLabelsMap[operator]),renderItem=(label,value)=>react.createElement("div",{className:"advanced-search-summary__item"},react.createElement("span",{className:"advanced-search-summary__label"},label,":"),react.createElement("span",{className:"advanced-search-summary__value"},value));return react.createElement("div",{className:"advanced-search-summary"},react.createElement("div",{className:"advanced-search-summary__items"},filters.map(((filter,index)=>{if(!filter.query.trim())return null;const config=SEARCH_TERM_OPTIONS.find((item=>item.value===filter.term));if(!config)return console.warn(`AdvancedSearchSummary: No config found for filter term "${filter.term}"`),null;const value="term.default"===filter.term?`"${filter.query}"`:filter.query;return react.createElement(react.Fragment,{key:`filter-${index}`},index>0&&filter.operator&&renderOperator(filter.operator),renderItem(t(config.labelKey),value))})),preSearchFacets.map(((preSearchFacet,facetIndex)=>{const config=INITIAL_PRE_SEARCH_FACETS_STATE.find((c=>c.facetField===preSearchFacet.facetField));if(!config)return console.warn(`AdvancedSearchSummary: No config found for facet field "${preSearchFacet.facetField}"`),null;const showOperator=filters.some((s=>s.query.trim().length>0))||!(0===facetIndex);if("range"===config.type){const[from,to]=preSearchFacet.selectedValues,formatValue=(f,t)=>t?f===t?`${f}`:`${f}-${t}`:`${f}+`,value=formatValue(from,to);return react.createElement(react.Fragment,{key:preSearchFacet.facetField},showOperator&&renderOperator("and"),renderItem(t(config.label),value))}const value=preSearchFacet.selectedValues.join(", ");return value?react.createElement(react.Fragment,{key:preSearchFacet.facetField},showOperator&&renderOperator("and"),renderItem(t(config.label),value)):null}))),react.createElement("div",{className:"advanced-search-summary__links"},onEditClick&&react.createElement("button",{type:"button",className:"advanced-search-summary__edit-link",onClick:onEditClick},t("advancedSearchEditSearchText")),customCqlUrl&&customCqlUrlLabel&&react.createElement(Link.A,{href:customCqlUrl,className:"advanced-search-summary__cql-link"},customCqlUrlLabel)))},components_AdvancedSearchSummary=AdvancedSearchSummary;try{AdvancedSearchSummary.displayName="AdvancedSearchSummary",AdvancedSearchSummary.__docgenInfo={description:"",displayName:"AdvancedSearchSummary",props:{customCqlUrl:{defaultValue:null,description:"",name:"customCqlUrl",required:!1,type:{name:"URL | undefined"}},customCqlUrlLabel:{defaultValue:null,description:"",name:"customCqlUrlLabel",required:!1,type:{name:"string | undefined"}},onEditClick:{defaultValue:null,description:"",name:"onEditClick",required:!1,type:{name:"(() => void) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search-v2/components/AdvancedSearchSummary.tsx#AdvancedSearchSummary"]={docgenInfo:AdvancedSearchSummary.__docgenInfo,name:"AdvancedSearchSummary",path:"src/apps/advanced-search-v2/components/AdvancedSearchSummary.tsx#AdvancedSearchSummary"})}catch(__react_docgen_typescript_loader_error){}const AdvancedSortSelect=({sortOption,setSortOption})=>{const t=(0,utils_text.F)();return react.createElement("div",{className:"advanced-search-v2__sort-select"},react.createElement("label",{className:"advanced-search-v2__sort-select__label",htmlFor:"advanced-sort-select"},t("advancedSearchSortLabelText")),react.createElement("div",{className:"advanced-search-v2__sort-select__select-wrapper"},react.createElement("select",{className:"advanced-search-v2__sort-select__select",id:"advanced-sort-select",value:sortOption,onChange:e=>{const{value}=e.target;(value=>Object.values(SortOption).includes(value))(value)&&setSortOption(value)}},react.createElement("option",{value:SortOption.Relevance},t("advancedSearchSortRelevanceText")),react.createElement("optgroup",{label:t("advancedSearchSortLatestPubDateText")},react.createElement("option",{value:SortOption.LatestPubDateDesc},t("advancedSearchSortLatestPubDateDescText")),react.createElement("option",{value:SortOption.LatestPubDateAsc},t("advancedSearchSortLatestPubDateAscText"))),react.createElement("optgroup",{label:t("advancedSearchSortCreatorText")},react.createElement("option",{value:SortOption.CreatorAsc},t("advancedSearchSortAscText")),react.createElement("option",{value:SortOption.CreatorDesc},t("advancedSearchSortDescText"))),react.createElement("optgroup",{label:t("advancedSearchSortTitleText")},react.createElement("option",{value:SortOption.TitleAsc},t("advancedSearchSortAscText")),react.createElement("option",{value:SortOption.TitleDesc},t("advancedSearchSortDescText")))),react.createElement("div",{className:"advanced-search-v2__dropdown__arrows"},react.createElement("img",{className:"advanced-search-v2__dropdown__arrow",src:ExpandMore_default(),alt:""}))))},components_AdvancedSortSelect=AdvancedSortSelect;try{AdvancedSortSelect.displayName="AdvancedSortSelect",AdvancedSortSelect.__docgenInfo={description:"",displayName:"AdvancedSortSelect",props:{sortOption:{defaultValue:null,description:"",name:"sortOption",required:!0,type:{name:"enum",value:[{value:'"relevance"'},{value:'"sort.title.asc"'},{value:'"sort.title.desc"'},{value:'"sort.creator.asc"'},{value:'"sort.creator.desc"'},{value:'"sort.latestpublicationdate.asc"'},{value:'"sort.latestpublicationdate.desc"'}]}},setSortOption:{defaultValue:null,description:"",name:"setSortOption",required:!0,type:{name:"(value: SortOption) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search-v2/components/AdvancedSortSelect.tsx#AdvancedSortSelect"]={docgenInfo:AdvancedSortSelect.__docgenInfo,name:"AdvancedSortSelect",path:"src/apps/advanced-search-v2/components/AdvancedSortSelect.tsx#AdvancedSortSelect"})}catch(__react_docgen_typescript_loader_error){}var isEqual=__webpack_require__("./node_modules/lodash/isEqual.js"),isEqual_default=__webpack_require__.n(isEqual),use_pager=__webpack_require__("./src/components/result-pager/use-pager.tsx");function getSortInput(sort){if(sort===SortOption.Relevance)return;const[,index,direction]=sort.split(".");return[{index:`sort.${index}`,order:"asc"===direction?graphql.oi.Asc:graphql.oi.Desc}]}var branches=__webpack_require__("./src/core/utils/branches.tsx"),usePrevious=__webpack_require__("./node_modules/react-use/esm/usePrevious.js");const useFormVisibility=()=>{const[view,setView]=(0,dist.ZA)("view",(0,dist.Oq)(["search","results"]).withDefault("search")),[urlFilters]=(0,dist.ZA)("filters",(0,dist.os)((value=>isValidFilterState(value)?value:[])).withDefault([])),[urlPreSearchFacets]=(0,dist.ZA)("preSearchFacets",(0,dist.os)((value=>isValidFacetState(value)?value:[])).withDefault([])),[urlFacets]=(0,dist.ZA)("facets",(0,dist.os)((value=>isValidFacetState(value)?value:[])).withDefault([])),cql=buildCQLQuery(urlFilters,urlPreSearchFacets,urlFacets),isNotWildcard=!isWildcardQuery(cql);(0,react.useEffect)((()=>{isNotWildcard||"search"===view||setView("search")}),[isNotWildcard,view,setView]);return{view,showResults:"results"===view&&isNotWildcard,setView}};var CopyLink=__webpack_require__("./src/components/copy-link/CopyLink.tsx"),icon_filter=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-filter.svg"),icon_filter_default=__webpack_require__.n(icon_filter),useDialog=__webpack_require__("./src/components/dialog/useDialog.tsx"),Dialog=__webpack_require__("./src/components/dialog/Dialog.tsx"),Button=__webpack_require__("./src/components/Buttons/Button.tsx");const AdvancedSearchResultsWithFacets=({customCqlUrl,customCqlUrlLabel,pageSize,clearFacets})=>{const t=(0,utils_text.F)(),{cql,isSearchEnabled,onShelf,sort,setSort}=useSearchQueries(),{setView}=useFormVisibility(),{openDialogWithContent,closeDialog,dialogRef}=(0,useDialog.A)(),{resultItems,hitcount,page,PagerComponent,isLoadingOrRefetching,shouldShowSearchResults}=(({cql,isSearchEnabled,onShelf,pageSize,sort})=>{const cleanBranches=(0,branches.Ay)(),[resultItems,setResultItems]=(0,react.useState)([]),[hitcount,setHitCount]=(0,react.useState)(0),[isRefetching,setIsRefetching]=(0,react.useState)(!1),[canShowZeroResults,setCanShowZeroResults]=(0,react.useState)(!1),{PagerComponent,page,resetPage}=(0,use_pager.A)({hitcount,pageSize}),{data,isLoading,isFetching}=(0,graphql.YP)({cql,offset:page*pageSize,limit:pageSize,filters:{...onShelf&&{status:[graphql.KZ.Onshelf],branchId:cleanBranches}},sort:getSortInput(sort)},{enabled:isSearchEnabled,keepPreviousData:!1,cacheTime:0,staleTime:0});(0,react.useEffect)((()=>{if(!data)return;const{complexSearch:{works:resultWorks,hitcount:resultCount}}=data;setHitCount(resultCount),setResultItems(page>0?prev=>[...prev,...resultWorks]:resultWorks)}),[data,page]);const currentQuery=(0,react.useMemo)((()=>({cql,sort,onShelf})),[cql,sort,onShelf]),prevQuery=(0,usePrevious.A)(currentQuery);(0,react.useEffect)((()=>{prevQuery&&!isEqual_default()(prevQuery,currentQuery)&&(setResultItems([]),setHitCount(0),setIsRefetching(!0),setCanShowZeroResults(!1),resetPage())}),[currentQuery,prevQuery,resetPage]),(0,react.useEffect)((()=>{isFetching||isLoading||(isRefetching&&setIsRefetching(!1),setCanShowZeroResults(!0))}),[isFetching,isLoading,isRefetching]);const isLoadingOrRefetching=isLoading||isFetching||isRefetching,shouldShowSearchResults=isLoadingOrRefetching||resultItems.length>0;return{resultItems,hitcount,page,PagerComponent,isLoadingOrRefetching,shouldShowSearchResults,shouldShowZeroResults:!isLoadingOrRefetching&&0===hitcount&&canShowZeroResults}})({cql,isSearchEnabled,onShelf,pageSize,sort});return isSearchEnabled?react.createElement("div",{className:"advanced-search-v2__results"},react.createElement(components_AdvancedSearchSummary,{customCqlUrl,customCqlUrlLabel,onEditClick:()=>{clearFacets(),setView("search")}}),react.createElement("div",{className:"advanced-search-v2__grid"},react.createElement(components_AdvancedSearchFacets,{cql}),react.createElement("section",null,react.createElement("div",{className:"advanced-search-v2__results-top-bar"},react.createElement("div",{className:"advanced-search-v2__results-top-bar__left"},react.createElement("h2",{className:"advanced-search-v2__results-heading",id:"advanced-search-result","aria-live":"polite"},t("showingMaterialsText",{placeholders:{"@hitcount":hitcount}})),react.createElement(CopyLink.A,{className:"advanced-search-v2__copy-link",label:"Kopier link"})),react.createElement("div",{className:"advanced-search-v2__results-top-bar__right"},react.createElement("button",{onClick:()=>openDialogWithContent(!0),className:"advanced-search-v2__modify-filters-button"},react.createElement("img",{src:icon_filter_default(),alt:""}),react.createElement("span",null,t("addMoreFiltersText"))),react.createElement(components_AdvancedSortSelect,{sortOption:sort,setSortOption:setSort}),react.createElement(Dialog.A,{isSidebar:!0,closeDialog,ref:dialogRef},react.createElement("div",{className:"advanced-search-facets__dialog"},react.createElement("div",{className:"advanced-search-facets__dialog-content"},react.createElement("h2",{className:"advanced-search-facets__dialog-content__heading"},t("advancedSearchFilterMaterialsText",{placeholders:{"@hitcount":hitcount}})),react.createElement(components_AdvancedSearchFacets,{cql})),react.createElement("div",{className:"advanced-search-facets__dialog__actions"},react.createElement(Button.$,{classNames:"advanced-search-facets__dialog__actions__button",collapsible:!0,label:t("advancedSearchShowResultsText"),size:"medium",buttonType:"none",variant:"filled",onClick:closeDialog})))))),shouldShowSearchResults&&react.createElement(react.Fragment,null,react.createElement(SearchResultList.A,{resultItems,page,pageSize}),react.createElement(PagerComponent,{isLoading:isLoadingOrRefetching}))))):null},components_AdvancedSearchResultsWithFacets=AdvancedSearchResultsWithFacets;try{AdvancedSearchResultsWithFacets.displayName="AdvancedSearchResultsWithFacets",AdvancedSearchResultsWithFacets.__docgenInfo={description:"",displayName:"AdvancedSearchResultsWithFacets",props:{pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}},customCqlUrl:{defaultValue:null,description:"",name:"customCqlUrl",required:!1,type:{name:"URL | undefined"}},customCqlUrlLabel:{defaultValue:null,description:"",name:"customCqlUrlLabel",required:!1,type:{name:"string | undefined"}},clearFacets:{defaultValue:null,description:"",name:"clearFacets",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search-v2/components/AdvancedSearchResultsWithFacets.tsx#AdvancedSearchResultsWithFacets"]={docgenInfo:AdvancedSearchResultsWithFacets.__docgenInfo,name:"AdvancedSearchResultsWithFacets",path:"src/apps/advanced-search-v2/components/AdvancedSearchResultsWithFacets.tsx#AdvancedSearchResultsWithFacets"})}catch(__react_docgen_typescript_loader_error){}var MinusButton=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/MinusButton.svg"),MinusButton_default=__webpack_require__.n(MinusButton);const OperatorButtons=({value,onChange})=>{const t=(0,utils_text.F)(),operatorLabelsMap=getOperatorLabelsMap(t);return react.createElement("div",{className:"advanced-search-filter__operators"},OPERATOR_ORDER.map((operator=>react.createElement("button",{key:operator,type:"button",className:(0,clsx.A)("advanced-search-filter__operator",{"advanced-search-filter__operator--active":value===operator}),onClick:()=>onChange(operator)},operatorLabelsMap[operator]))))},components_OperatorButtons=OperatorButtons;try{OperatorButtons.displayName="OperatorButtons",OperatorButtons.__docgenInfo={description:"",displayName:"OperatorButtons",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"enum",value:[{value:'"and"'},{value:'"or"'},{value:'"not"'}]}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(operator: Operator) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search-v2/components/OperatorButtons.tsx#OperatorButtons"]={docgenInfo:OperatorButtons.__docgenInfo,name:"OperatorButtons",path:"src/apps/advanced-search-v2/components/OperatorButtons.tsx#OperatorButtons"})}catch(__react_docgen_typescript_loader_error){}var combobox=__webpack_require__("./node_modules/@headlessui/react/dist/components/combobox/combobox.js");const ComboBoxAutosuggest=({items,value="",onInputChange,placeholder="Start typing …"})=>{const hiddenOption={value:"__hidden__",label:""},filtered=""===value?items:items.filter((item=>item.label.toLowerCase().includes(value.toLowerCase())));return react.createElement(combobox.G3,{value:hiddenOption,onChange:item=>{item&&"__hidden__"!==item.value&&onInputChange(item.label)}},react.createElement(combobox.oK,{className:(0,clsx.A)("combobox-input"),onChange:e=>onInputChange(e.target.value),displayValue:()=>value,placeholder}),filtered.length>0&&react.createElement(combobox.Kc,{className:"combobox-options"},react.createElement(combobox.jO,{value:hiddenOption,style:{display:"none"}},""),filtered.map((item=>react.createElement(combobox.jO,{key:item.value,value:item,className:({focus,selected})=>(0,clsx.A)("combobox-option",{"combobox-option--focused":focus,"combobox-option--selected":selected})},item.label)))))},components_ComboBoxAutosuggest=ComboBoxAutosuggest;try{ComboBoxAutosuggest.displayName="ComboBoxAutosuggest",ComboBoxAutosuggest.__docgenInfo={description:"",displayName:"ComboBoxAutosuggest",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"Option[]"}},value:{defaultValue:{value:""},description:"",name:"value",required:!1,type:{name:"string | undefined"}},onInputChange:{defaultValue:null,description:"",name:"onInputChange",required:!0,type:{name:"(query: string) => void"}},placeholder:{defaultValue:{value:"Start typing …"},description:"",name:"placeholder",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search-v2/components/ComboBoxAutosuggest.tsx#ComboBoxAutosuggest"]={docgenInfo:ComboBoxAutosuggest.__docgenInfo,name:"ComboBoxAutosuggest",path:"src/apps/advanced-search-v2/components/ComboBoxAutosuggest.tsx#ComboBoxAutosuggest"})}catch(__react_docgen_typescript_loader_error){}var listbox=__webpack_require__("./node_modules/@headlessui/react/dist/components/listbox/listbox.js");const SearchTermSelect=({value,onChange,shouldAutoFocus})=>{const t=(0,utils_text.F)(),[isButtonFocused,setIsButtonFocused]=(0,react.useState)(!1),selectedOption=SEARCH_TERM_OPTIONS.find((item=>item.value===value));return react.createElement(listbox.WF,{value,onChange},(({open})=>{const isFocused=isButtonFocused||open;return react.createElement("div",{className:(0,clsx.A)("select",{"select--focused":isFocused})},react.createElement(listbox.go,{autoFocus:shouldAutoFocus,className:"select-button",onFocus:()=>setIsButtonFocused(!0),onBlur:()=>setIsButtonFocused(!1)},react.createElement("span",null,selectedOption?t(selectedOption.labelKey):"Select"),react.createElement("div",{className:"select-button__arrow"},react.createElement("img",{src:ExpandMore_default(),alt:""}))),react.createElement(listbox.wh,{className:"select-options"},SEARCH_TERM_OPTIONS.map((item=>react.createElement(listbox.h7,{key:item.value,value:item.value,className:({focus})=>(0,clsx.A)("select-option",{"select-option--focused":focus})},t(item.labelKey))))))}))},components_SearchTermSelect=SearchTermSelect;try{SearchTermSelect.displayName="SearchTermSelect",SearchTermSelect.__docgenInfo={description:"",displayName:"SearchTermSelect",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},shouldAutoFocus:{defaultValue:null,description:"",name:"shouldAutoFocus",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search-v2/components/SearchTermSelect.tsx#SearchTermSelect"]={docgenInfo:SearchTermSelect.__docgenInfo,name:"SearchTermSelect",path:"src/apps/advanced-search-v2/components/SearchTermSelect.tsx#SearchTermSelect"})}catch(__react_docgen_typescript_loader_error){}const AdvancedSearchFilterRow=({selectedTerm,onSelectedTermChange,query,onQueryChange,suggestType,inputPlaceholder,operator="and",onOperatorChange,onRemove,showRemoveButton=!1,shouldAutoFocus,disableSuggest=!1})=>{var _data$complexSuggest;const t=(0,utils_text.F)(),{data}=(0,graphql.Od)({q:query,type:suggestType},{enabled:!disableSuggest&&query.length>0}),items=function suggestionsToOptions(results){return results&&0!==results.length?results.map((item=>({label:item.term,value:item.term}))):[]}(null==data||null===(_data$complexSuggest=data.complexSuggest)||void 0===_data$complexSuggest?void 0:_data$complexSuggest.result);return react.createElement(react.Fragment,null,react.createElement("div",{className:"advanced-search-filter-wrapper"},react.createElement("div",{className:"advanced-search-filter"},react.createElement(components_SearchTermSelect,{key:shouldAutoFocus?"focus":"idle",shouldAutoFocus,value:selectedTerm,onChange:onSelectedTermChange}),react.createElement("div",{className:"advanced-search-filter__combobox-wrapper"},react.createElement(components_ComboBoxAutosuggest,{items,value:query,onInputChange:q=>{onQueryChange(q)},placeholder:inputPlaceholder}))),showRemoveButton&&react.createElement("button",{type:"button",className:"advanced-search-filter__remove-button",onClick:onRemove,"aria-label":t("advancedSearchRemoveRowText")},react.createElement("img",{src:MinusButton_default(),alt:""}))),onOperatorChange&&react.createElement(components_OperatorButtons,{value:operator,onChange:onOperatorChange}))},components_AdvancedSearchFilterRow=AdvancedSearchFilterRow;try{AdvancedSearchFilterRow.displayName="AdvancedSearchFilterRow",AdvancedSearchFilterRow.__docgenInfo={description:"",displayName:"AdvancedSearchFilterRow",props:{selectedTerm:{defaultValue:null,description:"",name:"selectedTerm",required:!0,type:{name:"string"}},onSelectedTermChange:{defaultValue:null,description:"",name:"onSelectedTermChange",required:!0,type:{name:"(value: string) => void"}},query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"string"}},onQueryChange:{defaultValue:null,description:"",name:"onQueryChange",required:!0,type:{name:"(q: string) => void"}},suggestType:{defaultValue:null,description:"",name:"suggestType",required:!0,type:{name:"enum",value:[{value:'"CONTRIBUTORFUNCTION"'},{value:'"CREATOR"'},{value:'"CREATORCONTRIBUTOR"'},{value:'"CREATORCONTRIBUTORFUNCTION"'},{value:'"CREATORFUNCTION"'},{value:'"DEFAULT"'},{value:'"FICTIONALCHARACTER"'},{value:'"HOSTPUBLICATION"'},{value:'"PUBLISHER"'},{value:'"SERIES"'},{value:'"SUBJECT"'},{value:'"TITLE"'}]}},inputPlaceholder:{defaultValue:null,description:"",name:"inputPlaceholder",required:!0,type:{name:"string"}},operator:{defaultValue:{value:"and"},description:"",name:"operator",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"and"'},{value:'"or"'},{value:'"not"'}]}},onOperatorChange:{defaultValue:null,description:"",name:"onOperatorChange",required:!1,type:{name:"((operator: Operator) => void) | undefined"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:"(() => void) | undefined"}},showRemoveButton:{defaultValue:{value:"false"},description:"",name:"showRemoveButton",required:!1,type:{name:"boolean | undefined"}},shouldAutoFocus:{defaultValue:null,description:"",name:"shouldAutoFocus",required:!1,type:{name:"boolean | undefined"}},disableSuggest:{defaultValue:{value:"false"},description:"",name:"disableSuggest",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search-v2/components/AdvancedSearchFilterRow.tsx#AdvancedSearchFilterRow"]={docgenInfo:AdvancedSearchFilterRow.__docgenInfo,name:"AdvancedSearchFilterRow",path:"src/apps/advanced-search-v2/components/AdvancedSearchFilterRow.tsx#AdvancedSearchFilterRow"})}catch(__react_docgen_typescript_loader_error){}var PlusButton=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/PlusButton.svg"),PlusButton_default=__webpack_require__.n(PlusButton);const hasValidKey=value=>"string"==typeof value.key&&value.key.length>0,toOption=value=>({label:value.key,value:value.key,count:value.score??void 0}),mergeSelectFacetOptions=(preFacet,dynamicFacets)=>{const staticOptions=preFacet.options,matchingFacet=((facetField,dynamicFacets)=>dynamicFacets.find((facet=>facet.name===facetField||facet.name===`facet.${facetField.toLowerCase()}`)))(preFacet.facetField,dynamicFacets),newOptions=((facetValues,existingValues)=>facetValues.filter(hasValidKey).filter((value=>!existingValues.has(value.key))).map(toOption).sort(((a,b)=>a.label.localeCompare(b.label))))((null==matchingFacet?void 0:matchingFacet.values)??[],new Set(staticOptions.map((opt=>opt.value)))),DIVIDER={label:"",value:"__divider__"},options=staticOptions.length>0&&newOptions.length>0?[...staticOptions,DIVIDER,...newOptions]:[...staticOptions,...newOptions];return{facetField:preFacet.facetField,options}},SELECT_PREFACETS=INITIAL_PRE_SEARCH_FACETS_STATE.filter((config=>"select"===config.type));var popover=__webpack_require__("./node_modules/@headlessui/react/dist/components/popover/popover.js");const MultiSelect=({options,selectedOptions,onChange,label,enableSearch=!1})=>{const t=(0,utils_text.F)(),[query,setQuery]=(0,react.useState)(""),filteredOptions=(0,react.useMemo)((()=>enableSearch&&query?options.filter((opt=>"__divider__"!==opt.value&&opt.label.toLowerCase().includes(query.toLowerCase()))):options),[options,query,enableSearch]),selectedCount=selectedOptions.length,hasSelection=selectedCount>0;return react.createElement("div",{className:"hui-multiselect-wrapper"},react.createElement("label",{className:"hui-multiselect-wrapper__label"},t(label)),react.createElement(popover.AM,{className:"hui-multiselect"},(({open})=>react.createElement(react.Fragment,null,react.createElement(popover.ut,{className:(0,clsx.A)("hui-multiselect__button",{"hui-multiselect__button--open":open})},react.createElement("div",{className:"hui-multiselect__button-label"},t(hasSelection?"advancedSearchSelectedText":"advancedSearchAllText"),hasSelection&&react.createElement("span",{className:"hui-multiselect__button-label__count-badge"},selectedCount)),react.createElement("div",{className:"hui-multiselect__button-arrow"},react.createElement("img",{src:ExpandMore_default(),alt:""}))),react.createElement(popover.QT,{className:"hui-multiselect__popover-panel"},react.createElement(combobox.G3,{multiple:!0,value:selectedOptions,onChange:val=>null==onChange?void 0:onChange(val),by:"value"},enableSearch?react.createElement(combobox.oK,{autoFocus:!0,className:"hui-multiselect__input",onChange:e=>setQuery(e.target.value),placeholder:t("advancedSearchMultiselectSearchPlaceholderText")}):react.createElement(combobox.oK,{readOnly:!0,autoFocus:!0,className:"hide-visually"}),react.createElement("div",{className:"hui-multiselect__options",tabIndex:-1},react.createElement(combobox.Kc,{static:!0},filteredOptions.map(((option,index)=>"__divider__"===option.value?react.createElement("div",{key:`divider-${index}`,className:"hui-multiselect__divider",role:"separator","aria-hidden":"true"}):react.createElement(combobox.jO,{key:option.value,value:option},(({selected,focus})=>react.createElement("div",{className:(0,clsx.A)("hui-multiselect__options__option",{"hui-multiselect__options__option--selected":selected,"hui-multiselect__options__option--focused":focus})},react.createElement(Checkbox.A,{id:`multiselect-${option.value}`,label:option.label,selected,isVisualOnly:!0,tabIndex:-1}))))))))),react.createElement("div",{className:"hui-multiselect__footer"},react.createElement("button",{type:"button",className:"hui-multiselect__reset-button",onClick:()=>null==onChange?void 0:onChange([]),disabled:!hasSelection},t("advancedSearchResetText"))))))))},components_MultiSelect=MultiSelect;try{MultiSelect.displayName="MultiSelect",MultiSelect.__docgenInfo={description:"",displayName:"MultiSelect",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"Option[]"}},selectedOptions:{defaultValue:null,description:"",name:"selectedOptions",required:!0,type:{name:"Option[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((vals: Option[]) => void) | undefined"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},enableSearch:{defaultValue:{value:"false"},description:"",name:"enableSearch",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search-v2/components/MultiSelect.tsx#MultiSelect"]={docgenInfo:MultiSelect.__docgenInfo,name:"MultiSelect",path:"src/apps/advanced-search-v2/components/MultiSelect.tsx#MultiSelect"})}catch(__react_docgen_typescript_loader_error){}const emptyRange={from:null,to:null},defaultFormatBadge=range=>{const{from,to}=range;return null===from?null:null===to?`${from}+`:from===to?`${from}`:`${from}-${to}`},components_AdvancedSearchRangeSelect=({label,value,onChange,rangePresets,fromLabel,toLabel,resetLabel,formatBadge=defaultFormatBadge})=>{const t=(0,utils_text.F)(),currentValue=value??emptyRange,effectiveFromLabel=fromLabel??t("advancedSearchRangeFromText"),effectiveToLabel=toLabel??t("advancedSearchRangeToText"),handlePresetChange=presetId=>{const preset=rangePresets.find((p=>p.id===presetId));preset&&onChange({from:preset.from,to:preset.to})},handleInputChange=field=>e=>{const newValue=(rawValue=>{const trimmed=rawValue.trim();if(""===trimmed)return null;const parsed=Number(trimmed);return Number.isNaN(parsed)?null:parsed})(e.currentTarget.value);onChange({from:"from"===field?newValue:currentValue.from,to:"to"===field?newValue:currentValue.to})},handleReset=()=>onChange(emptyRange);return react.createElement("div",{className:"range-select-wrapper"},label&&react.createElement("label",{className:"range-select-wrapper__label"},label),react.createElement(popover.AM,{className:"range-select"},(({open})=>{var _rangePresets$find;return react.createElement(react.Fragment,null,react.createElement(popover.ut,{className:(0,clsx.A)("range-select__button",{"range-select__button--open":open})},react.createElement("div",{className:"range-select__button-label"},null!==currentValue.from?t("advancedSearchSelectedText"):t("advancedSearchAllText"),currentValue.from&&react.createElement("span",{className:"range-select__button-label__count-badge"},formatBadge(currentValue))),react.createElement("div",{className:"range-select__button-arrow"},react.createElement("img",{src:ExpandMore_default(),alt:""}))),react.createElement(popover.QT,{className:"range-select__popover-panel"},react.createElement("div",{className:"range-select__content"},react.createElement(radio_group.z6,{value:(null===(_rangePresets$find=rangePresets.find((p=>p.from===currentValue.from&&p.to===currentValue.to)))||void 0===_rangePresets$find?void 0:_rangePresets$find.id)??"",onChange:handlePresetChange},react.createElement("div",{className:"range-select__options"},rangePresets.map((presetOption=>react.createElement(radio_group.sx,{key:presetOption.id,value:presetOption.id,className:"range-select__option"},(({checked})=>react.createElement("div",{className:"range-select__option-inner"},react.createElement("span",null,presetOption.label),react.createElement("span",{className:(0,clsx.A)("range-select__option__bullet",checked&&"range-select__option__bullet--checked"),"aria-hidden":"true"})))))))),react.createElement("div",{className:"range-select__range"},react.createElement("div",{className:"range-select__field"},react.createElement("label",{htmlFor:"range-select-from",className:"range-select-wrapper__label"},effectiveFromLabel),react.createElement("input",{id:"range-select-from",type:"number",className:"range-select__input",value:currentValue.from??"",onChange:handleInputChange("from")})),react.createElement("div",{className:"range-select__separator"},"—"),react.createElement("div",{className:"range-select__field"},react.createElement("label",{htmlFor:"range-select-to",className:"range-select-wrapper__label"},effectiveToLabel),react.createElement("input",{id:"range-select-to",type:"number",className:"range-select__input",value:currentValue.to??"",onChange:handleInputChange("to")})))),react.createElement("div",{className:"range-select__footer"},react.createElement("button",{type:"button",className:"range-select__reset-button",onClick:handleReset,disabled:null===currentValue.from&&null===currentValue.to},resetLabel??t("advancedSearchResetText")))))})))};try{AdvancedSearchRangeSelect.displayName="AdvancedSearchRangeSelect",AdvancedSearchRangeSelect.__docgenInfo={description:"",displayName:"AdvancedSearchRangeSelect",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"RangeValue | undefined"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(next: RangeValue) => void"}},rangePresets:{defaultValue:null,description:"",name:"rangePresets",required:!0,type:{name:"RangePreset[]"}},fromLabel:{defaultValue:null,description:"",name:"fromLabel",required:!1,type:{name:"string | undefined"}},toLabel:{defaultValue:null,description:"",name:"toLabel",required:!1,type:{name:"string | undefined"}},resetLabel:{defaultValue:null,description:"",name:"resetLabel",required:!1,type:{name:"string | undefined"}},formatBadge:{defaultValue:{value:"(range: RangeValue): string | null => {\n  const { from, to } = range;\n  if (from === null) return null;\n  if (to === null) return `${from}+`;\n  if (from === to) return `${from}`;\n  return `${from}-${to}`;\n}"},description:"",name:"formatBadge",required:!1,type:{name:"((range: RangeValue) => string | null) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search-v2/components/AdvancedSearchRangeSelect.tsx#AdvancedSearchRangeSelect"]={docgenInfo:AdvancedSearchRangeSelect.__docgenInfo,name:"AdvancedSearchRangeSelect",path:"src/apps/advanced-search-v2/components/AdvancedSearchRangeSelect.tsx#AdvancedSearchRangeSelect"})}catch(__react_docgen_typescript_loader_error){}const parseToNumber=value=>{const parsed=parseInt(value??"",10);return isNaN(parsed)?null:parsed},parseRangeFromStrings=values=>({from:parseToNumber(values[0]),to:parseToNumber(values[1])}),rangeToStrings=range=>[range.from,range.to].filter((v=>null!==v)).map(String),AdvancedSearchAgeSelect=({label,selectedValues,onUpdate,resetLabel,rangePresets})=>{const t=(0,utils_text.F)(),value=parseRangeFromStrings(selectedValues);return react.createElement(components_AdvancedSearchRangeSelect,{label,value,onChange:range=>onUpdate(rangeToStrings(range)),rangePresets,fromLabel:t("advancedSearchRangeFromText"),toLabel:t("advancedSearchRangeToText"),resetLabel,formatBadge:range=>{const{from,to}=range;return null===from?null:null===to?t("advancedSearchAgeBadgeOpenEndedText",{placeholders:{"@age":from}}):from===to?t("advancedSearchAgeBadgeSingleText",{placeholders:{"@age":from}}):t("advancedSearchAgeBadgeRangeText",{placeholders:{"@from":from,"@to":to}})}})},components_AdvancedSearchAgeSelect=AdvancedSearchAgeSelect;try{AdvancedSearchAgeSelect.displayName="AdvancedSearchAgeSelect",AdvancedSearchAgeSelect.__docgenInfo={description:"",displayName:"AdvancedSearchAgeSelect",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},selectedValues:{defaultValue:null,description:"",name:"selectedValues",required:!0,type:{name:"string[]"}},onUpdate:{defaultValue:null,description:"",name:"onUpdate",required:!0,type:{name:"(values: string[]) => void"}},resetLabel:{defaultValue:null,description:"",name:"resetLabel",required:!1,type:{name:"string | undefined"}},rangePresets:{defaultValue:null,description:"",name:"rangePresets",required:!0,type:{name:"RangePreset[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search-v2/components/AdvancedSearchAgeSelect.tsx#AdvancedSearchAgeSelect"]={docgenInfo:AdvancedSearchAgeSelect.__docgenInfo,name:"AdvancedSearchAgeSelect",path:"src/apps/advanced-search-v2/components/AdvancedSearchAgeSelect.tsx#AdvancedSearchAgeSelect"})}catch(__react_docgen_typescript_loader_error){}const formatYearBadge=range=>{const{from,to}=range;return null===from?null:null===to?`${from}+`:from===to?`${from}`:`${from}-${to}`},AdvancedSearchPublicationYearSelect=({label,selectedValues,onUpdate,resetLabel,rangePresets})=>{const t=(0,utils_text.F)(),value=parseRangeFromStrings(selectedValues);return react.createElement(components_AdvancedSearchRangeSelect,{label,value,onChange:range=>onUpdate(rangeToStrings(range)),rangePresets,fromLabel:t("advancedSearchRangeFromText"),toLabel:t("advancedSearchRangeToText"),resetLabel,formatBadge:formatYearBadge})},components_AdvancedSearchPublicationYearSelect=AdvancedSearchPublicationYearSelect;try{AdvancedSearchPublicationYearSelect.displayName="AdvancedSearchPublicationYearSelect",AdvancedSearchPublicationYearSelect.__docgenInfo={description:"",displayName:"AdvancedSearchPublicationYearSelect",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},selectedValues:{defaultValue:null,description:"",name:"selectedValues",required:!0,type:{name:"string[]"}},onUpdate:{defaultValue:null,description:"",name:"onUpdate",required:!0,type:{name:"(values: string[]) => void"}},resetLabel:{defaultValue:null,description:"",name:"resetLabel",required:!1,type:{name:"string | undefined"}},rangePresets:{defaultValue:null,description:"",name:"rangePresets",required:!0,type:{name:"RangePreset[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search-v2/components/AdvancedSearchPublicationYearSelect.tsx#AdvancedSearchPublicationYearSelect"]={docgenInfo:AdvancedSearchPublicationYearSelect.__docgenInfo,name:"AdvancedSearchPublicationYearSelect",path:"src/apps/advanced-search-v2/components/AdvancedSearchPublicationYearSelect.tsx#AdvancedSearchPublicationYearSelect"})}catch(__react_docgen_typescript_loader_error){}const AdvancedSearchForm=({filters,preSearchFacets,updateFilter,updatePreSearchFacet,addFilter,removeFilter,handleSearch,handleClearFilters})=>{const t=(0,utils_text.F)(),[focusIndex,setFocusIndex]=(0,react.useState)(null),{mergedFacetOptions}=(()=>{const{data,isLoading}=(0,graphql.Bc)({cql:"*",facets:{facets:SELECT_PREFACETS.map((preFacets=>preFacets.facetField)),facetLimit:50},filters:{}});return{mergedFacetOptions:(0,react.useMemo)((()=>{var _data$complexSearch;const dynamicFacets=(null==data||null===(_data$complexSearch=data.complexSearch)||void 0===_data$complexSearch?void 0:_data$complexSearch.facets)??[];return SELECT_PREFACETS.map((preFacets=>mergeSelectFacetOptions(preFacets,dynamicFacets)))}),[data]),isLoading}})(),hasActiveFilters=filters.some((filter=>filter.query.trim()))||preSearchFacets.some((preSearchFacet=>preSearchFacet.selectedValues.length>0));return react.createElement("section",{className:"advanced-search-v2__form"},react.createElement("div",{className:"advanced-search-v2__filters"},filters.map(((filter,index)=>{var _filters;const config=SEARCH_TERM_OPTIONS.find((item=>item.value===filter.term))??SEARCH_TERM_OPTIONS[0];return react.createElement(components_AdvancedSearchFilterRow,{key:`filter-${index}`,shouldAutoFocus:index===focusIndex,selectedTerm:filter.term,onSelectedTermChange:value=>updateFilter(index,{term:value}),query:filter.query,onQueryChange:query=>updateFilter(index,{query}),suggestType:config.type,inputPlaceholder:t(config.placeholderKey),operator:null===(_filters=filters[index+1])||void 0===_filters?void 0:_filters.operator,onOperatorChange:index<filters.length-1?operator=>updateFilter(index+1,{operator}):void 0,onRemove:()=>(index=>{setFocusIndex(filters.length>1?Math.min(index,filters.length-2):null),removeFilter(index)})(index),showRemoveButton:filters.length>1,disableSuggest:config.disableSuggest})})),react.createElement("button",{type:"button",className:"advanced-search-v2__add-filter",onClick:()=>{setFocusIndex(filters.length),addFilter()}},react.createElement("img",{src:PlusButton_default(),alt:""}),react.createElement("span",null,t("advancedSearchAddRowText")))),react.createElement("div",{className:"advanced-search-v2__selects-wrapper"},react.createElement("h2",{className:"advanced-search-v2__selects-wrapper__title"},t("advancedSearchLimitSearchText")),react.createElement("div",{className:"advanced-search-v2__selects-grid"},INITIAL_PRE_SEARCH_FACETS_STATE.map((config=>{const currentPreSearchFacet=preSearchFacets.find((f=>f.facetField===config.facetField)),selectedValues=(null==currentPreSearchFacet?void 0:currentPreSearchFacet.selectedValues)??[];if("range"===config.type){if("AGES"===config.facetField)return react.createElement(components_AdvancedSearchAgeSelect,{key:config.facetField,label:t(config.label),selectedValues,rangePresets:config.rangePresets,onUpdate:values=>{updatePreSearchFacet({facetField:config.facetField,selectedValues:values})}});if("PUBLICATIONYEAR"===config.facetField)return react.createElement(components_AdvancedSearchPublicationYearSelect,{key:config.facetField,label:t(config.label),selectedValues,rangePresets:config.rangePresets,onUpdate:values=>{updatePreSearchFacet({facetField:config.facetField,selectedValues:values})}})}if("select"===config.type){const merged=mergedFacetOptions.find((m=>m.facetField===config.facetField)),options=(null==merged?void 0:merged.options)??config.options;return react.createElement(components_MultiSelect,{enableSearch:config.enableSearch,options,key:config.facetField,label:config.label,selectedOptions:selectedValues.map((value=>({label:value,value}))),onChange:values=>{const newValues=values.map((option=>option.value));updatePreSearchFacet({facetField:config.facetField,selectedValues:newValues})}})}})))),react.createElement("div",{className:"advanced-search-v2__action-buttons"},react.createElement(Button.$,{label:t("advancedSearchSearchButtonText"),buttonType:"none",collapsible:!1,size:"large",variant:"filled",onClick:handleSearch}),hasActiveFilters&&react.createElement(Button.$,{label:t("advancedSearchResetText"),buttonType:"none",collapsible:!1,size:"large",variant:"outline",onClick:handleClearFilters,classNames:"advanced-search-v2__reset-button"})))},components_AdvancedSearchForm=AdvancedSearchForm;try{AdvancedSearchForm.displayName="AdvancedSearchForm",AdvancedSearchForm.__docgenInfo={description:"",displayName:"AdvancedSearchForm",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterState[]"}},preSearchFacets:{defaultValue:null,description:"",name:"preSearchFacets",required:!0,type:{name:"FacetState[]"}},updateFilter:{defaultValue:null,description:"",name:"updateFilter",required:!0,type:{name:"(index: number, updates: Partial<FilterState>) => void"}},updatePreSearchFacet:{defaultValue:null,description:"",name:"updatePreSearchFacet",required:!0,type:{name:"(preSearchFacet: FacetState) => void"}},addFilter:{defaultValue:null,description:"",name:"addFilter",required:!0,type:{name:"() => void"}},removeFilter:{defaultValue:null,description:"",name:"removeFilter",required:!0,type:{name:"(index: number) => void"}},handleSearch:{defaultValue:null,description:"",name:"handleSearch",required:!0,type:{name:"() => void"}},handleClearFilters:{defaultValue:null,description:"",name:"handleClearFilters",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search-v2/components/AdvancedSearchForm.tsx#AdvancedSearchForm"]={docgenInfo:AdvancedSearchForm.__docgenInfo,name:"AdvancedSearchForm",path:"src/apps/advanced-search-v2/components/AdvancedSearchForm.tsx#AdvancedSearchForm"})}catch(__react_docgen_typescript_loader_error){}var helpers_url=__webpack_require__("./src/core/utils/helpers/url.ts");const useCqlSearchUrl=()=>{const cqlSearchUrl=(0,url.Ik)()("advancedSearchV2CqlSearchUrl",!0),{cql}=useSearchQueries();if(!cqlSearchUrl||"boolean"==typeof cqlSearchUrl)return{customCqlUrl:null};return{customCqlUrl:(0,helpers_url.xl)(cqlSearchUrl,{advancedSearchCql:cql})}},AdvancedSearchV2=({pageSize})=>{const t=(0,utils_text.F)(),{customCqlUrl}=useCqlSearchUrl(),{showResults,setView}=useFormVisibility(),{filters,preSearchFacets,updateFilter,updatePreSearchFacet,addFilter,removeFilter,handleSearch,clearFacets,handleClearFilters}=(()=>{const[urlState,setUrlState]=(0,dist.ab)({filters:(0,dist.os)((value=>isValidFilterState(value)?value:INITIAL_FILTER_STATE)).withDefault(INITIAL_FILTER_STATE),preSearchFacets:(0,dist.os)((value=>isValidFacetState(value)?value:[])).withDefault([]),facets:(0,dist.os)((value=>isValidFacetState(value)?value:[])).withDefault([]),onShelf:dist.cr.withDefault(!1),onlyExtraTitles:dist.cr.withDefault(!1),sort:(0,dist.Oq)(Object.values(SortOption)).withDefault(SortOption.Relevance),accessType:(0,dist.Oq)(["online","fysisk"]),fictionType:(0,dist.Oq)(["fiction","nonfiction"]),ageGroup:(0,dist.Oq)(["til voksne","til børn"])}),[filters,setFilters]=(0,react.useState)(urlState.filters),[preSearchFacets,setPreSearchFacets]=(0,react.useState)(urlState.preSearchFacets);return(0,react.useEffect)((()=>{setFilters(urlState.filters),setPreSearchFacets(urlState.preSearchFacets)}),[urlState.filters,urlState.preSearchFacets]),{filters,preSearchFacets,updateFilter:(index,updates)=>{setFilters((prev=>prev.map(((item,idx)=>idx===index?{...item,...updates}:item))))},updatePreSearchFacet:preSearchFacet=>{setPreSearchFacets((prev=>{const existingIndex=prev.findIndex((f=>f.facetField===preSearchFacet.facetField));return 0===preSearchFacet.selectedValues.length?prev.filter((f=>f.facetField!==preSearchFacet.facetField)):existingIndex>=0?prev.map(((f,idx)=>idx===existingIndex?preSearchFacet:f)):[...prev,preSearchFacet]}))},addFilter:()=>{setFilters((prev=>[...prev,{term:"term.default",query:"",operator:"and"}]))},removeFilter:index=>{setFilters((prev=>prev.length<=1?prev:prev.filter(((_,idx)=>idx!==index))))},handleSearch:()=>{const nonEmptyFilters=filters.filter((filter=>filter.query.trim())).map(((filter,index)=>0===index?{term:filter.term,query:filter.query}:filter));setUrlState({filters:nonEmptyFilters.length>0?nonEmptyFilters:null,preSearchFacets:preSearchFacets.length>0?preSearchFacets:null,facets:null},{history:"push"})},handleClearFilters:()=>{setFilters(INITIAL_FILTER_STATE),setPreSearchFacets([]),setUrlState({filters:INITIAL_FILTER_STATE,preSearchFacets:[],facets:[],accessType:null,fictionType:null,ageGroup:null},{history:"push"})},clearFacets:()=>{setUrlState({facets:[],onShelf:!1,onlyExtraTitles:!1,sort:null,accessType:null,fictionType:null,ageGroup:null},{history:"push"})}}})();return react.createElement("div",{className:"advanced-search-v2"},react.createElement("h1",{className:"advanced-search-v2__title"},t("advancedSearchTitleText")),!showResults&&react.createElement(components_AdvancedSearchForm,{filters,preSearchFacets,updateFilter,updatePreSearchFacet,addFilter,removeFilter,handleSearch:()=>{handleSearch(),setView("results")},handleClearFilters}),showResults&&react.createElement(components_AdvancedSearchResultsWithFacets,{customCqlUrl:customCqlUrl??void 0,customCqlUrlLabel:t("advancedSearchV2ToCqlSearchButtonText"),pageSize,clearFacets}))},advanced_search_v2_AdvancedSearchV2=AdvancedSearchV2;try{AdvancedSearchV2.displayName="AdvancedSearchV2",AdvancedSearchV2.__docgenInfo={description:"",displayName:"AdvancedSearchV2",props:{pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search-v2/AdvancedSearchV2.tsx#AdvancedSearchV2"]={docgenInfo:AdvancedSearchV2.__docgenInfo,name:"AdvancedSearchV2",path:"src/apps/advanced-search-v2/AdvancedSearchV2.tsx#AdvancedSearchV2"})}catch(__react_docgen_typescript_loader_error){}var adapters_react=__webpack_require__("./node_modules/nuqs/dist/adapters/react.js");const AdvancedSearchV2_entry=(0,config.NV)((0,url.nU)((0,utils_text.i)((0,withPageStatistics.A)((({pageSizeDesktop,pageSizeMobile})=>{const pageSize=(0,general.Ki)({desktop:pageSizeDesktop,mobile:pageSizeMobile});return react.createElement("div",null,react.createElement(guarded_app.A,{app:"advanced-search"},react.createElement(adapters_react.N,null,react.createElement(advanced_search_v2_AdvancedSearchV2,{pageSize}))))})))));try{AdvancedSearchV2entry.displayName="AdvancedSearchV2entry",AdvancedSearchV2entry.__docgenInfo={description:"",displayName:"AdvancedSearchV2entry",props:{pageSizeDesktop:{defaultValue:null,description:"",name:"pageSizeDesktop",required:!0,type:{name:"number"}},pageSizeMobile:{defaultValue:null,description:"",name:"pageSizeMobile",required:!0,type:{name:"number"}},showingMaterialsText:{defaultValue:null,description:"",name:"showingMaterialsText",required:!0,type:{name:"string"}},addMoreFiltersText:{defaultValue:null,description:"",name:"addMoreFiltersText",required:!0,type:{name:"string"}},materialUrl:{defaultValue:null,description:"",name:"materialUrl",required:!0,type:{name:"string"}},searchUrl:{defaultValue:null,description:"",name:"searchUrl",required:!0,type:{name:"string"}},advancedSearchUrl:{defaultValue:null,description:"",name:"advancedSearchUrl",required:!0,type:{name:"string"}},fbsBaseUrl:{defaultValue:null,description:"",name:"fbsBaseUrl",required:!0,type:{name:"string"}},feesPageUrl:{defaultValue:null,description:"",name:"feesPageUrl",required:!0,type:{name:"string"}},publizonBaseUrl:{defaultValue:null,description:"",name:"publizonBaseUrl",required:!0,type:{name:"string"}},dplCmsBaseUrl:{defaultValue:null,description:"",name:"dplCmsBaseUrl",required:!0,type:{name:"string"}},coverBaseUrl:{defaultValue:null,description:"",name:"coverBaseUrl",required:!0,type:{name:"string"}},materialBaseUrl:{defaultValue:null,description:"",name:"materialBaseUrl",required:!0,type:{name:"string"}},fbiBaseUrl:{defaultValue:null,description:"",name:"fbiBaseUrl",required:!0,type:{name:"string"}},fbiLocalBaseUrl:{defaultValue:null,description:"",name:"fbiLocalBaseUrl",required:!0,type:{name:"string"}},fbiGlobalBaseUrl:{defaultValue:null,description:"",name:"fbiGlobalBaseUrl",required:!0,type:{name:"string"}},authUrl:{defaultValue:null,description:"",name:"authUrl",required:!0,type:{name:"string"}},materialListBaseUrl:{defaultValue:null,description:"",name:"materialListBaseUrl",required:!0,type:{name:"string"}},zeroHitsSearchUrl:{defaultValue:null,description:"",name:"zeroHitsSearchUrl",required:!0,type:{name:"string"}},alertErrorCloseText:{defaultValue:null,description:"",name:"alertErrorCloseText",required:!0,type:{name:"string"}},alertErrorMessageText:{defaultValue:null,description:"",name:"alertErrorMessageText",required:!0,type:{name:"string"}},multiselectAllOptionText:{defaultValue:null,description:"",name:"multiselectAllOptionText",required:!0,type:{name:"string"}},groupModalGoToMaterialAriaLabelText:{defaultValue:null,description:"",name:"groupModalGoToMaterialAriaLabelText",required:!0,type:{name:"string"}},availabilityAvailableText:{defaultValue:null,description:"",name:"availabilityAvailableText",required:!0,type:{name:"string"}},availabilityUnavailableText:{defaultValue:null,description:"",name:"availabilityUnavailableText",required:!0,type:{name:"string"}},loansNotOverdueText:{defaultValue:null,description:"",name:"loansNotOverdueText",required:!0,type:{name:"string"}},patronContactInfoBodyText:{defaultValue:null,description:"",name:"patronContactInfoBodyText",required:!0,type:{name:"string"}},pauseReservationModalBelowInputsText:{defaultValue:null,description:"",name:"pauseReservationModalBelowInputsText",required:!0,type:{name:"string"}},materialDetailsCloseModalAriaLabelText:{defaultValue:null,description:"",name:"materialDetailsCloseModalAriaLabelText",required:!0,type:{name:"string"}},findOnShelfExpandButtonExplanationText:{defaultValue:null,description:"",name:"findOnShelfExpandButtonExplanationText",required:!0,type:{name:"string"}},reservationsStillInQueueForText:{defaultValue:null,description:"",name:"reservationsStillInQueueForText",required:!0,type:{name:"string"}},materialDetailsModalAriaDescriptionText:{defaultValue:null,description:"",name:"materialDetailsModalAriaDescriptionText",required:!0,type:{name:"string"}},changePickupLocationText:{defaultValue:null,description:"",name:"changePickupLocationText",required:!0,type:{name:"string"}},changeInterestPeriodText:{defaultValue:null,description:"",name:"changeInterestPeriodText",required:!0,type:{name:"string"}},modalReservationFormPickupLabelText:{defaultValue:null,description:"",name:"modalReservationFormPickupLabelText",required:!0,type:{name:"string"}},screenReaderModalDescriptionPickupText:{defaultValue:null,description:"",name:"screenReaderModalDescriptionPickupText",required:!0,type:{name:"string"}},closeModalAriaLabelPickupText:{defaultValue:null,description:"",name:"closeModalAriaLabelPickupText",required:!0,type:{name:"string"}},modalReservationFormNoInterestAfterHeaderTitleText:{defaultValue:null,description:"",name:"modalReservationFormNoInterestAfterHeaderTitleText",required:!0,type:{name:"string"}},modalReservationFormNoInterestAfterHeaderDescriptionText:{defaultValue:null,description:"",name:"modalReservationFormNoInterestAfterHeaderDescriptionText",required:!0,type:{name:"string"}},modalReservationFormNoInterestAfterLabelText:{defaultValue:null,description:"",name:"modalReservationFormNoInterestAfterLabelText",required:!0,type:{name:"string"}},screenReaderModalDescriptionEmailText:{defaultValue:null,description:"",name:"screenReaderModalDescriptionEmailText",required:!0,type:{name:"string"}},screenReaderModalDescriptionInterestPeriodText:{defaultValue:null,description:"",name:"screenReaderModalDescriptionInterestPeriodText",required:!0,type:{name:"string"}},screenReaderModalDescriptionSmsText:{defaultValue:null,description:"",name:"screenReaderModalDescriptionSmsText",required:!0,type:{name:"string"}},closeModalAriaLabelEmailText:{defaultValue:null,description:"",name:"closeModalAriaLabelEmailText",required:!0,type:{name:"string"}},closeModalAriaLabelInterestPeriodText:{defaultValue:null,description:"",name:"closeModalAriaLabelInterestPeriodText",required:!0,type:{name:"string"}},closeModalAriaLabelSmsText:{defaultValue:null,description:"",name:"closeModalAriaLabelSmsText",required:!0,type:{name:"string"}},deleteReservationModalButtonText:{defaultValue:null,description:"",name:"deleteReservationModalButtonText",required:!0,type:{name:"string"}},pauseReservationModalAriaDescriptionText:{defaultValue:null,description:"",name:"pauseReservationModalAriaDescriptionText",required:!0,type:{name:"string"}},acceptModalAriaDescriptionText:{defaultValue:null,description:"",name:"acceptModalAriaDescriptionText",required:!0,type:{name:"string"}},addToFavoritesAriaLabelText:{defaultValue:null,description:"",name:"addToFavoritesAriaLabelText",required:!0,type:{name:"string"}},removeFromFavoritesAriaLabelText:{defaultValue:null,description:"",name:"removeFromFavoritesAriaLabelText",required:!0,type:{name:"string"}},acceptModalAriaLabelText:{defaultValue:null,description:"",name:"acceptModalAriaLabelText",required:!0,type:{name:"string"}},acceptModalHeaderText:{defaultValue:null,description:"",name:"acceptModalHeaderText",required:!0,type:{name:"string"}},acceptModalAreYouSureText:{defaultValue:null,description:"",name:"acceptModalAreYouSureText",required:!0,type:{name:"string"}},acceptModalBodyText:{defaultValue:null,description:"",name:"acceptModalBodyText",required:!0,type:{name:"string"}},acceptModalCancelButtonText:{defaultValue:null,description:"",name:"acceptModalCancelButtonText",required:!0,type:{name:"string"}},acceptModalAcceptButtonText:{defaultValue:null,description:"",name:"acceptModalAcceptButtonText",required:!0,type:{name:"string"}},isLoadingHeartText:{defaultValue:null,description:"",name:"isLoadingHeartText",required:!0,type:{name:"string"}},reservationPickUpLatestText:{defaultValue:null,description:"",name:"reservationPickUpLatestText",required:!0,type:{name:"string"}},reservationListReadyText:{defaultValue:null,description:"",name:"reservationListReadyText",required:!0,type:{name:"string"}},reservationListDigitalPickupText:{defaultValue:null,description:"",name:"reservationListDigitalPickupText",required:!0,type:{name:"string"}},pincodeSectionDescriptionText:{defaultValue:null,description:"",name:"pincodeSectionDescriptionText",required:!0,type:{name:"string"}},errorBoundaryAlertBodyButtonAriaText:{defaultValue:null,description:"",name:"errorBoundaryAlertBodyButtonAriaText",required:!0,type:{name:"string"}},buttonText:{defaultValue:null,description:"",name:"buttonText",required:!0,type:{name:"string"}},etAlText:{defaultValue:null,description:"",name:"etAlText",required:!0,type:{name:"string"}},blacklistedAvailabilityBranchesConfig:{defaultValue:null,description:"",name:"blacklistedAvailabilityBranchesConfig",required:!0,type:{name:"string"}},blacklistedPickupBranchesConfig:{defaultValue:null,description:"",name:"blacklistedPickupBranchesConfig",required:!1,type:{name:"string | undefined"}},blacklistedSearchBranchesConfig:{defaultValue:null,description:"",name:"blacklistedSearchBranchesConfig",required:!1,type:{name:"string | undefined"}},branchesConfig:{defaultValue:null,description:"",name:"branchesConfig",required:!0,type:{name:"string"}},byAuthorText:{defaultValue:null,description:"",name:"byAuthorText",required:!0,type:{name:"string"}},inSeriesText:{defaultValue:null,description:"",name:"inSeriesText",required:!0,type:{name:"string"}},loadingText:{defaultValue:null,description:"",name:"loadingText",required:!0,type:{name:"string"}},resultPagerStatusText:{defaultValue:null,description:"",name:"resultPagerStatusText",required:!0,type:{name:"string"}},showMoreText:{defaultValue:null,description:"",name:"showMoreText",required:!0,type:{name:"string"}},loadingResultsText:{defaultValue:null,description:"",name:"loadingResultsText",required:!0,type:{name:"string"}},mappDomainConfig:{defaultValue:null,description:"",name:"mappDomainConfig",required:!0,type:{name:"string"}},mappIdConfig:{defaultValue:null,description:"",name:"mappIdConfig",required:!0,type:{name:"string"}},advancedSearchAddRowText:{defaultValue:null,description:"",name:"advancedSearchAddRowText",required:!0,type:{name:"string"}},advancedSearchSearchButtonText:{defaultValue:null,description:"",name:"advancedSearchSearchButtonText",required:!0,type:{name:"string"}},clauseAndText:{defaultValue:null,description:"",name:"clauseAndText",required:!0,type:{name:"string"}},clauseOrText:{defaultValue:null,description:"",name:"clauseOrText",required:!0,type:{name:"string"}},clauseNotText:{defaultValue:null,description:"",name:"clauseNotText",required:!0,type:{name:"string"}},advancedSearchRemoveRowText:{defaultValue:null,description:"",name:"advancedSearchRemoveRowText",required:!0,type:{name:"string"}},advancedSearchSelectedText:{defaultValue:null,description:"",name:"advancedSearchSelectedText",required:!0,type:{name:"string"}},advancedSearchAllText:{defaultValue:null,description:"",name:"advancedSearchAllText",required:!0,type:{name:"string"}},advancedSearchPlaceholderDefaultText:{defaultValue:null,description:"",name:"advancedSearchPlaceholderDefaultText",required:!0,type:{name:"string"}},advancedSearchPlaceholderTitleText:{defaultValue:null,description:"",name:"advancedSearchPlaceholderTitleText",required:!0,type:{name:"string"}},advancedSearchPlaceholderCreatorText:{defaultValue:null,description:"",name:"advancedSearchPlaceholderCreatorText",required:!0,type:{name:"string"}},advancedSearchPlaceholderSubjectText:{defaultValue:null,description:"",name:"advancedSearchPlaceholderSubjectText",required:!0,type:{name:"string"}},advancedSearchPlaceholderPublisherText:{defaultValue:null,description:"",name:"advancedSearchPlaceholderPublisherText",required:!0,type:{name:"string"}},advancedSearchPlaceholderDk5Text:{defaultValue:null,description:"",name:"advancedSearchPlaceholderDk5Text",required:!0,type:{name:"string"}},advancedSearchPlaceholderIsbnText:{defaultValue:null,description:"",name:"advancedSearchPlaceholderIsbnText",required:!0,type:{name:"string"}},advancedSearchPlaceholderSeriesText:{defaultValue:null,description:"",name:"advancedSearchPlaceholderSeriesText",required:!0,type:{name:"string"}},advancedSearchLabelDefaultText:{defaultValue:null,description:"",name:"advancedSearchLabelDefaultText",required:!0,type:{name:"string"}},advancedSearchLabelTitleText:{defaultValue:null,description:"",name:"advancedSearchLabelTitleText",required:!0,type:{name:"string"}},advancedSearchLabelCreatorText:{defaultValue:null,description:"",name:"advancedSearchLabelCreatorText",required:!0,type:{name:"string"}},advancedSearchLabelSubjectText:{defaultValue:null,description:"",name:"advancedSearchLabelSubjectText",required:!0,type:{name:"string"}},advancedSearchLabelPublisherText:{defaultValue:null,description:"",name:"advancedSearchLabelPublisherText",required:!0,type:{name:"string"}},advancedSearchLabelDk5Text:{defaultValue:null,description:"",name:"advancedSearchLabelDk5Text",required:!0,type:{name:"string"}},advancedSearchLabelIsbnText:{defaultValue:null,description:"",name:"advancedSearchLabelIsbnText",required:!0,type:{name:"string"}},advancedSearchLabelSeriesText:{defaultValue:null,description:"",name:"advancedSearchLabelSeriesText",required:!0,type:{name:"string"}},advancedSearchLabelFictionalCharacterText:{defaultValue:null,description:"",name:"advancedSearchLabelFictionalCharacterText",required:!0,type:{name:"string"}},advancedSearchLabelHostPublicationText:{defaultValue:null,description:"",name:"advancedSearchLabelHostPublicationText",required:!0,type:{name:"string"}},advancedSearchPlaceholderFictionalCharacterText:{defaultValue:null,description:"",name:"advancedSearchPlaceholderFictionalCharacterText",required:!0,type:{name:"string"}},advancedSearchPlaceholderHostPublicationText:{defaultValue:null,description:"",name:"advancedSearchPlaceholderHostPublicationText",required:!0,type:{name:"string"}},advancedSearchEditSearchText:{defaultValue:null,description:"",name:"advancedSearchEditSearchText",required:!0,type:{name:"string"}},advancedSearchOnShelfText:{defaultValue:null,description:"",name:"advancedSearchOnShelfText",required:!0,type:{name:"string"}},advancedSearchOnShelfDescriptionText:{defaultValue:null,description:"",name:"advancedSearchOnShelfDescriptionText",required:!0,type:{name:"string"}},advancedSearchOnlyExtraTitlesText:{defaultValue:null,description:"",name:"advancedSearchOnlyExtraTitlesText",required:!0,type:{name:"string"}},advancedSearchOnlyExtraTitlesDescriptionText:{defaultValue:null,description:"",name:"advancedSearchOnlyExtraTitlesDescriptionText",required:!0,type:{name:"string"}},advancedSearchShowAllText:{defaultValue:null,description:"",name:"advancedSearchShowAllText",required:!0,type:{name:"string"}},advancedSearchShowLessText:{defaultValue:null,description:"",name:"advancedSearchShowLessText",required:!0,type:{name:"string"}},advancedSearchResetText:{defaultValue:null,description:"",name:"advancedSearchResetText",required:!0,type:{name:"string"}},advancedSearchFacetMaterialTypeText:{defaultValue:null,description:"",name:"advancedSearchFacetMaterialTypeText",required:!0,type:{name:"string"}},advancedSearchFacetFormatText:{defaultValue:null,description:"",name:"advancedSearchFacetFormatText",required:!0,type:{name:"string"}},advancedSearchFacetGenreAndFormText:{defaultValue:null,description:"",name:"advancedSearchFacetGenreAndFormText",required:!0,type:{name:"string"}},advancedSearchFacetSourceText:{defaultValue:null,description:"",name:"advancedSearchFacetSourceText",required:!0,type:{name:"string"}},advancedSearchFacetLanguageText:{defaultValue:null,description:"",name:"advancedSearchFacetLanguageText",required:!0,type:{name:"string"}},advancedSearchFacetAccessTypeText:{defaultValue:null,description:"",name:"advancedSearchFacetAccessTypeText",required:!0,type:{name:"string"}},advancedSearchFacetLevelText:{defaultValue:null,description:"",name:"advancedSearchFacetLevelText",required:!0,type:{name:"string"}},advancedSearchFacetAudienceText:{defaultValue:null,description:"",name:"advancedSearchFacetAudienceText",required:!0,type:{name:"string"}},advancedSearchFacetLixText:{defaultValue:null,description:"",name:"advancedSearchFacetLixText",required:!0,type:{name:"string"}},advancedSearchFacetLetText:{defaultValue:null,description:"",name:"advancedSearchFacetLetText",required:!0,type:{name:"string"}},advancedSearchFacetSubjectText:{defaultValue:null,description:"",name:"advancedSearchFacetSubjectText",required:!0,type:{name:"string"}},advancedSearchFacetHostPublicationText:{defaultValue:null,description:"",name:"advancedSearchFacetHostPublicationText",required:!0,type:{name:"string"}},advancedSearchFacetCreatorText:{defaultValue:null,description:"",name:"advancedSearchFacetCreatorText",required:!0,type:{name:"string"}},advancedSearchFacetContributorText:{defaultValue:null,description:"",name:"advancedSearchFacetContributorText",required:!0,type:{name:"string"}},advancedSearchFacetInstrumentText:{defaultValue:null,description:"",name:"advancedSearchFacetInstrumentText",required:!0,type:{name:"string"}},advancedSearchFacetChamberMusicText:{defaultValue:null,description:"",name:"advancedSearchFacetChamberMusicText",required:!0,type:{name:"string"}},advancedSearchFacetChoirText:{defaultValue:null,description:"",name:"advancedSearchFacetChoirText",required:!0,type:{name:"string"}},advancedSearchFacetScoreTypeText:{defaultValue:null,description:"",name:"advancedSearchFacetScoreTypeText",required:!0,type:{name:"string"}},advancedSearchFacetYearText:{defaultValue:null,description:"",name:"advancedSearchFacetYearText",required:!0,type:{name:"string"}},advancedSearchFacetFictionalCharacterText:{defaultValue:null,description:"",name:"advancedSearchFacetFictionalCharacterText",required:!0,type:{name:"string"}},advancedSearchFacetAgeText:{defaultValue:null,description:"",name:"advancedSearchFacetAgeText",required:!0,type:{name:"string"}},advancedSearchTitleText:{defaultValue:null,description:"",name:"advancedSearchTitleText",required:!0,type:{name:"string"}},advancedSearchLimitSearchText:{defaultValue:null,description:"",name:"advancedSearchLimitSearchText",required:!0,type:{name:"string"}},advancedSearchRangeFromText:{defaultValue:null,description:"",name:"advancedSearchRangeFromText",required:!0,type:{name:"string"}},advancedSearchRangeToText:{defaultValue:null,description:"",name:"advancedSearchRangeToText",required:!0,type:{name:"string"}},advancedSearchMultiselectSearchPlaceholderText:{defaultValue:null,description:"",name:"advancedSearchMultiselectSearchPlaceholderText",required:!0,type:{name:"string"}},advancedSearchAgeBadgeOpenEndedText:{defaultValue:null,description:"",name:"advancedSearchAgeBadgeOpenEndedText",required:!0,type:{name:"string"}},advancedSearchAgeBadgeSingleText:{defaultValue:null,description:"",name:"advancedSearchAgeBadgeSingleText",required:!0,type:{name:"string"}},advancedSearchAgeBadgeRangeText:{defaultValue:null,description:"",name:"advancedSearchAgeBadgeRangeText",required:!0,type:{name:"string"}},advancedSearchFilterMaterialsText:{defaultValue:null,description:"",name:"advancedSearchFilterMaterialsText",required:!0,type:{name:"string"}},advancedSearchShowResultsText:{defaultValue:null,description:"",name:"advancedSearchShowResultsText",required:!0,type:{name:"string"}},advancedSearchV2ToCqlSearchButtonText:{defaultValue:null,description:"",name:"advancedSearchV2ToCqlSearchButtonText",required:!0,type:{name:"string"}},advancedSearchV2CqlSearchUrl:{defaultValue:null,description:"",name:"advancedSearchV2CqlSearchUrl",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/advanced-search-v2/AdvancedSearchV2.entry.tsx#AdvancedSearchV2entry"]={docgenInfo:AdvancedSearchV2entry.__docgenInfo,name:"AdvancedSearchV2entry",path:"src/apps/advanced-search-v2/AdvancedSearchV2.entry.tsx#AdvancedSearchV2entry"})}catch(__react_docgen_typescript_loader_error){}var serviceUrlArgs=__webpack_require__("./src/core/storybook/serviceUrlArgs.ts"),globalTextArgs=__webpack_require__("./src/core/storybook/globalTextArgs.ts"),globalConfigArgs=__webpack_require__("./src/core/storybook/globalConfigArgs.ts"),mappArgs=__webpack_require__("./src/core/storybook/mappArgs.ts");var copyLinkArgs=__webpack_require__("./src/core/storybook/copyLinkArgs.ts");const AdvancedSearchV2_stories={title:"Apps / Advanced Search V2",component:AdvancedSearchV2_entry,argTypes:{...serviceUrlArgs.U,...globalTextArgs.U,...globalConfigArgs.U,...mappArgs.U,advancedSearchAddRowText:{description:"Add row",control:{type:"text"}},advancedSearchSearchButtonText:{description:"Advanced search search button text",control:{type:"text"}},clauseAndText:{description:"Advanced search clause - AND",control:{type:"text"}},clauseOrText:{description:"Advanced search clause - OR",control:{type:"text"}},clauseNotText:{description:"Advanced search clause - NOT",control:{type:"text"}},advancedSearchRemoveRowText:{description:"Remove row",control:{type:"text"}},advancedSearchSelectedText:{description:"Text shown in multiselect when items are selected",control:{type:"text"}},advancedSearchAllText:{description:"Text shown in multiselect when no items are selected",control:{type:"text"}},advancedSearchPlaceholderDefaultText:{description:"Placeholder for free text search field",control:{type:"text"}},advancedSearchPlaceholderTitleText:{description:"Placeholder for title search field",control:{type:"text"}},advancedSearchPlaceholderCreatorText:{description:"Placeholder for creator/author search field",control:{type:"text"}},advancedSearchPlaceholderSubjectText:{description:"Placeholder for subject search field",control:{type:"text"}},advancedSearchPlaceholderPublisherText:{description:"Placeholder for publisher search field",control:{type:"text"}},advancedSearchPlaceholderDk5Text:{description:"Placeholder for DK5 search field",control:{type:"text"}},advancedSearchPlaceholderIsbnText:{description:"Placeholder for ISBN search field",control:{type:"text"}},advancedSearchPlaceholderSeriesText:{description:"Placeholder for series search field",control:{type:"text"}},advancedSearchLabelDefaultText:{description:"Label for free text search field dropdown",control:{type:"text"}},advancedSearchLabelTitleText:{description:"Label for title search field dropdown",control:{type:"text"}},advancedSearchLabelCreatorText:{description:"Label for creator/author search field dropdown",control:{type:"text"}},advancedSearchLabelSubjectText:{description:"Label for subject search field dropdown",control:{type:"text"}},advancedSearchLabelPublisherText:{description:"Label for publisher search field dropdown",control:{type:"text"}},advancedSearchLabelDk5Text:{description:"Label for DK5 search field dropdown",control:{type:"text"}},advancedSearchLabelIsbnText:{description:"Label for ISBN search field dropdown",control:{type:"text"}},advancedSearchLabelSeriesText:{description:"Label for series search field dropdown",control:{type:"text"}},advancedSearchLabelFictionalCharacterText:{description:"Label for fictional character search field dropdown",control:{type:"text"}},advancedSearchLabelHostPublicationText:{description:"Label for host publication search field dropdown",control:{type:"text"}},advancedSearchPlaceholderFictionalCharacterText:{description:"Placeholder for fictional character search field",control:{type:"text"}},advancedSearchPlaceholderHostPublicationText:{description:"Placeholder for host publication search field",control:{type:"text"}},advancedSearchEditSearchText:{description:"Edit search link text",control:{type:"text"}},advancedSearchOnShelfText:{description:"Text for on shelf toggle",control:{type:"text"}},advancedSearchOnShelfDescriptionText:{description:"Description for on shelf toggle",control:{type:"text"}},advancedSearchOnlyExtraTitlesText:{description:"Text for only extra titles toggle",control:{type:"text"}},advancedSearchOnlyExtraTitlesDescriptionText:{description:"Description for only extra titles toggle",control:{type:"text"}},advancedSearchShowAllText:{description:"Show all text",control:{type:"text"}},advancedSearchShowLessText:{description:"Show less text",control:{type:"text"}},advancedSearchFacetMaterialTypeText:{description:"Facet label: Material type",control:{type:"text"}},advancedSearchFacetFormatText:{description:"Facet label: Format",control:{type:"text"}},advancedSearchFacetGenreAndFormText:{description:"Facet label: Genre and Form",control:{type:"text"}},advancedSearchFacetSourceText:{description:"Facet label: Source",control:{type:"text"}},advancedSearchFacetLanguageText:{description:"Facet label: Language",control:{type:"text"}},advancedSearchFacetAccessTypeText:{description:"Facet label: Access Type",control:{type:"text"}},advancedSearchFacetLevelText:{description:"Facet label: Level",control:{type:"text"}},advancedSearchFacetAudienceText:{description:"Facet label: Audience",control:{type:"text"}},advancedSearchFacetLixText:{description:"Facet label: Lix",control:{type:"text"}},advancedSearchFacetLetText:{description:"Facet label: Let",control:{type:"text"}},advancedSearchFacetSubjectText:{description:"Facet label: Subject",control:{type:"text"}},advancedSearchFacetHostPublicationText:{description:"Facet label: Host Publication",control:{type:"text"}},advancedSearchFacetCreatorText:{description:"Facet label: Creator",control:{type:"text"}},advancedSearchFacetContributorText:{description:"Facet label: Contributor",control:{type:"text"}},advancedSearchFacetInstrumentText:{description:"Facet label: Instrument",control:{type:"text"}},advancedSearchFacetChamberMusicText:{description:"Facet label: Chamber Music",control:{type:"text"}},advancedSearchFacetChoirText:{description:"Facet label: Choir",control:{type:"text"}},advancedSearchFacetScoreTypeText:{description:"Facet label: Score Type",control:{type:"text"}},advancedSearchFacetYearText:{description:"Facet label: Year",control:{type:"text"}},advancedSearchFacetFictionalCharacterText:{description:"Facet label: Fictional Character",control:{type:"text"}},advancedSearchFacetAgeText:{description:"Facet label: Age",control:{type:"text"}},advancedSearchTitleText:{description:"Title of the advanced search page",control:{type:"text"}},advancedSearchLimitSearchText:{description:"Header for limiting search",control:{type:"text"}},advancedSearchRangeFromText:{description:"Label for range 'from'",control:{type:"text"}},advancedSearchRangeToText:{description:"Label for range 'to'",control:{type:"text"}},advancedSearchMultiselectSearchPlaceholderText:{description:"Placeholder for multiselect search",control:{type:"text"}},advancedSearchAgeBadgeOpenEndedText:{description:"Age badge text for open-ended range (e.g., '10+ year olds')",control:{type:"text"}},advancedSearchAgeBadgeSingleText:{description:"Age badge text for single age (e.g., '10 year olds')",control:{type:"text"}},advancedSearchAgeBadgeRangeText:{description:"Age badge text for age range (e.g., '10-12 year olds')",control:{type:"text"}},advancedSearchFilterMaterialsText:{description:"Dialog heading for filtering materials with count",control:{type:"text"}},advancedSearchShowResultsText:{description:"Button text to show results and close filter dialog",control:{type:"text"}},advancedSearchSortLabelText:{description:"Label for the sort select",control:{type:"text"}},advancedSearchSortRelevanceText:{description:"Text for relevance sorting option",control:{type:"text"}},advancedSearchSortLatestPubDateText:{description:"Text for latest publication date sorting option group",control:{type:"text"}},advancedSearchSortLatestPubDateDescText:{description:"Text for latest publication date descending sorting option",control:{type:"text"}},advancedSearchSortLatestPubDateAscText:{description:"Text for latest publication date ascending sorting option",control:{type:"text"}},advancedSearchSortCreatorText:{description:"Text for creator sorting option group",control:{type:"text"}},advancedSearchSortTitleText:{description:"Text for title sorting option group",control:{type:"text"}},advancedSearchSortAscText:{description:"Text for ascending (A-Z) sorting option",control:{type:"text"}},advancedSearchSortDescText:{description:"Text for descending (Z-A) sorting option",control:{type:"text"}},...copyLinkArgs.U,advancedSearchV2ToCqlSearchButtonText:{description:"Text for the link to CQL search",control:{type:"text"}},advancedSearchV2CqlSearchUrl:{description:"URL to the CQL search page",control:{type:"text"}},pageSizeDesktop:{description:"Number of search result items on desktop",control:{type:"number"},table:{type:{summary:"number"},defaultValue:{summary:"50"}}},pageSizeMobile:{description:"Number of search result items on mobile",control:{type:"number"},table:{type:{summary:"number"},defaultValue:{summary:"20"}}},addMoreFiltersText:{description:"Add more filters text",control:{type:"text"}},materialUrl:{description:"Path to the material page",control:{type:"text"}},authUrl:{description:"Url where user can authenticate",control:{type:"text"}},searchUrl:{description:"Path to the search result page",control:{type:"text"}},byAuthorText:{description:"By (author) Text",control:{type:"text"}},inSeriesText:{description:"In series",control:{type:"text"}},showMoreText:{description:"Show more Text",control:{type:"text"}},resultPagerStatusText:{description:"Result pager status text",control:{type:"text"}},showingMaterialsText:{description:"Showing materials",control:{type:"text"}},blacklistedPickupBranchesConfig:{description:"Blacklisted Pickup branches",control:{type:"text"}},blacklistedAvailabilityBranchesConfig:{description:"Blacklisted Availability branches",control:{type:"text"}},blacklistedSearchBranchesConfig:{description:"Blacklisted branches",control:{type:"text"}},branchesConfig:{description:"Branches",control:{type:"text"}},loadingText:{description:"Loading",control:{type:"text"}},loadingResultsText:{description:"Advanced search loading results text",control:{type:"text"}}}},Default={args:{...serviceUrlArgs.A,...globalTextArgs.A,...globalConfigArgs.A,...mappArgs.A,advancedSearchAddRowText:"Add row",advancedSearchSearchButtonText:"Search",clauseAndText:"AND",clauseOrText:"OR",clauseNotText:"NOT",advancedSearchRemoveRowText:"Remove row @inputNumber",advancedSearchSelectedText:"Selected",advancedSearchAllText:"All",advancedSearchPlaceholderDefaultText:"Search in all material…",advancedSearchPlaceholderTitleText:"Enter title…",advancedSearchPlaceholderCreatorText:"Enter author or creator…",advancedSearchPlaceholderSubjectText:"Enter subject…",advancedSearchPlaceholderPublisherText:"Enter publisher…",advancedSearchPlaceholderDk5Text:"Enter DK5 number…",advancedSearchPlaceholderIsbnText:"Enter ISBN number…",advancedSearchPlaceholderSeriesText:"Enter series title…",advancedSearchLabelDefaultText:"Free text search",advancedSearchLabelTitleText:"Title",advancedSearchLabelCreatorText:"Author / Creator",advancedSearchLabelSubjectText:"Subject",advancedSearchLabelPublisherText:"Publisher",advancedSearchLabelDk5Text:"DK5",advancedSearchLabelIsbnText:"ISBN",advancedSearchLabelSeriesText:"Series title",advancedSearchLabelFictionalCharacterText:"Fictional character",advancedSearchLabelHostPublicationText:"Host publication",advancedSearchPlaceholderFictionalCharacterText:"Enter fictional character...",advancedSearchPlaceholderHostPublicationText:"Enter host publication...",advancedSearchEditSearchText:"Edit search",advancedSearchOnShelfText:"On shelf",advancedSearchOnShelfDescriptionText:"Only show results available at the library now.",advancedSearchOnlyExtraTitlesText:'Only "Extra Titles"',advancedSearchOnlyExtraTitlesDescriptionText:"Only show results not limited by digital loan quotas.",advancedSearchShowAllText:"Show all",advancedSearchShowLessText:"Show less",advancedSearchFacetMaterialTypeText:"Material type",advancedSearchFacetFormatText:"Format",advancedSearchFacetGenreAndFormText:"Genre and form",advancedSearchFacetSourceText:"Source",advancedSearchFacetLanguageText:"Language",advancedSearchFacetAccessTypeText:"Access Type",advancedSearchFacetLevelText:"Level",advancedSearchFacetAudienceText:"Audience",advancedSearchFacetLixText:"Lix",advancedSearchFacetLetText:"Let",advancedSearchFacetSubjectText:"Subject",advancedSearchFacetHostPublicationText:"Host Publication",advancedSearchFacetCreatorText:"Creator",advancedSearchFacetContributorText:"Contributor",advancedSearchFacetInstrumentText:"Instrument",advancedSearchFacetChamberMusicText:"Chamber Music",advancedSearchFacetChoirText:"Choir",advancedSearchFacetScoreTypeText:"Score Type",advancedSearchFacetYearText:"Year",advancedSearchFacetFictionalCharacterText:"Fictional Character",advancedSearchFacetAgeText:"Age",advancedSearchResetText:"Reset search",advancedSearchTitleText:"Advanced search",advancedSearchLimitSearchText:"Refine your search",advancedSearchRangeFromText:"From",advancedSearchRangeToText:"To",advancedSearchMultiselectSearchPlaceholderText:"Search...",advancedSearchAgeBadgeOpenEndedText:"@age+ year olds",advancedSearchAgeBadgeSingleText:"@age year olds",advancedSearchAgeBadgeRangeText:"@from-@to year olds",advancedSearchFilterMaterialsText:"Filter materials (@hitcount)",advancedSearchShowResultsText:"Show results",advancedSearchSortLabelText:"Sort by",advancedSearchSortRelevanceText:"Relevance",advancedSearchSortLatestPubDateText:"Publication date",advancedSearchSortLatestPubDateDescText:"Newest first",advancedSearchSortLatestPubDateAscText:"Oldest first",advancedSearchSortCreatorText:"Author",advancedSearchSortTitleText:"Title",advancedSearchSortAscText:"A-Z",advancedSearchSortDescText:"Z-A",...copyLinkArgs.A,advancedSearchV2ToCqlSearchButtonText:"CQL search",advancedSearchV2CqlSearchUrl:"/advanced-search",etAlText:"et al.",pageSizeDesktop:50,pageSizeMobile:20,materialUrl:"/work/:workid",authUrl:"",searchUrl:"/search",byAuthorText:"By",inSeriesText:"in series",showMoreText:"show more",resultPagerStatusText:"Showing @itemsShown out of @hitcount results",showingMaterialsText:"@hitcount materials",blacklistedPickupBranchesConfig:"FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",blacklistedAvailabilityBranchesConfig:"FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",blacklistedSearchBranchesConfig:"FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",branchesConfig:'[\n   {\n      "branchId":"DK-775120",\n      "title":"Højbjerg"\n   },\n   {\n      "branchId":"DK-775122",\n      "title":"Beder-Malling"\n   },\n   {\n      "branchId":"DK-775144",\n      "title":"Gellerup"\n   },\n   {\n      "branchId":"DK-775167",\n      "title":"Lystrup"\n   },\n   {\n      "branchId":"DK-775146",\n      "title":"Harlev"\n   },\n   {\n      "branchId":"DK-775168",\n      "title":"Skødstrup"\n   },\n   {\n      "branchId":"FBS-751010",\n      "title":"Arresten"\n   },\n   {\n      "branchId":"DK-775147",\n      "title":"Hasle"\n   },\n   {\n      "branchId":"FBS-751032",\n      "title":"Må ikke benyttes"\n   },\n   {\n      "branchId":"FBS-751031",\n      "title":"Fjernlager 1"\n   },\n   {\n      "branchId":"DK-775126",\n      "title":"Solbjerg"\n   },\n   {\n      "branchId":"FBS-751030",\n      "title":"ITK"\n   },\n   {\n      "branchId":"DK-775149",\n      "title":"Sabro"\n   },\n   {\n      "branchId":"DK-775127",\n      "title":"Tranbjerg"\n   },\n   {\n      "branchId":"DK-775160",\n      "title":"Risskov"\n   },\n   {\n      "branchId":"DK-775162",\n      "title":"Hjortshøj"\n   },\n   {\n      "branchId":"DK-775140",\n      "title":"Åby"\n   },\n   {\n      "branchId":"FBS-751009",\n      "title":"Fjernlager 2"\n   },\n   {\n      "branchId":"FBS-751029",\n      "title":"Stadsarkivet"\n   },\n   {\n      "branchId":"FBS-751027",\n      "title":"Intern"\n   },\n   {\n      "branchId":"FBS-751026",\n      "title":"Fælles undervejs"\n   },\n   {\n      "branchId":"FBS-751025",\n      "title":"Fællessekretariatet"\n   },\n   {\n      "branchId":"DK-775133",\n      "title":"Bavnehøj"\n   },\n   {\n      "branchId":"FBS-751024",\n      "title":"Fjernlånte materialer"\n   },\n   {\n      "branchId":"DK-775100",\n      "title":"Hovedbiblioteket"\n   },\n   {\n      "branchId":"DK-775170",\n      "title":"Trige"\n   },\n   {\n      "branchId":"DK-775150",\n      "title":"Tilst"\n   },\n   {\n      "branchId":"DK-775130",\n      "title":"Viby"\n   },\n   {\n      "branchId":"DK-775164",\n      "title":"Egå"\n   }\n]',loadingText:"Loading",loadingResultsText:"Loading results...",addMoreFiltersText:"More filters"}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...serviceUrlArgs,\n    ...globalTextArgs,\n    ...globalConfigArgs,\n    ...mappArgs,\n    ...advancedSearchV2Args,\n    ...advancedSearchV2SortArgs,\n    ...copyLinkArgs,\n    ...advancedSearchV2CqlSearchArgs,\n    etAlText: "et al.",\n    pageSizeDesktop: 50,\n    pageSizeMobile: 20,\n    materialUrl: "/work/:workid",\n    authUrl: "",\n    searchUrl: "/search",\n    byAuthorText: "By",\n    inSeriesText: "in series",\n    showMoreText: "show more",\n    resultPagerStatusText: "Showing @itemsShown out of @hitcount results",\n    showingMaterialsText: "@hitcount materials",\n    blacklistedPickupBranchesConfig: "FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",\n    blacklistedAvailabilityBranchesConfig: "FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",\n    blacklistedSearchBranchesConfig: "FBS-751032,FBS-751031,FBS-751009,FBS-751027,FBS-751024",\n    branchesConfig: \'[\\n   {\\n      "branchId":"DK-775120",\\n      "title":"Højbjerg"\\n   },\\n   {\\n      "branchId":"DK-775122",\\n      "title":"Beder-Malling"\\n   },\\n   {\\n      "branchId":"DK-775144",\\n      "title":"Gellerup"\\n   },\\n   {\\n      "branchId":"DK-775167",\\n      "title":"Lystrup"\\n   },\\n   {\\n      "branchId":"DK-775146",\\n      "title":"Harlev"\\n   },\\n   {\\n      "branchId":"DK-775168",\\n      "title":"Skødstrup"\\n   },\\n   {\\n      "branchId":"FBS-751010",\\n      "title":"Arresten"\\n   },\\n   {\\n      "branchId":"DK-775147",\\n      "title":"Hasle"\\n   },\\n   {\\n      "branchId":"FBS-751032",\\n      "title":"Må ikke benyttes"\\n   },\\n   {\\n      "branchId":"FBS-751031",\\n      "title":"Fjernlager 1"\\n   },\\n   {\\n      "branchId":"DK-775126",\\n      "title":"Solbjerg"\\n   },\\n   {\\n      "branchId":"FBS-751030",\\n      "title":"ITK"\\n   },\\n   {\\n      "branchId":"DK-775149",\\n      "title":"Sabro"\\n   },\\n   {\\n      "branchId":"DK-775127",\\n      "title":"Tranbjerg"\\n   },\\n   {\\n      "branchId":"DK-775160",\\n      "title":"Risskov"\\n   },\\n   {\\n      "branchId":"DK-775162",\\n      "title":"Hjortshøj"\\n   },\\n   {\\n      "branchId":"DK-775140",\\n      "title":"Åby"\\n   },\\n   {\\n      "branchId":"FBS-751009",\\n      "title":"Fjernlager 2"\\n   },\\n   {\\n      "branchId":"FBS-751029",\\n      "title":"Stadsarkivet"\\n   },\\n   {\\n      "branchId":"FBS-751027",\\n      "title":"Intern"\\n   },\\n   {\\n      "branchId":"FBS-751026",\\n      "title":"Fælles undervejs"\\n   },\\n   {\\n      "branchId":"FBS-751025",\\n      "title":"Fællessekretariatet"\\n   },\\n   {\\n      "branchId":"DK-775133",\\n      "title":"Bavnehøj"\\n   },\\n   {\\n      "branchId":"FBS-751024",\\n      "title":"Fjernlånte materialer"\\n   },\\n   {\\n      "branchId":"DK-775100",\\n      "title":"Hovedbiblioteket"\\n   },\\n   {\\n      "branchId":"DK-775170",\\n      "title":"Trige"\\n   },\\n   {\\n      "branchId":"DK-775150",\\n      "title":"Tilst"\\n   },\\n   {\\n      "branchId":"DK-775130",\\n      "title":"Viby"\\n   },\\n   {\\n      "branchId":"DK-775164",\\n      "title":"Egå"\\n   }\\n]\',\n    loadingText: "Loading",\n    loadingResultsText: "Loading results...",\n    addMoreFiltersText: "More filters"\n  }\n}',...Default.parameters?.docs?.source}}}},"./src/components/Buttons/Button.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{$:()=>Button});var react=__webpack_require__("./node_modules/react/index.js"),icon_arrow_ui_small_right=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/arrow-ui/icon-arrow-ui-small-right.svg"),icon_arrow_ui_small_right_default=__webpack_require__.n(icon_arrow_ui_small_right),icon_btn_external_link=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/buttons/icon-btn-external-link.svg"),icon_btn_external_link_default=__webpack_require__.n(icon_btn_external_link),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs");const ButtonIcon=({buttonType,collapsible,iconClassNames})=>{const iconClassName=`btn-icon ${(0,clsx.A)({"btn-collapsible":collapsible},[iconClassNames])}`;return"default"===buttonType?react.createElement("div",{className:"ml-16"},react.createElement("img",{className:iconClassName,src:icon_arrow_ui_small_right_default(),alt:""})):"external-link"===buttonType?react.createElement("img",{className:iconClassName,src:icon_btn_external_link_default(),alt:""}):null};try{ButtonIcon.displayName="ButtonIcon",ButtonIcon.__docgenInfo={description:"",displayName:"ButtonIcon",props:{buttonType:{defaultValue:null,description:"",name:"buttonType",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"none"'},{value:'"default"'},{value:'"external-link"'},{value:'"search"'}]}},collapsible:{defaultValue:null,description:"",name:"collapsible",required:!1,type:{name:"boolean | undefined"}},iconClassNames:{defaultValue:null,description:"",name:"iconClassNames",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Buttons/ButtonIcon.tsx#ButtonIcon"]={docgenInfo:ButtonIcon.__docgenInfo,name:"ButtonIcon",path:"src/components/Buttons/ButtonIcon.tsx#ButtonIcon"})}catch(__react_docgen_typescript_loader_error){}var general=__webpack_require__("./src/core/utils/helpers/general.ts");const Button=({label,buttonType,type="button",collapsible,size,variant,disabled=!1,onClick,iconClassNames,id,classNames,dataCy,ariaDescribedBy,canOnlyBeClickedOnce=!1})=>{const isLoadingRef=(0,react.useRef)(!1),handleClick=()=>{isLoadingRef.current||(canOnlyBeClickedOnce&&(isLoadingRef.current=!0),onClick&&onClick())};return react.createElement("button",{"data-cy":dataCy||"button",type,className:`btn-primary btn-${variant} btn-${size} ${disabled?"btn-outline":""} arrow__hover--right-small ${classNames??""}`,disabled:disabled||isLoadingRef.current,onMouseUp:handleClick,onKeyUp:e=>{(0,general.GC)(e.key)&&handleClick()},id,"aria-describedby":ariaDescribedBy},label,react.createElement(ButtonIcon,{buttonType,iconClassNames,collapsible}))};try{Button.displayName="Button",Button.__docgenInfo={description:"",displayName:"Button",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},buttonType:{defaultValue:null,description:"",name:"buttonType",required:!0,type:{name:"enum",value:[{value:'"none"'},{value:'"default"'},{value:'"external-link"'},{value:'"search"'}]}},type:{defaultValue:{value:"button"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"button"'},{value:'"submit"'},{value:'"reset"'}]}},collapsible:{defaultValue:null,description:"",name:"collapsible",required:!0,type:{name:"boolean"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"large"'},{value:'"medium"'},{value:'"small"'},{value:'"xsmall"'},{value:'"xlarge"'}]}},variant:{defaultValue:null,description:"",name:"variant",required:!0,type:{name:"enum",value:[{value:'"outline"'},{value:'"filled"'}]}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean | undefined"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void) | undefined"}},iconClassNames:{defaultValue:null,description:"",name:"iconClassNames",required:!1,type:{name:"string | undefined"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string | undefined"}},classNames:{defaultValue:null,description:"",name:"classNames",required:!1,type:{name:"string | undefined"}},dataCy:{defaultValue:null,description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}},ariaDescribedBy:{defaultValue:null,description:"",name:"ariaDescribedBy",required:!1,type:{name:"string | undefined"}},canOnlyBeClickedOnce:{defaultValue:{value:"false"},description:"",name:"canOnlyBeClickedOnce",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Buttons/Button.tsx#Button"]={docgenInfo:Button.__docgenInfo,name:"Button",path:"src/components/Buttons/Button.tsx#Button"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/card-item-list/SearchResultList.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>card_item_list_SearchResultList});var isEmpty=__webpack_require__("./node_modules/lodash/isEmpty.js"),isEmpty_default=__webpack_require__.n(isEmpty),react=__webpack_require__("./node_modules/react/index.js"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),general=__webpack_require__("./src/core/utils/helpers/general.ts"),card_list_item=__webpack_require__("./src/components/card-item-list/card-list-item/card-list-item.tsx"),card_list_item_skeleton=__webpack_require__("./src/components/card-item-list/card-list-item/card-list-item-skeleton.tsx"),MaterialListItem=__webpack_require__("./src/components/card-item-list/MaterialListItem.tsx"),Link=__webpack_require__("./src/components/atoms/links/Link.tsx");const CardListInfoBox=({title,html,buttonLabel,buttonUrl})=>react.createElement("div",{className:"card-list-info-box pagefold-parent--medium"},react.createElement("div",{className:"pagefold-triangle--medium pagefold-inherit-parent"}),react.createElement("div",{className:"card-list-info-box__icon cover cover--size-small cover--aspect-small"}),react.createElement("div",{className:"card-list-info-box__content"},react.createElement("div",{className:"card-list-info-box__text"},react.createElement("h3",{className:"card-list-info-box__title text-header-h4 mb-8"},title),react.createElement("div",{className:"text-body-small-regular",dangerouslySetInnerHTML:{__html:html||""}})),buttonLabel&&buttonUrl&&react.createElement("div",{className:"card-list-info-box__button-wrapper"},react.createElement(Link.A,{href:buttonUrl,className:"btn-primary btn-outline btn-xsmall"},buttonLabel)))),card_item_list_CardListInfoBox=CardListInfoBox;try{CardListInfoBox.displayName="CardListInfoBox",CardListInfoBox.__docgenInfo={description:"",displayName:"CardListInfoBox",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string | undefined"}},html:{defaultValue:null,description:"",name:"html",required:!1,type:{name:"string | undefined"}},buttonLabel:{defaultValue:null,description:"",name:"buttonLabel",required:!1,type:{name:"string | undefined"}},buttonUrl:{defaultValue:null,description:"",name:"buttonUrl",required:!1,type:{name:"URL | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/card-item-list/CardListInfoBox.tsx#CardListInfoBox"]={docgenInfo:CardListInfoBox.__docgenInfo,name:"CardListInfoBox",path:"src/components/card-item-list/CardListInfoBox.tsx#CardListInfoBox"})}catch(__react_docgen_typescript_loader_error){}const SearchResultList=({resultItems,page,pageSize,infoBoxProps,className})=>{const worksAreLoaded=!isEmpty_default()(resultItems),lastItemRef=react.useRef(null);(0,react.useEffect)((()=>{page>0&&lastItemRef.current&&lastItemRef.current.focus()}),[page,resultItems]);const searchInfoBoxIndex=pageSize;return react.createElement("ul",{className:(0,clsx.A)("content-list",className),"data-cy":"search-result-list"},!worksAreLoaded&&[...Array(5)].map(((_,index)=>react.createElement("li",{key:index,className:"content-list__item"},react.createElement(card_list_item_skeleton.A,null)))),worksAreLoaded&&resultItems.map(((item,i)=>{const isFirstNewItem=i===page*pageSize;return i===searchInfoBoxIndex&&null!=infoBoxProps&&infoBoxProps.title&&null!=infoBoxProps&&infoBoxProps.html?react.createElement(react.Fragment,{key:item.workId},react.createElement(MaterialListItem.A,{className:"content-list__item content-list__item--info-box"},react.createElement(card_item_list_CardListInfoBox,{title:null==infoBoxProps?void 0:infoBoxProps.title,html:null==infoBoxProps?void 0:infoBoxProps.html,buttonLabel:null==infoBoxProps?void 0:infoBoxProps.buttonLabel,buttonUrl:null==infoBoxProps?void 0:infoBoxProps.buttonUrl})),react.createElement(MaterialListItem.A,{className:"content-list__item",ref:isFirstNewItem?lastItemRef:null},react.createElement(card_list_item.A,{item,coverTint:(0,general.J$)(i),resultNumber:i+1}))):react.createElement(MaterialListItem.A,{className:"content-list__item",key:item.workId,ref:isFirstNewItem?lastItemRef:null},react.createElement(card_list_item.A,{item,coverTint:(0,general.J$)(i),resultNumber:i+1}))})))},card_item_list_SearchResultList=(0,react.memo)(SearchResultList);try{SearchResultList.displayName="SearchResultList",SearchResultList.__docgenInfo={description:"",displayName:"SearchResultList",props:{resultItems:{defaultValue:null,description:"",name:"resultItems",required:!0,type:{name:"Work[]"}},page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}},infoBoxProps:{defaultValue:null,description:"",name:"infoBoxProps",required:!1,type:{name:"CardListInfoBoxProps | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/card-item-list/SearchResultList.tsx#SearchResultList"]={docgenInfo:SearchResultList.__docgenInfo,name:"SearchResultList",path:"src/components/card-item-list/SearchResultList.tsx#SearchResultList"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/checkbox/Checkbox.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>checkbox_Checkbox});var clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),react=__webpack_require__("./node_modules/react/index.js");const icon_checkbox=()=>react.createElement("svg",{width:"20px",height:"20px"},react.createElement("polyline",{points:"1.5 6 4.5 9 10.5 1",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})),checkbox_Checkbox=({id,label,hideLabel,className,labelClassName,selected,onChecked,disabled,ariaLabel,ariaDescribedBy,focused,isVisualOnly,labelledBy,tabIndex})=>react.createElement("div",{className:(0,clsx.A)("checkbox",className),style:isVisualOnly?{pointerEvents:"none"}:void 0},react.createElement("input",{autoFocus:focused,id,className:"checkbox__input",onChange:e=>{var checked;checked=e.target.checked,onChecked&&onChecked(checked)},checked:selected,type:"checkbox","aria-label":isVisualOnly&&labelledBy?void 0:ariaLabel,"aria-labelledby":isVisualOnly&&labelledBy?labelledBy:void 0,"aria-describedby":ariaDescribedBy,disabled,tabIndex}),react.createElement("label",{className:(0,clsx.A)("checkbox__label",labelClassName),htmlFor:id,"data-cy":id},react.createElement("span",{className:"checkbox__icon","aria-labelledby":labelledBy},react.createElement(icon_checkbox,null)),label&&react.createElement("span",{"data-cy":"checkbox-text",className:"checkbox__text text-small-caption color-secondary-gray "+(hideLabel?"checkbox__text--hide-visually":"")},label)));try{Checkbox.displayName="Checkbox",Checkbox.__docgenInfo={description:"",displayName:"Checkbox",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},hideLabel:{defaultValue:null,description:"",name:"hideLabel",required:!1,type:{name:"boolean | undefined"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean | undefined"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},labelClassName:{defaultValue:null,description:"",name:"labelClassName",required:!1,type:{name:"string | undefined"}},onChecked:{defaultValue:null,description:"",name:"onChecked",required:!1,type:{name:"((value: boolean) => void) | undefined"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string | undefined"}},ariaDescribedBy:{defaultValue:null,description:"",name:"ariaDescribedBy",required:!1,type:{name:"string | undefined"}},focused:{defaultValue:null,description:"",name:"focused",required:!1,type:{name:"boolean | undefined"}},isVisualOnly:{defaultValue:null,description:"",name:"isVisualOnly",required:!1,type:{name:"boolean | undefined"}},labelledBy:{defaultValue:null,description:"",name:"labelledBy",required:!1,type:{name:"string | undefined"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/checkbox/Checkbox.tsx#Checkbox"]={docgenInfo:Checkbox.__docgenInfo,name:"Checkbox",path:"src/components/checkbox/Checkbox.tsx#Checkbox"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/copy-link/CopyLink.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_link_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/link.svg"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_link_svg__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_link_svg__WEBPACK_IMPORTED_MODULE_1__),_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_check_small_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-check_small.svg"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_check_small_svg__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_check_small_svg__WEBPACK_IMPORTED_MODULE_2__),clsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),_core_utils_text__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/core/utils/text.tsx");const CopyLink=({label,successLabel,url,className,successDuration=2e3})=>{const[isCopied,setIsCopied]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_4__.F)(),defaultLabel=label||t("copyLinkDefaultText"),defaultSuccessLabel=successLabel||t("copyLinkSuccessText");return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:(0,clsx__WEBPACK_IMPORTED_MODULE_3__.A)("copy-link",className),onClick:()=>{const linkToCopy=url||window.location.href;navigator.clipboard.writeText(linkToCopy),setIsCopied(!0),setTimeout((()=>{setIsCopied(!1)}),successDuration)},type:"button"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:(0,clsx__WEBPACK_IMPORTED_MODULE_3__.A)("link-tag text-small-caption",{"copy-link--success":isCopied})},isCopied?defaultSuccessLabel:defaultLabel),react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{src:isCopied?_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_check_small_svg__WEBPACK_IMPORTED_MODULE_2___default():_danskernesdigitalebibliotek_dpl_design_system_build_icons_collection_link_svg__WEBPACK_IMPORTED_MODULE_1___default(),alt:"","aria-hidden":"true"}))},__WEBPACK_DEFAULT_EXPORT__=CopyLink;try{CopyLink.displayName="CopyLink",CopyLink.__docgenInfo={description:"",displayName:"CopyLink",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string | undefined"}},successLabel:{defaultValue:null,description:"",name:"successLabel",required:!1,type:{name:"string | undefined"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"string | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},successDuration:{defaultValue:{value:"2000"},description:"",name:"successDuration",required:!1,type:{name:"number | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/copy-link/CopyLink.tsx#CopyLink"]={docgenInfo:CopyLink.__docgenInfo,name:"CopyLink",path:"src/components/copy-link/CopyLink.tsx#CopyLink"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/dialog/Dialog.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>dialog_Dialog});var react=__webpack_require__("./node_modules/react/index.js"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),CloseLarge=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/CloseLarge.svg"),CloseLarge_default=__webpack_require__.n(CloseLarge);const useEscapeKey=({closeDialog})=>{(0,react.useEffect)((()=>{const handleKeyDown=e=>{"Escape"===e.key&&closeDialog()};return document.addEventListener("keydown",handleKeyDown),()=>{document.removeEventListener("keydown",handleKeyDown)}}),[closeDialog])},dialog_useEscapeKey=useEscapeKey;try{useEscapeKey.displayName="useEscapeKey",useEscapeKey.__docgenInfo={description:"",displayName:"useEscapeKey",props:{closeDialog:{defaultValue:null,description:"",name:"closeDialog",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/dialog/useEscapeKey.tsx#useEscapeKey"]={docgenInfo:useEscapeKey.__docgenInfo,name:"useEscapeKey",path:"src/components/dialog/useEscapeKey.tsx#useEscapeKey"})}catch(__react_docgen_typescript_loader_error){}const Dialog=(0,react.forwardRef)((({children,closeDialog,isSidebar},ref)=>(dialog_useEscapeKey({closeDialog}),react.createElement("dialog",{className:(0,clsx.A)("dialog",{"dialog--sidebar":isSidebar}),ref,onClick:({currentTarget,target})=>{currentTarget===target&&closeDialog()}},react.createElement("div",{className:"dialog__top-bar"},react.createElement("button",{type:"button",onClick:closeDialog,className:"dialog__close-button","aria-label":"Close"},react.createElement("img",{src:CloseLarge_default(),alt:""}))),children))));Dialog.displayName="Dialog";const dialog_Dialog=Dialog;try{Dialog.displayName="Dialog",Dialog.__docgenInfo={description:"",displayName:"Dialog",props:{closeDialog:{defaultValue:null,description:"",name:"closeDialog",required:!0,type:{name:"() => void"}},isSidebar:{defaultValue:null,description:"",name:"isSidebar",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/dialog/Dialog.tsx#Dialog"]={docgenInfo:Dialog.__docgenInfo,name:"Dialog",path:"src/components/dialog/Dialog.tsx#Dialog"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/dialog/useDialog.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const useDialog=({onClose}={})=>{const[dialogContent,setDialogContent]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),dialogRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return{dialogContent,dialogRef,openDialogWithContent:content=>{var _dialogRef$current;setDialogContent(content),null===(_dialogRef$current=dialogRef.current)||void 0===_dialogRef$current||_dialogRef$current.showModal()},closeDialog:()=>{dialogRef.current&&(onClose&&onClose(),dialogRef.current.close())}}},__WEBPACK_DEFAULT_EXPORT__=useDialog;try{useDialog.displayName="useDialog",useDialog.__docgenInfo={description:"",displayName:"useDialog",props:{onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/dialog/useDialog.tsx#useDialog"]={docgenInfo:useDialog.__docgenInfo,name:"useDialog",path:"src/components/dialog/useDialog.tsx#useDialog"})}catch(__react_docgen_typescript_loader_error){}},"./src/core/statistics/withPageStatistics.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_statistics_useStatistics__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/statistics/useStatistics.ts"),react_use__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-use/esm/useEffectOnce.js");const __WEBPACK_DEFAULT_EXPORT__=(WrappedComponent,waitTime=2500)=>props=>{const{sendPageStatistics}=(0,_core_statistics_useStatistics__WEBPACK_IMPORTED_MODULE_1__.Ki)();return(0,react_use__WEBPACK_IMPORTED_MODULE_2__.A)((()=>{sendPageStatistics({waitTime})})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,props)}},"./src/core/storybook/copyLinkArgs.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,U:()=>argTypes});const argTypes={copyLinkDefaultText:{description:"Copy link default button text",control:{type:"text"}},copyLinkSuccessText:{description:"Copy link success button text",control:{type:"text"}},copyLinkToEditionText:{description:"Copy link to edition button text",control:{type:"text"}}},__WEBPACK_DEFAULT_EXPORT__={copyLinkDefaultText:"Kopiér link",copyLinkSuccessText:"Link kopieret",copyLinkToEditionText:"Kopiér link til udgave"}},"./src/core/storybook/mappArgs.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,U:()=>argTypes});const argTypes={mappDomainConfig:{description:"Mapp domain (Empty string to not activate Mapp)",control:{type:"text"}},mappIdConfig:{description:"Mapp id (Empty string to not activate Mapp)",control:{type:"text"}}},__WEBPACK_DEFAULT_EXPORT__={mappDomainConfig:"",mappIdConfig:""}}}]);