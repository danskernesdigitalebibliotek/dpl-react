"use strict";(globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react=globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react||[]).push([[1192],{"./src/apps/loan-list/materials/utils/digital-material-fetch-hoc.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_publizon_publizon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/publizon/publizon.ts"),_core_utils_helpers_list_mapper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/helpers/list-mapper.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=(Component,LoadingComponent)=>({item,...props})=>{if(item.faust)return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,_extends({},props,{item}));if(item.identifier){const[digitalMaterial,setDigitalMaterial]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),{data:productsData,isSuccess:isSuccessDigital,isLoading}=(0,_core_publizon_publizon__WEBPACK_IMPORTED_MODULE_1__.wK)(item.identifier,{query:{enabled:!!item.identifier}});return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{productsData&&isSuccessDigital&&productsData.product&&setDigitalMaterial((0,_core_utils_helpers_list_mapper__WEBPACK_IMPORTED_MODULE_2__.z7)(productsData.product))}),[productsData,isSuccessDigital]),isLoading?LoadingComponent?react__WEBPACK_IMPORTED_MODULE_0__.createElement(LoadingComponent,null):null:digitalMaterial?react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,_extends({},props,{item,material:digitalMaterial})):null}return null}},"./src/apps/loan-list/materials/utils/material-fetch-hoc.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/dbc-gateway/generated/graphql.ts"),_core_utils_helpers_list_mapper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/helpers/list-mapper.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=(Component,FallbackComponent)=>({item,...props})=>{if(null!=item&&item.identifier)return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,_extends({},props,{item}));if(null!=item&&item.faust){const[material,setMaterial]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();let isLoadingAnything=!1,manifestation=null;if(item.reservationIds&&item.reservationIds.length>1){const{isSuccess,data,isLoading}=(0,_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.NM)({faust:item.faust});isLoadingAnything=isLoading,isSuccess&&null!=data&&data.manifestation&&(manifestation=data.manifestation.ownerWork.manifestations.bestRepresentation)}else{const{isSuccess,data,isLoading}=(0,_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.V3)({faust:item.faust});isLoadingAnything=isLoading,isSuccess&&null!=data&&data.manifestation&&(manifestation=data.manifestation)}return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{manifestation?setMaterial((0,_core_utils_helpers_list_mapper__WEBPACK_IMPORTED_MODULE_2__.Ml)(manifestation)):item.details&&setMaterial(item.details)}),[manifestation,item.details]),isLoadingAnything?FallbackComponent?react__WEBPACK_IMPORTED_MODULE_0__.createElement(FallbackComponent,null):null:material?react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,_extends({},props,{item,material})):null}return null}},"./src/apps/loan-list/materials/utils/status-circle-icon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/helpers/general.ts");const __WEBPACK_DEFAULT_EXPORT__=({color,percent,children})=>{const{default:defaultColor}=(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_1__.jM)(),usedColor=color||defaultColor;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"counter",style:{background:`radial-gradient( closest-side, var(--parent-bg-color) calc(100% - 3px), transparent calc(100% - 2px), transparent 0 100% ), conic-gradient(${usedColor} ${percent}%, #DBDBDB 0)`}},children)};try{statuscircleicon.displayName="statuscircleicon",statuscircleicon.__docgenInfo={description:"",displayName:"statuscircleicon",props:{color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string | undefined"}},percent:{defaultValue:null,description:"",name:"percent",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/materials/utils/status-circle-icon.tsx#statuscircleicon"]={docgenInfo:statuscircleicon.__docgenInfo,name:"statuscircleicon",path:"src/apps/loan-list/materials/utils/status-circle-icon.tsx#statuscircleicon"})}catch(__react_docgen_typescript_loader_error){}},"./src/apps/loan-list/modal/material-details-modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,B0:()=>loanDetailsModalId,bk:()=>reservationDetailsModalId});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_utils_modal__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/modal.tsx"),_core_utils_text__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/text.tsx"),_core_utils_types_reservation_type__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/utils/types/reservation-type.ts"),_core_utils_types_loan_type__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/core/utils/types/loan-type.ts"),_core_utils_helpers_modal_helpers__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/core/utils/helpers/modal-helpers.ts");function reservationDetailsModalId(reservation){return`${String((0,_core_utils_helpers_modal_helpers__WEBPACK_IMPORTED_MODULE_5__.c6)().reservationDetails)}${(0,_core_utils_types_reservation_type__WEBPACK_IMPORTED_MODULE_3__.OQ)(reservation)}`}function loanDetailsModalId(loan){return`${String((0,_core_utils_helpers_modal_helpers__WEBPACK_IMPORTED_MODULE_5__.c6)().loanDetails)}${(0,_core_utils_types_loan_type__WEBPACK_IMPORTED_MODULE_4__.G)(loan)}`}const __WEBPACK_DEFAULT_EXPORT__=({modalId,children})=>{const t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_2__.F)();return modalId?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_core_utils_modal__WEBPACK_IMPORTED_MODULE_1__.A,{modalId,classNames:"modal-details",closeModalAriaLabelText:t("materialDetailsCloseModalAriaLabelText"),screenReaderModalDescriptionText:t("materialDetailsModalAriaDescriptionText")},children):null};try{reservationDetailsModalId.displayName="reservationDetailsModalId",reservationDetailsModalId.__docgenInfo={description:"",displayName:"reservationDetailsModalId",props:{dateOfReservation:{defaultValue:null,description:"",name:"dateOfReservation",required:!1,type:{name:"string | null | undefined"}},expiryDate:{defaultValue:null,description:"",name:"expiryDate",required:!1,type:{name:"string | null | undefined"}},pickupDeadline:{defaultValue:null,description:"",name:"pickupDeadline",required:!1,type:{name:"string | null | undefined"}},numberInQueue:{defaultValue:null,description:"",name:"numberInQueue",required:!1,type:{name:"number | null | undefined"}},state:{defaultValue:null,description:"",name:"state",required:!1,type:{name:"string | null | undefined"}},expectedRedeemDateUtc:{defaultValue:null,description:"",name:"expectedRedeemDateUtc",required:!1,type:{name:"string | null | undefined"}},pickupNumber:{defaultValue:null,description:'The reservation number. This is, contrary to the name, a string containing, as an example, "Reserveringshylde 111"',name:"pickupNumber",required:!1,type:{name:"string | null | undefined"}},pickupBranch:{defaultValue:null,description:"",name:"pickupBranch",required:!1,type:{name:"string | null | undefined"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string | null | undefined"}},periodical:{defaultValue:null,description:"",name:"periodical",required:!1,type:{name:"string | null | undefined"}},reservationType:{defaultValue:null,description:"",name:"reservationType",required:!1,type:{name:"string | null | undefined"}},faust:{defaultValue:null,description:"",name:"faust",required:!1,type:{name:"string | null | undefined"}},identifier:{defaultValue:null,description:"",name:"identifier",required:!1,type:{name:"string | null | undefined"}},reservationIds:{defaultValue:null,description:"",name:"reservationIds",required:!1,type:{name:"number[] | null | undefined"}},loanId:{defaultValue:null,description:"",name:"loanId",required:!1,type:{name:"number | null | undefined"}},details:{defaultValue:null,description:"",name:"details",required:!1,type:{name:"Nullable<Partial<BasicDetails>> | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/modal/material-details-modal.tsx#reservationDetailsModalId"]={docgenInfo:reservationDetailsModalId.__docgenInfo,name:"reservationDetailsModalId",path:"src/apps/loan-list/modal/material-details-modal.tsx#reservationDetailsModalId"})}catch(__react_docgen_typescript_loader_error){}try{loanDetailsModalId.displayName="loanDetailsModalId",loanDetailsModalId.__docgenInfo={description:"",displayName:"loanDetailsModalId",props:{dueDate:{defaultValue:null,description:"",name:"dueDate",required:!1,type:{name:"string | null | undefined"}},loanDate:{defaultValue:null,description:"",name:"loanDate",required:!1,type:{name:"string | null | undefined"}},periodical:{defaultValue:null,description:"",name:"periodical",required:!1,type:{name:"string | null | undefined"}},isRenewable:{defaultValue:null,description:"",name:"isRenewable",required:!0,type:{name:"boolean"}},materialItemNumber:{defaultValue:null,description:"",name:"materialItemNumber",required:!1,type:{name:"string | null | undefined"}},renewalStatusList:{defaultValue:null,description:"",name:"renewalStatusList",required:!0,type:{name:"string[]"}},loanType:{defaultValue:null,description:"",name:"loanType",required:!0,type:{name:"string | null"}},orderId:{defaultValue:null,description:"",name:"orderId",required:!1,type:{name:"string | null | undefined"}},faust:{defaultValue:null,description:"",name:"faust",required:!1,type:{name:"string | null | undefined"}},identifier:{defaultValue:null,description:"",name:"identifier",required:!1,type:{name:"string | null | undefined"}},reservationIds:{defaultValue:null,description:"",name:"reservationIds",required:!1,type:{name:"number[] | null | undefined"}},loanId:{defaultValue:null,description:"",name:"loanId",required:!1,type:{name:"number | null | undefined"}},details:{defaultValue:null,description:"",name:"details",required:!1,type:{name:"Nullable<Partial<BasicDetails>> | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/modal/material-details-modal.tsx#loanDetailsModalId"]={docgenInfo:loanDetailsModalId.__docgenInfo,name:"loanDetailsModalId",path:"src/apps/loan-list/modal/material-details-modal.tsx#loanDetailsModalId"})}catch(__react_docgen_typescript_loader_error){}try{materialdetailsmodal.displayName="materialdetailsmodal",materialdetailsmodal.__docgenInfo={description:"",displayName:"materialdetailsmodal",props:{modalId:{defaultValue:null,description:"",name:"modalId",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/modal/material-details-modal.tsx#materialdetailsmodal"]={docgenInfo:materialdetailsmodal.__docgenInfo,name:"materialdetailsmodal",path:"src/apps/loan-list/modal/material-details-modal.tsx#materialdetailsmodal"})}catch(__react_docgen_typescript_loader_error){}},"./src/apps/reservation-list/reservation-material/reservation-info.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>reservation_info});var react=__webpack_require__("./node_modules/react/index.js"),icon_check=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-check.svg"),icon_check_default=__webpack_require__.n(icon_check),useDeepCompareEffect=__webpack_require__("./node_modules/react-use/esm/useDeepCompareEffect.js"),utils_text=__webpack_require__("./src/core/utils/text.tsx"),general=__webpack_require__("./src/core/utils/helpers/general.ts"),date=__webpack_require__("./src/core/utils/helpers/date.ts"),helper=__webpack_require__("./src/components/reservation/helper.ts"),ArrowButton=__webpack_require__("./src/components/Buttons/ArrowButton.tsx"),status_circle_icon=__webpack_require__("./src/apps/loan-list/materials/utils/status-circle-icon.tsx");const InfoLabel=({dataCy="info-label",children})=>react.createElement("div",{"data-cy":dataCy,className:"status-label status-label--info"},children),labels_InfoLabel=InfoLabel;try{InfoLabel.displayName="InfoLabel",InfoLabel.__docgenInfo={description:"",displayName:"InfoLabel",props:{dataCy:{defaultValue:{value:"info-label"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/atoms/labels/InfoLabel.tsx#InfoLabel"]={docgenInfo:InfoLabel.__docgenInfo,name:"InfoLabel",path:"src/components/atoms/labels/InfoLabel.tsx#InfoLabel"})}catch(__react_docgen_typescript_loader_error){}const reservation_status=({reservationInfo,openReservationDetailsModal,color,percent,empty=!1,info,label,children,showArrow=!0,className})=>{const shouldRenderReservationDeadline=info||(Array.isArray(label)?label.length>0:!!label);return react.createElement("div",{className:className??"list-reservation__status"},react.createElement("div",{className:"list-reservation__counter color-secondary-gray"},!empty&&react.createElement(status_circle_icon.A,{color,percent},children)),shouldRenderReservationDeadline&&react.createElement("div",null,react.createElement("div",{className:"list-reservation__deadline"},info&&react.createElement(labels_InfoLabel,null,info),"string"==typeof label&&react.createElement("p",{className:"text-small-caption"},label),Array.isArray(label)&&label.map(((localLabel,index)=>react.createElement("p",{key:index,className:"text-small-caption"},localLabel))))),showArrow&&react.createElement(ArrowButton.A,{arrowLabelledBy:`${(null==reservationInfo?void 0:reservationInfo.identifier)||(null==reservationInfo?void 0:reservationInfo.faust)}-title`,cursorPointer:!0,clickEventHandler:()=>{openReservationDetailsModal&&reservationInfo&&openReservationDetailsModal(reservationInfo)}}))};try{reservationstatus.displayName="reservationstatus",reservationstatus.__docgenInfo={description:"",displayName:"reservationstatus",props:{reservationInfo:{defaultValue:null,description:"",name:"reservationInfo",required:!1,type:{name:"Nullable<Partial<Reservation>> | undefined"}},openReservationDetailsModal:{defaultValue:null,description:"",name:"openReservationDetailsModal",required:!1,type:{name:"((reservation: Nullable<Partial<Reservation>>) => void) | undefined"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string | undefined"}},empty:{defaultValue:{value:"false"},description:"",name:"empty",required:!1,type:{name:"boolean | undefined"}},percent:{defaultValue:null,description:"",name:"percent",required:!0,type:{name:"number"}},info:{defaultValue:null,description:"",name:"info",required:!1,type:{name:"string | undefined"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string | string[]"}},showArrow:{defaultValue:{value:"true"},description:"",name:"showArrow",required:!1,type:{name:"boolean | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/reservation-material/reservation-status.tsx#reservationstatus"]={docgenInfo:reservationstatus.__docgenInfo,name:"reservationstatus",path:"src/apps/reservation-list/reservation-material/reservation-status.tsx#reservationstatus"})}catch(__react_docgen_typescript_loader_error){}var utils_branches=__webpack_require__("./src/core/utils/branches.tsx"),helpers=__webpack_require__("./src/apps/reservation-list/utils/helpers.ts");const reservation_info=({reservationInfo,openReservationDetailsModal,showStatusCircleIcon=!0,showArrow=!0,reservationStatusClassNameOverride,isDigital})=>{const t=(0,utils_text.F)(),{state,expiryDate,pickupBranch,numberInQueue,pickupDeadline,pickupNumber}=reservationInfo,[pickupLibrary,setPickupLibrary]=(0,react.useState)(""),{success}=(0,general.jM)(),branches=(0,utils_branches.ov)("blacklistedPickupBranchesConfig");(0,useDeepCompareEffect.A)((()=>{branches&&pickupBranch&&setPickupLibrary((0,helper.C4)(pickupBranch,branches))}),[branches,pickupBranch]);const getInfo=()=>{if(!(isDigital&&expiryDate||pickupDeadline))return"";const date=(isDigital?expiryDate:pickupDeadline)??null;return date?(0,helpers.Fk)({pickupBranch,date,t,isDigital}):""};if("readyForPickup"===state)return react.createElement(reservation_status,{color:success,percent:100,info:getInfo(),label:isDigital?[t("reservationListDigitalPickupText")]:[pickupLibrary,pickupNumber||""],reservationInfo,openReservationDetailsModal,empty:!showStatusCircleIcon,showArrow,className:reservationStatusClassNameOverride},react.createElement("div",{className:"counter__value color-secondary-gray"},react.createElement("img",{src:icon_check_default(),alt:""}),react.createElement("span",{className:"counter__label color-secondary-gray"},t("reservationListReadyText"))));if("reserved"===state&&pickupBranch&&numberInQueue&&expiryDate){const numberInLineLabel=1===numberInQueue?t("reservationListFirstInQueueText"):t("reservationListNumberInQueueText",{placeholders:{"@count":numberInQueue-1}});return react.createElement(reservation_status,{percent:1/numberInQueue*100,label:showStatusCircleIcon?numberInLineLabel:"",reservationInfo,openReservationDetailsModal,empty:!showStatusCircleIcon,showArrow,className:reservationStatusClassNameOverride},react.createElement("span",{className:"counter__value color-secondary-gray"},numberInQueue),react.createElement("span",{className:"counter__label color-secondary-gray"},t("reservationListInQueueText")))}if("reserved"===state&&!pickupBranch&&pickupDeadline){const daysBetweenTodayAndPickup=(0,date.UM)(pickupDeadline),reservationAvailableLabel=showStatusCircleIcon?t("reservationListAvailableInText",{placeholders:{"@count":(0,date.UM)(pickupDeadline)}}):"";return react.createElement(reservation_status,{percent:(0,date.UM)(pickupDeadline)/100,label:reservationAvailableLabel,reservationInfo,openReservationDetailsModal,empty:!showStatusCircleIcon,showArrow,className:reservationStatusClassNameOverride},react.createElement("span",{className:"counter__value color-secondary-gray"},(0,date.UM)(pickupDeadline)>0?daysBetweenTodayAndPickup:0," "),react.createElement("span",{className:"counter__label color-secondary-gray"},t(1===daysBetweenTodayAndPickup?"reservationListDayText":"reservationListDaysText")))}return react.createElement(reservation_status,{reservationInfo,openReservationDetailsModal,percent:0,label:"",empty:!0,showArrow,className:reservationStatusClassNameOverride})};try{reservationinfo.displayName="reservationinfo",reservationinfo.__docgenInfo={description:"",displayName:"reservationinfo",props:{reservationInfo:{defaultValue:null,description:"",name:"reservationInfo",required:!0,type:{name:"Nullable<Partial<Reservation>>"}},openReservationDetailsModal:{defaultValue:null,description:"",name:"openReservationDetailsModal",required:!1,type:{name:"((reservation: Nullable<Partial<Reservation>>) => void) | undefined"}},showStatusCircleIcon:{defaultValue:{value:"true"},description:"",name:"showStatusCircleIcon",required:!1,type:{name:"boolean | undefined"}},showArrow:{defaultValue:{value:"true"},description:"",name:"showArrow",required:!1,type:{name:"boolean | undefined"}},reservationStatusClassNameOverride:{defaultValue:null,description:"",name:"reservationStatusClassNameOverride",required:!1,type:{name:"string | undefined"}},isDigital:{defaultValue:null,description:"",name:"isDigital",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/reservation-list/reservation-material/reservation-info.tsx#reservationinfo"]={docgenInfo:reservationinfo.__docgenInfo,name:"reservationinfo",path:"src/apps/reservation-list/reservation-material/reservation-info.tsx#reservationinfo"})}catch(__react_docgen_typescript_loader_error){}},"./src/apps/reservation-list/utils/helpers.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Fk:()=>getReservationStatusInfoLabel,Iw:()=>getStatusText,JU:()=>getReadyForPickup,LQ:()=>sortByOldestPickupDeadline,hm:()=>sortByNumberInQueue});var _core_utils_helpers_date__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/utils/helpers/date.ts");const sortByOldestPickupDeadline=list=>list.sort(((objA,objB)=>new Date(objA.pickupDeadline||new Date).getTime()-new Date(objB.pickupDeadline||new Date).getTime())),sortByNumberInQueue=reservations=>[...reservations].sort(((a,b)=>(a.numberInQueue||0)-(b.numberInQueue||0))),getReadyForPickup=list=>list.filter((({state})=>"readyForPickup"===state)),infoLabelTextType_pickUpLatest="reservationPickUpLatestText",infoLabelTextType_loanBefore="reservationListLoanBeforeText",getReservationStatusInfoLabel=({pickupBranch,date,isDigital,t})=>t(pickupBranch?infoLabelTextType_pickUpLatest:infoLabelTextType_loanBefore,{placeholders:{"@date":(0,_core_utils_helpers_date__WEBPACK_IMPORTED_MODULE_0__.SL)({date,isDigital})}}),getStatusText=({identifier,state,pickupDeadline,faust,numberInQueue},t)=>identifier&&"reserved"===state?pickupDeadline?t("reservationListAvailableInText",{placeholders:{"@count":(0,_core_utils_helpers_date__WEBPACK_IMPORTED_MODULE_0__.UM)(pickupDeadline)}}):t("reservationListYouAreInQueueText"):faust&&numberInQueue?t("dashboardNumberInLineText",{count:numberInQueue,placeholders:{"@count":numberInQueue}}):""},"./src/components/Buttons/ArrowButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_atoms_icons_arrow_arrow__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/atoms/icons/arrow/arrow.tsx");const ArrowButton=({cursorPointer=!1,clickEventHandler,keyUpEventHandler,arrowLabelledBy,classNames=""})=>{const pointer=cursorPointer&&{cursor:"pointer"}||{cursor:"inherit"};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{"aria-labelledby":arrowLabelledBy,className:`${classNames} arrow-button`,style:pointer,type:"button",onMouseUp:e=>{clickEventHandler&&(e.stopPropagation(),clickEventHandler())},onKeyUp:e=>{keyUpEventHandler&&(e.stopPropagation(),keyUpEventHandler(e))}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_atoms_icons_arrow_arrow__WEBPACK_IMPORTED_MODULE_1__.A,null))},__WEBPACK_DEFAULT_EXPORT__=ArrowButton;try{ArrowButton.displayName="ArrowButton",ArrowButton.__docgenInfo={description:"",displayName:"ArrowButton",props:{cursorPointer:{defaultValue:{value:"false"},description:"",name:"cursorPointer",required:!1,type:{name:"boolean"}},clickEventHandler:{defaultValue:null,description:"",name:"clickEventHandler",required:!1,type:{name:"(() => void) | undefined"}},keyUpEventHandler:{defaultValue:null,description:"",name:"keyUpEventHandler",required:!1,type:{name:"((e: KeyboardEvent<HTMLButtonElement>) => void) | undefined"}},arrowLabelledBy:{defaultValue:null,description:"",name:"arrowLabelledBy",required:!0,type:{name:"string"}},classNames:{defaultValue:{value:""},description:"",name:"classNames",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Buttons/ArrowButton.tsx#ArrowButton"]={docgenInfo:ArrowButton.__docgenInfo,name:"ArrowButton",path:"src/components/Buttons/ArrowButton.tsx#ArrowButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/atoms/icons/arrow/arrow.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=()=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"61",height:"9",viewBox:"0 0 61 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{className:"arrow__body",d:"M60 4.5H0",stroke:"black"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{className:"arrow__head",d:"M60.3537 4.85355C60.5489 4.65829 60.5489 4.34171 60.3537 4.14645L57.1717 0.96447C56.9764 0.769208 56.6598 0.769208 56.4646 0.96447C56.2693 1.15973 56.2693 1.47631 56.4646 1.67157L59.293 4.5L56.4646 7.32843C56.2693 7.52369 56.2693 7.84027 56.4646 8.03553C56.6598 8.2308 56.9764 8.2308 57.1717 8.03553L60.3537 4.85355ZM60.0001 4H57.0001V5H60.0001V4Z",fill:"black"}))},"./src/components/author-year/authorYear.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=({author,year})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,author&&author,year&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null," (",year,")"));try{authorYear.displayName="authorYear",authorYear.__docgenInfo={description:"",displayName:"authorYear",props:{author:{defaultValue:null,description:"",name:"author",required:!0,type:{name:"string | null"}},year:{defaultValue:null,description:"",name:"year",required:!0,type:{name:"string | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/author-year/authorYear.tsx#authorYear"]={docgenInfo:authorYear.__docgenInfo,name:"authorYear",path:"src/components/author-year/authorYear.tsx#authorYear"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/cover/cover.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>Cover});var clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),react=__webpack_require__("./node_modules/react/index.js"),graphql=__webpack_require__("./src/core/dbc-gateway/generated/graphql.ts"),LinkNoStyle=__webpack_require__("./src/components/atoms/links/LinkNoStyle.tsx");const cover_image=({src,altText,animate,setImageLoaded,shadow})=>react.createElement("img",{onLoad:setImageLoaded,className:(0,clsx.A)("cover__img",{"cover__img--animate":animate},{"cover__img--shadow-small":"small"===shadow,"cover__img--shadow-medium":"medium"===shadow}),src,alt:altText||""});try{coverimage.displayName="coverimage",coverimage.__docgenInfo={description:"",displayName:"coverimage",props:{src:{defaultValue:null,description:"",name:"src",required:!0,type:{name:"string"}},altText:{defaultValue:null,description:"",name:"altText",required:!1,type:{name:"string | undefined"}},animate:{defaultValue:null,description:"",name:"animate",required:!0,type:{name:"boolean"}},setImageLoaded:{defaultValue:null,description:"",name:"setImageLoaded",required:!0,type:{name:"() => void"}},shadow:{defaultValue:null,description:"",name:"shadow",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"medium"'},{value:'"small"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/cover/cover-image.tsx#coverimage"]={docgenInfo:coverimage.__docgenInfo,name:"coverimage",path:"src/components/cover/cover-image.tsx#coverimage"})}catch(__react_docgen_typescript_loader_error){}var first=__webpack_require__("./node_modules/lodash/first.js"),first_default=__webpack_require__.n(first);const graphQLKeyToCssSize={xSmall:"xsmall",small:"small",medium:"medium",large:"large"};const getUrl=(cover,size)=>{var _cover$size;return(null==cover||null===(_cover$size=cover[size])||void 0===_cover$size?void 0:_cover$size.url)??null},getCoverUrl=({coverData,bestRepresentation,size})=>{if(!coverData)return null;const covers=(({coverData,size})=>coverData?coverData.filter((item=>!!getUrl(item.cover,size))):[])({coverData,size}),firstCover=first_default()(covers);if(!bestRepresentation&&firstCover&&getUrl(firstCover.cover,size))return getUrl(firstCover.cover,size);const bestRepresentationCover=first_default()(covers.filter((item=>(null==bestRepresentation?void 0:bestRepresentation.pid)===item.pid)));return bestRepresentationCover&&getUrl(bestRepresentationCover.cover,size)?getUrl(bestRepresentationCover.cover,size):firstCover&&getUrl(firstCover.cover,size)?getUrl(firstCover.cover,size):null};const createIsbnCql=(ids=[])=>ids.length?ids.map((id=>`term.isbn=${id}`)).join(" OR "):"";const Cover=({url,alt,size,displaySize,animate,tint,ids,bestRepresentation,idType="pid",shadow,linkAriaLabelledBy,trackClick})=>{var _isbnData$complexSear,_isbnData$complexSear2,_isbnData$complexSear3,_isbnData$complexSear4,_isbnData$complexSear5;const[imageLoaded,setImageLoaded]=(0,react.useState)(!1),handleSetImageLoaded=(0,react.useCallback)((()=>{setImageLoaded(!0)}),[]),isIsbn="isbn"===idType,hasIds=ids&&ids.length>0,{data:isbnData}=(0,graphql.Vt)({cql:createIsbnCql(ids),offset:0,limit:1,filters:{}},{enabled:isIsbn&&hasIds}),pidsToQuery=function resolveCoverPidValues({idType,ids,resolvedIsbnPid}){return"isbn"===idType?resolvedIsbnPid?[resolvedIsbnPid]:[]:Array.isArray(ids)?ids:[]}({idType,ids,resolvedIsbnPid:null==isbnData||null===(_isbnData$complexSear=isbnData.complexSearch)||void 0===_isbnData$complexSear||null===(_isbnData$complexSear2=_isbnData$complexSear.works)||void 0===_isbnData$complexSear2||null===(_isbnData$complexSear3=_isbnData$complexSear2[0])||void 0===_isbnData$complexSear3||null===(_isbnData$complexSear4=_isbnData$complexSear3.manifestations)||void 0===_isbnData$complexSear4||null===(_isbnData$complexSear5=_isbnData$complexSear4.bestRepresentation)||void 0===_isbnData$complexSear5?void 0:_isbnData$complexSear5.pid}),{data:coverResult}=(0,graphql.TH)({pids:pidsToQuery},{enabled:pidsToQuery.length>0}),coverData=function filterNonNullManifestations(manifestations){return(null==manifestations?void 0:manifestations.filter((m=>null!=m)))??[]}(null==coverResult?void 0:coverResult.manifestations),coverDisplaySize=function getCoverDisplaySize({displaySize,size}){return displaySize??graphQLKeyToCssSize[size]}({displaySize,size}),coverSrc=getCoverUrl({coverData,bestRepresentation,size}),classes={wrapper:(0,clsx.A)("cover",`cover--size-${coverDisplaySize}`,`cover--aspect-${coverDisplaySize}`,imageLoaded||{default:"bg-identity-tint-120",120:"bg-identity-tint-120",100:"bg-identity-tint-100",80:"bg-identity-tint-80",40:"bg-identity-tint-40",20:"bg-identity-tint-20"}[tint||"default"])};return url?react.createElement(LinkNoStyle.A,{className:classes.wrapper,url,ariaLabelledBy:linkAriaLabelledBy,isHiddenFromScreenReaders:!alt,trackClick},coverSrc&&react.createElement(cover_image,{setImageLoaded:handleSetImageLoaded,src:coverSrc,altText:alt,animate,shadow})):react.createElement("div",{className:classes.wrapper},coverSrc&&react.createElement(cover_image,{setImageLoaded:handleSetImageLoaded,src:coverSrc,altText:alt,animate,shadow}))};try{Cover.displayName="Cover",Cover.__docgenInfo={description:"",displayName:"Cover",props:{animate:{defaultValue:null,description:"",name:"animate",required:!0,type:{name:"boolean"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"large"'},{value:'"medium"'},{value:'"small"'},{value:'"xSmall"'}]}},displaySize:{defaultValue:null,description:"",name:"displaySize",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"large"'},{value:'"medium"'},{value:'"small"'},{value:'"2xsmall"'},{value:'"xsmall"'},{value:'"xlarge"'}]}},tint:{defaultValue:null,description:"",name:"tint",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"20"'},{value:'"40"'},{value:'"80"'},{value:'"100"'},{value:'"120"'}]}},ids:{defaultValue:null,description:"",name:"ids",required:!0,type:{name:"string[]"}},bestRepresentation:{defaultValue:null,description:"",name:"bestRepresentation",required:!1,type:{name:"Manifestation | undefined"}},alt:{defaultValue:null,description:"",name:"alt",required:!1,type:{name:"string | undefined"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"URL | undefined"}},idType:{defaultValue:{value:"pid"},description:"",name:"idType",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"pid"'},{value:'"isbn"'}]}},shadow:{defaultValue:null,description:"",name:"shadow",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"medium"'},{value:'"small"'}]}},linkAriaLabelledBy:{defaultValue:null,description:"",name:"linkAriaLabelledBy",required:!1,type:{name:"string | undefined"}},trackClick:{defaultValue:null,description:"",name:"trackClick",required:!1,type:{name:"(() => Promise<unknown>) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/cover/cover.tsx#Cover"]={docgenInfo:Cover.__docgenInfo,name:"Cover",path:"src/components/cover/cover.tsx#Cover"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/empty-list/empty-list.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=({emptyListText,dataCy="empty-list",classNames=""})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"data-cy":dataCy,className:`dpl-list-empty ${classNames}`},emptyListText);try{emptylist.displayName="emptylist",emptylist.__docgenInfo={description:"",displayName:"emptylist",props:{emptyListText:{defaultValue:null,description:"",name:"emptyListText",required:!0,type:{name:"string"}},dataCy:{defaultValue:{value:"empty-list"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}},classNames:{defaultValue:{value:""},description:"",name:"classNames",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/empty-list/empty-list.tsx#emptylist"]={docgenInfo:emptylist.__docgenInfo,name:"emptylist",path:"src/components/empty-list/empty-list.tsx#emptylist"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/list-details/list-details.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_utils_text__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/text.tsx");const __WEBPACK_DEFAULT_EXPORT__=({icon,title,labels,showSelect,setShowSelect,idForLabelledBy,children})=>{const t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_1__.F)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"list-details","data-cy":"reservation-form-list-item"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"list-details__icon"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{src:icon,alt:""})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"list-details__container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",{className:"text-header-h5",id:idForLabelledBy},title),"string"==typeof labels&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"text-small-caption"},labels),"string"!=typeof labels&&labels.map((label=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{key:label,className:"text-small-caption"},label)))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"list-details__dropdown"},children)),null!==showSelect&&!showSelect&&setShowSelect&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link-tag",onClick:()=>setShowSelect(!0)},t("reservationDetailsChangeText")))};try{listdetails.displayName="listdetails",listdetails.__docgenInfo={description:"",displayName:"listdetails",props:{icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},labels:{defaultValue:null,description:"",name:"labels",required:!0,type:{name:"string | string[]"}},showSelect:{defaultValue:null,description:"",name:"showSelect",required:!1,type:{name:"boolean | undefined"}},setShowSelect:{defaultValue:null,description:"",name:"setShowSelect",required:!1,type:{name:"((show: boolean) => void) | undefined"}},idForLabelledBy:{defaultValue:null,description:"",name:"idForLabelledBy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/list-details/list-details.tsx#listdetails"]={docgenInfo:listdetails.__docgenInfo,name:"listdetails",path:"src/components/list-details/list-details.tsx#listdetails"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/modal-details-header/modal-details-header.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_cover_cover__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/cover/cover.tsx");const __WEBPACK_DEFAULT_EXPORT__=({authors,year,title,pid,description,materialType,isbnForCover,periodical,series,children})=>{const coverIds=[pid||isbnForCover];return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"data-cy":"modal-details__header",className:"modal-details__header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"modal-details__cover"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"material-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"material material--large bg-identity-tint-120 material__animate"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_cover_cover__WEBPACK_IMPORTED_MODULE_1__.Y,{ids:coverIds,idType:pid?"pid":"isbn",size:"large",animate:!1,alt:description||""})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"modal-details__material"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"modal-details__tags"},materialType&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"status-label status-label--outline"},materialType),children),react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2",{className:"modal-details__title text-header-h2"},title),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"text-body-medium-regular","data-cy":"modal-authors"},authors,year&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null," (",year,")")),periodical&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"text-body-medium-regular"},periodical),series&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{"data-cy":"modal-series",className:"text-body-medium-regular"},series)))};try{modaldetailsheader.displayName="modaldetailsheader",modaldetailsheader.__docgenInfo={description:"",displayName:"modaldetailsheader",props:{authors:{defaultValue:null,description:"",name:"authors",required:!0,type:{name:"string | null | undefined"}},year:{defaultValue:null,description:"",name:"year",required:!0,type:{name:"string | null | undefined"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string | null | undefined"}},pid:{defaultValue:null,description:"",name:"pid",required:!1,type:{name:"`${number}-${string}:${string}` | null | undefined"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string | null | undefined"}},materialType:{defaultValue:null,description:"",name:"materialType",required:!0,type:{name:"string | null | undefined"}},isbnForCover:{defaultValue:null,description:"",name:"isbnForCover",required:!0,type:{name:"string"}},periodical:{defaultValue:null,description:"",name:"periodical",required:!1,type:{name:"string | null | undefined"}},series:{defaultValue:null,description:"",name:"series",required:!1,type:{name:"string | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/modal-details-header/modal-details-header.tsx#modaldetailsheader"]={docgenInfo:modaldetailsheader.__docgenInfo,name:"modaldetailsheader",path:"src/components/modal-details-header/modal-details-header.tsx#modaldetailsheader"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/result-pager/use-pager.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>use_pager});var react=__webpack_require__("./node_modules/react/index.js"),utils_text=__webpack_require__("./src/core/utils/text.tsx");function ResultPager({setPageHandler,itemsShown,hitcount,isLoading,classNames}){const t=(0,utils_text.F)();return react.createElement("div",{className:`result-pager ${classNames}`},react.createElement("p",{className:"text-small-caption result-pager__title"},t("resultPagerStatusText",{placeholders:{"@itemsShown":itemsShown,"@hitcount":hitcount}})),itemsShown!==hitcount&&react.createElement("button",{disabled:isLoading,type:"button",className:"btn-primary btn-outline btn-medium arrow__hover--right-small uppercase",onClick:setPageHandler},t(isLoading?"loadingText":"showMoreText")))}const result_pager=ResultPager;try{ResultPager.displayName="ResultPager",ResultPager.__docgenInfo={description:"",displayName:"ResultPager",props:{setPageHandler:{defaultValue:null,description:"",name:"setPageHandler",required:!0,type:{name:"() => void"}},itemsShown:{defaultValue:null,description:"",name:"itemsShown",required:!0,type:{name:"number"}},hitcount:{defaultValue:null,description:"",name:"hitcount",required:!0,type:{name:"number"}},classNames:{defaultValue:null,description:"",name:"classNames",required:!0,type:{name:"string"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/result-pager/result-pager.tsx#ResultPager"]={docgenInfo:ResultPager.__docgenInfo,name:"ResultPager",path:"src/components/result-pager/result-pager.tsx#ResultPager"})}catch(__react_docgen_typescript_loader_error){}const use_pager=({hitcount,pageSize,overrideItemsShown})=>{const[itemsShown,setItemsShown]=(0,react.useState)(pageSize>=hitcount?hitcount:pageSize),[page,setPage]=(0,react.useState)(0),[firstInNewPage,setFirstInNewPage]=(0,react.useState)(null);(0,react.useEffect)((()=>{setItemsShown(pageSize>hitcount?hitcount:pageSize)}),[hitcount,pageSize]);const pagehandler=()=>{const currentPage=page+1,itemsOnPage=(currentPage+1)*pageSize,onLastPage=itemsOnPage>hitcount;setFirstInNewPage(itemsOnPage-pageSize),setItemsShown(onLastPage?hitcount:itemsOnPage),setPage(currentPage)};return{itemsShown,PagerComponent:({isLoading,classNames=""})=>hitcount?react.createElement(result_pager,{itemsShown:overrideItemsShown?overrideItemsShown():itemsShown,hitcount,classNames,setPageHandler:pagehandler,isLoading}):null,page,firstInNewPage,resetPage:()=>{setPage(0),setFirstInNewPage(null);setItemsShown(pageSize>=hitcount?hitcount:pageSize)}}};try{usepager.displayName="usepager",usepager.__docgenInfo={description:"",displayName:"usepager",props:{hitcount:{defaultValue:null,description:"",name:"hitcount",required:!0,type:{name:"number"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}},overrideItemsShown:{defaultValue:null,description:"",name:"overrideItemsShown",required:!1,type:{name:"(() => number) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/result-pager/use-pager.tsx#usepager"]={docgenInfo:usepager.__docgenInfo,name:"usepager",path:"src/components/result-pager/use-pager.tsx#usepager"})}catch(__react_docgen_typescript_loader_error){}},"./src/core/utils/types/loan-type.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function isLoanType(item){return!!item.loanId||!!item.identifier}function loanId(loan){return String(loan.loanId||loan.identifier)}__webpack_require__.d(__webpack_exports__,{G:()=>loanId,R:()=>isLoanType})},"./src/core/utils/useGetWorkUrlFromPublizonIdentifier.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/dbc-gateway/generated/graphql.ts"),_url__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/url.tsx"),_helpers_url__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/utils/helpers/url.ts"),_helpers_general__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/core/utils/helpers/general.ts");const __WEBPACK_DEFAULT_EXPORT__=identifier=>{const materialUrl=(0,_url__WEBPACK_IMPORTED_MODULE_2__.Ik)()("materialUrl"),{data,isLoading,isError}=(0,_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.YP)({cql:`term.isbn=${identifier}`,offset:0,limit:1,filters:{}},{enabled:Boolean(identifier)});return{workUrl:(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>{var _data$complexSearch,_data$complexSearch$w,_work$manifestations,_work$manifestations$;if(!data||!identifier)return null;const work=null===(_data$complexSearch=data.complexSearch)||void 0===_data$complexSearch||null===(_data$complexSearch$w=_data$complexSearch.works)||void 0===_data$complexSearch$w?void 0:_data$complexSearch$w[0];if(!work)return null;const workId=work.workId,manifestationWithSameIdentifier=null===(_work$manifestations=work.manifestations)||void 0===_work$manifestations||null===(_work$manifestations$=_work$manifestations.all)||void 0===_work$manifestations$?void 0:_work$manifestations$.find((manifestation=>{var _manifestation$identi;return null===(_manifestation$identi=manifestation.identifiers)||void 0===_manifestation$identi?void 0:_manifestation$identi.some((id=>id.value===identifier))})),materialType=manifestationWithSameIdentifier?(0,_helpers_general__WEBPACK_IMPORTED_MODULE_4__.JB)([manifestationWithSameIdentifier]):void 0;return(0,_helpers_url__WEBPACK_IMPORTED_MODULE_3__.Qj)(materialUrl,workId,materialType?String(materialType):void 0)}),[data,identifier,materialUrl]),isLoading,isError}}}}]);