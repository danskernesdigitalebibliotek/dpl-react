"use strict";(globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react=globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react||[]).push([[8812],{"./src/apps/search-result/helper.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z4:()=>getFirstMaterialTypeFromFilters,z2:()=>mapFacetToFilter});var lodash_head__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/head.js"),lodash_head__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_head__WEBPACK_IMPORTED_MODULE_0__),_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/helpers/general.ts"),_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/dbc-gateway/generated/graphql.ts");const mapFacetToFilter=facet=>{switch(facet){case _core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_2__.DX.Materialtypesspecific:return"materialTypesSpecific";case _core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_2__.DX.Worktypes:return"workTypes";default:return"invalid"}},getFirstMaterialTypeFromFilters=(filters,manifestations)=>{const materialTypeFilter=lodash_head__WEBPACK_IMPORTED_MODULE_0___default()(Object.keys(filters[_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_2__.DX.Materialtypesspecific]||{}).sort()),allMaterialTypes=(0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_1__.JB)(manifestations);return materialTypeFilter&&allMaterialTypes.includes(materialTypeFilter)?materialTypeFilter:void 0}},"./src/apps/search-result/useFilterHandler.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-redux/dist/react-redux.mjs"),_core_filter_slice__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/filter.slice.ts"),_core_store__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/store.ts"),_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/core/utils/helpers/url.ts"),_helper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/apps/search-result/helper.ts"),_core_statistics_useStatistics__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/core/statistics/useStatistics.ts"),_core_statistics_statistics__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/core/statistics/statistics.ts"),_components_facet_browser_helper__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/facet-browser/helper.ts");const __WEBPACK_DEFAULT_EXPORT__=()=>{const{track}=(0,_core_statistics_useStatistics__WEBPACK_IMPORTED_MODULE_4__.Jx)(),dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_7__.wA)(),filters=(0,react_redux__WEBPACK_IMPORTED_MODULE_7__.d4)((state=>state.filter)),clearFilter=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_8__.MR)("filters"),dispatch((0,_core_filter_slice__WEBPACK_IMPORTED_MODULE_1__.IU)())}),[dispatch]),addToFilter=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((payload=>{"usePersistedFilters"!==(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_8__.d6)("filters")&&(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_8__.$u)({filters:"usePersistedFilters"}),dispatch((0,_core_filter_slice__WEBPACK_IMPORTED_MODULE_1__.WQ)(payload));const updatedFilters=_core_store__WEBPACK_IMPORTED_MODULE_2__.M_.getState().filter;"facetLine"===payload.origin&&track("click",{id:_core_statistics_statistics__WEBPACK_IMPORTED_MODULE_5__.o.facetsByFacetLineClick.id,name:_core_statistics_statistics__WEBPACK_IMPORTED_MODULE_5__.o.facetsByFacetLineClick.name,trackedData:(0,_components_facet_browser_helper__WEBPACK_IMPORTED_MODULE_6__.zN)(updatedFilters,payload.origin)}),"facetBrowser"===payload.origin&&track("click",{id:_core_statistics_statistics__WEBPACK_IMPORTED_MODULE_5__.o.searchFacets.id,name:_core_statistics_statistics__WEBPACK_IMPORTED_MODULE_5__.o.searchFacets.name,trackedData:(0,_components_facet_browser_helper__WEBPACK_IMPORTED_MODULE_6__.zN)(updatedFilters,payload.origin)})}),[dispatch,track]),removeFromFilter=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((payload=>dispatch((0,_core_filter_slice__WEBPACK_IMPORTED_MODULE_1__.TF)(payload))),[dispatch]);return{filters,addToFilter,removeFromFilter,clearFilter,addFilterFromUrlParamListener:facet=>{const urlFilter=(0,_core_utils_helpers_url__WEBPACK_IMPORTED_MODULE_8__.d6)((0,_helper__WEBPACK_IMPORTED_MODULE_3__.z2)(facet));urlFilter&&addToFilter({facet:(0,_helper__WEBPACK_IMPORTED_MODULE_3__.z2)(facet),term:{key:"key",term:urlFilter,traceId:"traceId"},origin:"facetUrl"})}}}},"./src/components/atoms/icons/arrow/arrow.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=()=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"61",height:"9",viewBox:"0 0 61 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{className:"arrow__body",d:"M60 4.5H0",stroke:"black"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{className:"arrow__head",d:"M60.3537 4.85355C60.5489 4.65829 60.5489 4.34171 60.3537 4.14645L57.1717 0.96447C56.9764 0.769208 56.6598 0.769208 56.4646 0.96447C56.2693 1.15973 56.2693 1.47631 56.4646 1.67157L59.293 4.5L56.4646 7.32843C56.2693 7.52369 56.2693 7.84027 56.4646 8.03553C56.6598 8.2308 56.9764 8.2308 57.1717 8.03553L60.3537 4.85355ZM60.0001 4H57.0001V5H60.0001V4Z",fill:"black"}))},"./src/components/card-item-list/card-list-item/card-list-item-skeleton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const CardListItemSkeleton=()=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("article",{className:"card-list-item ssc"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ssc-square cover--size-small"}," "),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ssc-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ssc-head-line w-60 mb"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ssc-line w-60 mbs"}," "),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ssc-line w-60 mbs"}," "))),__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(CardListItemSkeleton);try{cardlistitemskeleton.displayName="cardlistitemskeleton",cardlistitemskeleton.__docgenInfo={description:"",displayName:"cardlistitemskeleton",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/card-item-list/card-list-item/card-list-item-skeleton.tsx#cardlistitemskeleton"]={docgenInfo:cardlistitemskeleton.__docgenInfo,name:"cardlistitemskeleton",path:"src/components/card-item-list/card-list-item/card-list-item-skeleton.tsx#cardlistitemskeleton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/card-item-list/card-list-item/card-list-item.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>card_list_item});var react=__webpack_require__("./node_modules/react/index.js"),react_redux=__webpack_require__("./node_modules/react-redux/dist/react-redux.mjs"),utils_text=__webpack_require__("./src/core/utils/text.tsx"),arrow=__webpack_require__("./src/components/atoms/icons/arrow/arrow.tsx"),availability_labels=__webpack_require__("./src/components/availability-label/availability-labels.tsx"),button_favourite=__webpack_require__("./src/components/button-favourite/button-favourite.tsx"),Link=__webpack_require__("./src/components/atoms/links/Link.tsx"),general=__webpack_require__("./src/core/utils/helpers/general.ts"),cover=__webpack_require__("./src/components/cover/cover.tsx");const card_list_item_cover=({ids,bestRepresentation,alt,url,tint,linkAriaLabelledBy})=>react.createElement(cover.Y,{animate:!0,ids,bestRepresentation,size:"small",alt:String(alt),url,tint,linkAriaLabelledBy});try{cardlistitemcover.displayName="cardlistitemcover",cardlistitemcover.__docgenInfo={description:"",displayName:"cardlistitemcover",props:{url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"URL | undefined"}},alt:{defaultValue:null,description:"",name:"alt",required:!1,type:{name:"string | undefined"}},displaySize:{defaultValue:null,description:"",name:"displaySize",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"large"'},{value:'"medium"'},{value:'"small"'},{value:'"2xsmall"'},{value:'"xsmall"'},{value:'"xlarge"'}]}},tint:{defaultValue:null,description:"",name:"tint",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"20"'},{value:'"40"'},{value:'"80"'},{value:'"100"'},{value:'"120"'}]}},ids:{defaultValue:null,description:"",name:"ids",required:!0,type:{name:"string[]"}},bestRepresentation:{defaultValue:null,description:"",name:"bestRepresentation",required:!1,type:{name:"Manifestation | undefined"}},idType:{defaultValue:null,description:"",name:"idType",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"pid"'},{value:'"isbn"'}]}},shadow:{defaultValue:null,description:"",name:"shadow",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"medium"'},{value:'"small"'}]}},linkAriaLabelledBy:{defaultValue:null,description:"",name:"linkAriaLabelledBy",required:!1,type:{name:"string | undefined"}},trackClick:{defaultValue:null,description:"",name:"trackClick",required:!1,type:{name:"(() => Promise<unknown>) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/card-item-list/card-list-item/card-list-item-cover.tsx#cardlistitemcover"]={docgenInfo:cardlistitemcover.__docgenInfo,name:"cardlistitemcover",path:"src/components/card-item-list/card-list-item/card-list-item-cover.tsx#cardlistitemcover"})}catch(__react_docgen_typescript_loader_error){}var url=__webpack_require__("./src/core/utils/url.tsx"),helpers_url=__webpack_require__("./src/core/utils/helpers/url.ts"),guardedRequests_slice=__webpack_require__("./src/core/guardedRequests.slice.ts"),useStatistics=__webpack_require__("./src/core/statistics/useStatistics.ts"),statistics=__webpack_require__("./src/core/statistics/statistics.ts"),lazy_load=__webpack_require__("./src/core/utils/helpers/lazy-load.ts"),helper=__webpack_require__("./src/apps/material/helper.ts"),useFilterHandler=__webpack_require__("./src/apps/search-result/useFilterHandler.tsx"),search_result_helper=__webpack_require__("./src/apps/search-result/helper.ts");const SubjectNumber=({shelfmark:{shelfmark},className=""})=>react.createElement("div",{className},shelfmark),subject_number_SubjectNumber=SubjectNumber;try{SubjectNumber.displayName="SubjectNumber",SubjectNumber.__docgenInfo={description:"",displayName:"SubjectNumber",props:{className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string | undefined"}},shelfmark:{defaultValue:null,description:"",name:"shelfmark",required:!0,type:{name:"Shelfmark"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/subject-number/SubjectNumber.tsx#SubjectNumber"]={docgenInfo:SubjectNumber.__docgenInfo,name:"SubjectNumber",path:"src/components/subject-number/SubjectNumber.tsx#SubjectNumber"})}catch(__react_docgen_typescript_loader_error){}var series_list=__webpack_require__("./src/components/card-item-list/card-list-item/series-list.tsx");const card_list_item=({item,item:{titles:{full:fullTitle},series,creators,manifestations:{all:manifestations,bestRepresentation},workId},coverTint,resultNumber,preferredId,dataCy="card-list-item"})=>{const searchTitleId=(0,react.useId)(),t=(0,utils_text.F)(),u=(0,url.Ik)(),searchUrl=u("searchUrl"),materialUrl=u("materialUrl"),{filters}=(0,useFilterHandler.A)(),materialTypeFromFilters=(0,search_result_helper.Z4)(filters,manifestations),bookManifestation=(0,helper.oj)(manifestations),dispatch=(0,react_redux.wA)(),author=(0,general.sP)((0,general.UV)(creators),t),manifestationPids=(0,general.e$)(manifestations),materialFullUrl=(0,helpers_url.Qj)(materialUrl,workId,materialTypeFromFilters),languageIsoCode=(0,helper.PG)(manifestations),{shelfmark}=bestRepresentation,{track}=(0,useStatistics.Jx)(),{itemRef,hasBeenVisible:showItem}=(0,lazy_load.H)(),handleClick=(0,react.useCallback)((()=>{track("click",{id:statistics.o.searchResultNumberClick.id,name:statistics.o.searchResultNumberClick.name,trackedData:resultNumber.toString()}).then((()=>{(0,helpers_url.SE)(materialFullUrl)}))}),[materialFullUrl]);return react.createElement("article",{ref:itemRef,"data-cy":dataCy,className:"card-list-item arrow__hover--right-small",onClick:()=>{handleClick()},onKeyUp:e=>"Enter"===e.key&&handleClick},react.createElement("div",{className:"card-list-item__cover"},showItem&&react.createElement(card_list_item_cover,{ids:manifestationPids,bestRepresentation:bookManifestation??bestRepresentation,url:materialFullUrl,tint:coverTint,linkAriaLabelledBy:searchTitleId})),react.createElement("div",{className:"card-list-item__text"},react.createElement("div",{className:"card-list-item__meta"},showItem&&react.createElement(button_favourite.A,{title:fullTitle.join(", "),id:preferredId||workId,addToListRequest:id=>{dispatch((0,guardedRequests_slice.A5)({type:"addFavorite",args:{id},app:"search-result"}))}}),react.createElement(series_list.A,{series,searchUrl,t,workId})),!(0,general.G)(bestRepresentation)&&shelfmark&&react.createElement(subject_number_SubjectNumber,{className:"text-tags color-secondary-gray mt-8",shelfmark}),react.createElement("h2",{className:"card-list-item__title text-header-h4 mb-4","data-cy":"card-list-item-title",lang:languageIsoCode,id:searchTitleId},react.createElement(Link.A,{href:materialFullUrl,stopPropagation:!0},fullTitle.join(", "))),author&&item&&react.createElement("p",{className:"text-small-caption","data-cy":"card-list-item-author"},`${t("byAuthorText")} ${author}`,(0,general.C2)(item)?` (${(0,general.C2)(item)})`:"")),react.createElement("div",{className:"card-list-item__availability","data-cy":"card-list-item-availability"},showItem&&react.createElement(availability_labels.F,{cursorPointer:!0,workId,manifestations})),react.createElement(arrow.A,null))};try{cardlistitem.displayName="cardlistitem",cardlistitem.__docgenInfo={description:"",displayName:"cardlistitem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Work"}},coverTint:{defaultValue:null,description:"",name:"coverTint",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"20"'},{value:'"40"'},{value:'"80"'},{value:'"100"'},{value:'"120"'}]}},resultNumber:{defaultValue:null,description:"",name:"resultNumber",required:!0,type:{name:"number"}},preferredId:{defaultValue:null,description:"",name:"preferredId",required:!1,type:{name:"`work-of:${number}-${string}:${string}` | undefined"}},dataCy:{defaultValue:{value:"card-list-item"},description:"",name:"dataCy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/card-item-list/card-list-item/card-list-item.tsx#cardlistitem"]={docgenInfo:cardlistitem.__docgenInfo,name:"cardlistitem",path:"src/components/card-item-list/card-list-item/card-list-item.tsx#cardlistitem"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/facet-browser/helper.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A5:()=>findTermInFacetMap,EL:()=>createFilters,OI:()=>FacetBrowserModalId,Tt:()=>getFacetFieldTranslation,vx:()=>createFacetsMap,wP:()=>useGetFacets,zN:()=>getAllFilterPathsAsString});var lodash_mapValues__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/mapValues.js"),lodash_mapValues__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_mapValues__WEBPACK_IMPORTED_MODULE_0__),_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/dbc-gateway/generated/graphql.ts"),_core_utils_branches__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/branches.tsx"),_core_utils_helpers_invalid_switch_case__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/utils/helpers/invalid-switch-case.ts");const allFacetFields=[_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Materialtypesgeneral,_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Creators,_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Subjects,_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Fictionnonfiction,_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Childrenoradults,_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Accesstypes,_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Mainlanguages,_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Genreandform,_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Materialtypesspecific,_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Fictionalcharacters,_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Year,_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Canalwaysbeloaned,_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Dk5,_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Gameplatform],getPlaceHolderFacets=facets=>facets.map((facet=>({name:facet,type:facet,values:[{key:"",term:"",traceId:""}]}))),createFilters=(facets,branchIdList)=>{return{...(filters=facets,Object.keys(filters).reduce(((acc,key)=>({...acc,[key]:Object.keys(filters[key])})),{})),...branchIdList?{branchId:branchIdList}:{}};var filters};function useGetFacets(query,filters){const cleanBranches=(0,_core_utils_branches__WEBPACK_IMPORTED_MODULE_2__.Ay)(),{data,isLoading}=(0,_core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.V0)({q:{all:query},facets:allFacetFields,facetLimit:10,filters:createFilters(filters,cleanBranches)},{keepPreviousData:!0,placeholderData:{search:{facets:getPlaceHolderFacets(allFacetFields)}}});return{facets:(null==data?void 0:data.search.facets)||null,isLoading}}const FacetBrowserModalId="facet-browser-modal";function getAllFilterPathsAsString(filterObject,origin){const mappedFilterValues=lodash_mapValues__WEBPACK_IMPORTED_MODULE_0___default()(filterObject,(filter=>Object.keys(filter).filter((term=>filter[term].origin===origin)))),filterNames=Object.keys(mappedFilterValues);let allFilterPathsAsString="";return filterNames.forEach((filterName=>{mappedFilterValues[filterName].forEach((filterValue=>{""!==allFilterPathsAsString&&(allFilterPathsAsString=allFilterPathsAsString.concat(";")),allFilterPathsAsString=allFilterPathsAsString.concat(`facet.${filterName}:${filterValue}`)}))})),allFilterPathsAsString}const getFacetFieldTranslation=name=>{switch(name.toLowerCase()){case _core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Accesstypes.toLowerCase():return"facetAccessTypesText";case _core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Canalwaysbeloaned.toLowerCase():return"facetCanAlwaysBeLoanedText";case _core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Childrenoradults.toLowerCase():return"facetChildrenOrAdultsText";case _core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Creators.toLowerCase():return"facetCreatorsText";case _core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Dk5.toLowerCase():return"facetDk5Text";case _core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Fictionnonfiction.toLowerCase():return"facetFictionNonfictionText";case _core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Fictionalcharacters.toLowerCase():return"facetFictionalCharactersText";case _core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Genreandform.toLowerCase():return"facetGenreAndFormText";case _core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Mainlanguages.toLowerCase():return"facetMainLanguagesText";case _core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Materialtypesspecific.toLowerCase():return"facetMaterialTypesGeneralText";case _core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Materialtypesgeneral.toLowerCase():return"facetMaterialTypesSpecificText";case _core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Subjects.toLowerCase():return"facetSubjectsText";case _core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Worktypes.toLowerCase():return"facetWorkTypesText";case _core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Year.toLowerCase():return"facetYearText";case _core_dbc_gateway_generated_graphql__WEBPACK_IMPORTED_MODULE_1__.DX.Gameplatform.toLowerCase():return"facetGamePlatformText";default:return(0,_core_utils_helpers_invalid_switch_case__WEBPACK_IMPORTED_MODULE_3__.A)(name)}},createFacetsMap=facets=>facets.reduce(((acc,facet)=>{const newAcc={...acc};return facet.values.forEach((value=>{const combinedKey=`${facet.name}:${value.key}`;newAcc[combinedKey]=value})),newAcc}),{}),findTermInFacetMap=(facetName,termName,facetMap)=>facetMap[`${facetName}:${termName}`]},"./src/components/result-pager/use-pager.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>use_pager});var react=__webpack_require__("./node_modules/react/index.js"),utils_text=__webpack_require__("./src/core/utils/text.tsx");function ResultPager({setPageHandler,itemsShown,hitcount,isLoading,classNames}){const t=(0,utils_text.F)();return react.createElement("div",{className:`result-pager ${classNames}`},react.createElement("p",{className:"text-small-caption result-pager__title"},t("resultPagerStatusText",{placeholders:{"@itemsShown":itemsShown,"@hitcount":hitcount}})),itemsShown!==hitcount&&react.createElement("button",{disabled:isLoading,type:"button",className:"btn-primary btn-outline btn-medium arrow__hover--right-small uppercase",onClick:setPageHandler},t(isLoading?"loadingText":"showMoreText")))}const result_pager=ResultPager;try{ResultPager.displayName="ResultPager",ResultPager.__docgenInfo={description:"",displayName:"ResultPager",props:{setPageHandler:{defaultValue:null,description:"",name:"setPageHandler",required:!0,type:{name:"() => void"}},itemsShown:{defaultValue:null,description:"",name:"itemsShown",required:!0,type:{name:"number"}},hitcount:{defaultValue:null,description:"",name:"hitcount",required:!0,type:{name:"number"}},classNames:{defaultValue:null,description:"",name:"classNames",required:!0,type:{name:"string"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/result-pager/result-pager.tsx#ResultPager"]={docgenInfo:ResultPager.__docgenInfo,name:"ResultPager",path:"src/components/result-pager/result-pager.tsx#ResultPager"})}catch(__react_docgen_typescript_loader_error){}const use_pager=({hitcount,pageSize,overrideItemsShown})=>{const[itemsShown,setItemsShown]=(0,react.useState)(pageSize>=hitcount?hitcount:pageSize),[page,setPage]=(0,react.useState)(0),[firstInNewPage,setFirstInNewPage]=(0,react.useState)(null);(0,react.useEffect)((()=>{setItemsShown(pageSize>hitcount?hitcount:pageSize)}),[hitcount,pageSize]);const pagehandler=()=>{const currentPage=page+1,itemsOnPage=(currentPage+1)*pageSize,onLastPage=itemsOnPage>hitcount;setFirstInNewPage(itemsOnPage-pageSize),setItemsShown(onLastPage?hitcount:itemsOnPage),setPage(currentPage)};return{itemsShown,PagerComponent:({isLoading,classNames=""})=>hitcount?react.createElement(result_pager,{itemsShown:overrideItemsShown?overrideItemsShown():itemsShown,hitcount,classNames,setPageHandler:pagehandler,isLoading}):null,page,firstInNewPage,resetPage:()=>{setPage(0),setFirstInNewPage(null);setItemsShown(pageSize>=hitcount?hitcount:pageSize)}}};try{usepager.displayName="usepager",usepager.__docgenInfo={description:"",displayName:"usepager",props:{hitcount:{defaultValue:null,description:"",name:"hitcount",required:!0,type:{name:"number"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}},overrideItemsShown:{defaultValue:null,description:"",name:"overrideItemsShown",required:!1,type:{name:"(() => number) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/result-pager/use-pager.tsx#usepager"]={docgenInfo:usepager.__docgenInfo,name:"usepager",path:"src/components/result-pager/use-pager.tsx#usepager"})}catch(__react_docgen_typescript_loader_error){}},"./src/core/publizon/mutator/PublizonServiceError.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>PublizonServiceError});var _fetchers_FetcherHttpError__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/fetchers/FetcherHttpError.ts");function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}class PublizonServiceError extends _fetchers_FetcherHttpError__WEBPACK_IMPORTED_MODULE_0__.A{constructor(status,message,responseBody,context){super(status,message,context),_defineProperty(this,"name","PublizonServiceError"),_defineProperty(this,"responseBody",void 0),this.responseBody=responseBody}}},"./src/core/publizon/publizon.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{qC:()=>getGetV1LoanstatusIdentifierQueryKey,BE:()=>getGetV1UserLoansQueryKey,tt:()=>getGetV1UserReservationsQueryKey,de:()=>useDeleteV1UserReservationsIdentifier,PF:()=>useGetV1LibraryProfile,Qo:()=>useGetV1LoanstatusIdentifier,wK:()=>useGetV1ProductsIdentifier,cC:()=>useGetV1UserCardnumberFriendly,VM:()=>useGetV1UserLoans,pA:()=>useGetV1UserReservations,I5:()=>usePostV1UserLoansIdentifier,st:()=>usePostV1UserReservationsIdentifier});var es=__webpack_require__("./node_modules/react-query/es/index.js"),FetchFailedCriticalError=__webpack_require__("./src/core/fetchers/FetchFailedCriticalError.ts"),helpers=__webpack_require__("./src/core/fetchers/helpers.ts"),core_token=__webpack_require__("./src/core/token.js"),extractServiceBaseUrls=__webpack_require__("./src/core/utils/reduxMiddleware/extractServiceBaseUrls.ts"),PublizonServiceError=__webpack_require__("./src/core/publizon/mutator/PublizonServiceError.ts");const fetcher_fetcher=async({url,method,headers,params,data})=>{const token=(0,core_token.gf)(core_token.CI)??(0,core_token.gf)(core_token._L),authHeaders=token?{Authorization:`Bearer ${token}`}:{},body=data?JSON.stringify(data):null,serviceUrl=(0,helpers.Z4)({baseUrl:(0,extractServiceBaseUrls.aW)(extractServiceBaseUrls.TJ.publizon),url,params});try{const response=await fetch(serviceUrl,{method,headers:{...headers,...authHeaders},body});try{const responseBody=await response.json();if(!response.ok)throw new PublizonServiceError.A(response.status,response.statusText,responseBody,serviceUrl);return responseBody??null}catch(e){if(!(e instanceof SyntaxError))throw e}}catch(error){if(error instanceof PublizonServiceError.A)throw error;const message=error instanceof Error?error.message:"Unknown error";throw new FetchFailedCriticalError.A(message,serviceUrl)}return null},getGetV1UserCardnumberFriendlyQueryOptions=options=>{const{query:queryOptions}=options??{};return{queryKey:(null==queryOptions?void 0:queryOptions.queryKey)??["/v1/user/cardnumber/friendly"],queryFn:({signal})=>(signal=>fetcher_fetcher({url:"/v1/user/cardnumber/friendly",method:"GET",signal}))(signal),...queryOptions}};function useGetV1UserCardnumberFriendly(options){const queryOptions=getGetV1UserCardnumberFriendlyQueryOptions(options),query=(0,es.useQuery)(queryOptions);return query.queryKey=queryOptions.queryKey,query}const getGetV1LibraryProfileQueryOptions=options=>{const{query:queryOptions}=options??{};return{queryKey:(null==queryOptions?void 0:queryOptions.queryKey)??["/v1/library/profile"],queryFn:({signal})=>(signal=>fetcher_fetcher({url:"/v1/library/profile",method:"GET",signal}))(signal),...queryOptions}};function useGetV1LibraryProfile(options){const queryOptions=getGetV1LibraryProfileQueryOptions(options),query=(0,es.useQuery)(queryOptions);return query.queryKey=queryOptions.queryKey,query}const getGetV1UserLoansQueryKey=params=>["/v1/user/loans",...params?[params]:[]],getGetV1UserLoansQueryOptions=(params,options)=>{const{query:queryOptions}=options??{};return{queryKey:(null==queryOptions?void 0:queryOptions.queryKey)??getGetV1UserLoansQueryKey(params),queryFn:({signal})=>((params,signal)=>fetcher_fetcher({url:"/v1/user/loans",method:"GET",params,signal}))(params,signal),...queryOptions}};function useGetV1UserLoans(params,options){const queryOptions=getGetV1UserLoansQueryOptions(params,options),query=(0,es.useQuery)(queryOptions);return query.queryKey=queryOptions.queryKey,query}const getPostV1UserLoansIdentifierMutationOptions=options=>{const{mutation:mutationOptions}=options??{};return{mutationFn:props=>{const{identifier,params}=props??{};return((identifier,params)=>fetcher_fetcher({url:`/v1/user/loans/${identifier}`,method:"POST",params}))(identifier,params)},...mutationOptions}},usePostV1UserLoansIdentifier=options=>{const mutationOptions=getPostV1UserLoansIdentifierMutationOptions(options);return(0,es.useMutation)(mutationOptions)},getGetV1LoanstatusIdentifierQueryKey=identifier=>[`/v1/loanstatus/${identifier}`],getGetV1LoanstatusIdentifierQueryOptions=(identifier,queryOptions)=>({queryKey:(null==queryOptions?void 0:queryOptions.queryKey)??getGetV1LoanstatusIdentifierQueryKey(identifier),queryFn:({signal})=>((identifier,signal)=>fetcher_fetcher({url:`/v1/loanstatus/${identifier}`,method:"GET",signal}))(identifier,signal),enabled:!!identifier,...queryOptions});function useGetV1LoanstatusIdentifier(identifier,queryOptions){const options=getGetV1LoanstatusIdentifierQueryOptions(identifier,queryOptions),query=(0,es.useQuery)(options);return query.queryKey=options.queryKey,query}const getGetV1ProductsIdentifierQueryOptions=(identifier,options)=>{const{query:queryOptions}=options??{},queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??(identifier=>[`/v1/products/${identifier}`])(identifier);return{queryKey,queryFn:({signal})=>((identifier,signal)=>fetcher_fetcher({url:`/v1/products/${identifier}`,method:"GET",signal}))(identifier,signal),enabled:!!identifier,...queryOptions}};function useGetV1ProductsIdentifier(identifier,options){const queryOptions=getGetV1ProductsIdentifierQueryOptions(identifier,options),query=(0,es.useQuery)(queryOptions);return query.queryKey=queryOptions.queryKey,query}const getGetV1UserReservationsQueryKey=()=>["/v1/user/reservations"],getGetV1UserReservationsQueryOptions=options=>{const{query:queryOptions}=options??{};return{queryKey:(null==queryOptions?void 0:queryOptions.queryKey)??getGetV1UserReservationsQueryKey(),queryFn:({signal})=>(signal=>fetcher_fetcher({url:"/v1/user/reservations",method:"GET",signal}))(signal),...queryOptions}};function useGetV1UserReservations(options){const queryOptions=getGetV1UserReservationsQueryOptions(options),query=(0,es.useQuery)(queryOptions);return query.queryKey=queryOptions.queryKey,query}const getPostV1UserReservationsIdentifierMutationOptions=options=>{const{mutation:mutationOptions}=options??{};return{mutationFn:props=>{const{identifier,data}=props??{};return((identifier,reservationInput)=>fetcher_fetcher({url:`/v1/user/reservations/${identifier}`,method:"POST",headers:{"Content-Type":"application/json"},data:reservationInput}))(identifier,data)},...mutationOptions}},usePostV1UserReservationsIdentifier=options=>{const mutationOptions=getPostV1UserReservationsIdentifierMutationOptions(options);return(0,es.useMutation)(mutationOptions)},getDeleteV1UserReservationsIdentifierMutationOptions=options=>{const{mutation:mutationOptions}=options??{};return{mutationFn:props=>{const{identifier}=props??{};return(identifier=>fetcher_fetcher({url:`/v1/user/reservations/${identifier}`,method:"DELETE"}))(identifier)},...mutationOptions}},useDeleteV1UserReservationsIdentifier=options=>{const mutationOptions=getDeleteV1UserReservationsIdentifierMutationOptions(options);return(0,es.useMutation)(mutationOptions)}},"./src/core/utils/branches.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,ov:()=>useGetBranches,z5:()=>excludeBlacklistedBranches});var _config__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/utils/config.tsx");const excludeBlacklistedBranches=(branches,blacklist)=>branches.filter((item=>!blacklist.includes(item.branchId))),cleanBranchesId=branches=>branches.map((branch=>{const matches=/-(\d*)/g.exec(branch.branchId);return matches?matches[1]:""})).filter((item=>item)),useGetBranches=key=>{const config=(0,_config__WEBPACK_IMPORTED_MODULE_0__.UK)(),branches=config("branchesConfig",{transformer:"jsonParse"}),blacklistBranches=config(key,{transformer:"stringToArray"});return excludeBlacklistedBranches(branches,blacklistBranches)},__WEBPACK_DEFAULT_EXPORT__=()=>{const branches=useGetBranches("blacklistedSearchBranchesConfig");return cleanBranchesId(branches)};try{cleanBranchesId.displayName="cleanBranchesId",cleanBranchesId.__docgenInfo={description:"",displayName:"cleanBranchesId",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/utils/branches.tsx#cleanBranchesId"]={docgenInfo:cleanBranchesId.__docgenInfo,name:"cleanBranchesId",path:"src/core/utils/branches.tsx#cleanBranchesId"})}catch(__react_docgen_typescript_loader_error){}try{useGetBranches.displayName="useGetBranches",useGetBranches.__docgenInfo={description:"",displayName:"useGetBranches",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/utils/branches.tsx#useGetBranches"]={docgenInfo:useGetBranches.__docgenInfo,name:"useGetBranches",path:"src/core/utils/branches.tsx#useGetBranches"})}catch(__react_docgen_typescript_loader_error){}},"./src/core/utils/helpers/invalid-switch-case.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function invalidSwitchCase(x){return console.error(`Invalid case for ${x}`),x}}}]);