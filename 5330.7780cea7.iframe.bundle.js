(globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react=globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react||[]).push([[5330],{"./src/apps/loan-list/materials/selectable-material/StatusMessage.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_utils_helpers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/apps/loan-list/utils/helpers.ts"),_core_utils_text__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/text.tsx");const StatusMessage=({className,loanType,renewalStatusList})=>{const t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_2__.F)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,renewalStatusList&&renewalStatusList.map((text=>"deniedOtherReason"!==text?react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className},(0,_utils_helpers__WEBPACK_IMPORTED_MODULE_1__.Iw)(text,t)):null)),"interLibraryLoan"===loanType&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className},t("groupModalRenewLoanDeniedInterLibraryLoanText")))},__WEBPACK_DEFAULT_EXPORT__=StatusMessage;try{StatusMessage.displayName="StatusMessage",StatusMessage.__docgenInfo={description:"",displayName:"StatusMessage",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}},loanType:{defaultValue:null,description:"",name:"loanType",required:!0,type:{name:"string | null"}},renewalStatusList:{defaultValue:null,description:"",name:"renewalStatusList",required:!0,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/materials/selectable-material/StatusMessage.tsx#StatusMessage"]={docgenInfo:StatusMessage.__docgenInfo,name:"StatusMessage",path:"src/apps/loan-list/materials/selectable-material/StatusMessage.tsx#StatusMessage"})}catch(__react_docgen_typescript_loader_error){}},"./src/apps/loan-list/materials/selectable-material/selectable-material.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>selectable_material});var react=__webpack_require__("./node_modules/react/index.js"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),utils_text=__webpack_require__("./src/core/utils/text.tsx"),material_fetch_hoc=__webpack_require__("./src/apps/loan-list/materials/utils/material-fetch-hoc.tsx"),digital_material_fetch_hoc=__webpack_require__("./src/apps/loan-list/materials/utils/digital-material-fetch-hoc.tsx"),Checkbox=__webpack_require__("./src/components/checkbox/Checkbox.tsx"),authorYear=__webpack_require__("./src/components/author-year/authorYear.tsx"),reservation_info=__webpack_require__("./src/apps/reservation-list/reservation-material/reservation-info.tsx"),ArrowButton=__webpack_require__("./src/components/Buttons/ArrowButton.tsx"),helpers=__webpack_require__("./src/apps/loan-list/utils/helpers.ts");function listId(listItem){var _listItem$reservation;if(null!=listItem&&listItem.reservationIds&&listItem.reservationIds.length>0)return null==listItem||null===(_listItem$reservation=listItem.reservationIds)||void 0===_listItem$reservation?void 0:_listItem$reservation.join("-");if(listItem.loanId)return String(listItem.loanId);if(listItem.identifier)return listItem.identifier;if(listItem.faust)return String(listItem.faust);throw new Error("Unable to determine id for list item")}const selectable_material_skeleton=({withoutLeftOffset=!1})=>react.createElement("li",{className:"ssc"},react.createElement("div",{className:"list-materials list-materials--disabled"},!withoutLeftOffset&&react.createElement("div",{className:"list-materials__checkbox mr-16"},react.createElement(Checkbox.A,{id:"",disabled:!0,isVisualOnly:!0})),react.createElement("div",{className:"list-materials__content"},react.createElement("div",{className:"list-materials__content-status"},react.createElement("div",{className:"ssc-head-line status-label w-10"})),react.createElement("div",{className:"ssc-head-line status-label w-60 mt-8"}),react.createElement("div",{className:"ssc-head-line status-label w-50"}),react.createElement("div",{className:"ssc-line w-30"})),react.createElement("div",{className:"list-materials__status"},react.createElement("div",null,react.createElement("div",{className:"ssc-head-line status-label w-100 mt-8"}),react.createElement("div",{className:"ssc-line w-100"})))));try{selectablematerialskeleton.displayName="selectablematerialskeleton",selectablematerialskeleton.__docgenInfo={description:"",displayName:"selectablematerialskeleton",props:{withoutLeftOffset:{defaultValue:{value:"false"},description:"",name:"withoutLeftOffset",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/materials/selectable-material/selectable-material-skeleton.tsx#selectablematerialskeleton"]={docgenInfo:selectablematerialskeleton.__docgenInfo,name:"selectablematerialskeleton",path:"src/apps/loan-list/materials/selectable-material/selectable-material-skeleton.tsx#selectablematerialskeleton"})}catch(__react_docgen_typescript_loader_error){}const selectable_material=(0,digital_material_fetch_hoc.A)((0,material_fetch_hoc.A)((({material,disabled,onMaterialChecked,selected,openDetailsModal,item,statusMessageComponentMobile,statusMessageComponentDesktop,statusBadgeComponent,statusBadgeComponentMobile,focused,displayedMaterial,noHoverEffect=!1})=>{const t=(0,utils_text.F)();if(!item)return null;const{authorsShort="",materialType,year="",title="",lang}=material||{},handleOnClick=()=>{openDetailsModal&&openDetailsModal(item)},handleOnKeyUp=e=>{!openDetailsModal||"Enter"!==e.key&&"Space"!==e.key||openDetailsModal(item)};return react.createElement("li",{className:(0,clsx.A)({"arrow__hover--right-small":openDetailsModal})},react.createElement("div",{className:(0,clsx.A)("list-materials",[{"list-materials--disabled":disabled},{"list-materials--no-hover":noHoverEffect}])},onMaterialChecked&&react.createElement("div",{className:"list-materials__checkbox mr-16"},!disabled&&title&&react.createElement(Checkbox.A,{onChecked:()=>onMaterialChecked(item),id:listId(item),selected,disabled,focused,label:t("groupModalHiddenLabelCheckboxOnMaterialText",{placeholders:{"@label":title}}),hideLabel:!0}),disabled&&react.createElement(Checkbox.A,{id:listId(item),disabled})),react.createElement("div",{className:(0,clsx.A)("list-materials__content",{"cursor-pointer":openDetailsModal}),onClick:handleOnClick,onKeyUp:handleOnKeyUp,role:"button",tabIndex:0},materialType&&react.createElement("div",{className:"list-materials__content-status"},react.createElement("div",{className:"status-label status-label--outline "},materialType)),statusBadgeComponentMobile||null,react.createElement("p",{className:"list-materials__content__header mt-8",lang:lang||""},title),react.createElement("p",{className:"text-small-caption"},react.createElement(authorYear.A,{author:authorsShort,year})),react.createElement("div",{className:"list-materials__status list-materials__status--mobile"},statusMessageComponentMobile)),react.createElement("div",{className:"list-materials__status list-materials__status--desktop"},statusBadgeComponent,displayedMaterial&&react.createElement(reservation_info.A,{reservationInfo:displayedMaterial,showArrow:!1,showStatusCircleIcon:!1,reservationStatusClassNameOverride:"",isDigital:(0,helpers.X4)(displayedMaterial)}),statusMessageComponentDesktop),openDetailsModal&&react.createElement(ArrowButton.A,{arrowLabelledBy:listId(item),cursorPointer:!0,clickEventHandler:handleOnClick,keyUpEventHandler:handleOnKeyUp,classNames:"list-materials__arrow arrow-button"})))}),selectable_material_skeleton),selectable_material_skeleton);try{selectablematerial.displayName="selectablematerial",selectablematerial.__docgenInfo={description:"",displayName:"selectablematerial",props:{identifier:{defaultValue:null,description:"",name:"identifier",required:!1,type:{name:"string | null | undefined"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean | undefined"}},item:{defaultValue:null,description:"",name:"item",required:!1,type:{name:"Nullable<Partial<ListIdsType & { details: Nullable<Partial<BasicDetails>>; }>>"}},onMaterialChecked:{defaultValue:null,description:"",name:"onMaterialChecked",required:!1,type:{name:"((listItem: Nullable<Partial<ListIdsType & { details: Nullable<Partial<BasicDetails>>; }>>) => void) | undefined"}},openDetailsModal:{defaultValue:null,description:"",name:"openDetailsModal",required:!1,type:{name:"((item: Nullable<Partial<ListIdsType & { details: Nullable<Partial<BasicDetails>>; }>>) => void) | undefined"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean | undefined"}},statusMessageComponentMobile:{defaultValue:null,description:"",name:"statusMessageComponentMobile",required:!0,type:{name:"ReactNode"}},statusMessageComponentDesktop:{defaultValue:null,description:"",name:"statusMessageComponentDesktop",required:!0,type:{name:"ReactNode"}},statusBadgeComponent:{defaultValue:null,description:"",name:"statusBadgeComponent",required:!0,type:{name:"ReactNode"}},statusBadgeComponentMobile:{defaultValue:null,description:"",name:"statusBadgeComponentMobile",required:!1,type:{name:"ReactNode"}},focused:{defaultValue:null,description:"",name:"focused",required:!0,type:{name:"boolean"}},displayedMaterial:{defaultValue:null,description:"",name:"displayedMaterial",required:!1,type:{name:"Nullable<Partial<Reservation>> | undefined"}},noHoverEffect:{defaultValue:{value:"false"},description:"",name:"noHoverEffect",required:!1,type:{name:"boolean | undefined"}},digitalMaterial:{defaultValue:null,description:"",name:"digitalMaterial",required:!1,type:{name:"Product | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/materials/selectable-material/selectable-material.tsx#selectablematerial"]={docgenInfo:selectablematerial.__docgenInfo,name:"selectablematerial",path:"src/apps/loan-list/materials/selectable-material/selectable-material.tsx#selectablematerial"})}catch(__react_docgen_typescript_loader_error){}},"./src/apps/loan-list/materials/utils/status-badge.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>status_badge});var react=__webpack_require__("./node_modules/react/index.js"),general=__webpack_require__("./src/core/utils/helpers/general.ts"),useLoanThresholds=__webpack_require__("./src/core/utils/useLoanThresholds.tsx"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs");const status_badge_content=({statusLabelType,text,isMobileVersion=!1})=>react.createElement("div",{className:(0,clsx.A)(`status-label status-label--${statusLabelType}`,[{"hide-on-desktop ml-16":isMobileVersion}])},text);try{statusbadgecontent.displayName="statusbadgecontent",statusbadgecontent.__docgenInfo={description:"",displayName:"statusbadgecontent",props:{statusLabelType:{defaultValue:null,description:"",name:"statusLabelType",required:!0,type:{name:"enum",value:[{value:'"info"'},{value:'"danger"'},{value:'"warning"'},{value:'"neutral"'}]}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},isMobileVersion:{defaultValue:{value:"false"},description:"",name:"isMobileVersion",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/materials/utils/status-badge-content.tsx#statusbadgecontent"]={docgenInfo:statusbadgecontent.__docgenInfo,name:"statusbadgecontent",path:"src/apps/loan-list/materials/utils/status-badge-content.tsx#statusbadgecontent"})}catch(__react_docgen_typescript_loader_error){}const status_badge=({badgeDate,warningText,showBadgeWithDueDate=!1,dangerText,infoText,neutralText,mobileVersion=!1})=>{const threshold=(0,useLoanThresholds.A)(),daysBetweenTodayAndDue=badgeDate?(0,general.m2)(badgeDate):0;return daysBetweenTodayAndDue<threshold.danger&&dangerText?react.createElement(status_badge_content,{isMobileVersion:mobileVersion,text:dangerText,statusLabelType:"danger"}):daysBetweenTodayAndDue<=threshold.warning&&warningText?react.createElement(status_badge_content,{isMobileVersion:mobileVersion,text:warningText,statusLabelType:"warning"}):neutralText&&!showBadgeWithDueDate?react.createElement(status_badge_content,{isMobileVersion:mobileVersion,text:neutralText,statusLabelType:"neutral"}):infoText&&!showBadgeWithDueDate?react.createElement(status_badge_content,{isMobileVersion:mobileVersion,text:infoText,statusLabelType:"info"}):dangerText&&!showBadgeWithDueDate?react.createElement(status_badge_content,{isMobileVersion:mobileVersion,text:dangerText,statusLabelType:"danger"}):null};try{statusbadge.displayName="statusbadge",statusbadge.__docgenInfo={description:"",displayName:"statusbadge",props:{badgeDate:{defaultValue:null,description:"",name:"badgeDate",required:!1,type:{name:"string | null | undefined"}},warningText:{defaultValue:null,description:"",name:"warningText",required:!1,type:{name:"string | undefined"}},dangerText:{defaultValue:null,description:"",name:"dangerText",required:!1,type:{name:"string | undefined"}},neutralText:{defaultValue:null,description:"",name:"neutralText",required:!1,type:{name:"string | undefined"}},infoText:{defaultValue:null,description:"",name:"infoText",required:!1,type:{name:"string | undefined"}},showBadgeWithDueDate:{defaultValue:{value:"false"},description:"",name:"showBadgeWithDueDate",required:!1,type:{name:"boolean | undefined"}},mobileVersion:{defaultValue:{value:"false"},description:"",name:"mobileVersion",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/materials/utils/status-badge.tsx#statusbadge"]={docgenInfo:statusbadge.__docgenInfo,name:"statusbadge",path:"src/apps/loan-list/materials/utils/status-badge.tsx#statusbadge"})}catch(__react_docgen_typescript_loader_error){}},"./src/apps/loan-list/materials/utils/warning-bar.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_warning_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-warning.svg"),_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_warning_svg__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_warning_svg__WEBPACK_IMPORTED_MODULE_1__),_components_atoms_links_Link__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/atoms/links/Link.tsx"),_components_Buttons_LinkButton__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Buttons/LinkButton.tsx"),_components_Buttons_Button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Buttons/Button.tsx");const __WEBPACK_DEFAULT_EXPORT__=({linkText,overdueText,rightText,rightButtonText,rightButtonAriaLabelText,leftLink,rightLink,classNames,rightAction})=>{const labelId=(0,react__WEBPACK_IMPORTED_MODULE_0__.useId)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:`warning-bar bg-global-secondary ${classNames}`,"data-cy":"warning-bar"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"warning-bar__left"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{className:"warning-bar__icon",src:_danskernesdigitalebibliotek_dpl_design_system_build_icons_basic_icon_warning_svg__WEBPACK_IMPORTED_MODULE_1___default(),alt:""}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"text-body-medium-regular color-primary-black","data-cy":"warning-bar-text"},overdueText,leftLink&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_atoms_links_Link__WEBPACK_IMPORTED_MODULE_2__.A,{href:leftLink,className:"link-tag color-secondary-gray ml-8"},linkText)))),(rightText||rightLink||rightAction)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"warning-bar__right"},rightText&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"text-body-medium-medium warning-bar__owes","data-cy":"warning-bar-right-text"},rightText)," ",rightLink&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"hide-visually",id:labelId},rightButtonAriaLabelText),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_Buttons_LinkButton__WEBPACK_IMPORTED_MODULE_3__.A,{dataCy:"warning-bar-right-link",url:rightLink,size:"small",variant:"filled",ariaLabelledBy:labelId},rightButtonText)),!!rightAction&&!!rightButtonText&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_Buttons_Button__WEBPACK_IMPORTED_MODULE_4__.$,{size:"small",variant:"filled",buttonType:"none",collapsible:!1,disabled:!1,label:rightButtonText,onClick:rightAction})))};try{warningbar.displayName="warningbar",warningbar.__docgenInfo={description:"",displayName:"warningbar",props:{linkText:{defaultValue:null,description:"",name:"linkText",required:!1,type:{name:"string | undefined"}},overdueText:{defaultValue:null,description:"",name:"overdueText",required:!1,type:{name:"string | undefined"}},rightButtonText:{defaultValue:null,description:"",name:"rightButtonText",required:!1,type:{name:"string | undefined"}},rightButtonAriaLabelText:{defaultValue:null,description:"",name:"rightButtonAriaLabelText",required:!1,type:{name:"string | undefined"}},rightText:{defaultValue:null,description:"",name:"rightText",required:!1,type:{name:"string | undefined"}},leftLink:{defaultValue:null,description:"",name:"leftLink",required:!1,type:{name:"URL | undefined"}},rightLink:{defaultValue:null,description:"",name:"rightLink",required:!1,type:{name:"URL | undefined"}},classNames:{defaultValue:null,description:"",name:"classNames",required:!1,type:{name:"string | undefined"}},rightAction:{defaultValue:null,description:"",name:"rightAction",required:!1,type:{name:"(() => void) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/materials/utils/warning-bar.tsx#warningbar"]={docgenInfo:warningbar.__docgenInfo,name:"warningbar",path:"src/apps/loan-list/materials/utils/warning-bar.tsx#warningbar"})}catch(__react_docgen_typescript_loader_error){}},"./src/apps/loan-list/modal/material-details.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>material_details});var react=__webpack_require__("./node_modules/react/index.js"),Reservations=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Reservations.svg"),Reservations_default=__webpack_require__.n(Reservations),Loans=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Loans.svg"),Loans_default=__webpack_require__.n(Loans),Ebook=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/collection/Ebook.svg"),Ebook_default=__webpack_require__.n(Ebook),icon_btn_external_link=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/buttons/icon-btn-external-link.svg"),icon_btn_external_link_default=__webpack_require__.n(icon_btn_external_link),utils_text=__webpack_require__("./src/core/utils/text.tsx"),helpers=__webpack_require__("./src/apps/loan-list/utils/helpers.ts"),general=__webpack_require__("./src/core/utils/helpers/general.ts"),status_badge=__webpack_require__("./src/apps/loan-list/materials/utils/status-badge.tsx"),warning_bar=__webpack_require__("./src/apps/loan-list/materials/utils/warning-bar.tsx"),material_fetch_hoc=__webpack_require__("./src/apps/loan-list/materials/utils/material-fetch-hoc.tsx"),digital_material_fetch_hoc=__webpack_require__("./src/apps/loan-list/materials/utils/digital-material-fetch-hoc.tsx"),list_details=__webpack_require__("./src/components/list-details/list-details.tsx"),modal_details_header=__webpack_require__("./src/components/modal-details-header/modal-details-header.tsx"),es=__webpack_require__("./node_modules/react-query/es/index.js"),fbs=__webpack_require__("./src/core/fbs/fbs.ts"),Button=__webpack_require__("./src/components/Buttons/Button.tsx"),renewal=__webpack_require__("./src/core/utils/helpers/renewal.ts"),useStatistics=__webpack_require__("./src/core/statistics/useStatistics.ts"),statistics=__webpack_require__("./src/core/statistics/statistics.ts"),StatusMessage=__webpack_require__("./src/apps/loan-list/materials/selectable-material/StatusMessage.tsx");const renew_button=({loanId,renewable,classNames,hideOnMobile,setRenewingStatus,renewingStatus,renewalStatusList,loanType,setRenewingResponse})=>{const t=(0,utils_text.F)(),{track}=(0,useStatistics.B)(),queryClient=(0,es.useQueryClient)(),{mutate}=(0,fbs.Oc)(),label=(0,renewal.OX)({isRenewable:renewable,renewingStatus,t}),renew=(0,react.useCallback)((renewId=>{setRenewingStatus("pending"),mutate({data:[renewId]},{onSuccess:result=>{result&&(queryClient.invalidateQueries((0,fbs.$4)()),setRenewingResponse(result),setRenewingStatus("success"))},onError:()=>{setRenewingStatus("error")}})}),[mutate,queryClient,setRenewingResponse,setRenewingStatus]);return react.createElement("div",{className:`${hideOnMobile&&"modal-details__buttons--hide-on-mobile"} modal-details__buttons`},react.createElement(StatusMessage.A,{className:"list-materials__status__note-desktop mt-48 mr-16",loanType,renewalStatusList}),react.createElement(Button.$,{dataCy:"material-renew-button",size:"small",variant:"filled",disabled:!renewable||"pending"===renewingStatus,onClick:()=>{track("click",{id:statistics.o.renewSelectedMaterials.id,name:statistics.o.renewSelectedMaterials.name,trackedData:"Forny_valgte_materialer"}),renew(loanId)},classNames,label,buttonType:"none",collapsible:!1}),react.createElement(StatusMessage.A,{className:"list-materials__status__note-mobile mt-8",loanType,renewalStatusList}))};try{renewbutton.displayName="renewbutton",renewbutton.__docgenInfo={description:"",displayName:"renewbutton",props:{loanId:{defaultValue:null,description:"",name:"loanId",required:!0,type:{name:"number"}},renewable:{defaultValue:null,description:"",name:"renewable",required:!0,type:{name:"boolean"}},classNames:{defaultValue:null,description:"",name:"classNames",required:!1,type:{name:"string | undefined"}},hideOnMobile:{defaultValue:null,description:"",name:"hideOnMobile",required:!0,type:{name:"boolean"}},setRenewingStatus:{defaultValue:null,description:"",name:"setRenewingStatus",required:!0,type:{name:"(status: RequestStatus) => void"}},renewingStatus:{defaultValue:null,description:"",name:"renewingStatus",required:!0,type:{name:"enum",value:[{value:'"success"'},{value:'"idle"'},{value:'"pending"'},{value:'"error"'}]}},renewalStatusList:{defaultValue:null,description:"",name:"renewalStatusList",required:!0,type:{name:"string[]"}},loanType:{defaultValue:null,description:"",name:"loanType",required:!0,type:{name:"string"}},setRenewingResponse:{defaultValue:null,description:"",name:"setRenewingResponse",required:!0,type:{name:"(response: RenewedLoanV2[] | null) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/modal/renew-button.tsx#renewbutton"]={docgenInfo:renewbutton.__docgenInfo,name:"renewbutton",path:"src/apps/loan-list/modal/renew-button.tsx#renewbutton"})}catch(__react_docgen_typescript_loader_error){}var Link=__webpack_require__("./src/components/atoms/links/Link.tsx"),url=__webpack_require__("./src/core/utils/url.tsx"),RenewalModalMessage=__webpack_require__("./src/components/renewal/RenewalModalMessage.tsx"),date=__webpack_require__("./src/core/utils/helpers/date.ts");const material_details=(0,digital_material_fetch_hoc.A)((0,material_fetch_hoc.A)((({loan,material,modalId})=>{const[renewingStatus,setRenewingStatus]=(0,react.useState)("idle"),[renewingResponse,setRenewingResponse]=(0,react.useState)(null),t=(0,utils_text.F)(),u=(0,url.Ik)(),ereolenMyPageUrl=u("ereolenMyPageUrl"),viewFeesAndCompensationRatesUrl=u("viewFeesAndCompensationRatesUrl");if(!loan)return null;const{dueDate,faust,loanId,identifier,isRenewable,materialItemNumber,loanDate,loanType,periodical,renewalStatusList}=loan,{authors,materialType,year,title,pid,description,series}=material||{};return react.createElement(react.Fragment,null,!["idle","pending"].includes(renewingStatus)&&react.createElement(RenewalModalMessage.A,{messageType:"success"===renewingStatus?"success":"error",renewingResponse,modalId,setRenewingStatus,texts:{successTitleText:t("renewMaterialLoanSuccessTitleText"),successStatusText:t("renewMaterialLoanSuccessStatusText"),noRenewalsPossibleErrorTitleText:t("renewMaterialLoanNoRenewalsPossibleErrorTitleText"),noRenewalsPossibleErrorStatusText:t("renewMaterialLoanNoRenewalsPossibleErrorStatusText"),errorTitleText:t("renewMaterialLoanErrorTitleText"),errorStatusText:t("renewMaterialLoanErrorStatusText"),buttonText:t("renewMaterialLoanButtonText")}}),["idle","pending"].includes(renewingStatus)&&react.createElement("div",{className:"modal-details__container"},react.createElement(modal_details_header.A,{year,authors,title,periodical,series,pid,description,materialType,isbnForCover:identifier||""},dueDate&&react.createElement(status_badge.A,{showBadgeWithDueDate:!0,badgeDate:dueDate,dangerText:t("materialDetailsOverdueText")})),!(0,helpers.X4)(loan)&&!!faust&&!!loanId&&react.createElement(renew_button,{classNames:"modal-details__buttons modal-details__buttons--hide-on-mobile",loanId,renewable:isRenewable,hideOnMobile:!0,renewingStatus,loanType:loanType||"",setRenewingStatus,setRenewingResponse,renewalStatusList}),(0,helpers.X4)(loan)&&react.createElement("div",{className:"modal-details__buttons modal-details__buttons--hide-on-mobile"},react.createElement(Link.A,{href:ereolenMyPageUrl,className:"btn-primary btn-filled btn-small arrow__hover--right-small"},t("materialDetailsGoToEreolenText"),react.createElement("img",{src:icon_btn_external_link_default(),className:"btn-icon invert",alt:""}))),dueDate&&(0,general.El)(dueDate)&&react.createElement("div",{className:"modal-details__warning"},react.createElement(warning_bar.A,{leftLink:viewFeesAndCompensationRatesUrl,linkText:t("materialDetailsLinkToPageWithFeesText"),overdueText:t("materialDetailsWarningLoanOverdueText")})),react.createElement("div",{className:"modal-details__list"},dueDate&&!(0,helpers.X4)(loan)&&react.createElement(list_details.A,{icon:Loans_default(),labels:(0,date.Yq)(dueDate),title:t("materialDetailsPhysicalDueDateLabelText")}),dueDate&&(0,helpers.X4)(loan)&&react.createElement(list_details.A,{icon:Loans_default(),labels:(0,date.Yq)(dueDate),title:t("materialDetailsDigitalDueDateLabelText")}),loanDate&&react.createElement(list_details.A,{icon:Reservations_default(),labels:(0,date.Yq)(loanDate),title:t("materialDetailsLoanDateLabelText")}),materialItemNumber&&react.createElement(list_details.A,{icon:Ebook_default(),labels:materialItemNumber,title:t("materialDetailsMaterialNumberLabelText")})),!(0,helpers.X4)(loan)&&!!faust&&!!loanId&&react.createElement(renew_button,{classNames:"modal-details__buttons__full-width",loanId,renewable:isRenewable,hideOnMobile:!1,loanType:loanType||"",renewingStatus,setRenewingStatus,setRenewingResponse,renewalStatusList}),(0,helpers.X4)(loan)&&react.createElement("div",{className:"modal-details__buttons"},react.createElement(Link.A,{href:ereolenMyPageUrl,className:"btn-primary btn-filled btn-small arrow__hover--right-small modal-details__buttons__full-width"},t("materialDetailsGoToEreolenText"),react.createElement("img",{src:icon_btn_external_link_default(),className:"btn-icon invert",alt:""})))))})));try{materialdetails.displayName="materialdetails",materialdetails.__docgenInfo={description:"",displayName:"materialdetails",props:{loan:{defaultValue:null,description:"",name:"loan",required:!0,type:{name:"LoanType | null"}},modalId:{defaultValue:null,description:"",name:"modalId",required:!0,type:{name:"string"}},digitalMaterial:{defaultValue:null,description:"",name:"digitalMaterial",required:!1,type:{name:"Product | null | undefined"}},item:{defaultValue:null,description:"",name:"item",required:!1,type:{name:"Nullable<Partial<ListIdsType & { details: Nullable<Partial<BasicDetails>>; }>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/apps/loan-list/modal/material-details.tsx#materialdetails"]={docgenInfo:materialdetails.__docgenInfo,name:"materialdetails",path:"src/apps/loan-list/modal/material-details.tsx#materialdetails"})}catch(__react_docgen_typescript_loader_error){}},"./src/apps/loan-list/utils/helpers.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Iw:()=>getStatusText,Qo:()=>materialsAreStacked,VL:()=>loansAreEmpty,V_:()=>getLoanDeliveryDate,X4:()=>isDigital,e8:()=>getStackedItems,nB:()=>getFromListByKey,nZ:()=>removeLoansWithDuplicateDueDate});const removeLoansWithDuplicateDueDate=(date,list)=>list.filter((({dueDate})=>dueDate===date)),loansAreEmpty=list=>Array.isArray(list)&&0===list.length,materialsAreStacked=materialsInStack=>materialsInStack>0,getFromListByKey=(list,key,value)=>list.filter((loan=>String(loan[key])===value)),getStatusText=(status,t)=>{switch(status){case"deniedMaxRenewalsReached":return t("groupModalRenewLoanDeniedMaxRenewalsReachedText");case"deniedReserved":return t("groupModalRenewLoanDeniedReservedText");default:return""}},isDigital=loan=>Boolean(loan.identifier),getStackedItems=(view,list,itemsShown,dueDates)=>{let returnLoans=[];if("stack"===view&&dueDates){let dueDatesCopy=[...dueDates,null];dueDatesCopy=dueDatesCopy.slice(0,itemsShown),dueDatesCopy.forEach((uniqueDueDate=>{returnLoans=returnLoans.concat(list.filter((({dueDate})=>dueDate===uniqueDueDate)))}))}return returnLoans},getLoanDeliveryDate=(loanType,formatDate,t)=>loanType.dueDate?t(isDigital(loanType)?"groupModalDueDateDigitalMaterialText":"groupModalDueDateMaterialText",{placeholders:{"@date":formatDate(loanType.dueDate)}}):""},"./src/components/GroupModal/GroupModalContent.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_use__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-use/esm/useIntersection.js"),_checkbox_Checkbox__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/checkbox/Checkbox.tsx"),_core_utils_text__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/text.tsx"),_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/utils/helpers/general.ts");const GroupModalContent=({amountOfSelectableMaterials,selectableMaterials=[],selectedMaterials=[],selectMaterials,buttonComponent,children})=>{const t=(0,_core_utils_text__WEBPACK_IMPORTED_MODULE_2__.F)(),intersectionRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),intersection=(0,react_use__WEBPACK_IMPORTED_MODULE_4__.A)(intersectionRef,{threshold:0}),checkBoxComponent=void 0!==selectMaterials&&amountOfSelectableMaterials>0?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_checkbox_Checkbox__WEBPACK_IMPORTED_MODULE_1__.A,{selected:0!==amountOfSelectableMaterials&&selectedMaterials.length===amountOfSelectableMaterials,disabled:0===amountOfSelectableMaterials,id:"checkbox-select-all",onChecked:()=>{selectMaterials&&(selectedMaterials.length===amountOfSelectableMaterials?selectMaterials((0,_core_utils_helpers_general__WEBPACK_IMPORTED_MODULE_3__.CT)([])):selectMaterials(selectableMaterials))},label:t("groupModalCheckboxText")}):null;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"button-box",ref:intersectionRef},checkBoxComponent,buttonComponent),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"modal-loan__list"},children),!(null!=intersection&&intersection.isIntersecting)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"button-box button-box--sticky-bottom"},checkBoxComponent,buttonComponent))},__WEBPACK_DEFAULT_EXPORT__=GroupModalContent;try{GroupModalContent.displayName="GroupModalContent",GroupModalContent.__docgenInfo={description:"",displayName:"GroupModalContent",props:{amountOfSelectableMaterials:{defaultValue:null,description:"",name:"amountOfSelectableMaterials",required:!0,type:{name:"number"}},selectableMaterials:{defaultValue:{value:"[]"},description:"",name:"selectableMaterials",required:!1,type:{name:"Nullable<Partial<ListIdsType & { details: Nullable<Partial<BasicDetails>>; }>>[] | undefined"}},selectedMaterials:{defaultValue:{value:"[]"},description:"",name:"selectedMaterials",required:!1,type:{name:"Nullable<Partial<ListIdsType & { details: Nullable<Partial<BasicDetails>>; }>>[] | undefined"}},buttonComponent:{defaultValue:null,description:"",name:"buttonComponent",required:!0,type:{name:"ReactNode"}},selectMaterials:{defaultValue:null,description:"",name:"selectMaterials",required:!1,type:{name:"((materialIds: Nullable<Partial<ListIdsType & { details: Nullable<Partial<BasicDetails>>; }>>[]) => void) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GroupModal/GroupModalContent.tsx#GroupModalContent"]={docgenInfo:GroupModalContent.__docgenInfo,name:"GroupModalContent",path:"src/components/GroupModal/GroupModalContent.tsx#GroupModalContent"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/GroupModal/LoansGroupModal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>createLoanModalId,A:()=>GroupModal_LoansGroupModal});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-query/es/index.js"),modal=__webpack_require__("./src/core/utils/modal.tsx"),utils_text=__webpack_require__("./src/core/utils/text.tsx"),GroupModalContent=__webpack_require__("./src/components/GroupModal/GroupModalContent.tsx"),general=__webpack_require__("./src/core/utils/helpers/general.ts"),fbs=__webpack_require__("./src/core/fbs/fbs.ts"),selectable_material=__webpack_require__("./src/apps/loan-list/materials/selectable-material/selectable-material.tsx"),loan_type=__webpack_require__("./src/core/utils/types/loan-type.ts"),use_pager=__webpack_require__("./src/components/result-pager/use-pager.tsx"),StatusMessage=__webpack_require__("./src/apps/loan-list/materials/selectable-material/StatusMessage.tsx"),status_badge=__webpack_require__("./src/apps/loan-list/materials/utils/status-badge.tsx"),date=__webpack_require__("./src/core/utils/helpers/date.ts"),helpers=__webpack_require__("./src/apps/loan-list/utils/helpers.ts");const GroupModalLoansList=({materials,selectedMaterials,openDetailsModal,selectMaterials,pageSize})=>{const groupedMaterials=(0,react.useMemo)((()=>(0,general.Vq)(materials)),[materials]),t=(0,utils_text.F)(),[displayedMaterials,setDisplayedMaterials]=(0,react.useState)([]),{itemsShown,PagerComponent,firstInNewPage}=(0,use_pager.A)({hitcount:groupedMaterials.length,pageSize});(0,react.useEffect)((()=>{setDisplayedMaterials([...groupedMaterials].splice(0,itemsShown))}),[itemsShown,groupedMaterials]);const onMaterialChecked=item=>{const selectedMaterialsCopy=[...selectedMaterials],indexOfItemToRemove=selectedMaterials.indexOf(item);indexOfItemToRemove>-1?selectedMaterialsCopy.splice(indexOfItemToRemove,1):selectedMaterialsCopy.push(item),selectMaterials(selectedMaterialsCopy)};return react.createElement(react.Fragment,null,react.createElement("ul",{className:"modal-loan__list-materials"},displayedMaterials.map(((loanType,i)=>react.createElement(selectable_material.A,{focused:firstInNewPage===i,statusBadgeComponent:react.createElement(status_badge.A,{badgeDate:loanType.dueDate,neutralText:(0,helpers.V_)(loanType,date.Yq,t)}),statusBadgeComponentMobile:react.createElement(status_badge.A,{badgeDate:loanType.dueDate,neutralText:(0,helpers.V_)(loanType,date.Yq,t),mobileVersion:!0}),statusMessageComponentDesktop:react.createElement(StatusMessage.A,{className:"list-materials__status__note-desktop",loanType:loanType.loanType,renewalStatusList:loanType.renewalStatusList}),statusMessageComponentMobile:react.createElement(StatusMessage.A,{className:"list-materials__status__note-mobile",loanType:loanType.loanType,renewalStatusList:loanType.renewalStatusList}),item:loanType,openDetailsModal:item=>{(0,loan_type.R)(item)&&openDetailsModal(item)},key:loanType.faust,selected:selectedMaterials.includes(loanType),onMaterialChecked,disabled:!loanType.isRenewable})))),react.createElement(PagerComponent,{classNames:"result-pager--margin-bottom"}))},GroupModal_GroupModalLoansList=GroupModalLoansList;try{GroupModalLoansList.displayName="GroupModalLoansList",GroupModalLoansList.__docgenInfo={description:"",displayName:"GroupModalLoansList",props:{materials:{defaultValue:null,description:"",name:"materials",required:!0,type:{name:"LoanType[]"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}},selectedMaterials:{defaultValue:null,description:"",name:"selectedMaterials",required:!0,type:{name:"Nullable<Partial<ListIdsType & { details: Nullable<Partial<BasicDetails>>; }>>[]"}},selectMaterials:{defaultValue:null,description:"",name:"selectMaterials",required:!0,type:{name:"(materialIds: Nullable<Partial<ListIdsType & { details: Nullable<Partial<BasicDetails>>; }>>[]) => void"}},openDetailsModal:{defaultValue:null,description:"",name:"openDetailsModal",required:!0,type:{name:"(loan: LoanType) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GroupModal/GroupModalLoansList.tsx#GroupModalLoansList"]={docgenInfo:GroupModalLoansList.__docgenInfo,name:"GroupModalLoansList",path:"src/components/GroupModal/GroupModalLoansList.tsx#GroupModalLoansList"})}catch(__react_docgen_typescript_loader_error){}var Button=__webpack_require__("./src/components/Buttons/Button.tsx"),renewal=__webpack_require__("./src/core/utils/helpers/renewal.ts");const LoansGroupModalButton=({materialsToRenew,renewableMaterials,renewSelected,renewingStatus})=>{const t=(0,utils_text.F)(),materialsCount=materialsToRenew.length,label=(0,renewal.OX)({isRenewable:renewableMaterials>0,renewingStatus,t,defaultText:t("groupModalButtonText",{count:materialsCount,placeholders:{"@count":materialsCount}})});return react.createElement(Button.$,{dataCy:"loans-group-modal-button",label,buttonType:"none",id:"renew-several",variant:"filled",disabled:0===renewableMaterials||"pending"===renewingStatus,collapsible:!1,onClick:renewSelected,size:"small"})},GroupModal_LoansGroupModalButton=LoansGroupModalButton;try{LoansGroupModalButton.displayName="LoansGroupModalButton",LoansGroupModalButton.__docgenInfo={description:"",displayName:"LoansGroupModalButton",props:{materialsToRenew:{defaultValue:null,description:"",name:"materialsToRenew",required:!0,type:{name:"Nullable<Partial<ListIdsType & { details: Nullable<Partial<BasicDetails>>; }>>[]"}},renewableMaterials:{defaultValue:null,description:"",name:"renewableMaterials",required:!0,type:{name:"number"}},renewSelected:{defaultValue:null,description:"",name:"renewSelected",required:!0,type:{name:"() => void"}},renewingStatus:{defaultValue:null,description:"",name:"renewingStatus",required:!0,type:{name:"enum",value:[{value:'"success"'},{value:'"idle"'},{value:'"pending"'},{value:'"error"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GroupModal/LoansGroupModalButton.tsx#LoansGroupModalButton"]={docgenInfo:LoansGroupModalButton.__docgenInfo,name:"LoansGroupModalButton",path:"src/components/GroupModal/LoansGroupModalButton.tsx#LoansGroupModalButton"})}catch(__react_docgen_typescript_loader_error){}var RenewalModalMessage=__webpack_require__("./src/components/renewal/RenewalModalMessage.tsx"),useRequestsWithStatus=__webpack_require__("./src/core/utils/useRequestsWithStatus.tsx"),modal_helpers=__webpack_require__("./src/core/utils/helpers/modal-helpers.ts"),useStatistics=__webpack_require__("./src/core/statistics/useStatistics.ts"),statistics=__webpack_require__("./src/core/statistics/statistics.ts");const createLoanModalId=(dueDate,dueDateModal,allLoansId)=>dueDate&&dueDateModal?(0,modal_helpers.Q0)(String(dueDateModal),[dueDate]):(0,modal_helpers.Q0)("",[String(allLoansId)]),LoansGroupModal=({dueDate,loansModal,openDetailsModal,pageSize,children})=>{const t=(0,utils_text.F)(),{mutate}=(0,fbs.Oc)(),{dueDateModal,allLoansId}=(0,modal_helpers.c6)(),queryClient=(0,es.useQueryClient)(),modalIdUsed=createLoanModalId(dueDate,dueDateModal,allLoansId),renewableMaterials=(0,general.oq)(loansModal),[materialsToRenew,setMaterialsToRenew]=(0,react.useState)([]),[renewingResponse,setRenewingResponse]=(0,react.useState)(null),{track}=(0,useStatistics.B)(),{handler:renew,requestStatus:renewingStatus,setRequestStatus:setRenewingStatus}=(0,useRequestsWithStatus.$K)({request:{params:{data:materialsToRenew.map((material=>material.loanId??0))},operation:mutate},onError:()=>{setRenewingResponse(null)},onSuccess:result=>{queryClient.invalidateQueries((0,fbs.$4)()),result&&setRenewingResponse(result)}}),renewSelected=(0,react.useCallback)((()=>{const renewWhatMaterials=renewableMaterials===materialsToRenew.length?"renewAllMaterials":"renewSelectedMaterials",trackedData=renewableMaterials===materialsToRenew.length?`Forny_alle_materialer (${materialsToRenew.length})`:`Forny_valgte_materialer (${materialsToRenew.length})`;track("click",{id:statistics.o[renewWhatMaterials].id,name:statistics.o[renewWhatMaterials].name,trackedData}),renew()}),[renew]);(0,react.useEffect)((()=>{setMaterialsToRenew((0,general.CT)(loansModal))}),[loansModal]);const selectMaterials=materialIds=>{setMaterialsToRenew(materialIds)},showSuccessMessage="success"===renewingStatus,countRenewed=(0,renewal.Pl)(renewingResponse);return react.createElement(modal.A,{modalId:modalIdUsed,closeModalAriaLabelText:t("groupModalLoansCloseModalAriaLabelText"),screenReaderModalDescriptionText:t("groupModalLoansAriaDescriptionText"),eventCallbacks:{close:()=>setRenewingStatus("idle")},classNames:showSuccessMessage?"modal-cta modal-padding":""},["idle","pending"].includes(renewingStatus)&&react.createElement("div",{className:"modal-loan"},children,react.createElement(GroupModalContent.A,{selectMaterials,selectedMaterials:materialsToRenew,amountOfSelectableMaterials:renewableMaterials,selectableMaterials:(0,general.CT)(loansModal),buttonComponent:react.createElement(GroupModal_LoansGroupModalButton,{materialsToRenew,renewableMaterials,renewSelected,renewingStatus})},react.createElement(GroupModal_GroupModalLoansList,{materials:loansModal,selectedMaterials:materialsToRenew,openDetailsModal,selectMaterials,pageSize}))),!["idle","pending"].includes(renewingStatus)&&react.createElement(RenewalModalMessage.A,{messageType:"success"===renewingStatus?"success":"error",renewingResponse,modalId:modalIdUsed,setRenewingStatus,texts:{successTitleText:t("renewGroupModalLoansSuccessTitleText"),successStatusText:t("renewGroupModalLoansSuccessStatusText",{count:countRenewed}),noRenewalsPossibleErrorTitleText:t("renewGroupModalLoansNoRenewalsPossibleErrorTitleText"),noRenewalsPossibleErrorStatusText:t("renewGroupModalLoansNoRenewalsPossibleErrorStatusText"),errorTitleText:t("renewGroupModalLoansErrorTitleText"),errorStatusText:t("renewGroupModalLoansErrorStatusText"),buttonText:t("renewGroupModalLoansButtonText")}}))},GroupModal_LoansGroupModal=LoansGroupModal;try{LoansGroupModal.displayName="LoansGroupModal",LoansGroupModal.__docgenInfo={description:"",displayName:"LoansGroupModal",props:{dueDate:{defaultValue:null,description:"",name:"dueDate",required:!1,type:{name:"string | null | undefined"}},loansModal:{defaultValue:null,description:"",name:"loansModal",required:!0,type:{name:"LoanType[]"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}},openDetailsModal:{defaultValue:null,description:"",name:"openDetailsModal",required:!0,type:{name:"(loan: LoanType) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GroupModal/LoansGroupModal.tsx#LoansGroupModal"]={docgenInfo:LoansGroupModal.__docgenInfo,name:"LoansGroupModal",path:"src/components/GroupModal/LoansGroupModal.tsx#LoansGroupModal"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/GroupModal/SimpleModalHeader.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const SimpleModalHeader=({header})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"modal-loan__header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2",{className:"modal-loan__title text-header-h2"},header))),__WEBPACK_DEFAULT_EXPORT__=SimpleModalHeader;try{SimpleModalHeader.displayName="SimpleModalHeader",SimpleModalHeader.__docgenInfo={description:"",displayName:"SimpleModalHeader",props:{header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GroupModal/SimpleModalHeader.tsx#SimpleModalHeader"]={docgenInfo:SimpleModalHeader.__docgenInfo,name:"SimpleModalHeader",path:"src/components/GroupModal/SimpleModalHeader.tsx#SimpleModalHeader"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/checkbox/Checkbox.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>checkbox_Checkbox});var react=__webpack_require__("./node_modules/react/index.js");const icon_checkbox=()=>react.createElement("svg",{width:"20px",height:"20px"},react.createElement("polyline",{points:"1.5 6 4.5 9 10.5 1",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})),checkbox_Checkbox=({id,label,hideLabel,className,selected,onChecked,disabled,ariaLabel,focused,isVisualOnly,labelledBy})=>react.createElement("div",{className:`checkbox ${className||""}`},react.createElement("input",{autoFocus:focused,id,className:"checkbox__input",onChange:e=>{var checked;checked=e.target.checked,onChecked&&onChecked(checked)},checked:selected,type:"checkbox","aria-label":isVisualOnly&&labelledBy?void 0:ariaLabel,"aria-labelledby":isVisualOnly&&labelledBy?labelledBy:void 0,disabled}),react.createElement("label",{className:"checkbox__label",htmlFor:id,"data-cy":id},react.createElement("span",{className:"checkbox__icon","aria-labelledby":labelledBy},react.createElement(icon_checkbox,null)),label&&react.createElement("span",{"data-cy":"checkbox-text",className:"checkbox__text text-small-caption color-secondary-gray "+(hideLabel?"checkbox__text--hide-visually":"")},label)));try{Checkbox.displayName="Checkbox",Checkbox.__docgenInfo={description:"",displayName:"Checkbox",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},hideLabel:{defaultValue:null,description:"",name:"hideLabel",required:!1,type:{name:"boolean | undefined"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean | undefined"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},onChecked:{defaultValue:null,description:"",name:"onChecked",required:!1,type:{name:"((value: boolean) => void) | undefined"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string | undefined"}},focused:{defaultValue:null,description:"",name:"focused",required:!1,type:{name:"boolean | undefined"}},isVisualOnly:{defaultValue:null,description:"",name:"isVisualOnly",required:!1,type:{name:"boolean | undefined"}},labelledBy:{defaultValue:null,description:"",name:"labelledBy",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/checkbox/Checkbox.tsx#Checkbox"]={docgenInfo:Checkbox.__docgenInfo,name:"Checkbox",path:"src/components/checkbox/Checkbox.tsx#Checkbox"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/renewal/RenewalModalMessage.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_core_utils_helpers_renewal__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/utils/helpers/renewal.ts"),_message_modal_message_ModalMessage__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/message/modal-message/ModalMessage.tsx");const RenewalModalMessage=({messageType,renewingResponse,modalId,setRenewingStatus,texts:{successTitleText,successStatusText,noRenewalsPossibleErrorTitleText,noRenewalsPossibleErrorStatusText,errorTitleText,errorStatusText,buttonText}})=>{const succeededRenewalCount=renewingResponse?(0,_core_utils_helpers_renewal__WEBPACK_IMPORTED_MODULE_1__.TO)(renewingResponse).length:0,showSuccessMessage="success"===messageType&&succeededRenewalCount>0,showNoRenewalsPossibleErrorMessage="success"===messageType&&0===succeededRenewalCount,showErrorMessage="error"===messageType;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,showSuccessMessage&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_message_modal_message_ModalMessage__WEBPACK_IMPORTED_MODULE_2__.A,{title:successTitleText,subTitle:successStatusText,ctaButton:{text:buttonText,modalId,callback:()=>setRenewingStatus("idle")}}),showNoRenewalsPossibleErrorMessage&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_message_modal_message_ModalMessage__WEBPACK_IMPORTED_MODULE_2__.A,{title:noRenewalsPossibleErrorTitleText,subTitle:noRenewalsPossibleErrorStatusText,ctaButton:{text:buttonText,modalId,callback:()=>setRenewingStatus("idle")}}),showErrorMessage&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_message_modal_message_ModalMessage__WEBPACK_IMPORTED_MODULE_2__.A,{title:errorTitleText,subTitle:errorStatusText,ctaButton:{text:buttonText,modalId,callback:()=>setRenewingStatus("idle")}}))},__WEBPACK_DEFAULT_EXPORT__=RenewalModalMessage;try{RenewalModalMessage.displayName="RenewalModalMessage",RenewalModalMessage.__docgenInfo={description:"",displayName:"RenewalModalMessage",props:{messageType:{defaultValue:null,description:"",name:"messageType",required:!0,type:{name:"enum",value:[{value:'"success"'},{value:'"error"'}]}},renewingResponse:{defaultValue:null,description:"",name:"renewingResponse",required:!0,type:{name:"RenewedLoanV2[] | null"}},modalId:{defaultValue:null,description:"",name:"modalId",required:!0,type:{name:"string"}},setRenewingStatus:{defaultValue:null,description:"",name:"setRenewingStatus",required:!0,type:{name:"(status: RequestStatus) => void"}},texts:{defaultValue:null,description:"",name:"texts",required:!0,type:{name:"{ successTitleText: string; successStatusText: string; noRenewalsPossibleErrorTitleText: string; noRenewalsPossibleErrorStatusText: string; errorTitleText: string; errorStatusText: string; buttonText: string; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/renewal/RenewalModalMessage.tsx#RenewalModalMessage"]={docgenInfo:RenewalModalMessage.__docgenInfo,name:"RenewalModalMessage",path:"src/components/renewal/RenewalModalMessage.tsx#RenewalModalMessage"})}catch(__react_docgen_typescript_loader_error){}},"./src/core/statistics/statistics.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>statistics});const statistics={searchQuery:{id:10,name:"OSS"},searchResultCount:{id:11,name:"OSS Results"},searchFacets:{id:20,name:"Søgning Facet"},materialType:{id:24,name:"Materialetype"},materialGenre:{id:25,name:"Materiale Genre"},materialLanguage:{id:29,name:"Materiale Sprog"},materialSource:{id:30,name:"Materiale Kilde"},materialTargetAudience:{id:31,name:"Materiale Målgruppe"},materialTopicNumber:{id:32,name:"Materiale - DK5-nummer (Emnetal)"},materialFictionNonFiction:{id:33,name:"Materiale Fiktion/nonfiktion"},materialStatus:{id:38,name:"Materiale Status"},searchResultNumberClick:{id:42,name:"Søgning - Resultatnummer klik"},campaignClick:{id:48,name:"Kampagneklik"},reservation:{id:50,name:"Reserver"},onlineReservation:{id:51,name:"Se online"},autosuggestClick:{id:54,name:"Autosuggest - klik"},campaignShown:{id:62,name:"KampagnePlus Titel"},renewSelectedMaterials:{id:55,name:"Forny valgte materialer"},renewAllMaterials:{id:56,name:"Forny alle materialer"},addToFavorites:{id:61,name:"Tilføj til liste"}}},"./src/core/statistics/useStatistics.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function useStatistics(){return window.wts||(window.wts={push(trackingProps){console.log(`Tracking: ${trackingProps[0]}, ${trackingProps[1]}, ${JSON.stringify(trackingProps[2])}`)}}),{track:(eventType,trackParameters)=>{const eventData={linkId:trackParameters.name,customClickParameter:{}};return eventData.customClickParameter[trackParameters.id]=trackParameters.trackedData,window.wts.push(["send",eventType,eventData]),new Promise((resolve=>{setTimeout((()=>{resolve("resolved")}),500)}))}}}__webpack_require__.d(__webpack_exports__,{B:()=>useStatistics})},"./src/core/storybook/globalConfigArgs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,U:()=>argTypes});const argTypes={errorMessagesConfig:{description:"Configuration for error messages behaviour",control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:'{"containerId":"dpl-react-apps-error-messages","shouldOnlyShowOneError":true,"showCloseButton":true}'}}}},__WEBPACK_DEFAULT_EXPORT__={errorMessagesConfig:'{"containerId":"dpl-react-apps-error-messages","shouldOnlyShowOneError":true,"showCloseButton":true}'}},"./src/core/storybook/groupModalArgs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,U:()=>argTypes});const argTypes={groupModalDueDateLinkToPageWithFeesText:{control:{type:"text"},table:{defaultValue:{summary:"Read more about fees"},type:{summary:"text"}}},groupModalDueDateMaterialText:{control:{type:"text"},table:{defaultValue:{summary:"To be returned @date"},type:{summary:"text"}}},groupModalDueDateDigitalMaterialText:{control:{type:"text"},table:{defaultValue:{summary:"Expires @date"},type:{summary:"text"}}},groupModalGoToMaterialText:{control:{type:"text"},table:{defaultValue:{summary:"Go to material details"},type:{summary:"text"}}},groupModalDueDateHeaderText:{control:{type:"text"},table:{defaultValue:{summary:"Due date @date"},type:{summary:"text"}}},resultPagerStatusText:{control:{type:"text"},table:{defaultValue:{summary:"Showing @itemsShown out of @hitcount elements"},type:{summary:"text"}}},groupModalCheckboxText:{control:{type:"text"},table:{defaultValue:{summary:"Choose all"},type:{summary:"text"}}},groupModalHiddenLabelCheckboxOnMaterialText:{control:{type:"text"},table:{defaultValue:{summary:"Select @label"},type:{summary:"text"}}},pageSizeDesktop:{control:{type:"number"},table:{defaultValue:{summary:10},type:{summary:"number"}}},pageSizeMobile:{control:{type:"number"},table:{defaultValue:{summary:5},type:{summary:"number"}}},showMoreText:{control:{type:"text"},table:{defaultValue:{summary:"show more"},type:{summary:"text"}}}},__WEBPACK_DEFAULT_EXPORT__={groupModalDueDateLinkToPageWithFeesText:"Read more about fees",groupModalDueDateMaterialText:"To be returned @date",groupModalDueDateDigitalMaterialText:"Expires @date",groupModalGoToMaterialText:"Go to material details",groupModalDueDateHeaderText:"Due date @date",resultPagerStatusText:"Showing @itemsShown out of @hitcount elements",groupModalCheckboxText:"Choose all",groupModalHiddenLabelCheckboxOnMaterialText:"Select @label",pageSizeDesktop:10,pageSizeMobile:5,showMoreText:"show more"}},"./src/core/storybook/loanGroupModalArgs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,U:()=>argTypes});const argTypes={groupModalRenewLoanDeniedMaxRenewalsReachedText:{control:{type:"text"},table:{defaultValue:{summary:"Can't be renewed further"},type:{summary:"text"}}},groupModalDueDateWarningLoanOverdueText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:"The due date of return is exceeded, therefore you will be charged a fee, when the item is returned"}},groupModalRenewLoanDeniedReservedText:{control:{type:"text"},table:{defaultValue:{summary:"Reserved by another patron"},type:{summary:"text"}}},groupModalRenewLoanDeniedInterLibraryLoanText:{control:{type:"text"},table:{defaultValue:{summary:"Lent by another library"},type:{summary:"text"}}},groupModalLoansCloseModalAriaLabelText:{control:{type:"text"},table:{defaultValue:{summary:"Close modal with grouped loans"},type:{summary:"text"}}},groupModalLoansAriaDescriptionText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"This modal makes it possible to renew materials"}}},groupModalButtonText:{control:{type:"text"},table:{defaultValue:{summary:"Renewable (@count)"},type:{summary:"text"}}}},__WEBPACK_DEFAULT_EXPORT__={groupModalRenewLoanDeniedMaxRenewalsReachedText:"Can't be renewed further",groupModalDueDateWarningLoanOverdueText:"The due date of return is exceeded, therefore you will be charged a fee, when the item is returned",groupModalRenewLoanDeniedReservedText:"Reserved by another patron",groupModalRenewLoanDeniedInterLibraryLoanText:"Lent by another library",groupModalLoansCloseModalAriaLabelText:"Close modal with grouped loans",groupModalLoansAriaDescriptionText:"This modal makes it possible to renew materials",groupModalButtonText:"Renewable (@count)"}},"./src/core/storybook/materialDetailsModalArgs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,U:()=>argTypes});const argTypes={materialDetailsWarningLoanOverdueText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:"The due date of return is exceeded, therefore you will be charged a fee, when the item is returned"}},materialDetailsPhysicalDueDateLabelText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"Afleveres"}}},materialDetailsLoanDateLabelText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"Loan date"}}},materialDetailsMaterialNumberLabelText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"Material Item Number"}}},materialDetailsLinkToPageWithFeesText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"Read more about fees"}}},materialDetailsOverdueText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"Expired"}}},materialDetailsGoToEreolenText:{table:{type:{summary:"text"},defaultValue:{summary:"Go to eReolen"}},control:{type:"text"}},materialDetailsDigitalDueDateLabelText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"Expires"}}},materialDetailsRenewLoanButtonText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"Renew your loan"}}},feesPageUrl:{table:{type:{summary:"text"},defaultValue:{summary:"/user/me/fees"}},control:{type:"text"}},viewFeesAndCompensationRatesUrl:{table:{type:{summary:"text"},defaultValue:{summary:"https://unsplash.com/photos/wd6YQy0PJt8"}},control:{type:"text"}},ereolenMyPageUrl:{table:{type:{summary:"text"},defaultValue:{summary:"https://unsplash.com/photos/wd6YQy0PJt8"}},control:{type:"text"}}},__WEBPACK_DEFAULT_EXPORT__={materialDetailsWarningLoanOverdueText:"The due date of return is exceeded, therefore you will be charged a fee, when the item is returned",materialDetailsPhysicalDueDateLabelText:"Afleveres",materialDetailsLoanDateLabelText:"Loan date",materialDetailsMaterialNumberLabelText:"Material Item Number",materialDetailsLinkToPageWithFeesText:"Read more about fees",materialDetailsOverdueText:"Expired",materialDetailsGoToEreolenText:"Go to eReolen",materialDetailsDigitalDueDateLabelText:"Expires",materialDetailsRenewLoanButtonText:"Renew your loan",feesPageUrl:"/user/me/fees",viewFeesAndCompensationRatesUrl:"https://unsplash.com/photos/wd6YQy0PJt8",ereolenMyPageUrl:"https://unsplash.com/photos/wd6YQy0PJt8"}},"./src/core/storybook/renewalArgs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,U:()=>argTypes});const argTypes={renewProcessingText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"Processing..."}}},renewButtonText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"Renew"}}},renewMaterialLoanSuccessTitleText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"You have renewed your loan"}}},renewMaterialLoanSuccessStatusText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"1 loan was renewed."}}},renewMaterialLoanNoRenewalsPossibleErrorTitleText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"The loan could not be renewed"}}},renewMaterialLoanNoRenewalsPossibleErrorStatusText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"For some reason, your loan could not be renewed."}}},renewMaterialLoanErrorTitleText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"Renewal of your loan failed"}}},renewMaterialLoanErrorStatusText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"Something went wrong renewing your loan. Please try again."}}},renewMaterialLoanButtonText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"Ok"}}},renewGroupModalLoansSuccessTitleText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"You have renewed your loans"}}},renewGroupModalLoansSuccessStatusText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:'{"type":"plural","text":["1 loan has been renewed.","@count loans have been renewed."]}'}}},renewGroupModalLoansErrorTitleText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"Renewing your loans failed"}}},renewGroupModalLoansErrorStatusText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"Something went wrong renewing your loans. Please try again."}}},renewGroupModalLoansButtonText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"Ok"}}},renewGroupModalLoansNoRenewalsPossibleErrorTitleText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"No loans could be renewed"}}},renewGroupModalLoansNoRenewalsPossibleErrorStatusText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"For some reason, no one of your loans could be renewed."}}},renewCannotBeRenewedText:{control:{type:"text"},table:{type:{summary:"text"},defaultValue:{summary:"Cannot be renewed"}}}},__WEBPACK_DEFAULT_EXPORT__={renewProcessingText:"Processing...",renewButtonText:"Renew",renewMaterialLoanSuccessTitleText:"You have renewed your loan",renewMaterialLoanSuccessStatusText:"1 loan was renewed.",renewMaterialLoanNoRenewalsPossibleErrorTitleText:"The loan could not be renewed",renewMaterialLoanNoRenewalsPossibleErrorStatusText:"For some reason, your loan could not be renewed.",renewMaterialLoanErrorTitleText:"Renewal of your loan failed",renewMaterialLoanErrorStatusText:"Something went wrong renewing your loan. Please try again.",renewMaterialLoanButtonText:"Ok",renewGroupModalLoansSuccessTitleText:"You have renewed your loans",renewGroupModalLoansSuccessStatusText:'{"type":"plural","text":["1 loan has been renewed.","@count loans have been renewed."]}',renewGroupModalLoansErrorTitleText:"Renewing your loans failed",renewGroupModalLoansErrorStatusText:"Something went wrong renewing your loans. Please try again.",renewGroupModalLoansButtonText:"Ok",renewGroupModalLoansNoRenewalsPossibleErrorTitleText:"No loans could be renewed",renewGroupModalLoansNoRenewalsPossibleErrorStatusText:"For some reason, no one of your loans could be renewed.",renewCannotBeRenewedText:"Cannot be renewed"}},"./src/core/utils/helpers/renewal.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{TO:()=>filterRenewResponseData,OX:()=>getRenewButtonLabel,Pl:()=>succeededRenewalCount});let RenewStatus=function(RenewStatus){return RenewStatus.renewed="renewed",RenewStatus.deniedReserved="deniedReserved",RenewStatus.deniedMaxRenewalsReached="deniedMaxRenewalsReached",RenewStatus.deniedLoanerIsBlocked="deniedLoanerIsBlocked",RenewStatus.deniedMaterialIsNotLoanable="deniedMaterialIsNotLoanable",RenewStatus.deniedMaterialIsNotFound="deniedMaterialIsNotFound",RenewStatus.deniedLoanerNotFound="deniedLoanerNotFound",RenewStatus.deniedLoaningProfileNotFound="deniedLoaningProfileNotFound",RenewStatus.deniedOtherReason="deniedOtherReason",RenewStatus}({});const filterRenewResponseData=data=>data.filter((loan=>loan.renewalStatus[0]===RenewStatus.renewed)),succeededRenewalCount=renewingResponse=>filterRenewResponseData(renewingResponse||[]).length,getRenewButtonLabel=({isRenewable,renewingStatus,t,defaultText})=>isRenewable?"pending"===renewingStatus?t("renewProcessingText"):defaultText??t("renewButtonText"):t("renewCannotBeRenewedText")},"./src/core/utils/useLoanThresholds.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _config__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/utils/config.tsx");const __WEBPACK_DEFAULT_EXPORT__=()=>{const config=(0,_config__WEBPACK_IMPORTED_MODULE_0__.UK)();return{warning:Number(config("expirationWarningDaysBeforeConfig")),danger:0}}},"./src/core/utils/useLoans.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _fbs_fbs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/fbs/fbs.ts"),_publizon_publizon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/publizon/publizon.ts"),_helpers_general__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/utils/helpers/general.ts"),_helpers_list_mapper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/utils/helpers/list-mapper.ts"),_useLoanThresholds__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/core/utils/useLoanThresholds.tsx");const filterLoansNotOverdue=(loans,warning)=>loans.filter((({dueDate})=>{const due=dueDate||"";return(0,_helpers_general__WEBPACK_IMPORTED_MODULE_2__.m2)(due)-warning>0})),filterLoansOverdue=loans=>loans.filter((({dueDate})=>(0,_helpers_general__WEBPACK_IMPORTED_MODULE_2__.El)(dueDate))),filterLoansSoonOverdue=(loans,warning)=>loans.filter((({dueDate})=>{const due=dueDate||"",daysUntilExpiration=(0,_helpers_general__WEBPACK_IMPORTED_MODULE_2__.m2)(due);return daysUntilExpiration-warning<=0&&daysUntilExpiration-warning>=-warning})),__WEBPACK_DEFAULT_EXPORT__=()=>{const{data:loansFbs,isLoading:isLoadingFbs,isError:isErrorFbs}=(0,_fbs_fbs__WEBPACK_IMPORTED_MODULE_0__.zw)(),{data:loansPublizon,isLoading:isLoadingPublizon,isError:isErrorPublizon}=(0,_publizon_publizon__WEBPACK_IMPORTED_MODULE_1__.VM)(),threshold=(0,_useLoanThresholds__WEBPACK_IMPORTED_MODULE_4__.A)(),loansIsLoading=isLoadingFbs||isLoadingPublizon,loansIsError=isErrorFbs||isErrorPublizon,mappedLoansFbs=loansFbs&&Array.isArray(loansFbs)?(0,_helpers_list_mapper__WEBPACK_IMPORTED_MODULE_3__.$U)(loansFbs):[],mappedLoansPublizon=null!=loansPublizon&&loansPublizon.loans?(0,_helpers_list_mapper__WEBPACK_IMPORTED_MODULE_3__.ji)(loansPublizon.loans).filter((item=>item.dueDate)):[],loans=[...mappedLoansFbs,...mappedLoansPublizon],loansOverdueFBS=filterLoansOverdue(mappedLoansFbs),LoansOverduePublizon=filterLoansOverdue(mappedLoansPublizon),loansOverdue=[...loansOverdueFBS,...LoansOverduePublizon],loansSoonOverdueFBS=filterLoansSoonOverdue(mappedLoansFbs,threshold.warning),loansSoonOverduePublizon=filterLoansSoonOverdue(mappedLoansPublizon,threshold.warning),loansSoonOverdue=[...loansSoonOverdueFBS,...loansSoonOverduePublizon],loansFarFromOverdueFBS=filterLoansNotOverdue(mappedLoansFbs,threshold.warning),loansFarFromOverduePublizon=filterLoansNotOverdue(mappedLoansPublizon,threshold.warning);return{all:{loans,overdue:loansOverdue,soonOverdue:loansSoonOverdue,farFromOverdue:[...loansFarFromOverdueFBS,...loansFarFromOverduePublizon],isLoading:loansIsLoading,isError:loansIsError},fbs:{loans:mappedLoansFbs,overdue:loansOverdueFBS,soonOverdue:loansSoonOverdueFBS,farFromOverdue:loansFarFromOverdueFBS,isLoading:isLoadingFbs,isError:isErrorFbs},publizon:{loans:mappedLoansPublizon,overdue:LoansOverduePublizon,soonOverdue:loansSoonOverduePublizon,farFromOverdue:loansFarFromOverduePublizon,isLoading:isLoadingPublizon,isError:isErrorPublizon}}}},"./node_modules/react-use/esm/useIntersection.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=function(ref,options){var _a=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),intersectionObserverEntry=_a[0],setIntersectionObserverEntry=_a[1];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(ref.current&&"function"==typeof IntersectionObserver){var observer_1=new IntersectionObserver((function(entries){setIntersectionObserverEntry(entries[0])}),options);return observer_1.observe(ref.current),function(){setIntersectionObserverEntry(null),observer_1.disconnect()}}return function(){}}),[ref.current,options.threshold,options.root,options.rootMargin]),intersectionObserverEntry}},"./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-warning.svg":module=>{module.exports="data:image/svg+xml,%3csvg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cellipse cx='20' cy='19.9822' rx='20' ry='19.9822' fill='%23D22D43'/%3e %3cpath fill-rule='evenodd' clip-rule='evenodd' d='M20.0463 24.75C20.4263 24.75 20.7404 24.4678 20.7901 24.1018L20.7969 24V11C20.7969 10.5858 20.4608 10.25 20.0463 10.25C19.6662 10.25 19.3521 10.5322 19.3024 10.8982L19.2956 11V24C19.2956 24.4142 19.6317 24.75 20.0463 24.75ZM20.0463 29.75C20.8754 29.75 21.5476 29.0784 21.5476 28.25C21.5476 27.4216 20.8754 26.75 20.0463 26.75C19.2171 26.75 18.5449 27.4216 18.5449 28.25C18.5449 29.0784 19.2171 29.75 20.0463 29.75Z' fill='%23F6F5F0'/%3e %3c/svg%3e"}}]);