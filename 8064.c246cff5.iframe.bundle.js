"use strict";(globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react=globalThis.webpackChunk_danskernesdigitalebibliotek_dpl_react||[]).push([[8064],{"./src/components/forms/input/TextInput.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var clsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_label_Label__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/forms/label/Label.tsx");const TextInput=({id,label,description,validation,type,onChange,value,className,labelClassName,pattern,inputmode,required,title,placeholder,ariaLabel})=>react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:(0,clsx__WEBPACK_IMPORTED_MODULE_0__.A)("dpl-input",className,[{"dpl-input--invalid":!!validation}])},label&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(_label_Label__WEBPACK_IMPORTED_MODULE_2__.A,{id,required,className:labelClassName},label),react__WEBPACK_IMPORTED_MODULE_1__.createElement("input",{className:"text-body-medium-medium",required,"aria-describedby":description?`description-${id}`:"",id,"data-cy":id,type,pattern,inputMode:inputmode,onChange:e=>{onChange(e.target.value)},value,"aria-label":ariaLabel||"","aria-labelledby":validation?`validation-${id}`:"",title,placeholder}),description&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"dpl-input__description",id:`description-${id}`},description),validation&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{id:`validation-${id}`,className:"dpl-input__validation",role:"alert"},validation)),__WEBPACK_DEFAULT_EXPORT__=TextInput;try{TextInput.displayName="TextInput",TextInput.__docgenInfo={description:"",displayName:"TextInput",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string | undefined"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"number"'},{value:'"text"'},{value:'"email"'},{value:'"password"'},{value:'"tel"'}]}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean | undefined"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string | undefined"}},validation:{defaultValue:null,description:"",name:"validation",required:!1,type:{name:"string | undefined"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},labelClassName:{defaultValue:null,description:"",name:"labelClassName",required:!1,type:{name:"string | undefined"}},pattern:{defaultValue:null,description:"",name:"pattern",required:!1,type:{name:"string | undefined"}},inputmode:{defaultValue:null,description:"",name:"inputmode",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"numeric"'}]}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string | undefined"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string | undefined"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/forms/input/TextInput.tsx#TextInput"]={docgenInfo:TextInput.__docgenInfo,name:"TextInput",path:"src/components/forms/input/TextInput.tsx#TextInput"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/forms/label/Label.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var clsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js");const Label=({id,className,children,required})=>react__WEBPACK_IMPORTED_MODULE_1__.createElement("label",{htmlFor:id,className:(0,clsx__WEBPACK_IMPORTED_MODULE_0__.A)(className)},children,required&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",null," *")),__WEBPACK_DEFAULT_EXPORT__=Label;try{Label.displayName="Label",Label.__docgenInfo={description:"",displayName:"Label",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/forms/label/Label.tsx#Label"]={docgenInfo:Label.__docgenInfo,name:"Label",path:"src/components/forms/label/Label.tsx#Label"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/promo-bar/PromoBar.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>promo_bar_PromoBar});var react=__webpack_require__("./node_modules/react/index.js"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),icon_info=__webpack_require__("./node_modules/@danskernesdigitalebibliotek/dpl-design-system/build/icons/basic/icon-info.svg"),icon_info_default=__webpack_require__.n(icon_info);const PromoBarIcon=({type})=>"info"===type?react.createElement("img",{src:icon_info_default(),alt:"",className:"ml-4"}):null;try{PromoBarIcon.displayName="PromoBarIcon",PromoBarIcon.__docgenInfo={description:"",displayName:"PromoBarIcon",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:'"info"'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/promo-bar/PromoBarIcon.tsx#PromoBarIcon"]={docgenInfo:PromoBarIcon.__docgenInfo,name:"PromoBarIcon",path:"src/components/promo-bar/PromoBarIcon.tsx#PromoBarIcon"})}catch(__react_docgen_typescript_loader_error){}const PromoBar=({text,classNames,type,sticky,theme})=>react.createElement("section",{className:(0,clsx.A)("promo-bar",classNames,{"promo-bar--sticky":sticky,"promo-bar--dark":"dark"===theme})},type&&react.createElement(PromoBarIcon,{type}),react.createElement("p",{className:"text-small-caption"},text)),promo_bar_PromoBar=PromoBar;try{PromoBar.displayName="PromoBar",PromoBar.__docgenInfo={description:"",displayName:"PromoBar",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},classNames:{defaultValue:null,description:"",name:"classNames",required:!1,type:{name:"string | undefined"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"info"'}]}},sticky:{defaultValue:null,description:"",name:"sticky",required:!1,type:{name:"boolean | undefined"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"dark"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/promo-bar/PromoBar.tsx#PromoBar"]={docgenInfo:PromoBar.__docgenInfo,name:"PromoBar",path:"src/components/promo-bar/PromoBar.tsx#PromoBar"})}catch(__react_docgen_typescript_loader_error){}},"./src/core/adgangsplatformen/useUserInfo.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>adgangsplatformen_useUserInfo});var es=__webpack_require__("./node_modules/react-query/es/index.js"),FetchFailedCriticalError=__webpack_require__("./src/core/fetchers/FetchFailedCriticalError.ts"),user=__webpack_require__("./src/core/utils/helpers/user.ts"),FetcherCriticalHttpError=__webpack_require__("./src/core/fetchers/FetcherCriticalHttpError.ts");function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}class AdgangsPlatformenServiceHttpError extends FetcherCriticalHttpError.A{constructor(...args){super(...args),_defineProperty(this,"name","AdgangsPlatformenServiceHttpError")}}var utils_url=__webpack_require__("./src/core/utils/url.tsx");const adgangsplatformen_useUserInfo=queryOptions=>{const userinfoUrl=(0,utils_url.Ik)()("userinfoUrl"),url=String(userinfoUrl),queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??(url=>{const userToken=(0,user.dG)();return userToken||console.error("userToken is missing"),userToken?`${url}:${userToken}`:url})(url),getUserInfo=(infoUrl,signal)=>(async({url,method,headers,data})=>{const userToken=(0,user.dG)();if(!userToken)throw new Error("User token is missing");const authHeaders=userToken?{Authorization:`Bearer ${userToken}`}:{},body=data?JSON.stringify(data):null;try{const response=await fetch(url,{method,headers:{...headers,...authHeaders},body});if(!response.ok)throw new AdgangsPlatformenServiceHttpError(response.status,response.statusText,url);try{return await response.json()}catch(e){if(!(e instanceof SyntaxError))throw e}}catch(error){if(error instanceof AdgangsPlatformenServiceHttpError)throw error;const message=error instanceof Error?error.message:"Unknown error";throw new FetchFailedCriticalError.A(message,url)}return null})({url:infoUrl,method:"get",signal});return{queryKey,...(0,es.useQuery)(queryKey,(()=>getUserInfo(url)),queryOptions)}}},"./src/core/publizon/mutator/PublizonServiceError.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>PublizonServiceError});var _fetchers_FetcherHttpError__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/fetchers/FetcherHttpError.ts");function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}class PublizonServiceError extends _fetchers_FetcherHttpError__WEBPACK_IMPORTED_MODULE_0__.A{constructor(status,message,responseBody,context){super(status,message,context),_defineProperty(this,"name","PublizonServiceError"),_defineProperty(this,"responseBody",void 0),this.responseBody=responseBody}}},"./src/core/publizon/publizon.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{qC:()=>getGetV1LoanstatusIdentifierQueryKey,BE:()=>getGetV1UserLoansQueryKey,tt:()=>getGetV1UserReservationsQueryKey,de:()=>useDeleteV1UserReservationsIdentifier,PF:()=>useGetV1LibraryProfile,Qo:()=>useGetV1LoanstatusIdentifier,wK:()=>useGetV1ProductsIdentifier,cC:()=>useGetV1UserCardnumberFriendly,VM:()=>useGetV1UserLoans,pA:()=>useGetV1UserReservations,I5:()=>usePostV1UserLoansIdentifier,st:()=>usePostV1UserReservationsIdentifier});var es=__webpack_require__("./node_modules/react-query/es/index.js"),FetchFailedCriticalError=__webpack_require__("./src/core/fetchers/FetchFailedCriticalError.ts"),helpers=__webpack_require__("./src/core/fetchers/helpers.ts"),core_token=__webpack_require__("./src/core/token.js"),extractServiceBaseUrls=__webpack_require__("./src/core/utils/reduxMiddleware/extractServiceBaseUrls.ts"),PublizonServiceError=__webpack_require__("./src/core/publizon/mutator/PublizonServiceError.ts");const fetcher_fetcher=async({url,method,headers,params,data})=>{const token=(0,core_token.gf)(core_token.CI)??(0,core_token.gf)(core_token._L),authHeaders=token?{Authorization:`Bearer ${token}`}:{},body=data?JSON.stringify(data):null,serviceUrl=(0,helpers.Z4)({baseUrl:(0,extractServiceBaseUrls.aW)(extractServiceBaseUrls.TJ.publizon),url,params});try{const response=await fetch(serviceUrl,{method,headers:{...headers,...authHeaders},body});try{const responseBody=await response.json();if(!response.ok)throw new PublizonServiceError.A(response.status,response.statusText,responseBody,serviceUrl);return responseBody??null}catch(e){if(!(e instanceof SyntaxError))throw e}}catch(error){if(error instanceof PublizonServiceError.A)throw error;const message=error instanceof Error?error.message:"Unknown error";throw new FetchFailedCriticalError.A(message,serviceUrl)}return null},getGetV1UserCardnumberFriendlyQueryOptions=options=>{const{query:queryOptions}=options??{};return{queryKey:(null==queryOptions?void 0:queryOptions.queryKey)??["/v1/user/cardnumber/friendly"],queryFn:({signal})=>(signal=>fetcher_fetcher({url:"/v1/user/cardnumber/friendly",method:"GET",signal}))(signal),...queryOptions}};function useGetV1UserCardnumberFriendly(options){const queryOptions=getGetV1UserCardnumberFriendlyQueryOptions(options),query=(0,es.useQuery)(queryOptions);return query.queryKey=queryOptions.queryKey,query}const getGetV1LibraryProfileQueryOptions=options=>{const{query:queryOptions}=options??{};return{queryKey:(null==queryOptions?void 0:queryOptions.queryKey)??["/v1/library/profile"],queryFn:({signal})=>(signal=>fetcher_fetcher({url:"/v1/library/profile",method:"GET",signal}))(signal),...queryOptions}};function useGetV1LibraryProfile(options){const queryOptions=getGetV1LibraryProfileQueryOptions(options),query=(0,es.useQuery)(queryOptions);return query.queryKey=queryOptions.queryKey,query}const getGetV1UserLoansQueryKey=params=>["/v1/user/loans",...params?[params]:[]],getGetV1UserLoansQueryOptions=(params,options)=>{const{query:queryOptions}=options??{};return{queryKey:(null==queryOptions?void 0:queryOptions.queryKey)??getGetV1UserLoansQueryKey(params),queryFn:({signal})=>((params,signal)=>fetcher_fetcher({url:"/v1/user/loans",method:"GET",params,signal}))(params,signal),...queryOptions}};function useGetV1UserLoans(params,options){const queryOptions=getGetV1UserLoansQueryOptions(params,options),query=(0,es.useQuery)(queryOptions);return query.queryKey=queryOptions.queryKey,query}const getPostV1UserLoansIdentifierMutationOptions=options=>{const{mutation:mutationOptions}=options??{};return{mutationFn:props=>{const{identifier,params}=props??{};return((identifier,params)=>fetcher_fetcher({url:`/v1/user/loans/${identifier}`,method:"POST",params}))(identifier,params)},...mutationOptions}},usePostV1UserLoansIdentifier=options=>{const mutationOptions=getPostV1UserLoansIdentifierMutationOptions(options);return(0,es.useMutation)(mutationOptions)},getGetV1LoanstatusIdentifierQueryKey=identifier=>[`/v1/loanstatus/${identifier}`],getGetV1LoanstatusIdentifierQueryOptions=(identifier,queryOptions)=>({queryKey:(null==queryOptions?void 0:queryOptions.queryKey)??getGetV1LoanstatusIdentifierQueryKey(identifier),queryFn:({signal})=>((identifier,signal)=>fetcher_fetcher({url:`/v1/loanstatus/${identifier}`,method:"GET",signal}))(identifier,signal),enabled:!!identifier,...queryOptions});function useGetV1LoanstatusIdentifier(identifier,queryOptions){const options=getGetV1LoanstatusIdentifierQueryOptions(identifier,queryOptions),query=(0,es.useQuery)(options);return query.queryKey=options.queryKey,query}const getGetV1ProductsIdentifierQueryOptions=(identifier,options)=>{const{query:queryOptions}=options??{},queryKey=(null==queryOptions?void 0:queryOptions.queryKey)??(identifier=>[`/v1/products/${identifier}`])(identifier);return{queryKey,queryFn:({signal})=>((identifier,signal)=>fetcher_fetcher({url:`/v1/products/${identifier}`,method:"GET",signal}))(identifier,signal),enabled:!!identifier,...queryOptions}};function useGetV1ProductsIdentifier(identifier,options){const queryOptions=getGetV1ProductsIdentifierQueryOptions(identifier,options),query=(0,es.useQuery)(queryOptions);return query.queryKey=queryOptions.queryKey,query}const getGetV1UserReservationsQueryKey=()=>["/v1/user/reservations"],getGetV1UserReservationsQueryOptions=options=>{const{query:queryOptions}=options??{};return{queryKey:(null==queryOptions?void 0:queryOptions.queryKey)??getGetV1UserReservationsQueryKey(),queryFn:({signal})=>(signal=>fetcher_fetcher({url:"/v1/user/reservations",method:"GET",signal}))(signal),...queryOptions}};function useGetV1UserReservations(options){const queryOptions=getGetV1UserReservationsQueryOptions(options),query=(0,es.useQuery)(queryOptions);return query.queryKey=queryOptions.queryKey,query}const getPostV1UserReservationsIdentifierMutationOptions=options=>{const{mutation:mutationOptions}=options??{};return{mutationFn:props=>{const{identifier,data}=props??{};return((identifier,reservationInput)=>fetcher_fetcher({url:`/v1/user/reservations/${identifier}`,method:"POST",headers:{"Content-Type":"application/json"},data:reservationInput}))(identifier,data)},...mutationOptions}},usePostV1UserReservationsIdentifier=options=>{const mutationOptions=getPostV1UserReservationsIdentifierMutationOptions(options);return(0,es.useMutation)(mutationOptions)},getDeleteV1UserReservationsIdentifierMutationOptions=options=>{const{mutation:mutationOptions}=options??{};return{mutationFn:props=>{const{identifier}=props??{};return(identifier=>fetcher_fetcher({url:`/v1/user/reservations/${identifier}`,method:"DELETE"}))(identifier)},...mutationOptions}},useDeleteV1UserReservationsIdentifier=options=>{const mutationOptions=getDeleteV1UserReservationsIdentifierMutationOptions(options);return(0,es.useMutation)(mutationOptions)}},"./src/core/utils/branches.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,ov:()=>useGetBranches,z5:()=>excludeBlacklistedBranches});var _config__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/core/utils/config.tsx");const excludeBlacklistedBranches=(branches,blacklist)=>branches.filter((item=>!blacklist.includes(item.branchId))),cleanBranchesId=branches=>branches.map((branch=>{const matches=/-(\d*)/g.exec(branch.branchId);return matches?matches[1]:""})).filter((item=>item)),useGetBranches=key=>{const config=(0,_config__WEBPACK_IMPORTED_MODULE_0__.UK)(),branches=config("branchesConfig",{transformer:"jsonParse"}),blacklistBranches=config(key,{transformer:"stringToArray"});return excludeBlacklistedBranches(branches,blacklistBranches)},__WEBPACK_DEFAULT_EXPORT__=()=>{const branches=useGetBranches("blacklistedSearchBranchesConfig");return cleanBranchesId(branches)};try{cleanBranchesId.displayName="cleanBranchesId",cleanBranchesId.__docgenInfo={description:"",displayName:"cleanBranchesId",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/utils/branches.tsx#cleanBranchesId"]={docgenInfo:cleanBranchesId.__docgenInfo,name:"cleanBranchesId",path:"src/core/utils/branches.tsx#cleanBranchesId"})}catch(__react_docgen_typescript_loader_error){}try{useGetBranches.displayName="useGetBranches",useGetBranches.__docgenInfo={description:"",displayName:"useGetBranches",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/utils/branches.tsx#useGetBranches"]={docgenInfo:useGetBranches.__docgenInfo,name:"useGetBranches",path:"src/core/utils/branches.tsx#useGetBranches"})}catch(__react_docgen_typescript_loader_error){}},"./src/core/utils/useSavePatron.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,s:()=>convertPatronSettingsV4toV6});var react_query__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-query/es/index.js"),_fbs_fbs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core/fbs/fbs.ts"),_adgangsplatformen_useUserInfo__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core/adgangsplatformen/useUserInfo.ts"),_helpers_user__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/utils/helpers/user.ts");const useSavePatron=({patron,fetchHandlers})=>{const{data:userInfo}=(0,_adgangsplatformen_useUserInfo__WEBPACK_IMPORTED_MODULE_2__.A)({enabled:!(0,_helpers_user__WEBPACK_IMPORTED_MODULE_3__.ok)()}),{mutate}=(0,_fbs_fbs__WEBPACK_IMPORTED_MODULE_1__.tP)(),queryClient=(0,react_query__WEBPACK_IMPORTED_MODULE_0__.useQueryClient)();return{savePatron:data=>{const{onSuccess,onError}=(null==fetchHandlers?void 0:fetchHandlers.savePatron)||{};patron&&userInfo?mutate({data:{pincodeChange:{pincode:userInfo.attributes.pincode,libraryCardNumber:patron.patronId.toString()},patron:{...convertPatronSettingsV4toV6({...patron,...data})}}},{onSuccess:()=>{queryClient.invalidateQueries((0,_fbs_fbs__WEBPACK_IMPORTED_MODULE_1__.eo)()),onSuccess&&onSuccess()},onError:()=>{onError&&onError()}}):console.error("Patron or userInfo is not defined")},savePincode:data=>{const{onSuccess,onError}=(null==fetchHandlers?void 0:fetchHandlers.savePincode)||{};patron&&mutate({data:{pincodeChange:data}},{onSuccess:()=>{queryClient.invalidateQueries((0,_fbs_fbs__WEBPACK_IMPORTED_MODULE_1__.eo)()),onSuccess&&onSuccess()},onError:()=>{onError&&onError()}})}}};function convertPatronSettingsV4toV6(patronSettings){return{...patronSettings,emailAddresses:patronSettings.emailAddress?[{emailAddress:patronSettings.emailAddress,receiveNotification:patronSettings.receiveEmail||!1}]:[],phoneNumbers:patronSettings.phoneNumber?[{phoneNumber:patronSettings.phoneNumber,receiveNotification:patronSettings.receiveSms||!1}]:[],guardianVisibility:!1}}const __WEBPACK_DEFAULT_EXPORT__=useSavePatron;try{convertPatronSettingsV4toV6.displayName="convertPatronSettingsV4toV6",convertPatronSettingsV4toV6.__docgenInfo={description:"",displayName:"convertPatronSettingsV4toV6",props:{emailAddress:{defaultValue:null,description:"Required if patron should receive email notifications\nExisting email addresses are overwritten with this value\nIf left empty existing email addresses are deleted",name:"emailAddress",required:!1,type:{name:"string | undefined"}},notificationProtocols:{defaultValue:null,description:"Notification protocols that the patron want to receive notification on. SMS and EMAIL are not included.",name:"notificationProtocols",required:!1,type:{name:"string[] | undefined"}},onHold:{defaultValue:null,description:"",name:"onHold",required:!1,type:{name:"Period | undefined"}},phoneNumber:{defaultValue:null,description:"Required if patron should receive SMS notifications\nExisting phonenumbers are overwritten with this value\nIf left empty existing phonenumbers are deleted",name:"phoneNumber",required:!1,type:{name:"string | undefined"}},preferredLanguage:{defaultValue:null,description:"Language in which the patron prefers the communication with the library to take place\nIf left empty default library language will be used",name:"preferredLanguage",required:!1,type:{name:"string | undefined"}},preferredPickupBranch:{defaultValue:null,description:"ISIL-number of preferred pickup branch",name:"preferredPickupBranch",required:!0,type:{name:"string"}},receiveEmail:{defaultValue:null,description:"",name:"receiveEmail",required:!0,type:{name:"boolean"}},receivePostalMail:{defaultValue:null,description:"",name:"receivePostalMail",required:!0,type:{name:"boolean"}},receiveSms:{defaultValue:null,description:"",name:"receiveSms",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/utils/useSavePatron.tsx#convertPatronSettingsV4toV6"]={docgenInfo:convertPatronSettingsV4toV6.__docgenInfo,name:"convertPatronSettingsV4toV6",path:"src/core/utils/useSavePatron.tsx#convertPatronSettingsV4toV6"})}catch(__react_docgen_typescript_loader_error){}try{useSavePatron.displayName="useSavePatron",useSavePatron.__docgenInfo={description:"",displayName:"useSavePatron",props:{patron:{defaultValue:null,description:"",name:"patron",required:!1,type:{name:"PatronV5 | undefined"}},fetchHandlers:{defaultValue:null,description:"",name:"fetchHandlers",required:!1,type:{name:"{ savePatron?: FetchHandlers | undefined; savePincode?: FetchHandlers | undefined; } | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core/utils/useSavePatron.tsx#useSavePatron"]={docgenInfo:useSavePatron.__docgenInfo,name:"useSavePatron",path:"src/core/utils/useSavePatron.tsx#useSavePatron"})}catch(__react_docgen_typescript_loader_error){}}}]);